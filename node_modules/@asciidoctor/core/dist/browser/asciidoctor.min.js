/*
 Asciidoctor.js 2.0.3 | MIT | https://github.com/asciidoctor/asciidoctor.js
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,u,z){b!=Array.prototype&&b!=Object.prototype&&(b[u]=z.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,u,z,C){if(u){z=$jscomp.global;b=b.split(".");for(C=0;C<b.length-1;C++){var v=b[C];v in z||(z[v]={});z=z[v]}b=b[b.length-1];C=z[b];u=u(C);u!=C&&null!=u&&$jscomp.defineProperty(z,b,{configurable:!0,writable:!0,value:u})}};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},u={};try{return u.__proto__=b,u.a}catch(z){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,u){b.__proto__=u;if(b.__proto__!==u)throw new TypeError(b+" is not extensible");return b}:null;$jscomp.polyfill("Object.setPrototypeOf",function(b){return b||$jscomp.setPrototypeOf},"es6","es5");$jscomp.arrayIteratorImpl=function(b){var u=0;return function(){return u<b.length?{done:!1,value:b[u++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(u){return $jscomp.SYMBOL_PREFIX+(u||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,u){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var z=0,C={next:function(){if(z<b.length){var v=z++;return{value:u(v,b[v]),done:!1}}C.next=function(){return{done:!0,value:void 0}};return C.next()}};C[Symbol.iterator]=function(){return C};return C};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
$jscomp.owns=function(b,u){return Object.prototype.hasOwnProperty.call(b,u)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,u){for(var z=1;z<arguments.length;z++){var C=arguments[z];if(C)for(var v in C)$jscomp.owns(C,v)&&(b[v]=C[v])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(b){return Math.pow(2,-52)},"es6","es3");
$jscomp.checkStringArgs=function(b,u,z){if(null==b)throw new TypeError("The 'this' value for String.prototype."+z+" must not be null or undefined");if(u instanceof RegExp)throw new TypeError("First argument to String.prototype."+z+" must not be a regular expression");return b+""};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,z){var u=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===z&&(z=u.length);z=Math.max(0,Math.min(z|0,u.length));for(var v=b.length;0<v&&0<z;)if(u[--z]!=b[--v])return!1;return 0>=v}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,z){return b===z?0!==b||1/b===1/z:b!==b&&z!==z}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,z){var u=this;u instanceof String&&(u=String(u));var v=u.length;z=z||0;for(0>z&&(z=Math.max(z+v,0));z<v;z++){var q=u[z];if(q===b||Object.is(q,b))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,z){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,z||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(b){return b?b:function(b){var u=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var C="";b;)if(b&1&&(C+=u),b>>>=1)u+=u;return C}},"es6","es3");
$jscomp.polyfill("Array.from",function(b){return b?b:function(b,z,C){z=null!=z?z:function(b){return b};var v=[],q="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof q){b=q.call(b);for(var g=0;!(q=b.next()).done;)v.push(z.call(C,q.value,g++))}else for(q=b.length,g=0;g<q;g++)v.push(z.call(C,b[g],g));return v}},"es6","es3");
(function(b){function u(a,b,n){"string"===typeof a?a[b]=n:Object.defineProperty(a,b,{value:n,enumerable:!1,configurable:!0,writable:!0})}function z(a,b){if(a)return a.$$const[b]}function C(a,b){var x;if(null!=a){var h=m.ancestors(a);a=0;for(x=h.length;a<x;a++)if(h[a].$$const&&la.call(h[a].$$const,b))return h[a].$$const[b]}}function v(a,b,n){if(!n)return(a||O).$const_missing(b)}function q(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function g(a){var b=F(a);a.$$is_module&&a.$$iclasses.push(b);
return b}function F(a){var b={},x=a.$$prototype;x.hasOwnProperty("$$dummy")&&(x=x.$$define_methods_on);var h=Object.getOwnPropertyNames(x),c=h.length,d;for(d=0;d<c;d++){var p=h[d];u(b,p,x[p])}u(b,"$$iclass",!0);u(b,"$$module",a);return b}function k(a){var b=a.length,x=a[0];u(x,"$$root",!0);if(1===b)return{first:x,last:x};for(var h=1;h<b;h++){var c=a[h];A(x,c);x=c}return{first:a[0],last:a[b-1]}}function E(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;if(a.hasOwnProperty("$$class"))return a.$$class}}
function t(a){return"function"===typeof a&&!a.$$stub}var r=this;"undefined"!==typeof global&&(r=global);"undefined"!==typeof window&&(r=window);var K="object"===typeof r.console?r.console:null==r.console?r.console={}:{};"log"in K||(K.log=function(){});"warn"in K||(K.warn=K.log);if("undefined"!==typeof this.Opal)return K.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var R,O,I,m=this.Opal={};m.global=r;r.Opal=m;m.config={missing_require_severity:"error",
unsupported_features_severity:"warning",enable_stack_trace:!0};var la=Object.hasOwnProperty,S=Function.prototype.bind,A=Object.setPrototypeOf,J=Array.prototype.slice,a=Array.prototype.splice,d=4;m.uid=function(){return d+=2};m.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;u(a,"$$id",m.uid());return a.$$id};m.gvars={};m.exit=function(a){m.gvars.DEBUG&&K.log("Exited with status "+a)};m.exceptions=[];m.pop_exception=function(){m.gvars["!"]=m.exceptions.pop()||L};m.inspect=
function(a){return a===b?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};m.defineProperty=u;m.slice=J;m.truthy=function(a){return a!==L&&null!=a&&(!a.$$is_boolean||1==a)};m.falsy=function(a){return a===L||null==a||a.$$is_boolean&&0==a};m.const_get_local=function(a,b,n){if(null!=a){"::"===a&&(a=O);if(!a.$$is_module&&!a.$$is_class)throw new m.TypeError(a.toString()+" is not a class/module");var x=z(a,b);if(null!=x)return x;x=v(a,b,n);if(null!=x)return x}};m.const_get_qualified=function(a,
b,n){var x,c=m.const_cache_version;if(null!=a){"::"===a&&(a=O);if(!a.$$is_module&&!a.$$is_class)throw new m.TypeError(a.toString()+" is not a class/module");null==(x=a.$$const_cache)&&(u(a,"$$const_cache",Object.create(null)),x=a.$$const_cache);var d=x[b];null==d||d[0]!==c?(null!=(d=z(a,b))||null!=(d=C(a,b)),x[b]=[c,d]):d=d[1];return null!=d?d:v(a,b,n)}};m.const_cache_version=1;m.const_get_relative=function(a,b,n){var x=a[0],c=m.const_cache_version,d;null==(d=a.$$const_cache)&&(u(a,"$$const_cache",
Object.create(null)),d=a.$$const_cache);var p=d[b];if(null==p||p[0]!==c){var T;if(!(T=null!=(p=z(x,b)))){a:{if(0!==a.length)for(p=0,T=a.length;p<T;p++){var L=a[p].$$const[b];if(null!=L){a=L;break a}}a=void 0}T=null!=(p=a)}T||null!=(p=C(x,b))||(a=null==x||x.$$is_module?C(O,b):void 0,null!=(p=a));d[b]=[c,p]}else p=p[1];return null!=p?p:v(x,b,n)};m.const_set=function(a,b,n){if(null==a||"::"===a)a=O;if(n.$$is_a_module){if(null==n.$$name||n.$$name===L)n.$$name=b;null==n.$$base_module&&(n.$$base_module=
a)}a.$$const=a.$$const||Object.create(null);a.$$const[b]=n;a.$$=a.$$const;m.const_cache_version++;a===O&&(m[b]=n);u(a,b,n);return n};m.constants=function(a,b){null==b&&(b=!0);var x=[a],d,c={},T;b&&(x=x.concat(m.ancestors(a)));b&&a.$$is_module&&(x=x.concat([m.Object]).concat(m.ancestors(m.Object)));var p=0;for(d=x.length;p<d;p++){b=x[p];if(a!==O&&b==O)break;for(T in b.$$const)c[T]=!0}return Object.keys(c)};m.const_remove=function(a,b){m.const_cache_version++;if(null!=a.$$const[b]){var x=a.$$const[b];
delete a.$$const[b];return x}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],L;throw m.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};m.allocate_class=function(a,b){var x=null!=b&&b.$$bridge?function(){var a=J.call(arguments);a=new (S.apply(b.$$constructor,[null].concat(a)));A(a,d.$$prototype);return a}:function(){};a&&u(x,"displayName","::"+a);var d=x;u(d,"$$name",a);u(d,"$$constructor",x);u(d,"$$prototype",x.prototype);u(d,"$$const",{});u(d,"$$is_class",
!0);u(d,"$$is_a_module",!0);u(d,"$$super",b);u(d,"$$cvars",{});u(d,"$$own_included_modules",[]);u(d,"$$own_prepended_modules",[]);u(d,"$$ancestors",[]);u(d,"$$ancestors_cache_version",null);u(d.$$prototype,"$$class",d);m.Class&&A(d,m.Class.prototype);null!=b&&(A(d.$$prototype,b.$$prototype),b.$$meta&&m.build_class_singleton_class(d));return d};m.klass=function(a,b,d){null==a?a=O:a.$$is_class||a.$$is_module||(a=a.$$class);if(null!=b&&!b.hasOwnProperty("$$is_class")){var x=b;b=O}var c;if(c=z(a,d)){if(!c.$$is_class)throw m.TypeError.$new(d+
" is not a class");}else c=void 0;if(c){if(b&&c.$$super!==b)throw m.TypeError.$new("superclass mismatch for class "+c.$$name);return c}null==b&&(b=O);c=m.allocate_class(d,b);m.const_set(a,d,c);b.$inherited&&b.$inherited(c);x&&m.bridge(x,c);return c};m.allocate_module=function(a){var b=function(){};a&&u(b,"displayName",a+".$$constructor");a&&u(b,"displayName",a+".constructor");u(b,"$$name",a);u(b,"$$prototype",b.prototype);u(b,"$$const",{});u(b,"$$is_module",!0);u(b,"$$is_a_module",!0);u(b,"$$cvars",
{});u(b,"$$iclasses",[]);u(b,"$$own_included_modules",[]);u(b,"$$own_prepended_modules",[]);u(b,"$$ancestors",[b]);u(b,"$$ancestors_cache_version",null);A(b,m.Module.prototype);return b};m.module=function(a,b){null==a?a=O:a.$$is_class||a.$$is_module||(a=a.$$class);var x=a;var d=z(x,b);null==d&&x===O&&(d=C(O,b));if(d&&!d.$$is_module&&d!==O)throw m.TypeError.$new(b+" is not a module");if(x=d)return x;x=m.allocate_module(b);m.const_set(a,b,x);return x};m.get_singleton_class=function(a){return a.$$meta?
a.$$meta:a.hasOwnProperty("$$is_class")?m.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?m.build_module_singletin_class(a):m.build_object_singleton_class(a)};m.build_class_singleton_class=function(a){if(a.$$meta)return a.$$meta;var b=a===R?I:m.get_singleton_class(a.$$super);b=m.allocate_class(null,b,function(){});u(b,"$$is_singleton",!0);u(b,"$$singleton_of",a);u(a,"$$meta",b);A(a,b.$$prototype);u(a,"$$class",m.Class);return b};m.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;
var b=m.allocate_class(null,m.Module,function(){});u(b,"$$is_singleton",!0);u(b,"$$singleton_of",a);u(a,"$$meta",b);A(a,b.$$prototype);u(a,"$$class",m.Module);return b};m.build_object_singleton_class=function(a){var b=m.allocate_class(L,a.$$class,function(){});u(b,"$$is_singleton",!0);u(b,"$$singleton_of",a);delete b.$$prototype.$$class;u(a,"$$meta",b);A(a,a.$$meta.$$prototype);return b};m.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};m.instance_methods=function(a){var b=[],d=[];a=m.ancestors(a);
for(var x=0,c=a.length;x<c;x++){var y=a[x].$$prototype;y.hasOwnProperty("$$dummy")&&(y=y.$$define_methods_on);for(var p=Object.getOwnPropertyNames(y),L=0,D=p.length;L<D;L++){var l=p[L];if(m.is_method(l)){var e=l.slice(1);l=y[l];l.$$stub&&-1===b.indexOf(e)&&b.push(e);l.$$stub||-1!==d.indexOf(e)||-1!==b.indexOf(e)||d.push(e)}}}return d};m.own_instance_methods=function(a){var b=[];a=a.$$prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var d=Object.getOwnPropertyNames(a),x=0,c=d.length;x<
c;x++){var y=d[x];m.is_method(y)&&!a[y].$$stub&&(y=y.slice(1),b.push(y))}return b};m.methods=function(a){return m.instance_methods(m.get_singleton_class(a))};m.own_methods=function(a){return m.own_instance_methods(m.get_singleton_class(a))};m.receiver_methods=function(a){var b=m.get_singleton_class(a);a=m.own_instance_methods(b);b=m.own_instance_methods(b.$$super);return a.concat(b)};m.class_variables=function(a){a=m.ancestors(a);var b,d={};for(b=a.length-1;0<=b;b--){var x=a[b],c;for(c in x.$$cvars)d[c]=
x.$$cvars[c]}return d};m.class_variable_set=function(a,b,d){var x=m.ancestors(a),c;for(c=x.length-2;0<=c;c--){var n=x[c];if(la.call(n.$$cvars,b))return n.$$cvars[b]=d}return a.$$cvars[b]=d};m.append_features=function(a,b){var d=m.ancestors(a),x=[];if(-1!==d.indexOf(b))throw m.ArgumentError.$new("cyclic include detected");for(var c=0,T=d.length;c<T;c++){var p=g(d[c]);u(p,"$$included",!0);x.push(p)}d=m.ancestors(b);x=k(x);if(-1===d.indexOf(a))a=b.$$prototype,d=Object.getPrototypeOf(b.$$prototype);else{d=
b.$$prototype;for(c=Object.getPrototypeOf(d);null!=c&&(!q(c)||c.$$module!==a);)d=c,c=Object.getPrototypeOf(c);for(c=Object.getPrototypeOf(c);c.hasOwnProperty("$$iclass")&&!q(c);)c=Object.getPrototypeOf(c);a=d;d=c}A(a,x.first);A(x.last,d);a=[];for(d=Object.getPrototypeOf(b.$$prototype);d&&!d.hasOwnProperty("$$class");)(x=E(d))&&a.push(x),d=Object.getPrototypeOf(d);b.$$own_included_modules=a;m.const_cache_version++};m.prepend_features=function(a,b){var d=m.ancestors(a),x=[];if(-1!==d.indexOf(b))throw m.ArgumentError.$new("cyclic prepend detected");
for(var c=0,T=d.length;c<T;c++){var p=g(d[c]);u(p,"$$prepended",!0);x.push(p)}d=k(x);c=b.$$prototype;T=Object.getPrototypeOf(c);if(c.hasOwnProperty("$$dummy"))x=c.$$define_methods_on;else{x=F(b);p=b.$$prototype;for(var L=Object.getOwnPropertyNames(p),D=0;D<L.length;D++){var l=L[D];m.is_method(l)&&delete p[l]}u(c,"$$dummy",!0);u(c,"$$define_methods_on",x);A(c,x);A(x,T)}if(-1===m.ancestors(b).indexOf(a))for(a=c,c=Object.getPrototypeOf(c);null!=c&&!c.hasOwnProperty("$$root")&&c!==x&&c.hasOwnProperty("$$iclass");)c=
Object.getPrototypeOf(c);else throw m.RuntimeError.$new("Prepending a module multiple times is not supported");A(a,d.first);A(d.last,c);a=[];x=Object.getPrototypeOf(b.$$prototype);if(b.$$prototype.hasOwnProperty("$$dummy"))for(;x&&x!==b.$$prototype.$$define_methods_on;)(d=E(x))&&a.push(d),x=Object.getPrototypeOf(x);b.$$own_prepended_modules=a;m.const_cache_version++};m.bridge=function(a,b){if(a.hasOwnProperty("$$bridge"))throw m.ArgumentError.$new("already bridged");u(a,"$$bridge",b);A(a.prototype,
(b.$$super||m.Object).$$prototype);u(b,"$$prototype",a.prototype);u(b.$$prototype,"$$class",b);u(b,"$$constructor",a);u(b,"$$bridge",!0)};m.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===m.const_cache_version)return a.$$ancestors;var b=[],d;var x=0;var c=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(d=c.length;x<d;x++)b.push(c[x]);if(a.$$super)for(x=0,c=m.ancestors(a.$$super),d=c.length;x<d;x++)b.push(c[x]);a.$$ancestors_cache_version=m.const_cache_version;
return a.$$ancestors=b};m.included_modules=function(a){for(var b=[],d=Object.getPrototypeOf(a.$$prototype);d&&Object.getPrototypeOf(d);d=Object.getPrototypeOf(d))(a=E(d))&&a.$$is_module&&d.$$iclass&&d.$$included&&b.push(a);return b};m.add_stubs=function(a){for(var b=m.BasicObject.$$prototype,d=0,x=a.length;d<x;d++){var c=a[d],y=b[c];(null==y||y.$$stub)&&m.add_stub_for(b,c)}};m.add_stub_for=function(a,b){var d=m.stub_for(b);u(a,b,d)};m.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;
b.$$p=null;for(var d=Array(arguments.length),x=0,c=d.length;x<c;x++)d[x]=arguments[x];return this.$method_missing.apply(this,[a.slice(1)].concat(d))}b.$$stub=!0;return b};m.ac=function(a,b,d,h){var c="";c=d.$$is_a_module?c+(d.$$name+"."):c+(d.$$class.$$name+"#");throw m.ArgumentError.$new("["+(c+h)+"] wrong number of arguments("+a+" for "+b+")");};m.block_ac=function(a,b,d){throw m.ArgumentError.$new("`block in "+d+"': wrong number of arguments ("+a+" for "+b+")");};m.find_super_dispatcher=function(a,
b,d,h,c){c="$"+b;var x;var p=a.hasOwnProperty("$$meta")?m.ancestors(a.$$meta):m.ancestors(a.$$class);for(d=p.indexOf(d.$$owner)+1;d<p.length;d++){var n=p[d].$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);if(n.hasOwnProperty(c)){c=n[c];c.$$stub||(x=c);break}}if(!h&&null==x&&m.Kernel.$method_missing===a.$method_missing)throw m.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return x};m.find_iter_super_dispatcher=function(a,b,d,h,c){if(!d)throw m.RuntimeError.$new("super called outside of method");
if(c&&d.$$define_meth)throw m.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");d.$$def&&(b=d.$$jsid);return m.find_super_dispatcher(a,b,d,h)};m.ret=function(a){m.returner.$v=a;throw m.returner;};m.brk=function(a,b){b.$v=a;throw b;};m.new_brk=function(){return Error("unexpected break")};m.yield1=function(a,b){if("function"!==typeof a)throw m.LocalJumpError.$new("no block given");var d=a.$$has_top_level_mlhs_arg,
x=a.$$has_trailing_comma_in_args;if(1<a.length||(d||x)&&1===a.length)b=m.to_ary(b);return(1<a.length||x&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};m.yieldX=function(a,b){if("function"!==typeof a)throw m.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var d=Array(b.length),x=0,c=d.length;x<c;x++)d[x]=b[x];return a.apply(null,d)}return a.apply(null,b)};m.rescue=function(a,b){for(var d=0;d<b.length;d++){var x=
b[d];if(x.$$is_array){if(x=m.rescue(a,x))return x}else if(x===m.JS.Error||x["$==="](a))return x}return null};m.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var d,x=m.ancestors(a.$$is_class?m.get_singleton_class(a):a.$$meta||a.$$class);a=0;for(d=x.length;a<d;a++)if(x[a]===b)return!0;return!1};m.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw m.TypeError.$new("Can't convert "+
a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw m.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};m.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===L)return[a];if(b.$$is_array)return b;throw m.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};m.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();
if(b===L)return[a];if(b.$$is_array)return b;throw m.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};m.extract_kwargs=function(b){var d=b[b.length-1];return null!=d&&d["$respond_to?"]("to_hash",!0)?(a.call(b,b.length-1,1),d.$to_hash()):m.hash2([],{})};m.kwrestargs=function(a,b){var d=[],x={},c=null;a=a.$$smap;for(c in a)b[c]||(d.push(c),x[c]=a[c]);return m.hash2(d,x)};m.send=function(a,b,d,h){var c="string"===typeof b?a["$"+b]:b;return null!=
c?("function"===typeof h&&(c.$$p=h),c.apply(a,d)):a.$method_missing.apply(a,[b].concat(d))};m.lambda=function(a){a.$$is_lambda=!0;return a};m.def=function(a,b,d){a===m.top?m.defn(m.Object,b,d):!a.$$eval&&a.$$is_a_module?m.defn(a,b,d):m.defs(a,b,d)};m.defn=function(a,b,d){d.displayName=b;d.$$owner=a;var x=a.$$prototype;x.hasOwnProperty("$$dummy")&&(x=x.$$define_methods_on);u(x,b,d);if(a.$$is_module){a.$$module_function&&m.defs(a,b,d);x=0;for(var c=a.$$iclasses,n=c.length;x<n;x++)u(c[x],b,d)}d=a.$$singleton_of;
!a.$method_added||a.$method_added.$$stub||d?d&&d.$singleton_method_added&&!d.$singleton_method_added.$$stub&&d.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1))};m.defs=function(a,b,d){if(a.$$is_string||a.$$is_number)throw m.TypeError.$new("can't define singleton");m.defn(m.get_singleton_class(a),b,d)};m.rdef=function(a,b){if(!la.call(a.$$prototype,b))throw m.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$prototype[b];a.$$is_singleton?a.$$prototype.$singleton_method_removed&&
!a.$$prototype.$singleton_method_removed.$$stub&&a.$$prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};m.udef=function(a,b){if(!a.$$prototype[b]||a.$$prototype[b].$$stub)throw m.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());m.add_stub_for(a.$$prototype,b);a.$$is_singleton?a.$$prototype.$singleton_method_undefined&&!a.$$prototype.$singleton_method_undefined.$$stub&&a.$$prototype.$singleton_method_undefined(b.substr(1)):
a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};m.alias=function(a,b,d){var x="$"+b,c="$"+d,n=a.$$prototype["$"+d];if(a.$$eval)return m.alias(m.get_singleton_class(a),b,d);if(!t(n)){for(var p=a.$$super;"function"!==typeof n&&p;)n=p[c],p=p.$$super;!t(n)&&a.$$is_module&&(n=m.Object.$$prototype[c]);if(!t(n))throw m.NameError.$new("undefined method `"+d+"' for class `"+a.$name()+"'");}n.$$alias_of&&(n=n.$$alias_of);var L=function(){var a=L.$$p,b;var c=Array(arguments.length);
var f=0;for(b=arguments.length;f<b;f++)c[f]=arguments[f];null!=a&&(L.$$p=null);return m.send(this,n,c,a)};L.displayName=b;L.length=n.length;L.$$arity=n.$$arity;L.$$parameters=n.$$parameters;L.$$source_location=n.$$source_location;L.$$alias_of=n;L.$$alias_name=b;m.defn(a,x,L);return a};m.alias_native=function(a,b,d){b="$"+b;var x=a.$$prototype[d];if("function"!==typeof x||x.$$stub)throw m.NameError.$new("undefined native method `"+d+"' for class `"+a.$name()+"'");m.defn(a,b,x);return a};m.hash_init=
function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};m.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;var d=0,x=a.$$keys;a=a.$$smap;for(var c=x.length,y,p;d<c;d++)y=x[d],y.$$is_string?p=a[y]:(p=y.value,y=y.key),m.hash_put(b,y,p)};m.hash_put=function(a,d,n){if(d.$$is_string)la.call(a.$$smap,d)||a.$$keys.push(d),a.$$smap[d]=n;else{var x;var c=a.$$by_identity?m.id(d):d.$hash();if(la.call(a.$$map,c)){for(x=a.$$map[c];x;){if(d===x.key||d["$eql?"](x.key)){var y=
b;x.value=n;break}y=x;x=x.next}y&&(x={key:d,key_hash:c,value:n},a.$$keys.push(x),y.next=x)}else x={key:d,key_hash:c,value:n},a.$$keys.push(x),a.$$map[c]=x}};m.hash_get=function(a,b){if(b.$$is_string){if(la.call(a.$$smap,b))return a.$$smap[b]}else{var d=a.$$by_identity?m.id(b):b.$hash();if(la.call(a.$$map,d))for(a=a.$$map[d];a;){if(b===a.key||b["$eql?"](a.key))return a.value;a=a.next}}};m.hash_delete=function(a,b){var d,x=a.$$keys,c=x.length;if(b.$$is_string){if(!la.call(a.$$smap,b))return;for(d=0;d<
c;d++)if(x[d]===b){x.splice(d,1);break}var y=a.$$smap[b];delete a.$$smap[b];return y}var p=b.$hash();if(la.call(a.$$map,p))for(var L=a.$$map[p],m;L;){if(b===L.key||b["$eql?"](L.key)){y=L.value;for(d=0;d<c;d++)if(x[d]===L){x.splice(d,1);break}m&&L.next?m.next=L.next:m?delete m.next:L.next?a.$$map[p]=L.next:delete a.$$map[p];return y}m=L;L=L.next}};m.hash_rehash=function(a){for(var d=0,x=a.$$keys.length,h,c,y;d<x;d++)if(!a.$$keys[d].$$is_string&&(h=a.$$keys[d].key.$hash(),h!==a.$$keys[d].key_hash)){c=
a.$$map[a.$$keys[d].key_hash];for(y=b;c;){if(c===a.$$keys[d]){y&&c.next?y.next=c.next:y?delete y.next:c.next?a.$$map[a.$$keys[d].key_hash]=c.next:delete a.$$map[a.$$keys[d].key_hash];break}y=c;c=c.next}a.$$keys[d].key_hash=h;if(la.call(a.$$map,h)){c=a.$$map[h];for(y=b;c;){if(c===a.$$keys[d]){y=b;break}y=c;c=c.next}y&&(y.next=a.$$keys[d])}else a.$$map[h]=a.$$keys[d]}};m.hash=function(){var a=arguments.length,b;if(1===a&&arguments[0].$$is_hash)return arguments[0];var d=new m.Hash;m.hash_init(d);if(1===
a&&arguments[0].$$is_array){a=arguments[0];var h=a.length;for(b=0;b<h;b++){if(2!==a[b].length)throw m.ArgumentError.$new("value not of length 2: "+a[b].$inspect());var c=a[b][0];var y=a[b][1];m.hash_put(d,c,y)}return d}if(1===a){a=arguments[0];for(c in a)la.call(a,c)&&(y=a[c],m.hash_put(d,c,y));return d}if(0!==a%2)throw m.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)c=arguments[b],y=arguments[b+1],m.hash_put(d,c,y);return d};m.hash2=function(a,b){var d=new m.Hash;d.$$smap=
b;d.$$map=Object.create(null);d.$$keys=a;return d};m.range=function(a,b,d){var h=new m.Range;h.begin=a;h.end=b;h.excl=d;return h};m.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};m.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};m.global_regexp=
function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};m.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};m.modules={};m.loaded_features=["corelib/runtime"];m.current_dir=".";m.require_table={"corelib/runtime":!0};
m.normalize=function(a){var b=[];"."!==m.current_dir&&(a=m.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,h=a.length;d<h;d++){var c=a[d];""!==c&&(".."===c?b.pop():b.push(c))}return b.join("/")};m.loaded=function(a){var b;var d=0;for(b=a.length;d<b;d++){var h=m.normalize(a[d]);m.require_table[h]||(m.loaded_features.push(h),m.require_table[h]=!0)}};m.load=function(a){a=m.normalize(a);m.loaded([a]);var b=m.modules[a];if(b)b(m);
else{b=m.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(m.LoadError)throw m.LoadError.$new(a);throw a;}"warning"===b&&K.warn("WARNING: LoadError: "+a)}return!0};m.require=function(a){a=m.normalize(a);return m.require_table[a]?!1:m.load(a)};m.BasicObject=R=m.allocate_class("BasicObject",null,function(){});m.Object=O=m.allocate_class("Object",m.BasicObject,function(){});m.Module=r=m.allocate_class("Module",m.Object,function(){});m.Class=I=m.allocate_class("Class",
m.Module,function(){});A(m.BasicObject,m.Class.$$prototype);A(m.Object,m.Class.$$prototype);A(m.Module,m.Class.$$prototype);A(m.Class,m.Class.$$prototype);R.$$const.BasicObject=R;m.const_set(O,"BasicObject",R);m.const_set(O,"Object",O);m.const_set(O,"Module",r);m.const_set(O,"Class",I);R.$$class=I;O.$$class=I;r.$$class=I;I.$$class=I;u(O.$$prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});u(O.$$prototype,"$require",m.require);m.$$=O.$$;m.top=
new O;m.top.$to_s=m.top.$inspect=function(){return"main"};m.NilClass=m.allocate_class("NilClass",m.Object,function(){});m.const_set(O,"NilClass",m.NilClass);var L=m.nil=new m.NilClass;L.$$id=4;L.call=L.apply=function(){throw m.LocalJumpError.$new("no block given");};m.breaker=Error("unexpected break (old)");m.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.module,q=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(g,u){g=v(g,"Opal");var k=[g].concat(u),E,t,r,K,R,O,I,m,F,S,A,J,a,d;b.defs(g,"$bridge",E=function(a,d){return b.bridge(a,d)},E.$$arity=2);b.defs(g,"$type_error",t=function(a,b,d,n){var h;null==d&&(d=z);null==n&&(n=z);return q(q(h=d)?n:h)?C(k,"TypeError").$new("can't convert "+
a.$class()+" into "+b+" ("+a.$class()+"#"+d+" gives "+n.$class()+")"):C(k,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},t.$$arity=-3);b.defs(g,"$coerce_to",r=function(a,b,d){if(q(b["$==="](a)))return a;q(a["$respond_to?"](d))||this.$raise(this.$type_error(a,b));return a.$__send__(d)},r.$$arity=3);b.defs(g,"$coerce_to!",K=function(a,b,d){var n=this.$coerce_to(a,b,d);q(b["$==="](n))||this.$raise(this.$type_error(a,b,d,n));return n},K.$$arity=3);b.defs(g,"$coerce_to?",R=function(a,
b,d){if(!q(a["$respond_to?"](d)))return z;var n=this.$coerce_to(a,b,d);if(q(n["$nil?"]()))return z;q(b["$==="](n))||this.$raise(this.$type_error(a,b,d,n));return n},R.$$arity=3);b.defs(g,"$try_convert",O=function(a,b,d){return q(b["$==="](a))?a:q(a["$respond_to?"](d))?a.$__send__(d):z},O.$$arity=3);b.defs(g,"$compare",I=function(a,b){var d=a["$<=>"](b);q(d===z)&&this.$raise(C(k,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return d},I.$$arity=2);b.defs(g,"$destructure",
m=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),d=0,n=b.length;d<n;d++)b[d]=a[d];return b},m.$$arity=1);b.defs(g,"$respond_to?",F=function(a,b,d){null==d&&(d=!1);return null!=a&&a.$$class?a["$respond_to?"](b,d):!1},F.$$arity=-3);b.defs(g,"$inspect_obj",S=function(a){return b.inspect(a)},S.$$arity=1);b.defs(g,"$instance_variable_name!",A=function(a){a=C(k,"Opal")["$coerce_to!"](a,C(k,"String"),"to_str");q(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(C(k,
"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},A.$$arity=1);b.defs(g,"$class_variable_name!",J=function(a){a=C(k,"Opal")["$coerce_to!"](a,C(k,"String"),"to_str");q(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(C(k,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},J.$$arity=1);b.defs(g,"$const_name!",a=function(a){a=C(k,"Opal")["$coerce_to!"](a,C(k,"String"),"to_str");q(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(C(k,
"NameError"),"wrong constant name "+a);return a},a.$$arity=1);b.defs(g,"$pristine",d=function(a,d){var x=b.slice.call(arguments,1,arguments.length);for(var n,h=x.length-1;0<=h;h--)n=x[h],(n=a.$$prototype["$"+n])&&!n.$$stub&&(n.$$pristine=!0);return z},d.$$arity=-2)}(u[0],u)};
Opal.modules["corelib/module"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var z=[],C=b.nil,v=b.const_get_qualified,q=b.const_get_relative,g=b.klass,F=b.send,k=b.truthy,E=b.lambda,t=b.range,r=b.hash2;b.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(K,$super,O){K=g(K,$super,"Module");var I=[K].concat(O),m,z,S,A,J,a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,Ra,xa,sa,za,oa,ma,W,aa,Ea,ua,Sa,Va,ka,ia,Da,na,Ta,Ka,Fa,Pa,da,ra,ea;b.defs(K,"$allocate",m=function(){var a=b.allocate_module(C,function(){});this!==b.Module&&Object.setPrototypeOf(a,this.$$prototype);return a},m.$$arity=0);b.def(K,"$initialize",z=function(){var a=z.$$p,b=a||C;a&&(z.$$p=null);a&&(z.$$p=null);return b!==C?F(this,"module_eval",[],b.$to_proc()):
C},z.$$arity=0);b.def(K,"$===",S=function(a){return k(null==a)?!1:b.is_a(a,this)},S.$$arity=1);b.def(K,"$<",A=function(a){k(q(I,"Module")["$==="](a))||this.$raise(q(I,"TypeError"),"compared with non class/module");var c;if(this===a)return!1;var e=0;var f=b.ancestors(this);for(c=f.length;e<c;e++)if(f[e]===a)return!0;e=0;f=b.ancestors(a);for(c=f.length;e<c;e++)if(f[e]===this)return!1;return C},A.$$arity=1);b.def(K,"$<=",J=function(a){var b;return k(b=this["$equal?"](a))?b:u(this,a)},J.$$arity=1);b.def(K,
"$>",a=function(a){k(q(I,"Module")["$==="](a))||this.$raise(q(I,"TypeError"),"compared with non class/module");return u(a,this)},a.$$arity=1);b.def(K,"$>=",d=function(a){var b;return k(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},d.$$arity=1);b.def(K,"$<=>",L=function(a){if(this===a)return 0;if(!k(q(I,"Module")["$==="](a)))return C;a=u(this,a);return k(a["$nil?"]())?C:k(a)?-1:1},L.$$arity=1);b.def(K,"$alias_method",x=function(a,c){b.alias(this,a,c);return this},
x.$$arity=2);b.def(K,"$alias_native",T=function(a,c){null==c&&(c=a);b.alias_native(this,a,c);return this},T.$$arity=-2);b.def(K,"$ancestors",n=function(){return b.ancestors(this)},n.$$arity=0);b.def(K,"$append_features",h=function(a){b.append_features(this,a);return this},h.$$arity=1);b.def(K,"$attr_accessor",c=function(a){var c=b.slice.call(arguments,0,arguments.length);F(this,"attr_reader",b.to_a(c));return F(this,"attr_writer",b.to_a(c))},c.$$arity=-1);b.alias(K,"attr","attr_accessor");b.def(K,
"$attr_reader",y=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=c.length-1;0<=f;f--){var d=c[f],l="$"+d;d=b.ivar(d);var p=function(a){return function(){return null==this[a]?C:this[a]}}(d);b.defineProperty(e,d,C);p.$$parameters=[];p.$$arity=0;b.defn(this,l,p)}return C},y.$$arity=-1);b.def(K,"$attr_writer",p=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$$prototype,f=c.length-1;0<=f;f--){var d=c[f],l="$"+d+"=";d=b.ivar(d);var p=
function(a){return function(b){return this[a]=b}}(d);p.$$parameters=[["req"]];p.$$arity=1;b.defineProperty(e,d,C);b.defn(this,l,p)}return C},p.$$arity=-1);b.def(K,"$autoload",V=function(a,c){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=c;return C},V.$$arity=2);b.def(K,"$class_variables",D=function(){return Object.keys(b.class_variables(this))},D.$$arity=0);b.def(K,"$class_variable_get",l=function(a){a=q(I,"Opal")["$class_variable_name!"](a);var c=b.class_variables(this)[a];
null==c&&this.$raise(q(I,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return c},l.$$arity=1);b.def(K,"$class_variable_set",e=function(a,c){a=q(I,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,c)},e.$$arity=2);b.def(K,"$class_variable_defined?",f=function(a){a=q(I,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},f.$$arity=1);b.def(K,"$remove_class_variable",Y=function(a){a=q(I,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,
a)){var c=this.$$cvars[a];delete this.$$cvars[a];return c}this.$raise(q(I,"NameError"),"cannot remove "+a+" for "+this)},Y.$$arity=1);b.def(K,"$constants",Z=function(a){null==a&&(a=!0);return b.constants(this,a)},Z.$$arity=-1);b.defs(K,"$constants",X=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var c,e={},f;var d=0;for(f=a.length;d<f;d++)for(c in a[d].$$const)e[c]=!0;return Object.keys(e)}return b.constants(this,a)},X.$$arity=-1);b.defs(K,"$nesting",N=function(){return this.$$nesting||
[]},N.$$arity=0);b.def(K,"$const_defined?",M=function(a,c){null==c&&(c=!0);a=q(I,"Opal")["$const_name!"](a);k(a["$=~"](v(q(I,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(q(I,"NameError").$new("wrong constant name "+a,a));var e=[this],f;c&&(e=e.concat(b.ancestors(this)),this.$$is_module&&(e=e.concat([b.Object]).concat(b.ancestors(b.Object))));var d=0;for(f=e.length;d<f;d++)if(c=e[d],null!=c.$$const[a])return!0;return!1},M.$$arity=-2);b.def(K,"$const_get",ja=function(a,c){var e;null==c&&(c=!0);a=q(I,
"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(k(-1!=a.indexOf("::")&&"::"!=a))return F(a.$split("::"),"inject",[this],(e=function(a,b){null==a&&(a=C);null==b&&(b=C);return a.$const_get(b)},e.$$s=this,e.$$arity=2,e));k(a["$=~"](v(q(I,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(q(I,"NameError").$new("wrong constant name "+a,a));return c?q([this],a):b.const_get_local(this,a)},ja.$$arity=-2);b.def(K,"$const_missing",w=function(a){var b;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),
this.$const_get(a);b=this["$=="](q(I,"Object"))?a:""+this+"::"+a;return this.$raise(q(I,"NameError").$new("uninitialized constant "+b,a))},w.$$arity=1);b.def(K,"$const_set",ca=function(a,c){var e;a=q(I,"Opal")["$const_name!"](a);k(k(e=a["$!~"](v(q(I,"Opal"),"CONST_NAME_REGEXP")))?e:a["$start_with?"]("::"))&&this.$raise(q(I,"NameError").$new("wrong constant name "+a,a));b.const_set(this,a,c);return c},ca.$$arity=2);b.def(K,"$public_constant",H=function(a){return C},H.$$arity=1);b.def(K,"$define_method",
va=function(a,c){var e=va.$$p,f=e||C,d,l,p=this,w=C;e&&(va.$$p=null);e&&(va.$$p=null);k(void 0===c&&f===C)&&p.$raise(q(I,"ArgumentError"),"tried to create a Proc object without a block");f=k(d=f)?d:function(){w=c;return q(I,"Proc")["$==="](w)?c:q(I,"Method")["$==="](w)?c.$to_proc().$$unbound:q(I,"UnboundMethod")["$==="](w)?E((l=function(a){var e=l.$$s||this;var f=b.slice.call(arguments,0,arguments.length);e=c.$bind(e);return F(e,"call",b.to_a(f))},l.$$s=p,l.$$arity=-1,l)):p.$raise(q(I,"TypeError"),
"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=a;f.$$s=null;f.$$def=f;f.$$define_meth=!0;b.defn(p,"$"+a,f);return a},va.$$arity=-2);b.def(K,"$remove_method",ha=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)b.rdef(this,"$"+c[e]);return this},ha.$$arity=-1);b.def(K,"$singleton_class?",U=function(){return!!this.$$is_singleton},U.$$arity=0);b.def(K,"$include",wa=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=
c.length-1;0<=e;e--){var f=c[e];f.$$is_module||this.$raise(q(I,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(this);f.$included(this)}return this},wa.$$arity=-1);b.def(K,"$included_modules",Ca=function(){return b.included_modules(this)},Ca.$$arity=0);b.def(K,"$include?",ya=function(a){a.$$is_module||this.$raise(q(I,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var c,e=b.ancestors(this);var f=0;for(c=e.length;f<c;f++){var d=e[f];if(d===
a&&d!==this)return!0}return!1},ya.$$arity=1);b.def(K,"$instance_method",Ra=function(a){var b=this.$$prototype["$"+a];b&&!b.$$stub||this.$raise(q(I,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return q(I,"UnboundMethod").$new(this,b.$$owner||this,b,a)},Ra.$$arity=1);b.def(K,"$instance_methods",xa=function(a){null==a&&(a=!0);return k(a)?b.instance_methods(this):b.own_instance_methods(this)},xa.$$arity=-1);b.def(K,"$included",sa=function(a){return C},sa.$$arity=1);b.def(K,
"$extended",za=function(a){return C},za.$$arity=1);b.def(K,"$extend_object",oa=function(a){return C},oa.$$arity=1);b.def(K,"$method_added",ma=function(a){b.slice.call(arguments,0,arguments.length);return C},ma.$$arity=-1);b.def(K,"$method_removed",W=function(a){b.slice.call(arguments,0,arguments.length);return C},W.$$arity=-1);b.def(K,"$method_undefined",aa=function(a){b.slice.call(arguments,0,arguments.length);return C},aa.$$arity=-1);b.def(K,"$module_eval",Ea=function(a){var c=Ea.$$p,e=c||C,f,d,
l=C,p=C,w=p=p=C;c&&(Ea.$$p=null);c&&(Ea.$$p=null);c=b.slice.call(arguments,0,arguments.length);k(k(f=e["$nil?"]())?!!b.compile:f)?(k(t(1,3,!1)["$cover?"](c.$size()))||q(I,"Kernel").$raise(q(I,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=[].concat(b.to_a(c)),l=null==f[0]?C:f[0],p=null==f[1]?C:f[1],f,p=r(["file","eval"],{file:k(f=p)?f:"(eval)",eval:!0}),p=b.hash({arity_check:!1}).$merge(p),w=q(I,"Opal").$compile(l,p),e=F(q(I,"Kernel"),"proc",[],(d=function(){return function(a){return eval(w)}(d.$$s||
this)},d.$$s=this,d.$$arity=0,d))):k(c["$any?"]())&&q(I,"Kernel").$raise(q(I,"ArgumentError"),"wrong number of arguments ("+c.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");f=e.$$s;e.$$s=null;c=e.apply(this,[this]);e.$$s=f;return c},Ea.$$arity=-1);b.alias(K,"class_eval","module_eval");b.def(K,"$module_exec",ua=function(a){var c=ua.$$p,e=c||C;c&&(ua.$$p=null);c&&(ua.$$p=null);var f=b.slice.call(arguments,0,arguments.length);
e===C&&this.$raise(q(I,"LocalJumpError"),"no block given");c=e.$$s;e.$$s=null;f=e.apply(this,f);e.$$s=c;return f},ua.$$arity=-1);b.alias(K,"class_exec","module_exec");b.def(K,"$method_defined?",Sa=function(a){a=this.$$prototype["$"+a];return!!a&&!a.$$stub},Sa.$$arity=1);b.def(K,"$module_function",Va=function(a){var c=b.slice.call(arguments,0,arguments.length);if(0===c.length)this.$$module_function=!0;else for(var e=0,f=c.length;e<f;e++){var d="$"+c[e];b.defs(this,d,this.$$prototype[d])}return this},
Va.$$arity=-1);b.def(K,"$name",ka=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],c=this;c;){if(c.$$name===C||null==c.$$name)return C;a.unshift(c.$$name);c=c.$$base_module;if(c===b.Object)break}return 0===a.length?C:this.$$full_name=a.join("::")},ka.$$arity=0);b.def(K,"$prepend",ia=function(a){var c=b.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(q(I,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var e=c.length-1;0<=e;e--){var f=c[e];
f.$$is_module||this.$raise(q(I,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);f.$prepended(this)}return this},ia.$$arity=-1);b.def(K,"$prepend_features",Da=function(a){this.$$is_module||this.$raise(q(I,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");b.prepend_features(this,a);return this},Da.$$arity=1);b.def(K,"$prepended",na=function(a){return C},na.$$arity=1);b.def(K,"$remove_const",Ta=function(a){return b.const_remove(this,
a)},Ta.$$arity=1);b.def(K,"$to_s",Ka=function(){var a;return k(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ka.$$arity=0);b.def(K,"$undef_method",Fa=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)b.udef(this,"$"+c[e]);return this},Fa.$$arity=-1);b.def(K,"$instance_variables",Pa=function(){var a=(b.Module.$$nesting=I,this.$constants());var c=[],e;for(e in this)this.hasOwnProperty(e)&&"$"!==e.charAt(0)&&
"constructor"!==e&&!a["$include?"](e)&&c.push("@"+e);return c},Pa.$$arity=0);b.def(K,"$dup",da=function(){var a=da.$$p,c;a&&(da.$$p=null);var e=0;var f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];a=F(this,b.find_super_dispatcher(this,"dup",da,!1),c,a);a.$copy_class_variables(this);a.$copy_constants(this);return a},da.$$arity=0);b.def(K,"$copy_class_variables",ra=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},ra.$$arity=1);return(b.def(K,"$copy_constants",ea=function(a){var c;
a=a.$$const;for(c in a)b.const_set(this,c,a[c])},ea.$$arity=1),C)&&"copy_constants"}(z[0],null,z)};
Opal.modules["corelib/class"]=function(b){var u=b.top,z=[],C=b.nil,v=b.const_get_relative,q=b.klass,g=b.send;b.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));u.$require("corelib/module");return function(u,$super,E){u=q(u,$super,"Class");var t=[u].concat(E),r,K,R,O,I,m,z;b.defs(u,"$new",r=function(m){var A=r.$$p,q=A||C;A&&(r.$$p=null);A&&(r.$$p=null);null==m&&(m=v(t,"Object"));if(!m.$$is_class)throw b.TypeError.$new("superclass must be a Class");A=b.allocate_class(C,
m);m.$inherited(A);q!==C&&g(A,"class_eval",[],q.$to_proc());return A},r.$$arity=-1);b.def(u,"$allocate",K=function(){var m=new this.$$constructor;m.$$id=b.uid();return m},K.$$arity=0);b.def(u,"$inherited",R=function(b){return C},R.$$arity=1);b.def(u,"$initialize_dup",O=function(b){this.$initialize_copy(b);this.$$full_name=this.$$name=null},O.$$arity=1);b.def(u,"$new",I=function(m){var g=I.$$p,r=g||C;g&&(I.$$p=null);g&&(I.$$p=null);g=b.slice.call(arguments,0,arguments.length);var a=this.$allocate();
b.send(a,a.$initialize,g,r);return a},I.$$arity=-1);b.def(u,"$superclass",m=function(){return this.$$super||C},m.$$arity=0);return(b.def(u,"$to_s",z=function(){z.$$p&&(z.$$p=null);var m=this.$$singleton_of;return m&&m.$$is_a_module?"#<Class:"+m.$name()+">":m?"#<Class:#<"+m.$$class.$name()+":0x"+b.id(m).$to_s(16)+">>":g(this,b.find_super_dispatcher(this,"to_s",z,!1),[],null)},z.$$arity=0),C)&&"to_s"}(z[0],null,z)};
Opal.modules["corelib/basic_object"]=function(b){var u=[],z=b.nil,C=b.const_get_qualified,v=b.klass,q=b.truthy,g=b.range,F=b.hash2,k=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(E,$super,r){E=v(E,$super,"BasicObject");[E].concat(r);var u,R,O,I,m,la,S,A,J,a,d,L,x,T;b.def(E,"$initialize",u=function(a){b.slice.call(arguments,0,arguments.length);return z},u.$$arity=-1);b.def(E,"$==",R=function(a){return this===a},R.$$arity=
1);b.def(E,"$eql?",O=function(a){return this["$=="](a)},O.$$arity=1);b.alias(E,"equal?","==");b.def(E,"$__id__",I=function(){if(null!=this.$$id)return this.$$id;b.defineProperty(this,"$$id",b.uid());return this.$$id},I.$$arity=0);b.def(E,"$__send__",m=function(a,d){var c=m.$$p,h=c||z;c&&(m.$$p=null);c&&(m.$$p=null);c=b.slice.call(arguments,1,arguments.length);var p=this["$"+a];if(p)return h!==z&&(p.$$p=h),p.apply(this,c);h!==z&&(this.$method_missing.$$p=h);return this.$method_missing.apply(this,[a].concat(c))},
m.$$arity=-2);b.def(E,"$!",la=function(){return!1},la.$$arity=0);b.def(E,"$!=",S=function(a){return this["$=="](a)["$!"]()},S.$$arity=1);b.def(E,"$instance_eval",A=function(a){var d=A.$$p,c=d||z,n,p,x=z,m=z,l=m=m=z;d&&(A.$$p=null);d&&(A.$$p=null);d=b.slice.call(arguments,0,arguments.length);q(q(n=c["$nil?"]())?!!b.compile:n)?(q(g(1,3,!1)["$cover?"](d.$size()))||C("::","Kernel").$raise(C("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),n=[].concat(b.to_a(d)),x=null==n[0]?z:n[0],m=null==
n[1]?z:n[1],n,m=F(["file","eval"],{file:q(n=m)?n:"(eval)",eval:!0}),m=b.hash({arity_check:!1}).$merge(m),l=C("::","Opal").$compile(x,m),c=k(C("::","Kernel"),"proc",[],(p=function(){return function(a){return eval(l)}(p.$$s||this)},p.$$s=this,p.$$arity=0,p))):q(d["$any?"]())&&C("::","Kernel").$raise(C("::","ArgumentError"),"wrong number of arguments ("+d.$size()+" for 0)");n=c.$$s;c.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var e=c.call(this,this)}finally{this.$$eval=!1}}else e=c.call(this,
this);c.$$s=n;return e},A.$$arity=-1);b.def(E,"$instance_exec",J=function(a){var d=J.$$p,c=d||z;d&&(J.$$p=null);d&&(J.$$p=null);d=b.slice.call(arguments,0,arguments.length);q(c)||C("::","Kernel").$raise(C("::","ArgumentError"),"no block given");var n=c.$$s;c.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var p=c.apply(this,d)}finally{this.$$eval=!1}}else p=c.apply(this,d);c.$$s=n;return p},J.$$arity=-1);b.def(E,"$singleton_method_added",a=function(a){b.slice.call(arguments,0,arguments.length);
return z},a.$$arity=-1);b.def(E,"$singleton_method_removed",d=function(a){b.slice.call(arguments,0,arguments.length);return z},d.$$arity=-1);b.def(E,"$singleton_method_undefined",L=function(a){b.slice.call(arguments,0,arguments.length);return z},L.$$arity=-1);b.def(E,"$class",x=function(){return this.$$class},x.$$arity=0);return(b.def(E,"$method_missing",T=function(a,d){var c=T.$$p;c&&(T.$$p=null);c&&(T.$$p=null);b.slice.call(arguments,1,arguments.length);c=q(this.$inspect&&!this.$inspect.$$stub)?
"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return C("::","Kernel").$raise(C("::","NoMethodError").$new(c,a))},T.$$arity=-2),z)&&"method_missing"}(u[0],null,u)};
Opal.modules["corelib/kernel"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var z=[],C=b.nil,v=b.const_get_qualified,q=b.const_get_relative,g=b.module,F=b.truthy,k=b.gvars,E=b.hash2,t=b.send,r=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $coerce_to $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));(function(r,
R){r=g(r,"Kernel");var O=[r].concat(R),I,m,z,S,A,J,a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,K,xa,sa,za,oa,ma,W,aa,Ea,ua,Sa,Va,ka,ia,Da,na,Ta,Ka,Fa,Pa,da,ra,ea,ta,Aa,pa,Ma,Ga,Na;b.def(r,"$method_missing",I=function(a,c){var e=I.$$p;e&&(I.$$p=null);e&&(I.$$p=null);e=b.slice.call(arguments,1,arguments.length);return this.$raise(q(O,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))},I.$$arity=-2);b.def(r,"$=~",m=function(a){return!1},m.$$arity=1);b.def(r,
"$!~",z=function(a){return this["$=~"](a)["$!"]()},z.$$arity=1);b.def(r,"$===",S=function(a){var b;return F(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},S.$$arity=1);b.def(r,"$<=>",A=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==C?0:C},A.$$arity=1);b.def(r,"$method",J=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(q(O,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return q(O,"Method").$new(this,b.$$owner||this.$class(),b,a)},
J.$$arity=1);b.def(r,"$methods",a=function(a){null==a&&(a=!0);return F(a)?b.methods(this):b.own_methods(this)},a.$$arity=-1);b.def(r,"$public_methods",d=function(a){null==a&&(a=!0);return F(a)?b.methods(this):b.receiver_methods(this)},d.$$arity=-1);b.def(r,"$Array",L=function(a){if(a===C)return[];if(a.$$is_array)return a;var b=q(O,"Opal")["$coerce_to?"](a,q(O,"Array"),"to_ary");if(b!==C)return b;b=q(O,"Opal")["$coerce_to?"](a,q(O,"Array"),"to_a");return b!==C?b:[a]},L.$$arity=1);b.def(r,"$at_exit",
x=function(){var a=x.$$p,b=a||C,c;null==k.__at_exit__&&(k.__at_exit__=C);a&&(x.$$p=null);a&&(x.$$p=null);k.__at_exit__=F(c=k.__at_exit__)?c:[];return k.__at_exit__["$<<"](b)},x.$$arity=0);b.def(r,"$caller",T=function(a){b.slice.call(arguments,0,arguments.length);return[]},T.$$arity=-1);b.def(r,"$class",n=function(){return this.$$class},n.$$arity=0);b.def(r,"$copy_instance_variables",h=function(a){var b=Object.keys(a),c;var e=0;for(c=b.length;e<c;e++){var f=b[e];"$"!==f.charAt(0)&&a.hasOwnProperty(f)&&
(this[f]=a[f])}},h.$$arity=1);b.def(r,"$copy_singleton_methods",c=function(a){var c;if(a.hasOwnProperty("$$meta")){var e=b.get_singleton_class(a),f=b.get_singleton_class(this);var d=Object.getOwnPropertyNames(e.$$prototype);var l=0;for(c=d.length;l<c;l++){var p=d[l];b.is_method(p)&&(f.$$prototype[p]=e.$$prototype[p])}f.$$const=Object.assign({},e.$$const);Object.setPrototypeOf(f.$$prototype,Object.getPrototypeOf(e.$$prototype))}l=0;d=Object.getOwnPropertyNames(a);for(c=d.length;l<c;l++)p=d[l],"$"===
p.charAt(0)&&"$"!==p.charAt(1)&&a.hasOwnProperty(p)&&(this[p]=a[p])},c.$$arity=1);b.def(r,"$clone",y=function(a){if(null==a)E([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},y.$$arity=-1);b.def(r,"$initialize_clone",p=function(a){return this.$initialize_copy(a)},p.$$arity=1);b.def(r,"$define_singleton_method",V=function(a,b){var c=V.$$p,e=c||C;
c&&(V.$$p=null);c&&(V.$$p=null);return t(this.$singleton_class(),"define_method",[a,b],e.$to_proc())},V.$$arity=-2);b.def(r,"$dup",D=function(){var a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},D.$$arity=0);b.def(r,"$initialize_dup",l=function(a){return this.$initialize_copy(a)},l.$$arity=1);b.def(r,"$enum_for",e=function(a,c){var f=e.$$p,d=f||C;f&&(e.$$p=null);f&&(e.$$p=null);f=b.slice.call(arguments,0,arguments.length);if(0<f.length){var l=f[0];f.splice(0,
1)}null==l&&(l="each");return t(q(O,"Enumerator"),"for",[this,l].concat(b.to_a(f)),d.$to_proc())},e.$$arity=-1);b.alias(r,"to_enum","enum_for");b.def(r,"$equal?",f=function(a){return this===a},f.$$arity=1);b.def(r,"$exit",Y=function(a){var c;null==k.__at_exit__&&(k.__at_exit__=C);null==a&&(a=!0);for(k.__at_exit__=F(c=k.__at_exit__)?c:[];!F(k.__at_exit__["$empty?"]());)c=k.__at_exit__.$pop(),c.$call();a=a.$$is_boolean?a?0:1:q(O,"Opal").$coerce_to(a,q(O,"Integer"),"to_int");b.exit(a);return C},Y.$$arity=
-1);b.def(r,"$extend",Z=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=this.$singleton_class(),f=c.length-1;0<=f;f--){var d=c[f];d.$$is_module||this.$raise(q(O,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)");d.$append_features(e);d.$extend_object(this);d.$extended(this)}return this},Z.$$arity=-1);b.def(r,"$hash",X=function(){return this.$__id__()},X.$$arity=0);b.def(r,"$initialize_copy",N=function(a){return C},N.$$arity=1);b.def(r,"$inspect",M=function(){return this.$to_s()},
M.$$arity=0);b.def(r,"$instance_of?",ja=function(a){a.$$is_class||a.$$is_module||this.$raise(q(O,"TypeError"),"class or module required");return this.$$class===a},ja.$$arity=1);b.def(r,"$instance_variable_defined?",w=function(a){a=q(O,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},w.$$arity=1);b.def(r,"$instance_variable_get",ca=function(a){a=q(O,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?C:a},ca.$$arity=1);b.def(r,"$instance_variable_set",
H=function(a,c){a=q(O,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=c},H.$$arity=2);b.def(r,"$remove_instance_variable",va=function(a){a=q(O,"Opal")["$instance_variable_name!"](a);var c=b.ivar(a.substr(1));return this.hasOwnProperty(c)?(a=this[c],delete this[c],a):this.$raise(q(O,"NameError"),"instance variable "+a+" not defined")},va.$$arity=1);b.def(r,"$instance_variables",ha=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)&&"$"!==b.charAt(0)){var c="$"===
b.substr(-1)?b.slice(0,b.length-1):b;a.push("@"+c)}return a},ha.$$arity=0);b.def(r,"$Integer",U=function(a,b){var c=this;if(!a.$$is_string){void 0!==b&&c.$raise(q(O,"ArgumentError"),"base specified for non string value");a===C&&c.$raise(q(O,"TypeError"),"can't convert nil into Integer");if(a.$$is_number)return(Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(q(O,"FloatDomainError"),a),Math.floor(a);if(a["$respond_to?"]("to_int")){var e=a.$to_int();if(e!==C)return e}return q(O,"Opal")["$coerce_to!"](a,
q(O,"Integer"),"to_i")}if("0"===a)return 0;void 0===b?b=0:(b=q(O,"Opal").$coerce_to(b,q(O,"Integer"),"to_int"),(1===b||0>b||36<b)&&c.$raise(q(O,"ArgumentError"),"invalid radix "+b));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,f,d){switch(d){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}c.$raise(q(O,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});b=0===b?10:b;var f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(e)||c.$raise(q(O,"ArgumentError"),'invalid value for Integer(): "'+a+'"');e=parseInt(e,b);isNaN(e)&&c.$raise(q(O,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return e},U.$$arity=-2);b.def(r,"$Float",wa=function(a){a===C&&this.$raise(q(O,"TypeError"),"can't convert nil into Float");if(a.$$is_string){var b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(q(O,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return q(O,"Opal")["$coerce_to!"](a,q(O,"Float"),"to_f")},wa.$$arity=1);b.def(r,"$Hash",Ca=function(a){var b;return F(F(b=a["$nil?"]())?b:a["$=="]([]))?E([],{}):F(q(O,"Hash")["$==="](a))?a:q(O,"Opal")["$coerce_to!"](a,q(O,"Hash"),"to_hash")},Ca.$$arity=1);b.def(r,"$is_a?",ya=function(a){a.$$is_class||a.$$is_module||this.$raise(q(O,"TypeError"),"class or module required");
return b.is_a(this,a)},ya.$$arity=1);b.def(r,"$itself",K=function(){return this},K.$$arity=0);b.alias(r,"kind_of?","is_a?");b.def(r,"$lambda",xa=function(){var a=xa.$$p,c=a||C;a&&(xa.$$p=null);a&&(xa.$$p=null);return b.lambda(c)},xa.$$arity=0);b.def(r,"$load",sa=function(a){a=q(O,"Opal")["$coerce_to!"](a,q(O,"String"),"to_str");return b.load(a)},sa.$$arity=1);b.def(r,"$loop",za=function(){var a,c=za.$$p,e=c||C,f=C;c&&(za.$$p=null);if(e===C)return t(this,"enum_for",["loop"],(a=function(){return v(q(O,
"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;F(!0);)try{b.yieldX(e,[])}catch(Qa){if(b.rescue(Qa,[q(O,"StopIteration")])){f=Qa;try{return f.$result()}finally{b.pop_exception()}}else throw Qa;}return this},za.$$arity=0);b.def(r,"$nil?",oa=function(){return!1},oa.$$arity=0);b.alias(r,"object_id","__id__");b.def(r,"$printf",ma=function(a){var c=b.slice.call(arguments,0,arguments.length);F(c["$any?"]())&&this.$print(t(this,"format",b.to_a(c)));return C},ma.$$arity=-1);b.def(r,"$proc",W=function(){var a=
W.$$p,b=a||C;a&&(W.$$p=null);a&&(W.$$p=null);F(b)||this.$raise(q(O,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},W.$$arity=0);b.def(r,"$puts",aa=function(a){null==k.stdout&&(k.stdout=C);var c=b.slice.call(arguments,0,arguments.length);return t(k.stdout,"puts",b.to_a(c))},aa.$$arity=-1);b.def(r,"$p",Ea=function(a){var c;var e=b.slice.call(arguments,0,arguments.length);t(e,"each",[],(c=function(a){null==k.stdout&&(k.stdout=C);null==a&&(a=C);return k.stdout.$puts(a.$inspect())},
c.$$s=this,c.$$arity=1,c));return F(u(e.$length(),1))?e["$[]"](0):e},Ea.$$arity=-1);b.def(r,"$print",ua=function(a){null==k.stdout&&(k.stdout=C);var c=b.slice.call(arguments,0,arguments.length);return t(k.stdout,"print",b.to_a(c))},ua.$$arity=-1);b.def(r,"$warn",Sa=function(a){var c;null==k.VERBOSE&&(k.VERBOSE=C);null==k.stderr&&(k.stderr=C);var e=b.slice.call(arguments,0,arguments.length);return F(F(c=k.VERBOSE["$nil?"]())?c:e["$empty?"]())?C:t(k.stderr,"puts",b.to_a(e))},Sa.$$arity=-1);b.def(r,
"$raise",Va=function(a,c,e){null==k["!"]&&(k["!"]=C);null==c&&(c=C);if(null==a&&k["!"]!==C)throw k["!"];null==a?a=q(O,"RuntimeError").$new():a.$$is_string?a=q(O,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(c):a["$is_a?"](q(O,"Exception"))||(a=q(O,"TypeError").$new("exception class/object expected"));k["!"]!==C&&b.exceptions.push(k["!"]);k["!"]=a;throw a;},Va.$$arity=-1);b.alias(r,"fail","raise");b.def(r,"$rand",ka=function(a){if(void 0===a)return v(q(O,"Random"),
"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return v(q(O,"Random"),"DEFAULT").$rand(a)},ka.$$arity=-1);b.def(r,"$respond_to?",ia=function(a,b){null==b&&(b=!1);if(F(this["$respond_to_missing?"](a,b)))return!0;a=this["$"+a];return"function"!==typeof a||a.$$stub?!1:!0},ia.$$arity=-2);b.def(r,"$respond_to_missing?",Da=function(a,b){return!1},Da.$$arity=-2);b.def(r,"$require",na=function(a){a=q(O,"Opal")["$coerce_to!"](a,q(O,"String"),"to_str");return b.require(a)},
na.$$arity=1);b.def(r,"$require_relative",Ta=function(a){q(O,"Opal")["$try_convert!"](a,q(O,"String"),"to_str");a=q(O,"File").$expand_path(q(O,"File").$join(b.current_file,"..",a));return b.require(a)},Ta.$$arity=1);b.def(r,"$require_tree",Ka=function(a){var c=[];a=q(O,"File").$expand_path(a);a=b.normalize(a);"."===a&&(a="");for(var e in b.modules)e["$start_with?"](a)&&c.push([e,b.require(e)]);return c},Ka.$$arity=1);b.alias(r,"send","__send__");b.alias(r,"public_send","__send__");b.def(r,"$singleton_class",
Fa=function(){return b.get_singleton_class(this)},Fa.$$arity=0);b.def(r,"$sleep",Pa=function(a){null==a&&(a=C);a===C&&this.$raise(q(O,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(q(O,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(q(O,"ArgumentError"),"time interval must be positive");for(var c=b.global.performance?function(){return performance.now()}:function(){return new Date},e=c();c()-e<=1E3*a;);return a},Pa.$$arity=-1);
b.def(r,"$srand",da=function(a){null==a&&(a=q(O,"Random").$new_seed());return q(O,"Random").$srand(a)},da.$$arity=-1);b.def(r,"$String",ra=function(a){var b;return F(b=q(O,"Opal")["$coerce_to?"](a,q(O,"String"),"to_str"))?b:q(O,"Opal")["$coerce_to!"](a,q(O,"String"),"to_s")},ra.$$arity=1);b.def(r,"$tap",ea=function(){var a=ea.$$p,c=a||C;a&&(ea.$$p=null);a&&(ea.$$p=null);b.yield1(c,this);return this},ea.$$arity=0);b.def(r,"$to_proc",ta=function(){return this},ta.$$arity=0);b.def(r,"$to_s",Aa=function(){return"#<"+
this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Aa.$$arity=0);b.def(r,"$catch",pa=function(a){var c=pa.$$p,e=c||C;c&&(pa.$$p=null);try{return b.yieldX(e,[])}catch(Ja){if(b.rescue(Ja,[q(O,"UncaughtThrowError")])){c=Ja;try{return c.$sym()["$=="](a)?c.$arg():this.$raise()}finally{b.pop_exception()}}else throw Ja;}},pa.$$arity=1);b.def(r,"$throw",Ma=function(a){var c=b.slice.call(arguments,0,arguments.length);return this.$raise(q(O,"UncaughtThrowError"),c)},Ma.$$arity=-1);b.def(r,"$open",Ga=function(a){var c=
Ga.$$p,e=c||C;c&&(Ga.$$p=null);c&&(Ga.$$p=null);c=b.slice.call(arguments,0,arguments.length);return t(q(O,"File"),"open",b.to_a(c),e.$to_proc())},Ga.$$arity=-1);b.def(r,"$yield_self",Na=function(){var a,c=Na.$$p,e=c||C;c&&(Na.$$p=null);return e===C?t(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):b.yield1(e,this)},Na.$$arity=0)})(z[0],z);return function(b,$super,g){b=r(b,$super,"Object");g=[b].concat(g);return b.$include(q(g,"Kernel"))}(z[0],null,z)};
Opal.modules["corelib/error"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.klass,q=b.send,g=b.truthy,F=b.module,k=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(k,$super,r){k=v(k,$super,"Exception");var u=[k].concat(r),E,O,I,m,F,S,A,J,a;k.$$prototype.message=z;b.defs(k,"$new",E=function(a){var x=b.slice.call(arguments,0,arguments.length);var m=0<x.length?x[0]:z,n=new this.$$constructor(m);n.name=this.$$name;n.message=
m;b.send(n,n.$initialize,x);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(n,d);return n},E.$$arity=-1);var d=k.$new;b.defs(k,"$exception",O=function(a){var d=b.slice.call(arguments,0,arguments.length);return q(this,"new",b.to_a(d))},O.$$arity=-1);b.def(k,"$initialize",I=function(a){var d=b.slice.call(arguments,0,arguments.length);return this.message=0<d.length?d[0]:z},I.$$arity=-1);b.def(k,"$backtrace",m=function(){if(this.backtrace)return this.backtrace;var a=this.stack;
return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},m.$$arity=0);b.def(k,"$exception",F=function(a){null==a&&(a=z);if(a===z||this===a)return this;var b=this.$clone();b.message=a;return b},F.$$arity=-1);b.def(k,"$message",S=function(){return this.$to_s()},S.$$arity=0);b.def(k,"$inspect",A=function(){var a=this.$to_s();return g(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},A.$$arity=0);b.def(k,"$set_backtrace",J=function(a){var b=!0,d;if(a===
z)this.backtrace=z;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array){var n=0;for(d=a.length;n<d;n++)if(!a[n].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(C(u,"TypeError"),"backtrace must be Array of String");this.backtrace=a}return a},J.$$arity=1);return(b.def(k,"$to_s",a=function(){var a,b;return g(a=g(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},a.$$arity=0),z)&&"to_s"})(u[0],Error,u);(function(b,$super,g){[v(b,$super,"ScriptError")].concat(g);return z})(u[0],
C(u,"Exception"),u);(function(b,$super,g){[v(b,$super,"SyntaxError")].concat(g);return z})(u[0],C(u,"ScriptError"),u);(function(b,$super,g){[v(b,$super,"LoadError")].concat(g);return z})(u[0],C(u,"ScriptError"),u);(function(b,$super,g){[v(b,$super,"NotImplementedError")].concat(g);return z})(u[0],C(u,"ScriptError"),u);(function(b,$super,g){[v(b,$super,"SystemExit")].concat(g);return z})(u[0],C(u,"Exception"),u);(function(b,$super,g){[v(b,$super,"NoMemoryError")].concat(g);return z})(u[0],C(u,"Exception"),
u);(function(b,$super,g){[v(b,$super,"SignalException")].concat(g);return z})(u[0],C(u,"Exception"),u);(function(b,$super,g){[v(b,$super,"Interrupt")].concat(g);return z})(u[0],C(u,"Exception"),u);(function(b,$super,g){[v(b,$super,"SecurityError")].concat(g);return z})(u[0],C(u,"Exception"),u);(function(b,$super,g){[v(b,$super,"StandardError")].concat(g);return z})(u[0],C(u,"Exception"),u);(function(b,$super,g){[v(b,$super,"EncodingError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,
$super,g){[v(b,$super,"ZeroDivisionError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"NameError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"NoMethodError")].concat(g);return z})(u[0],C(u,"NameError"),u);(function(b,$super,g){[v(b,$super,"RuntimeError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"FrozenError")].concat(g);return z})(u[0],C(u,"RuntimeError"),u);(function(b,
$super,g){[v(b,$super,"LocalJumpError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"TypeError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"ArgumentError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"IndexError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"StopIteration")].concat(g);return z})(u[0],C(u,"IndexError"),u);(function(b,
$super,g){[v(b,$super,"KeyError")].concat(g);return z})(u[0],C(u,"IndexError"),u);(function(b,$super,g){[v(b,$super,"RangeError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"FloatDomainError")].concat(g);return z})(u[0],C(u,"RangeError"),u);(function(b,$super,g){[v(b,$super,"IOError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(b,$super,g){[v(b,$super,"SystemCallError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(k,t){k=[F(k,
"Errno")].concat(t);(function(k,$super,t){k=v(k,$super,"EINVAL");[k].concat(t);var r;return(b.defs(k,"$new",r=function(k){r.$$p&&(r.$$p=null);null==k&&(k=z);var m="Invalid argument";g(k)&&(k=" - "+k,m="number"===typeof m&&"number"===typeof k?m+k:m["$+"](k));return q(this,b.find_super_dispatcher(this,"new",r,!1,this.$$class.$$prototype),[m],null)},r.$$arity=-1),z)&&"new"})(k[0],C(k,"SystemCallError"),k)})(u[0],u);(function(k,$super,r){k=v(k,$super,"UncaughtThrowError");[k].concat(r);var u;k.$$prototype.sym=
z;k.$attr_reader("sym","arg");return(b.def(k,"$initialize",u=function(k){u.$$p&&(u.$$p=null);this.sym=k["$[]"](0);var r=k.$length();r="number"===typeof r?1<r:r["$>"](1);g(r)&&(this.arg=k["$[]"](1));return q(this,b.find_super_dispatcher(this,"initialize",u,!1),["uncaught throw "+this.sym.$inspect()],null)},u.$$arity=1),z)&&"initialize"})(u[0],C(u,"ArgumentError"),u);(function(g,$super,k){g=v(g,$super,"NameError");[g].concat(k);var r;g.$attr_reader("name");return(b.def(g,"$initialize",r=function(g,
k){r.$$p&&(r.$$p=null);null==k&&(k=z);q(this,b.find_super_dispatcher(this,"initialize",r,!1),[g],null);return this.name=k},r.$$arity=-2),z)&&"initialize"})(u[0],null,u);(function(g,$super,k){g=v(g,$super,"NoMethodError");[g].concat(k);var r;g.$attr_reader("args");return(b.def(g,"$initialize",r=function(g,k,u){r.$$p&&(r.$$p=null);null==k&&(k=z);null==u&&(u=[]);q(this,b.find_super_dispatcher(this,"initialize",r,!1),[g,k],null);return this.args=u},r.$$arity=-2),z)&&"initialize"})(u[0],null,u);(function(b,
$super,g){b=v(b,$super,"StopIteration");[b].concat(g);return b.$attr_reader("result")})(u[0],null,u);(function(u,$super,r){u=v(u,$super,"KeyError");var E=[u].concat(r),R,O,I;u.$$prototype.receiver=u.$$prototype.key=z;b.def(u,"$initialize",R=function(m,g){R.$$p&&(R.$$p=null);if(null==g)g=k([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");var r=g.$$smap.receiver;null==r&&(r=z);g=g.$$smap.key;null==g&&(g=z);q(this,b.find_super_dispatcher(this,"initialize",R,!1),[m],null);this.receiver=
r;return this.key=g},R.$$arity=-2);b.def(u,"$receiver",O=function(){var b;return g(b=this.receiver)?b:this.$raise(C(E,"ArgumentError"),"no receiver is available")},O.$$arity=0);return(b.def(u,"$key",I=function(){var b;return g(b=this.key)?b:this.$raise(C(E,"ArgumentError"),"no key is available")},I.$$arity=0),z)&&"key"})(u[0],null,u);return function(b,g){b=[F(b,"JS")].concat(g);[v(b[0],null,"Error")].concat(b)}(u[0],u)};
Opal.modules["corelib/constants"]=function(b){var u=[],z=b.const_get_relative;b.const_set(u[0],"RUBY_PLATFORM","opal");b.const_set(u[0],"RUBY_ENGINE","opal");b.const_set(u[0],"RUBY_VERSION","2.5.1");b.const_set(u[0],"RUBY_ENGINE_VERSION","0.11.99.dev");b.const_set(u[0],"RUBY_RELEASE_DATE","2018-12-25");b.const_set(u[0],"RUBY_PATCHLEVEL",0);b.const_set(u[0],"RUBY_REVISION",0);b.const_set(u[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors");return b.const_set(u[0],
"RUBY_DESCRIPTION","opal "+z(u,"RUBY_ENGINE_VERSION")+" ("+z(u,"RUBY_RELEASE_DATE")+" revision "+z(u,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(b){var u=b.top;b.add_stubs(["$require"]);u.$require("corelib/runtime");u.$require("corelib/helpers");u.$require("corelib/module");u.$require("corelib/class");u.$require("corelib/basic_object");u.$require("corelib/kernel");u.$require("corelib/error");return u.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.klass,q=b.hash2,g=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(u,$super,E){u=v(u,$super,"NilClass");var t=[u].concat(E),r,F,R,O,I,m,la,S,A,J,a,d,L,x,T,n,h,c;u.$$prototype.$$meta=u;(function(a,c){var d=[a].concat(c),p;b.def(a,"$allocate",p=function(){return this.$raise(C(d,"TypeError"),"allocator undefined for "+this.$name())},p.$$arity=0);b.udef(a,"$new");return z})(b.get_singleton_class(u),
t);b.def(u,"$!",r=function(){return!0},r.$$arity=0);b.def(u,"$&",F=function(a){return!1},F.$$arity=1);b.def(u,"$|",R=function(a){return!1!==a&&a!==z},R.$$arity=1);b.def(u,"$^",O=function(a){return!1!==a&&a!==z},O.$$arity=1);b.def(u,"$==",I=function(a){return a===z},I.$$arity=1);b.def(u,"$dup",m=function(){return z},m.$$arity=0);b.def(u,"$clone",la=function(a){if(null==a)q([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return z},la.$$arity=-1);b.def(u,"$inspect",S=function(){return"nil"},
S.$$arity=0);b.def(u,"$nil?",A=function(){return!0},A.$$arity=0);b.def(u,"$singleton_class",J=function(){return C(t,"NilClass")},J.$$arity=0);b.def(u,"$to_a",a=function(){return[]},a.$$arity=0);b.def(u,"$to_h",d=function(){return b.hash()},d.$$arity=0);b.def(u,"$to_i",L=function(){return 0},L.$$arity=0);b.alias(u,"to_f","to_i");b.def(u,"$to_s",x=function(){return""},x.$$arity=0);b.def(u,"$to_c",T=function(){return C(t,"Complex").$new(0,0)},T.$$arity=0);b.def(u,"$rationalize",n=function(a){var c=b.slice.call(arguments,
0,arguments.length).$length();c="number"===typeof c?1<c:c["$>"](1);g(c)&&this.$raise(C(t,"ArgumentError"));return this.$Rational(0,1)},n.$$arity=-1);b.def(u,"$to_r",h=function(){return this.$Rational(0,1)},h.$$arity=0);return(b.def(u,"$instance_variables",c=function(){return[]},c.$$arity=0),z)&&"instance_variables"})(u[0],null,u);return b.const_set(u[0],"NIL",z)};
Opal.modules["corelib/boolean"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.klass,q=b.hash2;b.add_stubs(["$raise","$name"]);(function(g,$super,k){g=v(g,$super,"Boolean");var u=[g].concat(k),t,r,K,R,O,I,m,la,S,A;b.defineProperty(g.$$prototype,"$$is_boolean",!0);b.defineProperty(g.$$prototype,"$$meta",g);(function(g,a){var d=[g].concat(a),m;b.def(g,"$allocate",m=function(){return this.$raise(C(d,"TypeError"),"allocator undefined for "+this.$name())},m.$$arity=0);b.udef(g,"$new");return z})(b.get_singleton_class(g),
u);b.def(g,"$__id__",t=function(){return this.valueOf()?2:0},t.$$arity=0);b.alias(g,"object_id","__id__");b.def(g,"$!",r=function(){return 1!=this},r.$$arity=0);b.def(g,"$&",K=function(b){return 1==this?!1!==b&&b!==z:!1},K.$$arity=1);b.def(g,"$|",R=function(b){return 1==this?!0:!1!==b&&b!==z},R.$$arity=1);b.def(g,"$^",O=function(b){return 1==this?!1===b||b===z:!1!==b&&b!==z},O.$$arity=1);b.def(g,"$==",I=function(b){return 1==this===b.valueOf()},I.$$arity=1);b.alias(g,"equal?","==");b.alias(g,"eql?",
"==");b.def(g,"$singleton_class",m=function(){return C(u,"Boolean")},m.$$arity=0);b.def(g,"$to_s",la=function(){return 1==this?"true":"false"},la.$$arity=0);b.def(g,"$dup",S=function(){return this},S.$$arity=0);return(b.def(g,"$clone",A=function(g){if(null==g)q([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},A.$$arity=-1),z)&&"clone"})(u[0],Boolean,u);b.const_set(u[0],"TrueClass",C(u,"Boolean"));b.const_set(u[0],"FalseClass",C(u,"Boolean"));b.const_set(u[0],
"TRUE",!0);return b.const_set(u[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var C=[],v=b.nil,q=b.const_get_relative,g=b.module,F=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(k,C){k=g(k,"Comparable");var t=[k].concat(C),r,E,R,O,I,m,la,S;b.defs(k,"$normalize",r=function(b){return F(q(t,"Integer")["$==="](b))?b:F(u(b,0))?
1:F(z(b,0))?-1:0},r.$$arity=1);b.def(k,"$==",E=function(g){var m=v;try{return F(this["$equal?"](g))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):F(m=this["$<=>"](g))?0==q(t,"Comparable").$normalize(m):!1}catch(a){if(b.rescue(a,[q(t,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw a;}},E.$$arity=1);b.def(k,"$>",R=function(b){var g;F(g=this["$<=>"](b))||this.$raise(q(t,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");
return 0<q(t,"Comparable").$normalize(g)},R.$$arity=1);b.def(k,"$>=",O=function(b){var g;F(g=this["$<=>"](b))||this.$raise(q(t,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0<=q(t,"Comparable").$normalize(g)},O.$$arity=1);b.def(k,"$<",I=function(b){var g;F(g=this["$<=>"](b))||this.$raise(q(t,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>q(t,"Comparable").$normalize(g)},I.$$arity=1);b.def(k,"$<=",m=function(b){var g;
F(g=this["$<=>"](b))||this.$raise(q(t,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");return 0>=q(t,"Comparable").$normalize(g)},m.$$arity=1);b.def(k,"$between?",la=function(b,g){return z(this,b)||u(this,g)?!1:!0},la.$$arity=2);b.def(k,"$clamp",S=function(b,g){var a=b["$<=>"](g);F(a)||this.$raise(q(t,"ArgumentError"),"comparison of "+b.$class()+" with "+g.$class()+" failed");F(u(q(t,"Comparable").$normalize(a),0))&&this.$raise(q(t,"ArgumentError"),"min argument must be smaller than max argument");
return F(z(q(t,"Comparable").$normalize(this["$<=>"](b)),0))?b:F(u(q(t,"Comparable").$normalize(this["$<=>"](g)),0))?g:this},S.$$arity=2)}(C[0],C)};
Opal.modules["corelib/regexp"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.klass,q=b.send,g=b.truthy,F=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(b,$super,g){[v(b,$super,"RegexpError")].concat(g);return z})(u[0],C(u,"StandardError"),u);(function(k,$super,u){k=v(k,$super,"Regexp");var r=[k].concat(u),t,R,O,I,m,la,S,A,J,a;b.const_set(r[0],"IGNORECASE",
1);b.const_set(r[0],"EXTENDED",2);b.const_set(r[0],"MULTILINE",4);b.defineProperty(k.$$prototype,"$$is_regexp",!0);(function(a,m){var d=[a].concat(m),L,n,h,c,y;b.def(a,"$allocate",L=function(){var a=L.$$p,c;a&&(L.$$p=null);var d=0;var l=arguments.length;for(c=Array(l);d<l;d++)c[d]=arguments[d];a=q(this,b.find_super_dispatcher(this,"allocate",L,!1),c,a);a.uninitialized=!0;return a},L.$$arity=0);b.def(a,"$escape",n=function(a){return b.escape_regexp(a)},n.$$arity=1);b.def(a,"$last_match",h=function(a){null==
F["~"]&&(F["~"]=z);null==a&&(a=z);return g(a["$nil?"]())?F["~"]:F["~"]["$[]"](a)},h.$$arity=-1);b.alias(a,"quote","escape");b.def(a,"$union",c=function(a){var c=b.slice.call(arguments,0,arguments.length);if(0==c.length)return/(?!)/;if(1==c.length&&c[0].$$is_regexp)return c[0];var p=c[0].$$is_array;1<c.length&&p&&this.$raise(C(d,"TypeError"),"no implicit conversion of Array into String");p&&(c=c[0]);var l=void 0;p=[];for(var e=0;e<c.length;e++){var f=c[e];if(f.$$is_string)p.push(this.$escape(f));else if(f.$$is_regexp){var h=
f.$options();void 0!=l&&l!=h&&this.$raise(C(d,"TypeError"),"All expressions must use the same options");l=h;p.push("("+f.source+")")}else p.push(this.$escape(f.$to_str()))}return this.$new(p.$join("|"),l)},c.$$arity=-1);return(b.def(a,"$new",y=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=C(d,"Opal")["$coerce_to!"](a,C(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(C(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var c="";C(d,"IGNORECASE")&b&&(c+="i");C(d,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},y.$$arity=-2),z)&&"new"})(b.get_singleton_class(k),r);b.def(k,"$==",t=function(a){return a instanceof RegExp&&this.toString()===a.toString()},t.$$arity=1);b.def(k,"$===",R=function(a){return this.$match(C(r,"Opal")["$coerce_to?"](a,C(r,"String"),"to_str"))!==z},R.$$arity=1);b.def(k,"$=~",O=function(a){var b;null==F["~"]&&(F["~"]=z);return g(b=this.$match(a))?F["~"].$begin(0):
b},O.$$arity=1);b.alias(k,"eql?","==");b.def(k,"$inspect",I=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){a=b[2];b=b[1].split("");for(var g=b.length,m=!1,n="",h=0;h<g;h++){var c=b[h];m||"/"!=c||(n=n.concat("\\"));n=n.concat(c);m="\\"==c?m?!1:!0:!1}return"/"+n+"/"+a}return a},I.$$arity=0);b.def(k,"$match",m=function(a,g){var d=m.$$p,L=d||z;null==F["~"]&&(F["~"]=z);d&&(m.$$p=null);d&&(m.$$p=null);this.uninitialized&&this.$raise(C(r,"TypeError"),"uninitialized Regexp");if(void 0===
g)return a===z?F["~"]=z:(a=this.exec(C(r,"Opal").$coerce_to(a,C(r,"String"),"to_str")))?(F["~"]=C(r,"MatchData").$new(this,a),L===z?F["~"]:b.yield1(L,F["~"])):F["~"]=z;g=C(r,"Opal").$coerce_to(g,C(r,"Integer"),"to_int");if(a===z)return F["~"]=z;a=C(r,"Opal").$coerce_to(a,C(r,"String"),"to_str");if(0>g&&(g+=a.length,0>g))return F["~"]=z;for(var n=b.global_regexp(this);;){d=n.exec(a);if(null===d)return F["~"]=z;if(d.index>=g)return F["~"]=C(r,"MatchData").$new(n,d),L===z?F["~"]:b.yield1(L,F["~"]);n.lastIndex=
d.index+1}},m.$$arity=-2);b.def(k,"$match?",la=function(a,g){this.uninitialized&&this.$raise(C(r,"TypeError"),"uninitialized Regexp");if(void 0===g)return a===z?!1:this.test(C(r,"Opal").$coerce_to(a,C(r,"String"),"to_str"));g=C(r,"Opal").$coerce_to(g,C(r,"Integer"),"to_int");if(a===z)return!1;a=C(r,"Opal").$coerce_to(a,C(r,"String"),"to_str");if(0>g&&(g+=a.length,0>g))return!1;a=b.global_regexp(this).exec(a);return null===a||a.index<g?!1:!0},la.$$arity=-2);b.def(k,"$~",S=function(){null==F._&&(F._=
z);return this["$=~"](F._)},S.$$arity=0);b.def(k,"$source",A=function(){return this.source},A.$$arity=0);b.def(k,"$options",J=function(){this.uninitialized&&this.$raise(C(r,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=C(r,"MULTILINE"));this.ignoreCase&&(a|=C(r,"IGNORECASE"));return a},J.$$arity=0);b.def(k,"$casefold?",a=function(){return this.ignoreCase},a.$$arity=0);return b.alias(k,"to_s","source")})(u[0],RegExp,u);return function(k,$super,u){k=v(k,$super,"MatchData");var r=
[k].concat(u),t,R,O,I,m,la,S,A,J,a,d,L;k.$$prototype.matches=z;k.$attr_reader("post_match","pre_match","regexp","string");b.def(k,"$initialize",t=function(a,b){F["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];a=0;for(var d=b.length;a<d;a++){var h=b[a];null==h?this.matches.push(z):this.matches.push(h)}},t.$$arity=2);b.def(k,"$[]",R=function(a){var d=b.slice.call(arguments,0,arguments.length);
return q(this.matches,"[]",b.to_a(d))},R.$$arity=-1);b.def(k,"$offset",O=function(a){0!==a&&this.$raise(C(r,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},O.$$arity=1);b.def(k,"$==",I=function(a){var b,d,h,c;return g(C(r,"MatchData")["$==="](a))?g(b=g(d=g(h=g(c=this.string==a.string)?this.regexp.toString()==a.regexp.toString():c)?this.pre_match==a.pre_match:h)?this.post_match==a.post_match:d)?this.begin==a.begin:b:!1},I.$$arity=
1);b.alias(k,"eql?","==");b.def(k,"$begin",m=function(a){0!==a&&this.$raise(C(r,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},m.$$arity=1);b.def(k,"$end",la=function(a){0!==a&&this.$raise(C(r,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},la.$$arity=1);b.def(k,"$captures",S=function(){return this.matches.slice(1)},S.$$arity=0);b.def(k,"$inspect",A=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),
b=1,d=this.matches.length;b<d;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},A.$$arity=0);b.def(k,"$length",J=function(){return this.matches.length},J.$$arity=0);b.alias(k,"size","length");b.def(k,"$to_a",a=function(){return this.matches},a.$$arity=0);b.def(k,"$to_s",d=function(){return this.matches[0]},d.$$arity=0);return(b.def(k,"$values_at",L=function(a){var d=b.slice.call(arguments,0,arguments.length);var n,h=[];for(n=0;n<d.length;n++){if(d[n].$$is_range){var c=d[n].$to_a();c.unshift(n,
1);Array.prototype.splice.apply(d,c)}c=C(r,"Opal")["$coerce_to!"](d[n],C(r,"Integer"),"to_int");if(0>c&&(c+=this.matches.length,0>c)){h.push(z);continue}h.push(this.matches[c])}return h},L.$$arity=-1),z)&&"values_at"}(u[0],null,u)};
Opal.modules["corelib/string"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var C=b.top,v=[],q=b.nil,g=b.const_get_relative,F=b.klass,k=b.truthy,E=b.send,t=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
C.$require("corelib/comparable");C.$require("corelib/regexp");(function(r,$super,v){function R(a){function b(a){var b="",c,e=a.length;for(c=0;c<e;c++){var f=a.charAt(c);if("-"===f&&0<c&&c<e-1&&!d){var d=a.charCodeAt(c-1);f=a.charCodeAt(c+1);d>f&&I.$raise(g(m,"ArgumentError"),'invalid range "'+d+"-"+f+'" in string transliteration');for(d+=1;d<f+1;d++)b+=String.fromCharCode(d);d=!0;c++}else d="\\"===f,b+=f}return b}function c(a,b){if(0===a.length)return b;var c="",e,f=a.length;for(e=0;e<f;e++){var d=
a.charAt(e);-1!==b.indexOf(d)&&(c+=d)}return c}var e,f="",d="";var l=0;for(e=a.length;l<e;l++){var p=g(m,"Opal").$coerce_to(a[l],g(m,"String"),"to_str");var ba="^"===p.charAt(0)&&1<p.length;p=b(ba?p.slice(1):p);ba?d=c(d,p):f=c(f,p)}if(0<f.length&&0<d.length){p="";l=0;for(e=f.length;l<e;l++)a=f.charAt(l),-1===d.indexOf(a)&&(p+=a);f=p;d=""}return 0<f.length?"["+g(m,"Regexp").$escape(f)+"]":0<d.length?"[^"+g(m,"Regexp").$escape(d)+"]":null}var I=F(r,$super,"String"),m=[I].concat(v),C,S,A,J,a,d,L,x,T,
n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,Ra,xa,sa,za,oa,ma,W,aa,Ea,ua,Sa,Va,ka,ia,Da,na,Ta,Ka,Fa,Pa,da,ra,ea,ta,Aa,pa,Ma,Ga,Na,La,Ia,Oa,Ja,Qa,Xa,Wa,Ua,B,P,fa,Q,Ha;I.$include(g(m,"Comparable"));b.defineProperty(I.$$prototype,"$$is_string",!0);b.defineProperty(I.$$prototype,"$$cast",function(a){var b=this.$$class;return b.$$constructor===String?a:new b.$$constructor(a)});b.def(I,"$__id__",C=function(){return this.toString()},C.$$arity=0);b.alias(I,"object_id","__id__");b.defs(I,"$try_convert",
S=function(a){return g(m,"Opal")["$coerce_to?"](a,g(m,"String"),"to_str")},S.$$arity=1);b.defs(I,"$new",A=function(a){null==a&&(a="");a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str");return new this.$$constructor(a)},A.$$arity=-1);b.def(I,"$initialize",J=function(a){return void 0===a?this:this.$raise(g(m,"NotImplementedError"),"Mutable strings are not supported in Opal.")},J.$$arity=-1);b.def(I,"$%",a=function(a){return k(g(m,"Array")["$==="](a))?E(this,"format",[this].concat(b.to_a(a))):this.$format(this,
a)},a.$$arity=1);b.def(I,"$*",d=function(a){a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>a&&this.$raise(g(m,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(g(m,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return this.$$cast(b)},d.$$arity=1);b.def(I,"$+",L=function(a){a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str");return this+
a.$to_s()},L.$$arity=1);b.def(I,"$<=>",x=function(a){if(k(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===q?q:0<a?-1:0>a?1:0},x.$$arity=1);b.def(I,"$==",T=function(a){return a.$$is_string?this.toString()===a.toString():g(m,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},T.$$arity=1);b.alias(I,"eql?","==");b.alias(I,"===","==");b.def(I,"$=~",n=function(a){a.$$is_string&&this.$raise(g(m,"TypeError"),"type mismatch: String given");return a["$=~"](this)},
n.$$arity=1);b.def(I,"$[]",h=function(a,b){var c=this.length;if(a.$$is_range){var e=a.excl;b=g(m,"Opal").$coerce_to(a.end,g(m,"Integer"),"to_int");a=g(m,"Opal").$coerce_to(a.begin,g(m,"Integer"),"to_int");if(Math.abs(a)>c)return q;0>a&&(a+=c);0>b&&(b+=c);e||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(g(m,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):q;if(a.$$is_regexp){c=this.match(a);if(null===c)return t["~"]=q;t["~"]=g(m,"MatchData").$new(a,
c);if(null==b)return this.$$cast(c[0]);b=g(m,"Opal").$coerce_to(b,g(m,"Integer"),"to_int");return 0>b&&-b<c.length?this.$$cast(c[b+c.length]):0<=b&&b<c.length?this.$$cast(c[b]):q}a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");0>a&&(a+=c);if(null==b)return a>=c||0>a?q:this.$$cast(this.substr(a,1));b=g(m,"Opal").$coerce_to(b,g(m,"Integer"),"to_int");return 0>b||a>c||0>a?q:this.$$cast(this.substr(a,b))},h.$$arity=-2);b.alias(I,"byteslice","[]");b.def(I,"$b",c=function(){return this.$force_encoding("binary")},
c.$$arity=0);b.def(I,"$capitalize",y=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},y.$$arity=0);b.def(I,"$casecmp",p=function(a){var b=this;if(!k(a["$respond_to?"]("to_str")))return q;a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},p.$$arity=1);b.def(I,"$casecmp?",V=function(a){a=this.$casecmp(a);return a===q?q:0===a},V.$$arity=1);b.def(I,"$center",
D=function(a,b){null==b&&(b=" ");a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");b=g(m,"Opal").$coerce_to(b,g(m,"String"),"to_str").$to_s();k(b["$empty?"]())&&this.$raise(g(m,"ArgumentError"),"zero width padding");if(k(a<=this.length))return this;var c=this.$ljust(u(z(a,this.length),2).$ceil(),b);a=this.$rjust(u(z(a,this.length),2).$floor(),b);return this.$$cast(a+c.slice(this.length))},D.$$arity=-2);b.def(I,"$chars",l=function(){var a=l.$$p,b=a||q;a&&(l.$$p=null);a&&(l.$$p=null);return k(b)?
E(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},l.$$arity=0);b.def(I,"$chomp",e=function(a){null==t["/"]&&(t["/"]=q);null==a&&(a=t["/"]);if(k(a===q||0===this.length))return this;a=g(m,"Opal")["$coerce_to!"](a,g(m,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>=a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},e.$$arity=-1);b.def(I,
"$chop",f=function(){var a=this.length;a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},f.$$arity=0);b.def(I,"$chr",Y=function(){return this.charAt(0)},Y.$$arity=0);b.def(I,"$clone",Z=function(){var a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},Z.$$arity=0);b.def(I,"$dup",X=function(){var a=this.slice();a.$initialize_dup(this);return a},X.$$arity=0);b.def(I,"$count",N=function(a){var c=b.slice.call(arguments,
0,arguments.length);0===c.length&&this.$raise(g(m,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=R(c);return null===c?0:this.length-this.replace(new RegExp(c,"g"),"").length},N.$$arity=-1);b.def(I,"$delete",M=function(a){var c=b.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(g(m,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=R(c);return null===c?this:this.$$cast(this.replace(new RegExp(c,"g"),""))},M.$$arity=-1);b.def(I,"$delete_prefix",
ja=function(a){a.$$is_string||(a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},ja.$$arity=1);b.def(I,"$delete_suffix",w=function(a){a.$$is_string||(a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},w.$$arity=1);b.def(I,"$downcase",ca=function(){return this.$$cast(this.toLowerCase())},ca.$$arity=0);b.def(I,"$each_char",H=function(){var a=
H.$$p,c=a||q,e;a&&(H.$$p=null);a&&(H.$$p=null);if(c===q)return E(this,"enum_for",["each_char"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,this.charAt(a));return this},H.$$arity=0);b.def(I,"$each_line",va=function(a){var c=va.$$p,e=c||q;null==t["/"]&&(t["/"]=q);c&&(va.$$p=null);c&&(va.$$p=null);null==a&&(a=t["/"]);if(e===q)return this.$enum_for("each_line",a);if(a===q)return b.yield1(e,this),this;a=g(m,"Opal").$coerce_to(a,g(m,
"String"),"to_str");var f,d;if(0===a.length){a=this.split(/(\n{2,})/);c=0;for(f=a.length;c<f;c+=2)(a[c]||a[c+1])&&b.yield1(e,this.$$cast((a[c]||"")+(a[c+1]||"")));return this}c=this.$chomp(a);f=this.length!=c.length;var l=c.split(a);c=0;for(d=l.length;c<d;c++)c<d-1||f?b.yield1(e,this.$$cast(l[c]+a)):b.yield1(e,this.$$cast(l[c]));return this},va.$$arity=-1);b.def(I,"$empty?",ha=function(){return 0===this.length},ha.$$arity=0);b.def(I,"$end_with?",U=function(a){var c=b.slice.call(arguments,0,arguments.length);
for(var e=0,f=c.length;e<f;e++){var d=g(m,"Opal").$coerce_to(c[e],g(m,"String"),"to_str").$to_s();if(this.length>=d.length&&this.substr(this.length-d.length,d.length)==d)return!0}return!1},U.$$arity=-1);b.alias(I,"equal?","===");b.def(I,"$gsub",wa=function(a,c){var e=wa.$$p,f=e||q,d=this;e&&(wa.$$p=null);e&&(wa.$$p=null);if(void 0===c&&f===q)return d.$enum_for("gsub",a);e="";var l=q,p=0;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));for(var w;;){var h=a.exec(d);if(null===h){t["~"]=q;e+=d.slice(p);break}l=g(m,"MatchData").$new(a,h);if(void 0===c){w=a.lastIndex;var ba=f(h[0]);a.lastIndex=w}else c.$$is_hash?ba=c["$[]"](h[0]).$to_s():(c.$$is_string||(c=g(m,"Opal").$coerce_to(c,g(m,"String"),"to_str")),ba=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=h.length-1;0<a;a--)if(void 0!==h[a])return b.slice(1)+h[a];return"";case "&":return b.slice(1)+h[0];case "`":return b.slice(1)+
d.slice(0,h.index);case "'":return b.slice(1)+d.slice(h.index+h[0].length);default:return b.slice(1)+(h[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===h.index?(e+=ba+d.slice(p,h.index+1),a.lastIndex+=1):e+=d.slice(p,h.index)+ba;p=a.lastIndex}t["~"]=l;return d.$$cast(e)},wa.$$arity=-2);b.def(I,"$hash",Ca=function(){return this.toString()},Ca.$$arity=0);b.def(I,"$hex",ya=function(){return this.$to_i(16)},ya.$$arity=0);b.def(I,"$include?",Ra=function(a){a.$$is_string||(a=g(m,"Opal").$coerce_to(a,g(m,
"String"),"to_str"));return-1!==this.indexOf(a)},Ra.$$arity=1);b.def(I,"$index",xa=function(a,c){var e;if(void 0===c)c=0;else if(c=g(m,"Opal").$coerce_to(c,g(m,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return q;if(a.$$is_regexp)for(e=b.global_multiline_regexp(a);;){a=e.exec(this);if(null===a){t["~"]=q;c=-1;break}if(a.index>=c){t["~"]=g(m,"MatchData").$new(e,a);c=a.index;break}e.lastIndex=a.index+1}else a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"),c=0===a.length&&c>this.length?-1:this.indexOf(a,
c);return-1===c?q:c},xa.$$arity=-2);b.def(I,"$inspect",sa=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},sa.$$arity=0);b.def(I,"$intern",za=
function(){return this.toString()},za.$$arity=0);b.def(I,"$lines",oa=function(a){var b=oa.$$p,c=b||q;null==t["/"]&&(t["/"]=q);b&&(oa.$$p=null);b&&(oa.$$p=null);null==a&&(a=t["/"]);a=E(this,"each_line",[a],c.$to_proc());return k(c)?this:a.$to_a()},oa.$$arity=-1);b.def(I,"$length",ma=function(){return this.length},ma.$$arity=0);b.def(I,"$ljust",W=function(a,b){null==b&&(b=" ");a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");b=g(m,"Opal").$coerce_to(b,g(m,"String"),"to_str").$to_s();k(b["$empty?"]())&&
this.$raise(g(m,"ArgumentError"),"zero width padding");if(k(a<=this.length))return this;var c=-1,e="";for(a-=this.length;++c<a;)e+=b;return this.$$cast(this+e.slice(0,a))},W.$$arity=-2);b.def(I,"$lstrip",aa=function(){return this.replace(/^\s*/,"")},aa.$$arity=0);b.def(I,"$ascii_only?",Ea=function(){return this.match(/[ -~\n]*/)[0]===this},Ea.$$arity=0);b.def(I,"$match",ua=function(a,b){var c=ua.$$p,e=c||q,f;c&&(ua.$$p=null);c&&(ua.$$p=null);k(k(f=g(m,"String")["$==="](a))?f:a["$respond_to?"]("to_str"))&&
(a=g(m,"Regexp").$new(a.$to_str()));k(g(m,"Regexp")["$==="](a))||this.$raise(g(m,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return E(a,"match",[this,b],e.$to_proc())},ua.$$arity=-2);b.def(I,"$match?",Sa=function(a,b){var c;k(k(c=g(m,"String")["$==="](a))?c:a["$respond_to?"]("to_str"))&&(a=g(m,"Regexp").$new(a.$to_str()));k(g(m,"Regexp")["$==="](a))||this.$raise(g(m,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,b)},Sa.$$arity=
-2);b.def(I,"$next",Va=function(){var a=this.length;if(0===a)return this.$$cast("");for(var b=this,c=this.search(/[a-zA-Z0-9]/),e,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:e=!0;f=48;break;case 90:e=!0;f=65;break;case 122:e=!0;f=97;break;default:e=!1,f+=1}else-1===c?255===f?(e=!0,f=0):(e=!1,f+=1):e=!0;b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+1);if(e&&(0===a||a===c)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+
b:b.slice(0,a)+String.fromCharCode(f)+b.slice(a);e=!1}if(!e)break}return this.$$cast(b)},Va.$$arity=0);b.def(I,"$oct",ka=function(){var a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===e)return a}switch(e){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+f});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},
ka.$$arity=0);b.def(I,"$ord",ia=function(){return this.charCodeAt(0)},ia.$$arity=0);b.def(I,"$partition",Da=function(a){if(a.$$is_regexp){var b=a.exec(this);null===b?b=-1:(g(m,"MatchData").$new(a,b),a=b[0],b=b.index)}else a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"),b=this.indexOf(a);return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},Da.$$arity=1);b.def(I,"$reverse",na=function(){return this.split("").reverse().join("")},na.$$arity=0);b.def(I,"$rindex",
Ta=function(a,c){if(void 0===c)c=this.length;else if(c=g(m,"Opal").$coerce_to(c,g(m,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return q;if(a.$$is_regexp){var e=null;for(a=b.global_multiline_regexp(a);;){var f=a.exec(this);if(null===f||f.index>c)break;e=f;a.lastIndex=e.index+1}null===e?(t["~"]=q,c=-1):(g(m,"MatchData").$new(a,e),c=e.index)}else a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"),c=this.lastIndexOf(a,c);return-1===c?q:c},Ta.$$arity=-2);b.def(I,"$rjust",Ka=function(a,b){null==b&&
(b=" ");a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");b=g(m,"Opal").$coerce_to(b,g(m,"String"),"to_str").$to_s();k(b["$empty?"]())&&this.$raise(g(m,"ArgumentError"),"zero width padding");if(k(a<=this.length))return this;a=Math.floor(a-this.length);var c=Array(Math.floor(a/b.length)+1).join(b);return this.$$cast(c+b.slice(0,a-c.length)+this)},Ka.$$arity=-2);b.def(I,"$rpartition",Fa=function(a){var c;if(a.$$is_regexp){var e=null;for(c=b.global_multiline_regexp(a);;){var f=c.exec(this);if(null===
f)break;e=f;c.lastIndex=e.index+1}null===e?e=-1:(g(m,"MatchData").$new(c,e),a=e[0],e=e.index)}else a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"),e=this.lastIndexOf(a);return-1===e?["","",this]:[this.slice(0,e),this.slice(e,e+a.length),this.slice(e+a.length)]},Fa.$$arity=1);b.def(I,"$rstrip",Pa=function(){return this.replace(/[\s\u0000]*$/,"")},Pa.$$arity=0);b.def(I,"$scan",da=function(a){var c=da.$$p,e=c||q;c&&(da.$$p=null);c&&(da.$$p=null);c=[];var f=q,d;a.$$is_regexp?a=b.global_multiline_regexp(a):
(a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(d=a.exec(this));)f=g(m,"MatchData").$new(a,d),e===q?1==d.length?c.push(d[0]):c.push(f.$captures()):1==d.length?e(d[0]):e.call(this,f.$captures()),a.lastIndex===d.index&&(a.lastIndex+=1);t["~"]=f;return e!==q?this:c},da.$$arity=1);b.alias(I,"size","length");b.alias(I,"slice","[]");b.def(I,"$split",ra=function(a,c){function e(){for(w=0;w<l.length;w++)l[w]=d.$$cast(l[w])}var f,
d=this;null==t[";"]&&(t[";"]=q);if(0===d.length)return[];if(void 0===c)c=0;else if(c=g(m,"Opal")["$coerce_to!"](c,g(m,"Integer"),"to_int"),1===c)return[d];if(void 0===a||a===q)a=k(f=t[";"])?f:" ";var l=[];f=d.toString();var p=0,w;a.$$is_regexp?a=b.global_multiline_regexp(a):(a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,f=f.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));l=f.split(a);if(1===l.length&&l[0]===f)return[d.$$cast(l[0])];for(;-1!==
(w=l.indexOf(void 0));)l.splice(w,1);if(0===c){for(;""===l[l.length-1];)--l.length;e();return l}var h=a.exec(f);if(0>c){if(null!==h&&""===h[0]&&-1===a.source.indexOf("(?="))for(w=0,a=h.length;w<a;w++)l.push("");e();return l}if(null!==h&&""===h[0])return l.splice(c-1,l.length-1,l.slice(c-1).join("")),e(),l;if(c>=l.length)return e(),l;for(w=0;null!==h;){w++;p=a.lastIndex;if(w+1===c)break;h=a.exec(f)}l.splice(c-1,l.length-1,f.slice(p));e();return l},ra.$$arity=-1);b.def(I,"$squeeze",ea=function(a){var c=
b.slice.call(arguments,0,arguments.length);if(0===c.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));c=R(c);return null===c?this:this.$$cast(this.replace(new RegExp("("+c+")\\1+","g"),"$1"))},ea.$$arity=-1);b.def(I,"$start_with?",ta=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++){var d=g(m,"Opal").$coerce_to(c[e],g(m,"String"),"to_str").$to_s();if(0===this.indexOf(d))return!0}return!1},ta.$$arity=-1);b.def(I,"$strip",Aa=function(){return this.replace(/^\s*/,
"").replace(/[\s\u0000]*$/,"")},Aa.$$arity=0);b.def(I,"$sub",pa=function(a,b){var c=pa.$$p,e=c||q,f=this;c&&(pa.$$p=null);c&&(pa.$$p=null);a.$$is_regexp||(a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var d=a.exec(f);null===d?(t["~"]=q,a=f.toString()):(g(m,"MatchData").$new(a,d),void 0===b?(e===q&&f.$raise(g(m,"ArgumentError"),"wrong number of arguments (1 for 2)"),a=f.slice(0,d.index)+e(d[0])+f.slice(d.index+d[0].length)):b.$$is_hash?a=
f.slice(0,d.index)+b["$[]"](d[0]).$to_s()+f.slice(d.index+d[0].length):(b=g(m,"Opal").$coerce_to(b,g(m,"String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=d.length-1;0<a;a--)if(void 0!==d[a])return b.slice(1)+d[a];return"";case "&":return b.slice(1)+d[0];case "`":return b.slice(1)+f.slice(0,d.index);case "'":return b.slice(1)+f.slice(d.index+d[0].length);default:return b.slice(1)+(d[c]||"")}}).replace(/\\\\/g,"\\"),a=f.slice(0,
d.index)+b+f.slice(d.index+d[0].length)));return f.$$cast(a)},pa.$$arity=-2);b.alias(I,"succ","next");b.def(I,"$sum",Ma=function(a){null==a&&(a=16);a=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");for(var b=0,c=this.length,e=0;e<c;e++)b+=this.charCodeAt(e);return 0>=a?b:b&Math.pow(2,a)-1},Ma.$$arity=-1);b.def(I,"$swapcase",Ga=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Ga.$$arity=
0);b.def(I,"$to_f",Na=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Na.$$arity=0);b.def(I,"$to_i",La=function(a){null==a&&(a=10);var b=this.toLowerCase(),c=g(m,"Opal").$coerce_to(a,g(m,"Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(g(m,"ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,e,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===
f.charAt(1)&&"0x"===e&&(0===c||16===c))return a}switch(e){case "0b":if(0===c||2===c)return c=2,b+f;break;case "0":case "0o":if(0===c||8===c)return c=8,b+f;break;case "0d":if(0===c||10===c)return c=10,b+f;break;case "0x":if(0===c||16===c)return c=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},La.$$arity=-1);b.def(I,"$to_proc",Ia=function(){var a,c=q;Ia.$$p&&(Ia.$$p=null);c=z("$",this.valueOf());return E(this,"proc",[],(a=function(e){var f=a.$$s||this,d=a.$$p,l=d||q;d&&
(a.$$p=null);d=b.slice.call(arguments,0,arguments.length);0===d.length&&f.$raise(g(m,"ArgumentError"),"no receiver given");f=d[0];null==f&&(f=q);var p=f[c];if(!p)return f.$method_missing.apply(f,d);"function"===typeof l&&(p.$$p=l);return 1===d.length?p.call(f):p.apply(f,d.slice(1))},a.$$s=this,a.$$arity=-1,a))},Ia.$$arity=0);b.def(I,"$to_s",Oa=function(){return this.toString()},Oa.$$arity=0);b.alias(I,"to_str","to_s");b.alias(I,"to_sym","intern");b.def(I,"$tr",Ja=function(a,b){a=g(m,"Opal").$coerce_to(a,
g(m,"String"),"to_str").$to_s();b=g(m,"Opal").$coerce_to(b,g(m,"String"),"to_str").$to_s();if(0==a.length||a===b)return this;var c={};var e=a.split("");var f=e.length,d=b.split(""),l=d.length;a=!1;var p=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),p=d[l-1],--f);var w=[];var h=null;var n=!1;for(b=0;b<f;b++){var B=e[b];if(null==h)h=B,w.push(B);else if("-"===B)"-"===h?(w.push("-"),w.push("-")):b==f-1?w.push("-"):n=!0;else if(n){h=h.charCodeAt(0);n=B.charCodeAt(0);h>n&&this.$raise(g(m,"ArgumentError"),
'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(n)+'" in string transliteration');for(h+=1;h<n;h++)w.push(String.fromCharCode(h));w.push(B);h=n=null}else w.push(B)}e=w;f=e.length;if(a)for(b=0;b<f;b++)c[e[b]]=!0;else{if(0<l){w=[];h=null;n=!1;for(b=0;b<l;b++)if(B=d[b],null==h)h=B,w.push(B);else if("-"===B)"-"===h?(w.push("-"),w.push("-")):b==l-1?w.push("-"):n=!0;else if(n){h=h.charCodeAt(0);n=B.charCodeAt(0);h>n&&this.$raise(g(m,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+
"-"+String.fromCharCode(n)+'" in string transliteration');for(h+=1;h<n;h++)w.push(String.fromCharCode(h));w.push(B);h=n=null}else w.push(B);d=w;l=d.length}B=f-l;if(0<B)for(l=0<l?d[l-1]:"",b=0;b<B;b++)d.push(l);for(b=0;b<f;b++)c[e[b]]=d[b]}f="";b=0;for(e=this.length;b<e;b++)B=this.charAt(b),d=c[B],f=a?f+(null==d?p:B):f+(null!=d?d:B);return this.$$cast(f)},Ja.$$arity=2);b.def(I,"$tr_s",Qa=function(a,b){a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str").$to_s();b=g(m,"Opal").$coerce_to(b,g(m,"String"),
"to_str").$to_s();if(0==a.length)return this;var c={};var e=a.split("");var f=e.length,d=b.split(""),l=d.length;a=!1;var p=null;"^"===e[0]&&1<e.length&&(a=!0,e.shift(),p=d[l-1],--f);var w=[];var h=null;var n=!1;for(b=0;b<f;b++){var B=e[b];if(null==h)h=B,w.push(B);else if("-"===B)"-"===h?(w.push("-"),w.push("-")):b==f-1?w.push("-"):n=!0;else if(n){h=h.charCodeAt(0);n=B.charCodeAt(0);h>n&&this.$raise(g(m,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(n)+'" in string transliteration');
for(h+=1;h<n;h++)w.push(String.fromCharCode(h));w.push(B);h=n=null}else w.push(B)}e=w;f=e.length;if(a)for(b=0;b<f;b++)c[e[b]]=!0;else{if(0<l){w=[];n=!1;for(b=0;b<l;b++)if(B=d[b],null==h)h=B,w.push(B);else if("-"===B)b==l-1?w.push("-"):n=!0;else if(n){h=h.charCodeAt(0);n=B.charCodeAt(0);h>n&&this.$raise(g(m,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(n)+'" in string transliteration');for(h+=1;h<n;h++)w.push(String.fromCharCode(h));w.push(B);h=n=null}else w.push(B);
d=w;l=d.length}B=f-l;if(0<B)for(l=0<l?d[l-1]:"",b=0;b<B;b++)d.push(l);for(b=0;b<f;b++)c[e[b]]=d[b]}f="";d=null;b=0;for(e=this.length;b<e;b++)if(B=this.charAt(b),l=c[B],a)null==l?null==d&&(f+=p,d=!0):(f+=B,d=null);else if(null!=l){if(null==d||d!==l)f+=l,d=l}else f+=B,d=null;return this.$$cast(f)},Qa.$$arity=2);b.def(I,"$upcase",Xa=function(){return this.$$cast(this.toUpperCase())},Xa.$$arity=0);b.def(I,"$upto",Wa=function(a,b){var c=Wa.$$p,e=c||q;c&&(Wa.$$p=null);c&&(Wa.$$p=null);null==b&&(b=!1);if(e===
q)return this.$enum_for("upto",a,b);a=g(m,"Opal").$coerce_to(a,g(m,"String"),"to_str");c=this.toString();if(1===c.length&&1===a.length)for(c=c.charCodeAt(0),a=a.charCodeAt(0);c<=a&&(!b||c!==a);)e(String.fromCharCode(c)),c+=1;else if(parseInt(c,10).toString()===c&&parseInt(a,10).toString()===a)for(c=parseInt(c,10),a=parseInt(a,10);c<=a&&(!b||c!==a);)e(c.toString()),c+=1;else for(;c.length<=a.length&&c<=a&&(!b||c!==a);)e(c),c=c.$succ();return this},Wa.$$arity=-2);b.def(I,"$instance_variables",Ua=function(){return[]},
Ua.$$arity=0);b.defs(I,"$_load",B=function(a){var c=b.slice.call(arguments,0,arguments.length);return E(this,"new",b.to_a(c))},B.$$arity=-1);b.def(I,"$unicode_normalize",P=function(a){return this.toString()},P.$$arity=-1);b.def(I,"$unicode_normalized?",fa=function(a){return!0},fa.$$arity=-1);b.def(I,"$unpack",Q=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Q.$$arity=1);return(b.def(I,"$unpack1",Ha=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},
Ha.$$arity=1),q)&&"unpack1"})(v[0],String,v);return b.const_set(v[0],"Symbol",g(v,"String"))};
Opal.modules["corelib/enumerable"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}var q=[],g=b.nil,F=b.const_get_qualified,k=b.const_get_relative,E=b.module,t=b.truthy,r=b.send,K=b.falsy,R=b.hash2,O=b.lambda;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));
return function(q,m){function I(a){0===a.length&&(a=[g]);1<a.length&&(a=[a]);return a}q=E(q,"Enumerable");var S=[q].concat(m),A,J,a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,Ra,xa,sa,za,oa,ma,W,aa,Ea,ua,Sa,Va,ka,ia,Da,na;b.def(q,"$all?",A=function(a){try{var c=A.$$p,e=c||g,f,d,l;c&&(A.$$p=null);c&&(A.$$p=null);t(void 0!==a)?r(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=I(e);if(t(r(a,"public_send",["==="].concat(b.to_a(e)))))return g;b.ret(!1)},
f.$$s=this,f.$$arity=-1,f)):e!==g?r(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(t(b.yieldX(e,b.to_a(c))))return g;b.ret(!1)},d.$$s=this,d.$$arity=-1,d)):r(this,"each",[],(l=function(a){var c=b.slice.call(arguments,0,arguments.length);if(t(k(S,"Opal").$destructure(c)))return g;b.ret(!1)},l.$$s=this,l.$$arity=-1,l));return!0}catch(ea){if(ea===b.returner)return ea.$v;throw ea;}},A.$$arity=-1);b.def(q,"$any?",J=function(a){try{var c=J.$$p,e=c||g,f,d,l;c&&(J.$$p=null);
c&&(J.$$p=null);t(void 0!==a)?r(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=I(e);if(t(r(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!0);else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?r(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(t(b.yieldX(e,b.to_a(c))))b.ret(!0);else return g},d.$$s=this,d.$$arity=-1,d)):r(this,"each",[],(l=function(a){var c=b.slice.call(arguments,0,arguments.length);if(t(k(S,"Opal").$destructure(c)))b.ret(!0);
else return g},l.$$s=this,l.$$arity=-1,l));return!1}catch(ea){if(ea===b.returner)return ea.$v;throw ea;}},J.$$arity=-1);b.def(q,"$chunk",a=function(){var c=a.$$p,e=c||g,f,d;c&&(a.$$p=null);c&&(a.$$p=null);return e===g?r(this,"to_enum",["chunk"],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f)):r(F("::","Enumerator"),"new",[],(d=function(a){function c(){0<p.length&&a.$yield(l,p)}var f=d.$$s||this;null==a&&(a=g);var l=g,p=[];f.$each.$$p=function(a){var f=b.yield1(e,a);
f===g?(c(),p=[],l=g):(l===g||l===f?p.push(a):(c(),p=[a]),l=f)};f.$each();c()},d.$$s=this,d.$$arity=1,d))},a.$$arity=0);b.def(q,"$chunk_while",d=function(){var a=d.$$p,c=a||g,e;a&&(d.$$p=null);a&&(d.$$p=null);c===g&&this.$raise(k(S,"ArgumentError"),"no block given");return r(this,"slice_when",[],(e=function(a,e){null==a&&(a=g);null==e&&(e=g);return b.yieldX(c,[a,e])["$!"]()},e.$$s=this,e.$$arity=2,e))},d.$$arity=0);b.def(q,"$collect",L=function(){var a=L.$$p,c=a||g,e;a&&(L.$$p=null);a&&(L.$$p=null);
if(c===g)return r(this,"enum_for",["collect"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=b.yieldX(c,arguments);f.push(a)};this.$each();return f},L.$$arity=0);b.def(q,"$collect_concat",x=function(){var a=x.$$p,c=a||g,e,f;a&&(x.$$p=null);a&&(x.$$p=null);return c===g?r(this,"enum_for",["collect_concat"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):r(this,"map",[],(f=function(a){null==a&&
(a=g);return b.yield1(c,a)},f.$$s=this,f.$$arity=1,f)).$flatten(1)},x.$$arity=0);b.def(q,"$count",T=function(a){var c=T.$$p,e=c||g,f,d,l,p=g;c&&(T.$$p=null);c&&(T.$$p=null);p=0;null!=a&&e!==g&&this.$warn("warning: given block not used");t(null!=a)?e=r(this,"proc",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);return k(S,"Opal").$destructure(e)["$=="](a)},f.$$s=this,f.$$arity=-1,f)):t(e["$nil?"]())&&(e=r(this,"proc",[],(d=function(){return!0},d.$$s=this,d.$$arity=0,d)));r(this,
"each",[],(l=function(a){var c=b.slice.call(arguments,0,arguments.length);return t(b.yieldX(e,c))?p++:g},l.$$s=this,l.$$arity=-1,l));return p},T.$$arity=-1);b.def(q,"$cycle",n=function(a){var c=n.$$p,e=c||g,f;c&&(n.$$p=null);c&&(n.$$p=null);null==a&&(a=g);if(e===g)return r(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(t(a["$nil?"]()))return t(b["$respond_to?"]("size"))?F(k(S,"Float"),"INFINITY"):g;a=k(S,"Opal")["$coerce_to!"](a,k(S,"Integer"),"to_int");return t(u(a,0))?(b=b.$enumerator_size(),
"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(!t(a["$nil?"]())&&(a=k(S,"Opal")["$coerce_to!"](a,k(S,"Integer"),"to_int"),t(0>=a)))return g;var d=[],l;this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments);b.yield1(e,a);d.push(a)};this.$each();if(0===d.length)return g;if(a===g)for(;;)for(c=0,l=d.length;c<l;c++)b.yield1(e,d[c]);else for(;1<a;){c=0;for(l=d.length;c<l;c++)b.yield1(e,d[c]);a--}},n.$$arity=-1);b.def(q,"$detect",h=function(a){try{var c=
h.$$p,e=c||g,f;c&&(h.$$p=null);c&&(h.$$p=null);if(e===g)return this.$enum_for("detect",a);r(this,"each",[],(f=function(a){var c=b.slice.call(arguments,0,arguments.length);c=k(S,"Opal").$destructure(c);if(t(b.yield1(e,c)))b.ret(c);else return g},f.$$s=this,f.$$arity=-1,f));return void 0!==a?"function"===typeof a?a():a:g}catch(da){if(da===b.returner)return da.$v;throw da;}},h.$$arity=-1);b.def(q,"$drop",c=function(a){a=k(S,"Opal").$coerce_to(a,k(S,"Integer"),"to_int");t(0>a)&&this.$raise(k(S,"ArgumentError"),
"attempt to drop negative size");var b=[],c=0;this.$each.$$p=function(){a<=c&&b.push(k(S,"Opal").$destructure(arguments));c++};this.$each();return b},c.$$arity=1);b.def(q,"$drop_while",y=function(){var a=y.$$p,c=a||g;a&&(y.$$p=null);a&&(y.$$p=null);if(c===g)return this.$enum_for("drop_while");var e=[],f=!0;this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments);if(f){var d=b.yield1(c,a);K(d)&&(f=!1,e.push(a))}else e.push(a)};this.$each();return e},y.$$arity=0);b.def(q,"$each_cons",p=function(a){var c=
p.$$p,e=c||g,f;c&&(p.$$p=null);c&&(p.$$p=null);t(1!=arguments.length)&&this.$raise(k(S,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=k(S,"Opal").$try_convert(a,k(S,"Integer"),"to_int");t(0>=a)&&this.$raise(k(S,"ArgumentError"),"invalid size");if(e===g)return r(this,"enum_for",["each_cons",a],(f=function(){var b;var c=(f.$$s||this).$enumerator_size();return t(c["$nil?"]())?g:t(t(b=c["$=="](0))?b:"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a))?0:z(C(c,a),1)},
f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var c=k(S,"Opal").$destructure(arguments);d.push(c);d.length>a&&d.shift();d.length==a&&b.yield1(e,d.slice(0,a))};this.$each();return g},p.$$arity=1);b.def(q,"$each_entry",V=function(a){var c=V.$$p,e=c||g,f;c&&(V.$$p=null);c&&(V.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(e===g)return r(this,"to_enum",["each_entry"].concat(b.to_a(c)),(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));this.$each.$$p=
function(){var a=k(S,"Opal").$destructure(arguments);b.yield1(e,a)};this.$each.apply(this,c);return this},V.$$arity=-1);b.def(q,"$each_slice",D=function(a){var c=D.$$p,e=c||g,f;c&&(D.$$p=null);c&&(D.$$p=null);a=k(S,"Opal").$coerce_to(a,k(S,"Integer"),"to_int");t(0>=a)&&this.$raise(k(S,"ArgumentError"),"invalid slice size");if(e===g)return r(this,"enum_for",["each_slice",a],(f=function(){var b=f.$$s||this;return t(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/
a:b["$/"](a)).$ceil()):g},f.$$s=this,f.$$arity=0,f));var d=[];this.$each.$$p=function(){var c=k(S,"Opal").$destructure(arguments);d.push(c);d.length===a&&(b.yield1(e,d),d=[])};this.$each();0<d.length&&b.yield1(e,d);return g},D.$$arity=1);b.def(q,"$each_with_index",l=function(a){var c=l.$$p,e=c||g,f;c&&(l.$$p=null);c&&(l.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(e===g)return r(this,"enum_for",["each_with_index"].concat(b.to_a(c)),(f=function(){return(f.$$s||this).$enumerator_size()},
f.$$s=this,f.$$arity=0,f));var d=0;this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments);e(a,d);d++};this.$each.apply(this,c);return this},l.$$arity=-1);b.def(q,"$each_with_object",e=function(a){var b=e.$$p,c=b||g,f;b&&(e.$$p=null);b&&(e.$$p=null);if(c===g)return r(this,"enum_for",["each_with_object",a],(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f));this.$each.$$p=function(){var b=k(S,"Opal").$destructure(arguments);c(b,a)};this.$each();return a},e.$$arity=
1);b.def(q,"$entries",f=function(a){var c=b.slice.call(arguments,0,arguments.length);var e=[];this.$each.$$p=function(){e.push(k(S,"Opal").$destructure(arguments))};this.$each.apply(this,c);return e},f.$$arity=-1);b.alias(q,"find","detect");b.def(q,"$find_all",Y=function(){var a=Y.$$p,c=a||g,e;a&&(Y.$$p=null);a&&(Y.$$p=null);if(c===g)return r(this,"enum_for",["find_all"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments),
e=b.yield1(c,a);t(e)&&f.push(a)};this.$each();return f},Y.$$arity=0);b.def(q,"$find_index",Z=function(a){try{var c=Z.$$p,e=c||g,f,d,l=g;c&&(Z.$$p=null);c&&(Z.$$p=null);if(t(void 0===a&&e===g))return this.$enum_for("find_index");null!=a&&e!==g&&this.$warn("warning: given block not used");l=0;t(null!=a)?r(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);k(S,"Opal").$destructure(e)["$=="](a)&&b.ret(l);return l+=1},f.$$s=this,f.$$arity=-1,f)):r(this,"each",[],(d=function(a){var c=
b.slice.call(arguments,0,arguments.length);t(b.yieldX(e,b.to_a(c)))&&b.ret(l);return l+=1},d.$$s=this,d.$$arity=-1,d));return g}catch(ea){if(ea===b.returner)return ea.$v;throw ea;}},Z.$$arity=-1);b.def(q,"$first",X=function(a){try{var c,e,f=g,d=g;if(t(void 0===a))return r(this,"each",[],(c=function(a){null==a&&(a=g);b.ret(a)},c.$$s=this,c.$$arity=1,c));f=[];a=k(S,"Opal").$coerce_to(a,k(S,"Integer"),"to_int");t(0>a)&&this.$raise(k(S,"ArgumentError"),"attempt to take negative size");if(t(0==a))return[];
d=0;r(this,"each",[],(e=function(c){var e=b.slice.call(arguments,0,arguments.length);f.push(k(S,"Opal").$destructure(e));if(t(a<=++d))b.ret(f);else return g},e.$$s=this,e.$$arity=-1,e));return f}catch(ra){if(ra===b.returner)return ra.$v;throw ra;}},X.$$arity=-1);b.alias(q,"flat_map","collect_concat");b.def(q,"$grep",N=function(a){var c=N.$$p,e=c||g,f,d=g;c&&(N.$$p=null);c&&(N.$$p=null);d=[];r(this,"each",[],(f=function(c){var f=b.slice.call(arguments,0,arguments.length);var l=I(f);if(!t(r(a,"__send__",
["==="].concat(b.to_a(l)))))return g;e!==g?(t(u(f.$length(),1))&&(f=[f]),f=b.yieldX(e,b.to_a(f))):t(v(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},N.$$arity=1);b.def(q,"$grep_v",M=function(a){var c=M.$$p,e=c||g,f,d=g;c&&(M.$$p=null);c&&(M.$$p=null);d=[];r(this,"each",[],(f=function(c){var f=b.slice.call(arguments,0,arguments.length);var l=I(f);if(t(r(a,"__send__",["==="].concat(b.to_a(l)))))return g;e!==g?(t(u(f.$length(),1))&&(f=[f]),f=b.yieldX(e,b.to_a(f))):
t(v(f.$length(),1))&&(f=f["$[]"](0));return d.$push(f)},f.$$s=this,f.$$arity=-1,f));return d},M.$$arity=1);b.def(q,"$group_by",ja=function(){var a=ja.$$p,c=a||g,e,f,d=g,l=g;a&&(ja.$$p=null);a&&(ja.$$p=null);if(c===g)return r(this,"enum_for",["group_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));d=R([],{});this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments),e=b.yield1(c,a);(t(f=d["$[]"](e))?f:(l=[e,[]],r(d,"[]=",b.to_a(l)),l[C(l.length,1)]))["$<<"](a)};
this.$each();return d},ja.$$arity=0);b.def(q,"$include?",w=function(a){try{var c;r(this,"each",[],(c=function(c){var e=b.slice.call(arguments,0,arguments.length);if(k(S,"Opal").$destructure(e)["$=="](a))b.ret(!0);else return g},c.$$s=this,c.$$arity=-1,c));return!1}catch(Fa){if(Fa===b.returner)return Fa.$v;throw Fa;}},w.$$arity=1);b.def(q,"$inject",ca=function(a,c){var e=ca.$$p,f=e||g;e&&(ca.$$p=null);e&&(ca.$$p=null);var d=a;f!==g&&void 0===c?this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments);
void 0!==d&&(a=b.yieldX(f,[d,a]));d=a}:(void 0===c&&(k(S,"Symbol")["$==="](a)||this.$raise(k(S,"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,d=void 0),this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments);d=void 0===d?a:d.$__send__(c,a)});this.$each();return void 0==d?g:d},ca.$$arity=-1);b.def(q,"$lazy",H=function(){var a;return r(F(k(S,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){null==a&&(a=g);var e=b.slice.call(arguments,1,arguments.length);return r(a,
"yield",b.to_a(e))},a.$$s=this,a.$$arity=-2,a))},H.$$arity=0);b.def(q,"$enumerator_size",va=function(){return t(this["$respond_to?"]("size"))?this.$size():g},va.$$arity=0);b.alias(q,"map","collect");b.def(q,"$max",ha=function(a){var c=ha.$$p,e=c||g,f=this;c&&(ha.$$p=null);c&&(ha.$$p=null);if(void 0===a||a===g){var d,l;f.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments);void 0===d?d=a:(l=e!==g?b.yieldX(e,[a,d]):a["$<=>"](d),l===g&&f.$raise(k(S,"ArgumentError"),"comparison failed"),0<l&&
(d=a))};f.$each();return void 0===d?g:d}a=k(S,"Opal").$coerce_to(a,k(S,"Integer"),"to_int");return r(f,"sort",[],e.$to_proc()).$reverse().$first(a)},ha.$$arity=-1);b.def(q,"$max_by",U=function(){var a=U.$$p,c=a||g,e;a&&(U.$$p=null);a&&(U.$$p=null);if(!t(c))return r(this,"enum_for",["max_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,d;this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments),e=b.yield1(c,a);void 0===f?(f=a,d=e):0<e["$<=>"](d)&&
(f=a,d=e)};this.$each();return void 0===f?g:f},U.$$arity=0);b.alias(q,"member?","include?");b.def(q,"$min",wa=function(){var a=wa.$$p,b=a||g,c=this;a&&(wa.$$p=null);a&&(wa.$$p=null);var e;c.$each.$$p=b!==g?function(){var a=k(S,"Opal").$destructure(arguments);if(void 0===e)e=a;else{var f=b(a,e);f===g&&c.$raise(k(S,"ArgumentError"),"comparison failed");0>f&&(e=a)}}:function(){var a=k(S,"Opal").$destructure(arguments);void 0===e?e=a:0>k(S,"Opal").$compare(a,e)&&(e=a)};c.$each();return void 0===e?g:e},
wa.$$arity=0);b.def(q,"$min_by",Ca=function(){var a=Ca.$$p,c=a||g,e;a&&(Ca.$$p=null);a&&(Ca.$$p=null);if(!t(c))return r(this,"enum_for",["min_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f,d;this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments),e=b.yield1(c,a);void 0===f?(f=a,d=e):0>e["$<=>"](d)&&(f=a,d=e)};this.$each();return void 0===f?g:f},Ca.$$arity=0);b.def(q,"$minmax",ya=function(){var a=ya.$$p,b=a||g,c,e,f=this;a&&(ya.$$p=null);a&&
(ya.$$p=null);b=t(c=b)?c:r(f,"proc",[],(e=function(a,b){null==a&&(a=g);null==b&&(b=g);return a["$<=>"](b)},e.$$s=f,e.$$arity=2,e));var d=g,l=g,p=!0;f.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments);if(p)d=l=a,p=!1;else{var c=b.$call(d,a);c===g?f.$raise(k(S,"ArgumentError"),"comparison failed"):0<c&&(d=a);c=b.$call(l,a);c===g?f.$raise(k(S,"ArgumentError"),"comparison failed"):0>c&&(l=a)}};f.$each();return[d,l]},ya.$$arity=0);b.def(q,"$minmax_by",Ra=function(){var a=Ra.$$p;a&&(Ra.$$p=
null);a&&(Ra.$$p=null);return this.$raise(k(S,"NotImplementedError"))},Ra.$$arity=0);b.def(q,"$none?",xa=function(a){try{var c=xa.$$p,e=c||g,f,d,l;c&&(xa.$$p=null);c&&(xa.$$p=null);t(void 0!==a)?r(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=I(e);if(t(r(a,"public_send",["==="].concat(b.to_a(e)))))b.ret(!1);else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?r(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(t(b.yieldX(e,b.to_a(c))))b.ret(!1);
else return g},d.$$s=this,d.$$arity=-1,d)):r(this,"each",[],(l=function(a){var c=b.slice.call(arguments,0,arguments.length);c=k(S,"Opal").$destructure(c);if(t(c))b.ret(!1);else return g},l.$$s=this,l.$$arity=-1,l));return!0}catch(ea){if(ea===b.returner)return ea.$v;throw ea;}},xa.$$arity=-1);b.def(q,"$one?",sa=function(a){try{var c=sa.$$p,e=c||g,f,d,l,p=g;c&&(sa.$$p=null);c&&(sa.$$p=null);p=0;t(void 0!==a)?r(this,"each",[],(f=function(c){var e=b.slice.call(arguments,0,arguments.length);e=I(e);if(t(r(a,
"public_send",["==="].concat(b.to_a(e)))))if(p=z(p,1),t(u(p,1)))b.ret(!1);else return g;else return g},f.$$s=this,f.$$arity=-1,f)):e!==g?r(this,"each",[],(d=function(a){var c=b.slice.call(arguments,0,arguments.length);if(!t(b.yieldX(e,b.to_a(c))))return g;p=z(p,1);if(t(u(p,1)))b.ret(!1);else return g},d.$$s=this,d.$$arity=-1,d)):r(this,"each",[],(l=function(a){var c=b.slice.call(arguments,0,arguments.length);if(!t(k(S,"Opal").$destructure(c)))return g;p=z(p,1);if(t(u(p,1)))b.ret(!1);else return g},
l.$$s=this,l.$$arity=-1,l));return p["$=="](1)}catch(ta){if(ta===b.returner)return ta.$v;throw ta;}},sa.$$arity=-1);b.def(q,"$partition",za=function(){var a=za.$$p,c=a||g,e;a&&(za.$$p=null);a&&(za.$$p=null);if(c===g)return r(this,"enum_for",["partition"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[],d=[];this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments),e=b.yield1(c,a);t(e)?f.push(a):d.push(a)};this.$each();return[f,d]},za.$$arity=0);b.alias(q,
"reduce","inject");b.def(q,"$reject",oa=function(){var a=oa.$$p,c=a||g,e;a&&(oa.$$p=null);a&&(oa.$$p=null);if(c===g)return r(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){var a=k(S,"Opal").$destructure(arguments),e=b.yield1(c,a);K(e)&&f.push(a)};this.$each();return f},oa.$$arity=0);b.def(q,"$reverse_each",ma=function(){var a=ma.$$p,c=a||g,e;a&&(ma.$$p=null);a&&(ma.$$p=null);if(c===g)return r(this,"enum_for",
["reverse_each"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(a=f.length-1;0<=a;a--)b.yieldX(c,f[a]);return f},ma.$$arity=0);b.alias(q,"select","find_all");b.def(q,"$slice_before",W=function(a){var c=W.$$p,e=c||g,f;c&&(W.$$p=null);c&&(W.$$p=null);t(void 0===a&&e===g)&&this.$raise(k(S,"ArgumentError"),"both pattern and block are given");t(void 0!==a&&e!==g||1<arguments.length)&&this.$raise(k(S,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return r(k(S,"Enumerator"),"new",[],(f=function(c){var d=f.$$s||this;null==c&&(c=g);var l=[];d.$each.$$p=e!==g?void 0===a?function(){var a=k(S,"Opal").$destructure(arguments),f=b.yield1(e,a);t(f)&&0<l.length&&(c["$<<"](l),l=[]);l.push(a)}:function(){var b=k(S,"Opal").$destructure(arguments),f=e(b,a.$dup());t(f)&&0<l.length&&(c["$<<"](l),l=[]);l.push(b)}:function(){var b=k(S,"Opal").$destructure(arguments),e=a["$==="](b);
t(e)&&0<l.length&&(c["$<<"](l),l=[]);l.push(b)};d.$each();if(0<l.length)c["$<<"](l)},f.$$s=this,f.$$arity=1,f))},W.$$arity=-1);b.def(q,"$slice_after",aa=function(a){var c=aa.$$p,e=c||g,f,d;c&&(aa.$$p=null);c&&(aa.$$p=null);t(void 0===a&&e===g)&&this.$raise(k(S,"ArgumentError"),"both pattern and block are given");t(void 0!==a&&e!==g||1<arguments.length)&&this.$raise(k(S,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");t(void 0!==a)&&(e=r(this,"proc",[],(f=function(b){null==
b&&(b=g);return a["$==="](b)},f.$$s=this,f.$$arity=1,f)));return r(k(S,"Enumerator"),"new",[],(d=function(a){var c=d.$$s||this;null==a&&(a=g);var f;c.$each.$$p=function(){var c=k(S,"Opal").$destructure(arguments),d=b.yield1(e,c);null==f&&(f=[]);t(d)?(f.push(c),a.$yield(f),f=null):f.push(c)};c.$each();null!=f&&a.$yield(f)},d.$$s=this,d.$$arity=1,d))},aa.$$arity=-1);b.def(q,"$slice_when",Ea=function(){var a=Ea.$$p,c=a||g,e;a&&(Ea.$$p=null);a&&(Ea.$$p=null);c===g&&this.$raise(k(S,"ArgumentError"),"wrong number of arguments (0 for 1)");
return r(k(S,"Enumerator"),"new",[],(e=function(a){var f=e.$$s||this;null==a&&(a=g);var d=g,l=g;f.$each_cons.$$p=function(){var e=k(S,"Opal").$destructure(arguments),f=e[0];e=e[1];var p=b.yieldX(c,[f,e]);l=e;d===g&&(d=[]);t(p)?(d.push(f),a.$yield(d),d=[]):d.push(f)};f.$each_cons(2);d!==g&&(d.push(l),a.$yield(d))},e.$$s=this,e.$$arity=1,e))},Ea.$$arity=0);b.def(q,"$sort",ua=function(){var a=ua.$$p,b=a||g,c,e=g;a&&(ua.$$p=null);a&&(ua.$$p=null);e=this.$to_a();b===g&&(b=O((c=function(a,b){null==a&&(a=
g);null==b&&(b=g);return a["$<=>"](b)},c.$$s=this,c.$$arity=2,c)));return r(e,"sort",[],b.$to_proc())},ua.$$arity=0);b.def(q,"$sort_by",Sa=function(){var a=Sa.$$p,c=a||g,e,f,d,l,p=g;a&&(Sa.$$p=null);a&&(Sa.$$p=null);if(c===g)return r(this,"enum_for",["sort_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));p=r(this,"map",[],(f=function(){var a=k(S,"Opal").$destructure(arguments);return[b.yield1(c,a),a]},f.$$s=this,f.$$arity=0,f));r(p,"sort!",[],(d=function(a,b){null==
a&&(a=g);null==b&&(b=g);return a[0]["$<=>"](b[0])},d.$$s=this,d.$$arity=2,d));return r(p,"map!",[],(l=function(a){null==a&&(a=g);return a[1]},l.$$s=this,l.$$arity=1,l))},Sa.$$arity=0);b.def(q,"$sum",Va=function(a){var c,e=Va.$$p,f=e||g,d=g;e&&(Va.$$p=null);null==a&&(a=0);d=a;r(this,"each",[],(c=function(a){var c=b.slice.call(arguments,0,arguments.length);c=f!==g?b.yieldX(f,b.to_a(c)):k(S,"Opal").$destructure(c);return d=z(d,c)},c.$$s=this,c.$$arity=-1,c));return d},Va.$$arity=-1);b.def(q,"$take",
ka=function(a){return this.$first(a)},ka.$$arity=1);b.def(q,"$take_while",ia=function(){try{var a=ia.$$p,c=a||g,e,f=g;a&&(ia.$$p=null);a&&(ia.$$p=null);if(!t(c))return this.$enum_for("take_while");f=[];return r(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=k(S,"Opal").$destructure(e);t(b.yield1(c,e))||b.ret(f);return f.push(e)},e.$$s=this,e.$$arity=-1,e))}catch(da){if(da===b.returner)return da.$v;throw da;}},ia.$$arity=0);b.def(q,"$uniq",Da=function(){var a=Da.$$p,
c=a||g,e,f=g;a&&(Da.$$p=null);a&&(Da.$$p=null);f=R([],{});r(this,"each",[],(e=function(a){var e=b.slice.call(arguments,0,arguments.length);e=k(S,"Opal").$destructure(e);var d=c!==g?b.yield1(c,e):e;if(t(f["$key?"](d)))return g;e=[d,e];r(f,"[]=",b.to_a(e));return e[C(e.length,1)]},e.$$s=this,e.$$arity=-1,e));return f.$values()},Da.$$arity=0);b.alias(q,"to_a","entries");b.def(q,"$zip",na=function(a){var c=na.$$p;c&&(na.$$p=null);c&&(na.$$p=null);c=b.slice.call(arguments,0,arguments.length);return r(this.$to_a(),
"zip",b.to_a(c))},na.$$arity=-1)}(q[0],q)};
Opal.modules["corelib/enumerator"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}var C=b.top,v=[],q=b.nil,g=b.const_get_relative,F=b.breaker,k=b.slice,E=b.klass,t=b.truthy,r=b.send,K=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));C.$require("corelib/enumerable");
return function(v,$super,C){v=E(v,$super,"Enumerator");var m=[v].concat(C),R,I,A,J,a,d;v.$$prototype.size=v.$$prototype.args=v.$$prototype.object=v.$$prototype.method=q;v.$include(g(m,"Enumerable"));v.$$prototype.$$is_enumerator=!0;b.defs(v,"$for",R=function(a,d,g){var n=R.$$p,h=n||q;n&&(R.$$p=null);n&&(R.$$p=null);n=b.slice.call(arguments,1,arguments.length);if(0<n.length){var c=n[0];n.splice(0,1)}null==c&&(c="each");var m=this.$allocate();m.object=a;m.size=h;m.method=c;m.args=n;return m},R.$$arity=
-2);b.def(v,"$initialize",I=function(a){var d=I.$$p,L=d||q;d&&(I.$$p=null);d&&(I.$$p=null);b.slice.call(arguments,0,arguments.length);if(t(L))return this.object=r(g(m,"Generator"),"new",[],L.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||q,t(this.size)?this.size=g(m,"Opal").$coerce_to(this.size,g(m,"Integer"),"to_int"):q;this.object=arguments[0];this.method=arguments[1]||"each";this.args=k.call(arguments,2);return this.size=q},I.$$arity=-1);b.def(v,"$each",A=function(a){var d=
A.$$p,g=d||q,n;d&&(A.$$p=null);d&&(A.$$p=null);d=b.slice.call(arguments,0,arguments.length);if(t(t(n=g["$nil?"]())?d["$empty?"]():n))return this;d=u(this.args,d);return t(g["$nil?"]())?r(this.$class(),"new",[this.object,this.method].concat(b.to_a(d))):r(this.object,"__send__",[this.method].concat(b.to_a(d)),g.$to_proc())},A.$$arity=-1);b.def(v,"$size",J=function(){return t(g(m,"Proc")["$==="](this.size))?r(this.size,"call",b.to_a(this.args)):this.size},J.$$arity=0);b.def(v,"$with_index",a=function(b){var d=
a.$$p,L=d||q,n;d&&(a.$$p=null);d&&(a.$$p=null);null==b&&(b=0);b=t(b)?g(m,"Opal").$coerce_to(b,g(m,"Integer"),"to_int"):0;if(!t(L))return r(this,"enum_for",["with_index",b],(n=function(){return(n.$$s||this).$size()},n.$$s=this,n.$$arity=0,n));var h=b;this.$each.$$p=function(){var a=g(m,"Opal").$destructure(arguments);a=L(a,h);h++;return a};return this.$each()},a.$$arity=-1);b.alias(v,"with_object","each_with_object");b.def(v,"$inspect",d=function(){var a="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;t(this.args["$any?"]())&&(a=u(a,"("+this.args.$inspect()["$[]"](g(m,"Range").$new(1,-2))+")"));return u(a,">")},d.$$arity=0);(function(a,$super,d){a=E(a,$super,"Generator");var n=[a].concat(d),h,c;a.$$prototype.block=q;a.$include(g(n,"Enumerable"));b.def(a,"$initialize",h=function(){var a=h.$$p,b=a||q;a&&(h.$$p=null);a&&(h.$$p=null);t(b)||this.$raise(g(n,"LocalJumpError"),"no block given");return this.block=b},h.$$arity=0);return(b.def(a,"$each",c=function(a){var d=c.$$p,h=d||q;d&&
(c.$$p=null);d&&(c.$$p=null);d=b.slice.call(arguments,0,arguments.length);h=r(g(n,"Yielder"),"new",[],h.$to_proc());try{d.unshift(h),b.yieldX(this.block,d)}catch(D){if(D===F)return F.$v;throw D;}return this},c.$$arity=-1),q)&&"each"})(m[0],null,m);(function(a,$super,d){a=E(a,$super,"Yielder");[a].concat(d);var n,h,c;a.$$prototype.block=q;b.def(a,"$initialize",n=function(){var a=n.$$p,b=a||q;a&&(n.$$p=null);a&&(n.$$p=null);return this.block=b},n.$$arity=0);b.def(a,"$yield",h=function(a){var c=b.slice.call(arguments,
0,arguments.length);c=b.yieldX(this.block,c);if(c===F)throw F;return c},h.$$arity=-1);return(b.def(a,"$<<",c=function(a){var c=b.slice.call(arguments,0,arguments.length);r(this,"yield",b.to_a(c));return this},c.$$arity=-1),q)&&"<<"})(m[0],null,m);return function(a,$super,d){a=E(a,$super,"Lazy");var n=[a].concat(d),h,c,m,p,k,D,l,e,f,L,Z,X,N;a.$$prototype.enumerator=q;(function(a,$super,b){[E(a,$super,"StopLazyError")].concat(b);return q})(n[0],g(n,"Exception"),n);b.def(a,"$initialize",h=function(a,
c){var e=h.$$p,f=e||q,d;e&&(h.$$p=null);e&&(h.$$p=null);null==c&&(c=q);f===q&&this.$raise(g(n,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return r(this,b.find_super_dispatcher(this,"initialize",h,!1),[c],(d=function(c,e){var l=d.$$s||this,p;null==c&&(c=q);var h=b.slice.call(arguments,1,arguments.length);try{return r(a,"each",b.to_a(h),(p=function(a){var e=b.slice.call(arguments,0,arguments.length);e.unshift(c);b.yieldX(f,e)},p.$$s=l,p.$$arity=-1,p))}catch(ya){if(b.rescue(ya,
[g(n,"Exception")]))try{return q}finally{b.pop_exception()}else throw ya;}},d.$$s=this,d.$$arity=-2,d))},h.$$arity=-2);b.alias(a,"force","to_a");b.def(a,"$lazy",c=function(){return this},c.$$arity=0);b.def(a,"$collect",m=function(){var a=m.$$p,c=a||q,e;a&&(m.$$p=null);a&&(m.$$p=null);t(c)||this.$raise(g(n,"ArgumentError"),"tried to call lazy map without a block");return r(g(n,"Lazy"),"new",[this,this.$enumerator_size()],(e=function(a,e){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);
f=b.yieldX(c,f);a.$yield(f)},e.$$s=this,e.$$arity=-2,e))},m.$$arity=0);b.def(a,"$collect_concat",p=function(){var a=p.$$p,c=a||q,e;a&&(p.$$p=null);a&&(p.$$p=null);t(c)||this.$raise(g(n,"ArgumentError"),"tried to call lazy map without a block");return r(g(n,"Lazy"),"new",[this,q],(e=function(a,f){var d=e.$$s||this,l,p;null==a&&(a=q);var h=b.slice.call(arguments,1,arguments.length);h=b.yieldX(c,h);h["$respond_to?"]("force")&&h["$respond_to?"]("each")?r(h,"each",[],(l=function(b){null==b&&(b=q);return a.$yield(b)},
l.$$s=d,l.$$arity=1,l)):g(n,"Opal").$try_convert(h,g(n,"Array"),"to_ary")===q?a.$yield(h):r(h,"each",[],(p=function(b){null==b&&(b=q);return a.$yield(b)},p.$$s=d,p.$$arity=1,p))},e.$$s=this,e.$$arity=-2,e))},p.$$arity=0);b.def(a,"$drop",k=function(a){var c,e=q,f=e=q;a=g(n,"Opal").$coerce_to(a,g(n,"Integer"),"to_int");t(z(a,0))&&this.$raise(g(n,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=t(g(n,"Integer")["$==="](e))?t(z(a,e))?a:e:e;f=0;return r(g(n,"Lazy"),"new",[this,
e],(c=function(c,e){null==c&&(c=q);var d=b.slice.call(arguments,1,arguments.length);return t(z(f,a))?f=u(f,1):r(c,"yield",b.to_a(d))},c.$$s=this,c.$$arity=-2,c))},k.$$arity=1);b.def(a,"$drop_while",D=function(){var a=D.$$p,c=a||q,e,f=q;a&&(D.$$p=null);a&&(D.$$p=null);t(c)||this.$raise(g(n,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return r(g(n,"Lazy"),"new",[this,q],(e=function(a,e){null==a&&(a=q);var d=b.slice.call(arguments,1,arguments.length);if(t(f)){var l=b.yieldX(c,
d);K(l)&&(f=!1,r(a,"yield",b.to_a(d)))}else return r(a,"yield",b.to_a(d))},e.$$s=this,e.$$arity=-2,e))},D.$$arity=0);b.def(a,"$enum_for",l=function(a,c){var e=l.$$p,f=e||q;e&&(l.$$p=null);e&&(l.$$p=null);e=b.slice.call(arguments,0,arguments.length);if(0<e.length){var d=e[0];e.splice(0,1)}null==d&&(d="each");return r(this.$class(),"for",[this,d].concat(b.to_a(e)),f.$to_proc())},l.$$arity=-1);b.def(a,"$find_all",e=function(){var a=e.$$p,c=a||q,f;a&&(e.$$p=null);a&&(e.$$p=null);t(c)||this.$raise(g(n,
"ArgumentError"),"tried to call lazy select without a block");return r(g(n,"Lazy"),"new",[this,q],(f=function(a,e){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);var d=b.yieldX(c,f);t(d)&&r(a,"yield",b.to_a(f))},f.$$s=this,f.$$arity=-2,f))},e.$$arity=0);b.alias(a,"flat_map","collect_concat");b.def(a,"$grep",f=function(a){var c=f.$$p,e=c||q,d,l;c&&(f.$$p=null);c&&(f.$$p=null);return t(e)?r(g(n,"Lazy"),"new",[this,q],(d=function(c,f){null==c&&(c=q);var d=b.slice.call(arguments,1,arguments.length);
d=g(n,"Opal").$destructure(d);var l=a["$==="](d);t(l)&&(b.yield1(e,d),c.$yield(b.yield1(e,d)))},d.$$s=this,d.$$arity=-2,d)):r(g(n,"Lazy"),"new",[this,q],(l=function(c,e){null==c&&(c=q);var f=b.slice.call(arguments,1,arguments.length);f=g(n,"Opal").$destructure(f);var d=a["$==="](f);t(d)&&c.$yield(f)},l.$$s=this,l.$$arity=-2,l))},f.$$arity=1);b.alias(a,"map","collect");b.alias(a,"select","find_all");b.def(a,"$reject",L=function(){var a=L.$$p,c=a||q,e;a&&(L.$$p=null);a&&(L.$$p=null);t(c)||this.$raise(g(n,
"ArgumentError"),"tried to call lazy reject without a block");return r(g(n,"Lazy"),"new",[this,q],(e=function(a,e){null==a&&(a=q);var f=b.slice.call(arguments,1,arguments.length);var d=b.yieldX(c,f);K(d)&&r(a,"yield",b.to_a(f))},e.$$s=this,e.$$arity=-2,e))},L.$$arity=0);b.def(a,"$take",Z=function(a){var c,e=q,f=e=q;a=g(n,"Opal").$coerce_to(a,g(n,"Integer"),"to_int");t(z(a,0))&&this.$raise(g(n,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=t(g(n,"Integer")["$==="](e))?
t(z(a,e))?a:e:e;f=0;return r(g(n,"Lazy"),"new",[this,e],(c=function(e,d){var l=c.$$s||this;null==e&&(e=q);var p=b.slice.call(arguments,1,arguments.length);return t(z(f,a))?(r(e,"yield",b.to_a(p)),f=u(f,1)):l.$raise(g(n,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},Z.$$arity=1);b.def(a,"$take_while",X=function(){var a=X.$$p,c=a||q,e;a&&(X.$$p=null);a&&(X.$$p=null);t(c)||this.$raise(g(n,"ArgumentError"),"tried to call lazy take_while without a block");return r(g(n,"Lazy"),"new",[this,q],(e=function(a,
f){var d=e.$$s||this;null==a&&(a=q);var l=b.slice.call(arguments,1,arguments.length);var p=b.yieldX(c,l);t(p)?r(a,"yield",b.to_a(l)):d.$raise(g(n,"StopLazyError"))},e.$$s=this,e.$$arity=-2,e))},X.$$arity=0);b.alias(a,"to_enum","enum_for");return(b.def(a,"$inspect",N=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},N.$$arity=0),q)&&"inspect"}(m[0],v,m)}(v[0],null,v)};
Opal.modules["corelib/numeric"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}var q=b.top,g=[],F=b.nil,k=b.const_get_qualified,E=b.const_get_relative,t=b.klass,r=b.truthy,K=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
q.$require("corelib/comparable");return function(g,$super,q){g=t(g,$super,"Numeric");var m=[g].concat(q),I,R,A,J,a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,Ra,xa,sa;g.$include(E(m,"Comparable"));b.def(g,"$coerce",I=function(a){return r(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},I.$$arity=1);b.def(g,"$__coerced__",R=function(a,c){if(r(c["$respond_to?"]("coerce"))){c=c.$coerce(this);var e=b.to_ary(c);var f=null==e[0]?F:e[0];e=null==e[1]?F:
e[1];c;return f.$__send__(a,e)}return"+"["$==="](a)||"-"["$==="](a)||"*"["$==="](a)||"/"["$==="](a)||"%"["$==="](a)||"&"["$==="](a)||"|"["$==="](a)||"^"["$==="](a)||"**"["$==="](a)?this.$raise(E(m,"TypeError"),""+c.$class()+" can't be coerced into Numeric"):">"["$==="](a)||">="["$==="](a)||"<"["$==="](a)||"<="["$==="](a)||"<=>"["$==="](a)?this.$raise(E(m,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed"):F},R.$$arity=2);b.def(g,"$<=>",A=function(a){return r(this["$equal?"](a))?
0:F},A.$$arity=1);b.def(g,"$+@",J=function(){return this},J.$$arity=0);b.def(g,"$-@",a=function(){return u(0,this)},a.$$arity=0);b.def(g,"$%",d=function(a){return u(this,z(a,this.$div(a)))},d.$$arity=1);b.def(g,"$abs",L=function(){return C(this,0)?this["$-@"]():this},L.$$arity=0);b.def(g,"$abs2",x=function(){return z(this,this)},x.$$arity=0);b.def(g,"$angle",T=function(){return C(this,0)?k(E(m,"Math"),"PI"):0},T.$$arity=0);b.alias(g,"arg","angle");b.def(g,"$ceil",n=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},
n.$$arity=-1);b.def(g,"$conj",h=function(){return this},h.$$arity=0);b.alias(g,"conjugate","conj");b.def(g,"$denominator",c=function(){return this.$to_r().$denominator()},c.$$arity=0);b.def(g,"$div",y=function(a){a["$=="](0)&&this.$raise(E(m,"ZeroDivisionError"),"divided by o");return v(this,a).$floor()},y.$$arity=1);b.def(g,"$divmod",p=function(a){return[this.$div(a),this["$%"](a)]},p.$$arity=1);b.def(g,"$fdiv",V=function(a){return v(this.$to_f(),a)},V.$$arity=1);b.def(g,"$floor",D=function(a){null==
a&&(a=0);return this.$to_f().$floor(a)},D.$$arity=-1);b.def(g,"$i",l=function(){return this.$Complex(0,this)},l.$$arity=0);b.def(g,"$imag",e=function(){return 0},e.$$arity=0);b.alias(g,"imaginary","imag");b.def(g,"$integer?",f=function(){return!1},f.$$arity=0);b.alias(g,"magnitude","abs");b.alias(g,"modulo","%");b.def(g,"$nonzero?",Y=function(){return r(this["$zero?"]())?F:this},Y.$$arity=0);b.def(g,"$numerator",Z=function(){return this.$to_r().$numerator()},Z.$$arity=0);b.alias(g,"phase","arg");
b.def(g,"$polar",X=function(){return[this.$abs(),this.$arg()]},X.$$arity=0);b.def(g,"$quo",N=function(a){return v(E(m,"Opal")["$coerce_to!"](this,E(m,"Rational"),"to_r"),a)},N.$$arity=1);b.def(g,"$real",M=function(){return this},M.$$arity=0);b.def(g,"$real?",ja=function(){return!0},ja.$$arity=0);b.def(g,"$rect",w=function(){return[this,0]},w.$$arity=0);b.alias(g,"rectangular","rect");b.def(g,"$round",ca=function(a){return this.$to_f().$round(a)},ca.$$arity=-1);b.def(g,"$to_c",H=function(){return this.$Complex(this,
0)},H.$$arity=0);b.def(g,"$to_int",va=function(){return this.$to_i()},va.$$arity=0);b.def(g,"$truncate",ha=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},ha.$$arity=-1);b.def(g,"$zero?",U=function(){return this["$=="](0)},U.$$arity=0);b.def(g,"$positive?",wa=function(){return"number"===typeof this?0<this:this["$>"](0)},wa.$$arity=0);b.def(g,"$negative?",Ca=function(){return C(this,0)},Ca.$$arity=0);b.def(g,"$dup",ya=function(){return this},ya.$$arity=0);b.def(g,"$clone",Ra=function(a){if(null==
a)K([],{});else if(!a.$$is_hash)throw b.ArgumentError.$new("expected kwargs");return this},Ra.$$arity=-1);b.def(g,"$finite?",xa=function(){return!0},xa.$$arity=0);return(b.def(g,"$infinite?",sa=function(){return F},sa.$$arity=0),F)&&"infinite?"}(g[0],null,g)};
Opal.modules["corelib/array"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}var z=b.top,C=[],v=b.nil,q=b.const_get_qualified,g=b.const_get_relative,F=b.klass,k=b.truthy,E=b.hash2,t=b.send,r=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
z.$require("corelib/enumerable");z.$require("corelib/numeric");return function(C,$super,z){function I(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function m(a,c){var e=a.length;var f=c.excl;var d=b.Opal.$coerce_to(c.begin,b.Integer,"to_int");c=b.Opal.$coerce_to(c.end,b.Integer,"to_int");if(0>d&&(d+=e,0>d)||d>e)return v;if(0>c&&(c+=e,0>c))return[];f||(c+=1);e=a.slice(d,c);return I(e,a.$class())}function O(a,c,e){var f=a.length;c=b.Opal.$coerce_to(c,b.Integer,"to_int");if(0>c&&
(c+=f,0>c))return v;if(void 0===e)return c>=f||0>c?v:a[c];e=b.Opal.$coerce_to(e,b.Integer,"to_int");if(0>e||c>f||0>c)return v;c=a.slice(c,c+e);return I(c,a.$class())}function S(a,b){return a===b||0===b?1:0<b&&a>b?S(a-1,b-1)+S(a-1,b):0}var A=F(C,$super,"Array"),J=[A].concat(z),a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,Ra,xa,sa,za,oa,ma,W,aa,Ea,ua,K,Va,ka,ia,Da,na,Ta,Ka,Fa,Pa,da,ra,ea,ta,Aa,pa,Ma,Ga,Na,La,Ia,Oa,Ja,Qa,Xa,Wa,Ua,B,P,fa,Q,Ha,ba,G,cb,qa,Ba,eb,fb,gb,Za,Ya,lb,$a,mb,
ab,bb,db,ob,hb,pb,ib,qb;A.$include(g(J,"Enumerable"));b.defineProperty(A.$$prototype,"$$is_array",!0);b.defs(A,"$[]",a=function(a){var c=b.slice.call(arguments,0,arguments.length);return I(c,this)},a.$$arity=-1);b.def(A,"$initialize",d=function(a,b){var c=d.$$p,e=c||v;c&&(d.$$p=null);c&&(d.$$p=null);null==a&&(a=v);null==b&&(b=v);b!==v&&e!==v&&this.$warn("warning: block supersedes default value argument");a>q(g(J,"Integer"),"MAX")&&this.$raise(g(J,"ArgumentError"),"array size too big");2<arguments.length&&
this.$raise(g(J,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&this.$raise(g(J,"ArgumentError"),"negative array size");this.splice(0,this.length);if(e===v)for(c=0;c<a;c++)this.push(b);else for(c=0,f;c<a;c++){var f=
e(c);this[c]=f}return this},d.$$arity=-1);b.defs(A,"$try_convert",L=function(a){return g(J,"Opal")["$coerce_to?"](a,g(J,"Array"),"to_ary")},L.$$arity=1);b.def(A,"$&",x=function(a){a=k(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();var c=[],e=E([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0!==b.hash_delete(e,a)&&c.push(a);return c},x.$$arity=1);b.def(A,"$|",T=function(a){a=k(g(J,"Array")["$==="](a))?
a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();var c=E([],{}),e;var f=0;for(e=this.length;f<e;f++)b.hash_put(c,this[f],!0);f=0;for(e=a.length;f<e;f++)b.hash_put(c,a[f],!0);return c.$keys()},T.$$arity=1);b.def(A,"$*",n=function(a){if(k(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");k(0>a)&&this.$raise(g(J,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),e=0;e<a;e++)b=b.concat(c);return I(b,this.$class())},
n.$$arity=1);b.def(A,"$+",h=function(a){a=k(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();return this.concat(a)},h.$$arity=1);b.def(A,"$-",c=function(a){a=k(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();if(k(0===this.length))return[];if(k(0===a.length))return this.slice();var c=[],e=E([],{}),f;var d=0;for(f=a.length;d<f;d++)b.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0===b.hash_get(e,a)&&
c.push(a);return c},c.$$arity=1);b.def(A,"$<<",y=function(a){this.push(a);return this},y.$$arity=1);b.def(A,"$<=>",p=function(a){if(k(g(J,"Array")["$==="](a)))a=a.$to_a();else if(k(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return v;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var e=this[c]["$<=>"](a[c]);if(0!==e)return e}return this.length["$<=>"](a.length)},p.$$arity=1);b.def(A,"$==",V=function(a){function b(a,e){var f;if(a===e)return!0;
if(!e.$$is_array)return g(J,"Opal")["$respond_to?"](e,"to_ary")?e["$=="](a):!1;a.$$constructor!==Array&&(a=a.$to_a());e.$$constructor!==Array&&(e=e.$to_a());if(a.length!==e.length)return!1;c[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var l=a[d];var p=e[d];if(l.$$is_array){if(p.$$is_array&&p.length!==l.length||!c.hasOwnProperty(l.$object_id())&&!b(l,p))return!1}else if(!l["$=="](p))return!1}return!0}var c={};return b(this,a)},V.$$arity=1);b.def(A,"$[]",D=function(a,b){return a.$$is_range?m(this,
a):O(this,a,b)},D.$$arity=-2);b.def(A,"$[]=",l=function(a,b,c){var e=v;var f=this.length;if(k(g(J,"Range")["$==="](a))){e=k(g(J,"Array")["$==="](b))?b.$to_a():k(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b];var d=a.excl;c=g(J,"Opal").$coerce_to(a.begin,g(J,"Integer"),"to_int");var l=g(J,"Opal").$coerce_to(a.end,g(J,"Integer"),"to_int");0>c&&(c+=f,0>c&&this.$raise(g(J,"RangeError"),""+a.$inspect()+" out of range"));0>l&&(l+=f);d||(l+=1);if(c>f)for(;f<c;f++)this[f]=v;0>l?this.splice.apply(this,
[c,0].concat(e)):this.splice.apply(this,[c,l-c].concat(e))}else{k(void 0===c)?l=1:(l=b,b=c,e=k(g(J,"Array")["$==="](b))?b.$to_a():k(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");l=g(J,"Opal").$coerce_to(l,g(J,"Integer"),"to_int");0>a&&(d=a,a+=f,0>a&&this.$raise(g(J,"IndexError"),"index "+d+" too small for array; minimum "+-this.length));0>l&&this.$raise(g(J,"IndexError"),"negative length ("+l+")");if(a>f)for(;f<a;f++)this[f]=v;void 0===c?
this[a]=b:this.splice.apply(this,[a,l].concat(e))}return b},l.$$arity=-3);b.def(A,"$any?",e=function(a){var c=e.$$p,f;c&&(e.$$p=null);var d=0;var l=arguments.length;for(f=Array(l);d<l;d++)f[d]=arguments[d];c&&(e.$$p=null);return 0===this.length?!1:t(this,b.find_super_dispatcher(this,"any?",e,!1),f,c)},e.$$arity=-1);b.def(A,"$assoc",f=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&e[0]["$=="](a))return e;return v},f.$$arity=1);b.def(A,"$at",Y=function(a){a=g(J,"Opal").$coerce_to(a,
g(J,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?v:this[a]},Y.$$arity=1);b.def(A,"$bsearch_index",Z=function(){var a=Z.$$p,c=a||v;a&&(Z.$$p=null);a&&(Z.$$p=null);if(c===v)return this.$enum_for("bsearch_index");a=0;for(var e=this.length,f,d,l=!1,p=v;a<e;){f=a+Math.floor((e-a)/2);d=this[f];d=b.yield1(c,d);if(!0===d)p=f,l=!0;else if(!1===d||d===v)l=!1;else if(d.$$is_number){if(0===d)return f;l=0>d}else this.$raise(g(J,"TypeError"),"wrong argument type "+d.$class()+" (must be numeric, true, false or nil)");
l?e=f:a=f+1}return p},Z.$$arity=0);b.def(A,"$bsearch",X=function(){var a=X.$$p,b=a||v;a&&(X.$$p=null);a&&(X.$$p=null);if(b===v)return this.$enum_for("bsearch");a=t(this,"bsearch_index",[],b.$to_proc());return null!=a&&a.$$is_number?this[a]:a},X.$$arity=0);b.def(A,"$cycle",N=function(a){var c=N.$$p,e=c||v,f,d;c&&(N.$$p=null);c&&(N.$$p=null);null==a&&(a=v);if(e===v)return t(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(k(a["$nil?"]()))return q(g(J,"Float"),"INFINITY");a=g(J,"Opal")["$coerce_to!"](a,
g(J,"Integer"),"to_int");return k(u(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(k(k(d=this["$empty?"]())?d:a["$=="](0)))return v;if(a===v)for(;;)for(c=0,d=this.length;c<d;c++)b.yield1(e,this[c]);else{a=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){c=0;for(d=this.length;c<d;c++)b.yield1(e,this[c]);a--}}return this},N.$$arity=-1);b.def(A,"$clear",M=function(){this.splice(0,this.length);
return this},M.$$arity=0);b.def(A,"$count",ja=function(a){var c=ja.$$p,e=c||v,f,d;c&&(ja.$$p=null);var l=0;var p=arguments.length;for(d=Array(p);l<p;l++)d[l]=arguments[l];c&&(ja.$$p=null);null==a&&(a=v);return k(k(f=a)?f:e)?t(this,b.find_super_dispatcher(this,"count",ja,!1),d,c):this.$size()},ja.$$arity=-1);b.def(A,"$initialize_copy",w=function(a){return this.$replace(a)},w.$$arity=1);b.def(A,"$collect",ca=function(){var a=ca.$$p,c=a||v,e;a&&(ca.$$p=null);a&&(ca.$$p=null);if(c===v)return t(this,"enum_for",
["collect"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,d=this.length;f<d;f++){var l=b.yield1(c,this[f]);a.push(l)}return a},ca.$$arity=0);b.def(A,"$collect!",H=function(){var a=H.$$p,c=a||v,e;a&&(H.$$p=null);a&&(H.$$p=null);if(c===v)return t(this,"enum_for",["collect!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++){var d=b.yield1(c,this[a]);this[a]=d}return this},H.$$arity=0);b.def(A,"$combination",
va=function(a){var c,e=va.$$p,f=e||v,d=v;e&&(va.$$p=null);d=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(f===v)return t(this,"enum_for",["combination",d],(c=function(){return S((c.$$s||this).length,d)},c.$$s=this,c.$$arity=0,c));if(0===d)b.yield1(f,[]);else if(1===d)for(e=0,a=this.length;e<a;e++)b.yield1(f,[this[e]]);else if(d===this.length)b.yield1(f,this.slice());else if(0<=d&&d<this.length){a=[];for(e=0;e<=d+1;e++)a.push(0);e=[];var l=0;var p=!1;for(a[0]=-1;!p;){for(e[l]=this[a[l+1]];l<
d-1;)l++,p=a[l+1]=a[l]+1,e[l]=this[p];b.yield1(f,e.slice());l++;do p=0===l,a[l]++,l--;while(a[l+1]+d===this.length+l+1)}}return this},va.$$arity=1);b.def(A,"$repeated_combination",ha=function(a){function c(a,e,f,l){if(f.length==a)a=f.slice(),b.yield1(d,a);else for(;e<l.length;e++)f.push(l[e]),c(a,e,f,l),f.pop()}var e,f=ha.$$p,d=f||v,l=v;f&&(ha.$$p=null);l=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(d===v)return t(this,"enum_for",["repeated_combination",l],(e=function(){return S((e.$$s||
this).length+l-1,l)},e.$$s=this,e.$$arity=0,e));0<=l&&c(l,0,[],this);return this},ha.$$arity=1);b.def(A,"$compact",U=function(){for(var a=[],b=0,c=this.length,e;b<c;b++)(e=this[b])!==v&&a.push(e);return a},U.$$arity=0);b.def(A,"$compact!",wa=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===v&&(this.splice(b,1),c--,b--);return this.length===a?v:this},wa.$$arity=0);b.def(A,"$concat",Ca=function(a){var c,e;var f=b.slice.call(arguments,0,arguments.length);f=t(f,"map",[],(c=function(a){var b=
c.$$s||this;null==a&&(a=v);a=k(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();k(a["$equal?"](b))&&(a=a.$dup());return a},c.$$s=this,c.$$arity=1,c));t(f,"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=v);for(var c=0,f=a.length;c<f;c++)b.push(a[c])},e.$$s=this,e.$$arity=1,e));return this},Ca.$$arity=-1);b.def(A,"$delete",ya=function(a){var c=ya.$$p,e=c||v;c&&(ya.$$p=null);c=this.length;for(var f=0,d=c;f<d;f++)this[f]["$=="](a)&&(this.splice(f,1),d--,
f--);return this.length===c?e!==v?b.yieldX(e,[]):v:a},ya.$$arity=1);b.def(A,"$delete_at",Ra=function(a){a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return v;var b=this[a];this.splice(a,1);return b},Ra.$$arity=1);b.def(A,"$delete_if",xa=function(){var a=xa.$$p,b=a||v,c;a&&(xa.$$p=null);a&&(xa.$$p=null);if(b===v)return t(this,"enum_for",["delete_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var e=this.length,f;a<
e;a++)f=b(this[a]),!1!==f&&f!==v&&(this.splice(a,1),e--,a--);return this},xa.$$arity=0);b.def(A,"$dig",sa=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===v||0===e.length)return f;k(f["$respond_to?"]("dig"))||this.$raise(g(J,"TypeError"),""+f.$class()+" does not have #dig method");return t(f,"dig",b.to_a(e))},sa.$$arity=-2);b.def(A,"$drop",za=function(a){0>a&&this.$raise(g(J,"ArgumentError"));return this.slice(a)},za.$$arity=1);b.def(A,"$dup",oa=function(){var a=
oa.$$p,c;a&&(oa.$$p=null);var e=0;var f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):t(this,b.find_super_dispatcher(this,"dup",oa,!1),c,a)},oa.$$arity=0);b.def(A,"$each",ma=function(){var a=ma.$$p,c=a||v,e;a&&(ma.$$p=null);a&&(ma.$$p=null);if(c===v)return t(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,
e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,this[a]);return this},ma.$$arity=0);b.def(A,"$each_index",W=function(){var a=W.$$p,c=a||v,e;a&&(W.$$p=null);a&&(W.$$p=null);if(c===v)return t(this,"enum_for",["each_index"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.length;a<f;a++)b.yield1(c,a);return this},W.$$arity=0);b.def(A,"$empty?",aa=function(){return 0===this.length},aa.$$arity=0);b.def(A,"$eql?",Ea=function(a){function b(a,e){var f;
if(!e.$$is_array)return!1;e=e.$to_a();if(a.length!==e.length)return!1;c[a.$object_id()]=!0;var d=0;for(f=a.length;d<f;d++){var l=a[d];var p=e[d];if(l.$$is_array){if(p.$$is_array&&p.length!==l.length||!c.hasOwnProperty(l.$object_id())&&!b(l,p))return!1}else if(!l["$eql?"](p))return!1}return!0}var c={};return b(this,a)},Ea.$$arity=1);b.def(A,"$fetch",ua=function(a,b){var c=ua.$$p,e=c||v;c&&(ua.$$p=null);c&&(ua.$$p=null);c=a;a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=
a&&a<this.length)return this[a];e!==v&&null!=b&&this.$warn("warning: block supersedes default value argument");if(e!==v)return e(c);if(null!=b)return b;0===this.length?this.$raise(g(J,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(g(J,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},ua.$$arity=-2);b.def(A,"$fill",K=function(a){var c=K.$$p,e=c||v,f=v;c&&(K.$$p=null);c&&(K.$$p=null);c=b.slice.call(arguments,0,arguments.length);if(k(e)){k(2<
c.length)&&this.$raise(g(J,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 0..2)");var d=c;var l=b.to_ary(d);c=null==l[0]?v:l[0];l=null==l[1]?v:l[1]}else k(0==c.length)?this.$raise(g(J,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):k(3<c.length)&&this.$raise(g(J,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 1..3)"),d=c,l=b.to_ary(d),f=null==l[0]?v:l[0],c=null==l[1]?v:l[1],l=null==l[2]?v:l[2];d;if(k(g(J,"Range")["$==="](c))){if(k(l)&&this.$raise(g(J,
"TypeError"),"length invalid with range"),d=g(J,"Opal").$coerce_to(c.$begin(),g(J,"Integer"),"to_int"),k(0>d)&&(d+=this.length),k(0>d)&&this.$raise(g(J,"RangeError"),""+c.$inspect()+" out of range"),l=g(J,"Opal").$coerce_to(c.$end(),g(J,"Integer"),"to_int"),k(0>l)&&(l+=this.length),k(c["$exclude_end?"]())||(l+=1),k(l<=d))return this}else if(k(c))if(d=g(J,"Opal").$coerce_to(c,g(J,"Integer"),"to_int"),k(0>d)&&(d+=this.length),k(0>d)&&(d=0),k(l)){l=g(J,"Opal").$coerce_to(l,g(J,"Integer"),"to_int");if(k(0==
l))return this;l+=d}else l=this.length;else d=0,l=this.length;if(k(d>this.length))for(c=this.length;c<l;c++)this[c]=v;k(l>this.length)&&(this.length=l);if(k(e))for(;d<l;d++)f=e(d),this[d]=f;else for(;d<l;d++)this[d]=f;return this},K.$$arity=-1);b.def(A,"$first",Va=function(a){if(null==a)return 0===this.length?v:this[0];a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&this.$raise(g(J,"ArgumentError"),"negative array size");return this.slice(0,a)},Va.$$arity=-1);b.def(A,"$flatten",ka=function(a){function b(a,
e){var f=[],d;a=a.$to_a();var l=0;for(d=a.length;l<d;l++){var p=a[l];if(g(J,"Opal")["$respond_to?"](p,"to_ary",!0)){var h=p.$to_ary();if(h===v)f.push(p);else switch(h.$$is_array||c.$raise(g(J,"TypeError")),h===c&&c.$raise(g(J,"ArgumentError")),e){case void 0:f=f.concat(b(h));break;case 0:f.push(h);break;default:f.push.apply(f,b(h,e-1))}}else f.push(p)}return f}var c=this;void 0!==a&&(a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int"));return I(b(c,a),c.$class())},ka.$$arity=-1);b.def(A,"$flatten!",
ia=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return v}this.$replace(a);return this},ia.$$arity=-1);b.def(A,"$hash",Da=function(){var a=void 0===b.hash_ids,c=["A"],e=this.$object_id(),f,d;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[e])return"self";for(d in b.hash_ids){var l=b.hash_ids[d];if(this["$eql?"](l))return"self"}b.hash_ids[e]=this;for(f=0;f<this.length;f++)l=this[f],c.push(l.$hash());return c.join(",")}finally{a&&
(b.hash_ids=void 0)}},Da.$$arity=0);b.def(A,"$include?",na=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},na.$$arity=1);b.def(A,"$index",Ta=function(a){var b=Ta.$$p,c=b||v;b&&(Ta.$$p=null);b&&(Ta.$$p=null);var e;null!=a&&c!==v&&this.$warn("warning: given block not used");if(null!=a)for(b=0,e=this.length;b<e;b++){if(this[b]["$=="](a))return b}else if(c!==v)for(b=0,e=this.length;b<e;b++){if(a=c(this[b]),!1!==a&&a!==v)return b}else return this.$enum_for("index");
return v},Ta.$$arity=-1);b.def(A,"$insert",Ka=function(a,c){var e=b.slice.call(arguments,1,arguments.length);a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");if(0<e.length){0>a&&(a+=this.length+1,0>a&&this.$raise(g(J,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(var f=this.length;f<a;f++)this.push(v);this.splice.apply(this,[a,0].concat(e))}return this},Ka.$$arity=-2);b.def(A,"$inspect",Fa=function(){for(var a=[],b=this.$__id__(),c=0,e=this.length;c<e;c++){var f=this["$[]"](c);f.$__id__()===
b?a.push("[...]"):a.push(f.$inspect())}return"["+a.join(", ")+"]"},Fa.$$arity=0);b.def(A,"$join",Pa=function(a){null==r[","]&&(r[","]=v);null==a&&(a=v);if(k(0===this.length))return"";k(a===v)&&(a=r[","]);var c=[],e;var f=0;for(e=this.length;f<e;f++){var d=this[f];if(g(J,"Opal")["$respond_to?"](d,"to_str")){var l=d.$to_str();if(l!==v){c.push(l.$to_s());continue}}if(g(J,"Opal")["$respond_to?"](d,"to_ary")&&(l=d.$to_ary(),l===this&&this.$raise(g(J,"ArgumentError")),l!==v)){c.push(l.$join(a));continue}if(g(J,
"Opal")["$respond_to?"](d,"to_s")&&(l=d.$to_s(),l!==v)){c.push(l);continue}this.$raise(g(J,"NoMethodError").$new(""+b.inspect(d)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===v?c.join(""):c.join(g(J,"Opal")["$coerce_to!"](a,g(J,"String"),"to_str").$to_s())},Pa.$$arity=-1);b.def(A,"$keep_if",da=function(){var a=da.$$p,b=a||v,c;a&&(da.$$p=null);a&&(da.$$p=null);if(b===v)return t(this,"enum_for",["keep_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));
a=0;for(var e=this.length,f;a<e;a++)if(f=b(this[a]),!1===f||f===v)this.splice(a,1),e--,a--;return this},da.$$arity=0);b.def(A,"$last",ra=function(a){if(null==a)return 0===this.length?v:this[this.length-1];a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&this.$raise(g(J,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},ra.$$arity=-1);b.def(A,"$length",ea=function(){return this.length},ea.$$arity=0);b.alias(A,"map","collect");
b.alias(A,"map!","collect!");b.def(A,"$max",ta=function(a){var b=ta.$$p,c=b||v;b&&(ta.$$p=null);b&&(ta.$$p=null);return t(this.$each(),"max",[a],c.$to_proc())},ta.$$arity=-1);b.def(A,"$min",Aa=function(){var a=Aa.$$p,b=a||v;a&&(Aa.$$p=null);a&&(Aa.$$p=null);return t(this.$each(),"min",[],b.$to_proc())},Aa.$$arity=0);b.def(A,"$permutation",pa=function(a){var c=pa.$$p,e=c||v,f,d=this,l=v,p=v;c&&(pa.$$p=null);c&&(pa.$$p=null);if(e===v)return t(d,"enum_for",["permutation",a],(f=function(){var b=f.$$s||
this,c=b.length;b=void 0===a?b.length:a;for(var e=0<=b?1:0;b;)e*=c,c--,b--;return e},f.$$s=d,f.$$arity=0,f));var h;a=void 0===a?d.length:g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");if(!(0>a||d.length<a))if(0===a)b.yield1(e,[]);else if(1===a)for(l=0;l<d.length;l++)b.yield1(e,[d[l]]);else{l=g(J,"Array").$new(a);p=g(J,"Array").$new(d.length,!1);var n=function(a,c,e,f,l){d=this;for(var p=0;p<d.length;p++)if(f["$[]"](p)["$!"]())if(c[e]=p,e<a-1)f[p]=!0,n.call(d,a,c,e+1,f,l),f[p]=!1;else{h=[];for(var g=
0;g<c.length;g++)h.push(d[c[g]]);b.yield1(l,h)}};e!==v?(c=d.slice(),n.call(c,a,l,0,p,e)):n.call(d,a,l,0,p,e)}return d},pa.$$arity=-1);b.def(A,"$repeated_permutation",Ma=function(a){function c(a,e,f){if(e.length==a)a=e.slice(),b.yield1(d,a);else for(var l=0;l<f.length;l++)e.push(f[l]),c(a,e,f),e.pop()}var e,f=Ma.$$p,d=f||v,l=v;f&&(Ma.$$p=null);l=g(J,"Opal")["$coerce_to!"](a,g(J,"Integer"),"to_int");if(d===v)return t(this,"enum_for",["repeated_permutation",l],(e=function(){var a=e.$$s||this;return k("number"===
typeof l?0<=l:l["$>="](0))?a.$size()["$**"](l):0},e.$$s=this,e.$$arity=0,e));c(l,[],this.slice());return this},Ma.$$arity=1);b.def(A,"$pop",Ga=function(a){if(k(void 0===a))return k(0===this.length)?v:this.pop();a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");k(0>a)&&this.$raise(g(J,"ArgumentError"),"negative array size");return k(0===this.length)?[]:k(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Ga.$$arity=-1);b.def(A,"$product",Na=function(a){var c=Na.$$p,
e=c||v;c&&(Na.$$p=null);c&&(Na.$$p=null);var f=b.slice.call(arguments,0,arguments.length);c=e!==v?null:[];var d=f.length+1,l=Array(d),p=Array(d),h=Array(d),n;var Ba=1;h[0]=this;for(n=1;n<d;n++)h[n]=g(J,"Opal").$coerce_to(f[n-1],g(J,"Array"),"to_ary");for(n=0;n<d;n++){f=h[n].length;if(0===f)return c||this;Ba*=f;2147483647<Ba&&this.$raise(g(J,"RangeError"),"too big to product");p[n]=f;l[n]=0}a:for(;;){Ba=[];for(n=0;n<d;n++)Ba.push(h[n][l[n]]);c?c.push(Ba):b.yield1(e,Ba);n=d-1;for(l[n]++;l[n]===p[n];){l[n]=
0;if(0>--n)break a;l[n]++}}return c||this},Na.$$arity=-1);b.def(A,"$push",La=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=0,f=c.length;e<f;e++)this.push(c[e]);return this},La.$$arity=-1);b.alias(A,"append","push");b.def(A,"$rassoc",Ia=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&void 0!==e[1]&&e[1]["$=="](a))return e;return v},Ia.$$arity=1);b.def(A,"$reject",Oa=function(){var a=Oa.$$p,b=a||v,c;a&&(Oa.$$p=null);a&&(Oa.$$p=null);if(b===v)return t(this,
"enum_for",["reject"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=[];for(var e=0,f=this.length,d;e<f;e++)d=b(this[e]),!1!==d&&d!==v||a.push(this[e]);return a},Oa.$$arity=0);b.def(A,"$reject!",Ja=function(){var a=Ja.$$p,b=a||v,c,e=v;a&&(Ja.$$p=null);a&&(Ja.$$p=null);if(b===v)return t(this,"enum_for",["reject!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));e=this.$length();t(this,"delete_if",[],b.$to_proc());return this.$length()["$=="](e)?v:this},
Ja.$$arity=0);b.def(A,"$replace",Qa=function(a){a=k(g(J,"Array")["$==="](a))?a.$to_a():g(J,"Opal").$coerce_to(a,g(J,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Qa.$$arity=1);b.def(A,"$reverse",Xa=function(){return this.slice(0).reverse()},Xa.$$arity=0);b.def(A,"$reverse!",Wa=function(){return this.reverse()},Wa.$$arity=0);b.def(A,"$reverse_each",Ua=function(){var a=Ua.$$p,b=a||v,c;a&&(Ua.$$p=null);a&&(Ua.$$p=null);if(b===v)return t(this,"enum_for",["reverse_each"],
(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));t(this.$reverse(),"each",[],b.$to_proc());return this},Ua.$$arity=0);b.def(A,"$rindex",B=function(a){var b=B.$$p,c=b||v;b&&(B.$$p=null);b&&(B.$$p=null);null!=a&&c!==v&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==v)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==v)return b}else if(null==a)return this.$enum_for("rindex");
return v},B.$$arity=-1);b.def(A,"$rotate",P=function(a){null==a&&(a=1);a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var b=this.slice();var c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},P.$$arity=-1);b.def(A,"$rotate!",fa=function(a){null==a&&(a=1);if(0===this.length||1===this.length)return this;a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");a=this.$rotate(a);return this.$replace(a)},fa.$$arity=-1);(function(a,
$super,c){a=F(a,$super,"SampleRandom");var e=[a].concat(c),f,d;a.$$prototype.rng=v;b.def(a,"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(b.def(a,"$rand",d=function(a){var b=g(e,"Opal").$coerce_to(this.rng.$rand(a),g(e,"Integer"),"to_int");k(0>b)&&this.$raise(g(e,"RangeError"),"random value must be >= 0");k(b<a)||this.$raise(g(e,"RangeError"),"random value must be less than Array size");return b},d.$$arity=1),v)&&"rand"})(J[0],null,J);b.def(A,"$sample",Q=function(a,b){var c,e=
v;if(k(void 0===a))return this.$at(g(J,"Kernel").$rand(this.length));k(void 0===b)?k(b=g(J,"Opal")["$coerce_to?"](a,g(J,"Hash"),"to_hash"))?a=v:(b=v,a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int")):(a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int"),b=g(J,"Opal").$coerce_to(b,g(J,"Hash"),"to_hash"));k(k(c=a)?0>a:c)&&this.$raise(g(J,"ArgumentError"),"count must be greater than 0");k(b)&&(e=b["$[]"]("random"));e=k(k(c=e)?e["$respond_to?"]("rand"):c)?g(J,"SampleRandom").$new(e):g(J,"Kernel");if(!k(a))return this[e.$rand(this.length)];
a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];case 2:var f=e.$rand(this.length);var d=e.$rand(this.length);f===d&&(d=0===f?f+1:f-1);return[this[f],this[d]];default:if(3<this.length/a){b=!1;var l=0;c=g(J,"Array").$new(a);f=1;for(c[0]=e.$rand(this.length);f<a;){var p=e.$rand(this.length);for(d=0;d<f;){for(;p===c[d];){l++;if(100<l){b=!0;break}p=e.$rand(this.length)}if(b)break;d++}if(b)break;c[f]=p;f++}if(!b){for(f=0;f<a;)c[f]=this[c[f]],f++;return c}}c=
this.slice();for(f=0;f<a;f++)b=e.$rand(this.length),l=c[f],c[f]=c[b],c[b]=l;return a===this.length?c:c["$[]"](0,a)}},Q.$$arity=-1);b.def(A,"$select",Ha=function(){var a=Ha.$$p,c=a||v,e;a&&(Ha.$$p=null);a&&(Ha.$$p=null);if(c===v)return t(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=[];for(var f=0,d=this.length,l,p;f<d;f++)l=this[f],p=b.yield1(c,l),b.truthy(p)&&a.push(l);return a},Ha.$$arity=0);b.def(A,"$select!",ba=function(){var a=ba.$$p,b=a||
v,c;a&&(ba.$$p=null);a&&(ba.$$p=null);if(b===v)return t(this,"enum_for",["select!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=this.length;t(this,"keep_if",[],b.$to_proc());return this.length===a?v:this},ba.$$arity=0);b.def(A,"$shift",G=function(a){if(k(void 0===a))return k(0===this.length)?v:this.shift();a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");k(0>a)&&this.$raise(g(J,"ArgumentError"),"negative array size");return k(0===this.length)?[]:this.splice(0,a)},G.$$arity=
-1);b.alias(A,"size","length");b.def(A,"$shuffle",cb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},cb.$$arity=-1);b.def(A,"$shuffle!",qa=function(a){var b,c=this.length;void 0!==a&&(a=g(J,"Opal")["$coerce_to?"](a,g(J,"Hash"),"to_hash"),a!==v&&(a=a["$[]"]("random"),a!==v&&a["$respond_to?"]("rand")&&(b=a)));for(;c;){b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(g(J,"RangeError"),"random number too small "+a),a>=c&&this.$raise(g(J,"RangeError"),"random number too big "+a)):a=this.$rand(c);var e=
this[--c];this[c]=this[a];this[a]=e}return this},qa.$$arity=-1);b.alias(A,"slice","[]");b.def(A,"$slice!",Ba=function(a,b){if(k(void 0===b))if(k(g(J,"Range")["$==="](a))){var c=this["$[]"](a);b=g(J,"Opal").$coerce_to(a.$begin(),g(J,"Integer"),"to_int");var e=g(J,"Opal").$coerce_to(a.$end(),g(J,"Integer"),"to_int");0>b&&(b+=this.length);0>e?e+=this.length:e>=this.length&&(e=this.length-1,a.excl&&(e+=1));var f=e-b;a.excl?--e:f+=1;b<this.length&&0<=b&&e<this.length&&0<=e&&0<f&&this.splice(b,f)}else{a=
g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return v;c=this[a];0===a?this.shift():this.splice(a,1)}else{a=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");b=g(J,"Opal").$coerce_to(b,g(J,"Integer"),"to_int");if(0>b)return v;c=this["$[]"](a,b);0>a&&(a+=this.length);a+b>this.length&&(b=this.length-a);a<this.length&&0<=a&&this.splice(a,b)}return c},Ba.$$arity=-2);b.def(A,"$sort",eb=function(){var a=eb.$$p,b=a||v,c=this;a&&(eb.$$p=null);a&&(eb.$$p=null);
if(!k(1<c.length))return c;b===v&&(b=function(a,b){return a["$<=>"](b)});return c.slice().sort(function(a,e){var f=b(a,e);f===v&&c.$raise(g(J,"ArgumentError"),"comparison of "+a.$inspect()+" with "+e.$inspect()+" failed");return u(f,0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},eb.$$arity=0);b.def(A,"$sort!",fb=function(){var a=fb.$$p,b=a||v;a&&(fb.$$p=null);a&&(fb.$$p=null);a=b!==v?t(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort();b=this.length=0;for(var c=a.length;b<c;b++)this.push(a[b]);
return this},fb.$$arity=0);b.def(A,"$sort_by!",gb=function(){var a=gb.$$p,b=a||v,c;a&&(gb.$$p=null);a&&(gb.$$p=null);return b===v?t(this,"enum_for",["sort_by!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c)):this.$replace(t(this,"sort_by",[],b.$to_proc()))},gb.$$arity=0);b.def(A,"$take",Za=function(a){0>a&&this.$raise(g(J,"ArgumentError"));return this.slice(0,a)},Za.$$arity=1);b.def(A,"$take_while",Ya=function(){var a=Ya.$$p,b=a||v;a&&(Ya.$$p=null);a&&(Ya.$$p=null);a=[];for(var c=
0,e=this.length,f,d;c<e;c++){f=this[c];d=b(f);if(!1===d||d===v)break;a.push(f)}return a},Ya.$$arity=0);b.def(A,"$to_a",lb=function(){return this},lb.$$arity=0);b.alias(A,"to_ary","to_a");b.def(A,"$to_h",$a=function(){var a,c=this.length,e=E([],{});for(a=0;a<c;a++){var f=g(J,"Opal")["$coerce_to?"](this[a],g(J,"Array"),"to_ary");f.$$is_array||this.$raise(g(J,"TypeError"),"wrong element type "+f.$class()+" at "+a+" (expected array)");2!==f.length&&this.$raise(g(J,"ArgumentError"),"wrong array length at "+
a+" (expected 2, was "+f.$length()+")");var d=f[0];f=f[1];b.hash_put(e,d,f)}return e},$a.$$arity=0);b.alias(A,"to_s","inspect");b.def(A,"$transpose",mb=function(){var a,c=v,e=v;if(k(this["$empty?"]()))return[];c=[];e=v;t(this,"each",[],(a=function(f){var d=a.$$s||this,l,p;null==f&&(f=v);f=k(g(J,"Array")["$==="](f))?f.$to_a():g(J,"Opal").$coerce_to(f,g(J,"Array"),"to_ary").$to_a();e=k(l=e)?l:f.length;k(f.length["$!="](e))&&d.$raise(g(J,"IndexError"),"element size differs ("+f.length+" should be "+
e+")");return t(f.length,"times",[],(p=function(a){var e;null==a&&(a=v);if(!k(e=c["$[]"](a))){e=[a,[]];t(c,"[]=",b.to_a(e));var d=e.length;d="number"===typeof d?d-1:d["$-"](1);e=e[d]}return e["$<<"](f.$at(a))},p.$$s=d,p.$$arity=1,p))},a.$$s=this,a.$$arity=1,a));return c},mb.$$arity=0);b.def(A,"$uniq",ab=function(){var a=ab.$$p,c=a||v;a&&(ab.$$p=null);a&&(ab.$$p=null);a=E([],{});var e;if(c===v){var f=0;for(e=this.length;f<e;f++){var d=this[f];void 0===b.hash_get(a,d)&&b.hash_put(a,d,d)}}else for(f=
0,e=this.length;f<e;f++){d=this[f];var l=b.yield1(c,d);void 0===b.hash_get(a,l)&&b.hash_put(a,l,d)}return I(a.$values(),this.$class())},ab.$$arity=0);b.def(A,"$uniq!",bb=function(){var a=bb.$$p,c=a||v;a&&(bb.$$p=null);a&&(bb.$$p=null);a=this.length;var e=E([],{}),f;var d=0;for(f=a;d<f;d++){var l=this[d];var p=c===v?l:b.yield1(c,l);void 0===b.hash_get(e,p)?b.hash_put(e,p,l):(this.splice(d,1),f--,d--)}return this.length===a?v:this},bb.$$arity=0);b.def(A,"$unshift",db=function(a){var c=b.slice.call(arguments,
0,arguments.length);for(var e=c.length-1;0<=e;e--)this.unshift(c[e]);return this},db.$$arity=-1);b.alias(A,"prepend","unshift");b.def(A,"$values_at",ob=function(a){var c,e=v;var f=b.slice.call(arguments,0,arguments.length);e=[];t(f,"each",[],(c=function(a){var b=c.$$s||this,f,d=v,l=v;d=v;null==a&&(a=v);if(k(a["$is_a?"](g(J,"Range")))){d=g(J,"Opal").$coerce_to(a.$last(),g(J,"Integer"),"to_int");l=g(J,"Opal").$coerce_to(a.$first(),g(J,"Integer"),"to_int");if(0>l)return l+=b.length,v;0>d&&(d+=b.length);
a["$exclude_end?"]()&&d--;return d<l?v:t(l,"upto",[d],(f=function(a){var b=f.$$s||this;null==a&&(a=v);return e["$<<"](b.$at(a))},f.$$s=b,f.$$arity=1,f))}d=g(J,"Opal").$coerce_to(a,g(J,"Integer"),"to_int");return e["$<<"](b.$at(d))},c.$$s=this,c.$$arity=1,c));return e},ob.$$arity=-1);b.def(A,"$zip",hb=function(a){var c=hb.$$p,e=c||v,f;c&&(hb.$$p=null);c&&(hb.$$p=null);c=b.slice.call(arguments,0,arguments.length);var d=[],l=this.length,p,h;var n=0;for(h=c.length;n<h;n++){var Ba=c[n];Ba.$$is_array||
(Ba.$$is_enumerator?Infinity===Ba.$size()?c[n]=Ba.$take(l):c[n]=Ba.$to_a():c[n]=(k(f=g(J,"Opal")["$coerce_to?"](Ba,g(J,"Array"),"to_ary"))?f:g(J,"Opal")["$coerce_to!"](Ba,g(J,"Enumerator"),"each")).$to_a())}for(p=0;p<l;p++){f=[this[p]];n=0;for(h=c.length;n<h;n++)Ba=c[n][p],null==Ba&&(Ba=v),f[n+1]=Ba;d[p]=f}if(e!==v){for(p=0;p<l;p++)e(d[p]);return v}return d},hb.$$arity=-1);b.defs(A,"$inherited",pb=function(a){a.$$prototype.$to_a=function(){return this.slice(0,this.length)}},pb.$$arity=1);b.def(A,
"$instance_variables",ib=function(){var a,c=ib.$$p,e=v,f=v,d=v;c&&(ib.$$p=null);f=0;d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return t(t(this,b.find_super_dispatcher(this,"instance_variables",ib,!1),e,c),"reject",[],(a=function(a){var b;null==a&&(a=v);return k(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},ib.$$arity=0);g(J,"Opal").$pristine(A.$singleton_class(),"allocate");g(J,"Opal").$pristine(A,"copy_instance_variables","initialize_dup");return(b.def(A,
"$pack",qb=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},qb.$$arity=-1),v)&&"pack"}(C[0],Array,C)};
Opal.modules["corelib/hash"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}var z=b.top,C=[],v=b.nil,q=b.const_get_relative,g=b.klass,F=b.send,k=b.hash2,E=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));z.$require("corelib/enumerable");
return function(t,$super,C){t=g(t,$super,"Hash");var z=[t].concat(C),O,I,m,K,S,A,J,a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,Ra,xa,sa,za,oa,ma,W,aa,Ea,ua,Sa,Va,ka,ia,Da,na,Ta,Ka,Fa,Pa,da,ra,ea,ta,Aa;t.$include(q(z,"Enumerable"));t.$$prototype.$$is_hash=!0;b.defs(t,"$[]",O=function(a){var c=b.slice.call(arguments,0,arguments.length);var e=c.length,f;if(1===e){var d=q(z,"Opal")["$coerce_to?"](c["$[]"](0),q(z,"Hash"),"to_hash");if(d!==v)return this.$allocate()["$merge!"](d);
c=q(z,"Opal")["$coerce_to?"](c["$[]"](0),q(z,"Array"),"to_ary");c===v&&this.$raise(q(z,"ArgumentError"),"odd number of arguments for Hash");e=c.length;d=this.$allocate();for(f=0;f<e;f++)if(c[f].$$is_array)switch(c[f].length){case 1:d.$store(c[f][0],v);break;case 2:d.$store(c[f][0],c[f][1]);break;default:this.$raise(q(z,"ArgumentError"),"invalid number of elements ("+c[f].length+" for 1..2)")}return d}0!==e%2&&this.$raise(q(z,"ArgumentError"),"odd number of arguments for Hash");d=this.$allocate();
for(f=0;f<e;f+=2)d.$store(c[f],c[f+1]);return d},O.$$arity=-1);b.defs(t,"$allocate",I=function(){var a=new this.$$constructor;b.hash_init(a);a.$$none=v;a.$$proc=v;return a},I.$$arity=0);b.defs(t,"$try_convert",m=function(a){return q(z,"Opal")["$coerce_to?"](a,q(z,"Hash"),"to_hash")},m.$$arity=1);b.def(t,"$initialize",K=function(a){var b=K.$$p,c=b||v;b&&(K.$$p=null);b&&(K.$$p=null);void 0!==a&&c!==v&&this.$raise(q(z,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?v:a;
this.$$proc=c;return this},K.$$arity=-1);b.def(t,"$==",S=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var c=0,e=this.$$keys,f=e.length,d,l;c<f;c++)if(d=e[c],d.$$is_string?(l=this.$$smap[d],d=a.$$smap[d]):(l=d.value,d=b.hash_get(a,d.key)),void 0===d||!l["$eql?"](d))return!1;return!0},S.$$arity=1);b.def(t,"$>=",A=function(a){var b,c=v;a=q(z,"Opal")["$coerce_to!"](a,q(z,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;c=!0;F(a,"each",
[],(b=function(a,e){var f=b.$$s||this;null==a&&(a=v);null==e&&(e=v);a=f.$fetch(a,null);if(null==a||a!==e)c=!1},b.$$s=this,b.$$arity=2,b));return c},A.$$arity=1);b.def(t,"$>",J=function(a){a=q(z,"Opal")["$coerce_to!"](a,q(z,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:u(this,a)},J.$$arity=1);b.def(t,"$<",a=function(a){a=q(z,"Opal")["$coerce_to!"](a,q(z,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},a.$$arity=1);b.def(t,"$<=",d=function(a){a=
q(z,"Opal")["$coerce_to!"](a,q(z,"Hash"),"to_hash");return u(a,this)},d.$$arity=1);b.def(t,"$[]",L=function(a){var c=b.hash_get(this,a);return void 0!==c?c:this.$default(a)},L.$$arity=1);b.def(t,"$[]=",x=function(a,c){b.hash_put(this,a,c);return c},x.$$arity=2);b.def(t,"$assoc",T=function(a){for(var b=0,c=this.$$keys,e=c.length,f;b<e;b++)if(f=c[b],f.$$is_string){if(f["$=="](a))return[f,this.$$smap[f]]}else if(f.key["$=="](a))return[f.key,f.value];return v},T.$$arity=1);b.def(t,"$clear",n=function(){b.hash_init(this);
return this},n.$$arity=0);b.def(t,"$clone",h=function(){var a=new this.$$class;b.hash_init(a);b.hash_clone(this,a);return a},h.$$arity=0);b.def(t,"$compact",c=function(){for(var a=b.hash(),c=0,e=this.$$keys,f=e.length,d,l;c<f;c++)d=e[c],d.$$is_string?l=this.$$smap[d]:(l=d.value,d=d.key),l!==v&&b.hash_put(a,d,l);return a},c.$$arity=0);b.def(t,"$compact!",y=function(){for(var a=!1,c=0,e=this.$$keys,f=e.length,d,l;c<f;c++)d=e[c],d.$$is_string?l=this.$$smap[d]:(l=d.value,d=d.key),l===v&&void 0!==b.hash_delete(this,
d)&&(a=!0,f--,c--);return a?this:v},y.$$arity=0);b.def(t,"$compare_by_identity",p=function(){var a,c=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var e=k([],{}).$compare_by_identity();var f=0;for(a=c.length;f<a;f++){var d=c[f];d.$$is_string||(d=d.key);b.hash_put(e,d,b.hash_get(this,d))}this.$$by_identity=!0;this.$$map=e.$$map;this.$$smap=e.$$smap;return this},p.$$arity=0);b.def(t,"$compare_by_identity?",V=function(){return!0===this.$$by_identity},
V.$$arity=0);b.def(t,"$default",D=function(a){return void 0!==a&&this.$$proc!==v&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?v:this.$$none},D.$$arity=-1);b.def(t,"$default=",l=function(a){this.$$proc=v;return this.$$none=a},l.$$arity=1);b.def(t,"$default_proc",e=function(){return void 0!==this.$$proc?this.$$proc:v},e.$$arity=0);b.def(t,"$default_proc=",f=function(a){var b=a;b!==v&&(b=q(z,"Opal")["$coerce_to!"](b,q(z,"Proc"),"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&
this.$raise(q(z,"TypeError"),"default_proc takes two arguments"));this.$$none=v;this.$$proc=b;return a},f.$$arity=1);b.def(t,"$delete",Y=function(a){var c=Y.$$p,e=c||v;c&&(Y.$$p=null);c&&(Y.$$p=null);c=b.hash_delete(this,a);return void 0!==c?c:e!==v?b.yield1(e,a):v},Y.$$arity=1);b.def(t,"$delete_if",Z=function(){var a=Z.$$p,c=a||v,e;a&&(Z.$$p=null);a&&(Z.$$p=null);if(!E(c))return F(this,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,
d=f.length,l,p;a<d;a++)l=f[a],l.$$is_string?p=this.$$smap[l]:(p=l.value,l=l.key),p=c(l,p),!1!==p&&p!==v&&void 0!==b.hash_delete(this,l)&&(d--,a--);return this},Z.$$arity=0);b.alias(t,"dup","clone");b.def(t,"$dig",X=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=this["$[]"](a);if(f===v||0===e.length)return f;E(f["$respond_to?"]("dig"))||this.$raise(q(z,"TypeError"),""+f.$class()+" does not have #dig method");return F(f,"dig",b.to_a(e))},X.$$arity=-2);b.def(t,"$each",N=function(){var a=
N.$$p,c=a||v,e;a&&(N.$$p=null);a&&(N.$$p=null);if(!E(c))return F(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,l,p;a<d;a++)l=f[a],l.$$is_string?p=this.$$smap[l]:(p=l.value,l=l.key),b.yield1(c,[l,p]);return this},N.$$arity=0);b.def(t,"$each_key",M=function(){var a=M.$$p,b=a||v,c;a&&(M.$$p=null);a&&(M.$$p=null);if(!E(b))return F(this,"enum_for",["each_key"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=
0,c));a=0;for(var e=this.$$keys,f=e.length,d;a<f;a++)d=e[a],b(d.$$is_string?d:d.key);return this},M.$$arity=0);b.alias(t,"each_pair","each");b.def(t,"$each_value",ja=function(){var a=ja.$$p,b=a||v,c;a&&(ja.$$p=null);a&&(ja.$$p=null);if(!E(b))return F(this,"enum_for",["each_value"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var e=this.$$keys,f=e.length,d;a<f;a++)d=e[a],b(d.$$is_string?this.$$smap[d]:d.value);return this},ja.$$arity=0);b.def(t,"$empty?",w=function(){return 0===
this.$$keys.length},w.$$arity=0);b.alias(t,"eql?","==");b.def(t,"$fetch",ca=function(a,c){var e=ca.$$p,f=e||v;e&&(ca.$$p=null);e&&(ca.$$p=null);e=b.hash_get(this,a);return void 0!==e?e:f!==v?f(a):void 0!==c?c:this.$raise(q(z,"KeyError").$new("key not found: "+a.$inspect(),k(["key","receiver"],{key:a,receiver:this})))},ca.$$arity=-2);b.def(t,"$fetch_values",H=function(a){var c=H.$$p,e=c||v,f;c&&(H.$$p=null);c&&(H.$$p=null);c=b.slice.call(arguments,0,arguments.length);return F(c,"map",[],(f=function(a){var b=
f.$$s||this;null==a&&(a=v);return F(b,"fetch",[a],e.$to_proc())},f.$$s=this,f.$$arity=1,f))},H.$$arity=-1);b.def(t,"$flatten",va=function(a){null==a&&(a=1);a=q(z,"Opal")["$coerce_to!"](a,q(z,"Integer"),"to_int");for(var b=[],c=0,e=this.$$keys,f=e.length,d,l;c<f;c++)d=e[c],d.$$is_string?l=this.$$smap[d]:(l=d.value,d=d.key),b.push(d),l.$$is_array?1===a?b.push(l):b=b.concat(l.$flatten(a-2)):b.push(l);return b},va.$$arity=-1);b.def(t,"$has_key?",ha=function(a){return void 0!==b.hash_get(this,a)},ha.$$arity=
1);b.def(t,"$has_value?",U=function(a){for(var b=0,c=this.$$keys,e=c.length,f;b<e;b++)if(f=c[b],(f.$$is_string?this.$$smap[f]:f.value)["$=="](a))return!0;return!1},U.$$arity=1);b.def(t,"$hash",wa=function(){var a=void 0===b.hash_ids,c=this.$object_id(),e=["Hash"];try{a&&(b.hash_ids=Object.create(null));if(b[c])return"self";for(p in b.hash_ids){var f=b.hash_ids[p];if(this["$eql?"](f))return"self"}b.hash_ids[c]=this;c=0;for(var d=this.$$keys,l=d.length;c<l;c++){var p=d[c];p.$$is_string?e.push([p,this.$$smap[p].$hash()]):
e.push([p.key_hash,p.value.$hash()])}return e.sort().join()}finally{a&&(b.hash_ids=void 0)}},wa.$$arity=0);b.alias(t,"include?","has_key?");b.def(t,"$index",Ca=function(a){for(var b=0,c=this.$$keys,e=c.length,f,d;b<e;b++)if(f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return f;return v},Ca.$$arity=1);b.def(t,"$indexes",ya=function(a){var c=b.slice.call(arguments,0,arguments.length);for(var e=[],f=0,d=c.length,l;f<d;f++)l=c[f],l=b.hash_get(this,l),void 0===l?e.push(this.$default()):
e.push(l);return e},ya.$$arity=-1);b.alias(t,"indices","indexes");var pa;b.def(t,"$inspect",Ra=function(){var a=void 0===pa,b=this.$object_id(),c=[];try{a&&(pa={});if(pa.hasOwnProperty(b))return"{...}";pa[b]=!0;b=0;for(var e=this.$$keys,f=e.length,d,l;b<f;b++)d=e[b],d.$$is_string?l=this.$$smap[d]:(l=d.value,d=d.key),c.push(d.$inspect()+"=>"+l.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(pa=void 0)}},Ra.$$arity=0);b.def(t,"$invert",xa=function(){for(var a=b.hash(),c=0,e=this.$$keys,f=e.length,
d,l;c<f;c++)d=e[c],d.$$is_string?l=this.$$smap[d]:(l=d.value,d=d.key),b.hash_put(a,l,d);return a},xa.$$arity=0);b.def(t,"$keep_if",sa=function(){var a=sa.$$p,c=a||v,e;a&&(sa.$$p=null);a&&(sa.$$p=null);if(!E(c))return F(this,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,l,p;a<d;a++)l=f[a],l.$$is_string?p=this.$$smap[l]:(p=l.value,l=l.key),p=c(l,p),!1!==p&&p!==v||void 0===b.hash_delete(this,l)||(d--,a--);return this},
sa.$$arity=0);b.alias(t,"key","index");b.alias(t,"key?","has_key?");b.def(t,"$keys",za=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,f;b<e;b++)f=c[b],f.$$is_string?a.push(f):a.push(f.key);return a},za.$$arity=0);b.def(t,"$length",oa=function(){return this.$$keys.length},oa.$$arity=0);b.alias(t,"member?","has_key?");b.def(t,"$merge",ma=function(a){var b=ma.$$p,c=b||v;b&&(ma.$$p=null);b&&(ma.$$p=null);return F(this.$dup(),"merge!",[a],c.$to_proc())},ma.$$arity=1);b.def(t,"$merge!",W=function(a){var c=
W.$$p,e=c||v;c&&(W.$$p=null);c&&(W.$$p=null);a.$$is_hash||(a=q(z,"Opal")["$coerce_to!"](a,q(z,"Hash"),"to_hash"));var f=a.$$keys,d=f.length;if(e===v){for(c=0;c<d;c++){var l=f[c];if(l.$$is_string)var p=a.$$smap[l];else p=l.value,l=l.key;b.hash_put(this,l,p)}return this}for(c=0;c<d;c++){l=f[c];l.$$is_string?p=a.$$smap[l]:(p=l.value,l=l.key);var h=b.hash_get(this,l);void 0===h?b.hash_put(this,l,p):b.hash_put(this,l,e(l,h,p))}return this},W.$$arity=1);b.def(t,"$rassoc",aa=function(a){for(var b=0,c=this.$$keys,
e=c.length,f,d;b<e;b++)if(f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),d["$=="](a))return[f,d];return v},aa.$$arity=1);b.def(t,"$rehash",Ea=function(){b.hash_rehash(this);return this},Ea.$$arity=0);b.def(t,"$reject",ua=function(){var a=ua.$$p,c=a||v,e;a&&(ua.$$p=null);a&&(ua.$$p=null);if(!E(c))return F(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,l=d.length,p,h,g;f<l;f++)p=d[f],p.$$is_string?h=this.$$smap[p]:
(h=p.value,p=p.key),g=c(p,h),!1!==g&&g!==v||b.hash_put(a,p,h);return a},ua.$$arity=0);b.def(t,"$reject!",Sa=function(){var a=Sa.$$p,c=a||v,e;a&&(Sa.$$p=null);a&&(Sa.$$p=null);if(!E(c))return F(this,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=!1;for(var f=0,d=this.$$keys,l=d.length,p,h;f<l;f++)p=d[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),h=c(p,h),!1!==h&&h!==v&&void 0!==b.hash_delete(this,p)&&(a=!0,l--,f--);return a?this:v},Sa.$$arity=
0);b.def(t,"$replace",Va=function(a){a=q(z,"Opal")["$coerce_to!"](a,q(z,"Hash"),"to_hash");b.hash_init(this);var c=0;for(var e=a.$$keys,f=e.length,d,l;c<f;c++)d=e[c],d.$$is_string?l=a.$$smap[d]:(l=d.value,d=d.key),b.hash_put(this,d,l);E(a.$default_proc())?(c=[a.$default_proc()],F(this,"default_proc=",b.to_a(c))):(c=[a.$default()],F(this,"default=",b.to_a(c)));a=c;c=c.length;c="number"===typeof c?c-1:c["$-"](1);a[c];return this},Va.$$arity=1);b.def(t,"$select",ka=function(){var a=ka.$$p,c=a||v,e;a&&
(ka.$$p=null);a&&(ka.$$p=null);if(!E(c))return F(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,l=d.length,p,h,g;f<l;f++)p=d[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),g=c(p,h),!1!==g&&g!==v&&b.hash_put(a,p,h);return a},ka.$$arity=0);b.def(t,"$select!",ia=function(){var a=ia.$$p,c=a||v,e;a&&(ia.$$p=null);a&&(ia.$$p=null);if(!E(c))return F(this,"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},
e.$$s=this,e.$$arity=0,e));a=v;for(var f=0,d=this.$$keys,l=d.length,p,h;f<l;f++)if(p=d[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),h=c(p,h),!1===h||h===v)void 0!==b.hash_delete(this,p)&&(l--,f--),a=this;return a},ia.$$arity=0);b.def(t,"$shift",Da=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(v)},Da.$$arity=0);b.alias(t,"size","length");b.def(t,"$slice",na=function(a){var c=b.slice.call(arguments,0,arguments.length);
for(var e=b.hash(),f=0,d=c.length;f<d;f++){var l=c[f],p=b.hash_get(this,l);void 0!==p&&b.hash_put(e,l,p)}return e},na.$$arity=-1);b.alias(t,"store","[]=");b.def(t,"$to_a",Ta=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,f,d;b<e;b++)f=c[b],f.$$is_string?d=this.$$smap[f]:(d=f.value,f=f.key),a.push([f,d]);return a},Ta.$$arity=0);b.def(t,"$to_h",Ka=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash;b.hash_init(a);b.hash_clone(this,a);return a},Ka.$$arity=0);b.def(t,"$to_hash",Fa=
function(){return this},Fa.$$arity=0);b.def(t,"$to_proc",Pa=function(){var a;return F(this,"proc",[],(a=function(b){var c=a.$$s||this;null==b&&c.$raise(q(z,"ArgumentError"),"no key given");return c["$[]"](b)},a.$$s=this,a.$$arity=-1,a))},Pa.$$arity=0);b.alias(t,"to_s","inspect");b.def(t,"$transform_keys",da=function(){var a=da.$$p,c=a||v,e;a&&(da.$$p=null);a&&(da.$$p=null);if(!E(c))return F(this,"enum_for",["transform_keys"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=
b.hash();for(var f=0,d=this.$$keys,l=d.length,p,h;f<l;f++)p=d[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),p=b.yield1(c,p),b.hash_put(a,p,h);return a},da.$$arity=0);b.def(t,"$transform_keys!",ra=function(){var a=ra.$$p,c=a||v,e;a&&(ra.$$p=null);a&&(ra.$$p=null);if(!E(c))return F(this,"enum_for",["transform_keys!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.slice.call(this.$$keys);var f,d=a.length;for(f=0;f<d;f++){var l=a[f];if(l.$$is_string)var p=this.$$smap[l];
else p=l.value,l=l.key;var h=b.yield1(c,l);b.hash_delete(this,l);b.hash_put(this,h,p)}return this},ra.$$arity=0);b.def(t,"$transform_values",ea=function(){var a=ea.$$p,c=a||v,e;a&&(ea.$$p=null);a&&(ea.$$p=null);if(!E(c))return F(this,"enum_for",["transform_values"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=b.hash();for(var f=0,d=this.$$keys,l=d.length,p,h;f<l;f++)p=d[f],p.$$is_string?h=this.$$smap[p]:(h=p.value,p=p.key),h=b.yield1(c,h),b.hash_put(a,p,h);return a},ea.$$arity=
0);b.def(t,"$transform_values!",ta=function(){var a=ta.$$p,c=a||v,e;a&&(ta.$$p=null);a&&(ta.$$p=null);if(!E(c))return F(this,"enum_for",["transform_values!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));a=0;for(var f=this.$$keys,d=f.length,l,p;a<d;a++)l=f[a],l.$$is_string?p=this.$$smap[l]:(p=l.value,l=l.key),p=b.yield1(c,p),b.hash_put(this,l,p);return this},ta.$$arity=0);b.alias(t,"update","merge!");b.alias(t,"value?","has_value?");b.alias(t,"values_at","indexes");return(b.def(t,
"$values",Aa=function(){for(var a=[],c=0,b=this.$$keys,e=b.length,f;c<e;c++)f=b[c],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},Aa.$$arity=0),v)&&"values"}(C[0],null,C)};
Opal.modules["corelib/number"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function q(b,g){return"number"===typeof b&&"number"===typeof g?b/g:b["$/"](g)}function g(b,g){return"number"===typeof b&&"number"===typeof g?b*g:b["$*"](g)}
var F=b.top,k=[],E=b.nil,t=b.const_get_qualified,r=b.const_get_relative,K=b.klass,R=b.truthy,O=b.send,I=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));F.$require("corelib/numeric");(function(m,$super,k){m=K(m,$super,"Number");var A=[m].concat(k),J,a,d,L,x,
T,n,h,c,y,p,V,D,l,e,f,Y,Z,X,N,M,ja,w,ca,H,va,ha,U,wa,Ca,ya,F,xa,sa,za,oa,ma,W,aa,Ea,ua,S,Va,ka,ia,Da,na,Ta,Ka,Fa,Pa,da,ra,ea,ta,Aa,pa,Ma,Ga,Na,La,Ia,Oa,Ja,Qa,Xa,Wa,Ua,B,P,fa,Q;r(A,"Opal").$bridge(Number,m);b.defineProperty(m.$$prototype,"$$is_number",!0);m.$$is_number_class=!0;(function(a,c){var e=[a].concat(c),f;b.def(a,"$allocate",f=function(){return this.$raise(r(e,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");return E})(b.get_singleton_class(m),A);b.def(m,
"$coerce",J=function(a){if(a!==E){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[r(A,"Opal")["$coerce_to!"](a,r(A,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(r(A,"TypeError"),"can't convert "+a.$class()+" into Float")},J.$$arity=1);b.def(m,"$__id__",a=function(){return 2*this+1},a.$$arity=0);b.alias(m,"object_id","__id__");b.def(m,"$+",d=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},d.$$arity=1);b.def(m,"$-",L=function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)},L.$$arity=1);b.def(m,"$*",x=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},x.$$arity=1);b.def(m,"$/",T=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},T.$$arity=1);b.alias(m,"fdiv","/");b.def(m,"$%",n=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(r(A,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},n.$$arity=1);b.def(m,"$&",h=function(a){return a.$$is_number?
this&a:this.$__coerced__("&",a)},h.$$arity=1);b.def(m,"$|",c=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},c.$$arity=1);b.def(m,"$^",y=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},y.$$arity=1);b.def(m,"$<",p=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},p.$$arity=1);b.def(m,"$<=",V=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},V.$$arity=1);b.def(m,"$>",D=function(a){return a.$$is_number?this>a:this.$__coerced__(">",
a)},D.$$arity=1);b.def(m,"$>=",l=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},l.$$arity=1);b.def(m,"$<=>",e=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?E:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(ba){if(b.rescue(ba,[r(A,"ArgumentError")]))try{return E}finally{b.pop_exception()}else throw ba;}},e.$$arity=1);b.def(m,"$<<",f=function(a){a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),"to_int");return 0<a?this<<a:this>>-a},f.$$arity=1);b.def(m,"$>>",Y=function(a){a=
r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),"to_int");return 0<a?this>>a:this<<-a},Y.$$arity=1);b.def(m,"$[]",Z=function(a){a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},Z.$$arity=1);b.def(m,"$+@",X=function(){return+this},X.$$arity=0);b.def(m,"$-@",N=function(){return-this},N.$$arity=0);b.def(m,"$~",M=function(){return~this},M.$$arity=0);b.def(m,"$**",ja=function(a){var b,c;return R(r(A,"Integer")["$==="](a))?R(R(b=r(A,"Integer")["$==="](this)["$!"]())?
b:u(a,0))?Math.pow(this,a):r(A,"Rational").$new(this,1)["$**"](a):R(z(this,0)?R(c=r(A,"Float")["$==="](a))?c:r(A,"Rational")["$==="](a):z(this,0))?r(A,"Complex").$new(this,0)["$**"](a.$to_f()):R(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},ja.$$arity=1);b.def(m,"$===",w=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},w.$$arity=1);b.def(m,"$==",ca=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},ca.$$arity=1);b.def(m,"$abs",H=function(){return Math.abs(this)},H.$$arity=0);b.def(m,"$abs2",va=function(){return Math.abs(this*this)},va.$$arity=0);b.def(m,"$allbits?",ha=function(a){a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),"to_int");return(this&a)==a},ha.$$arity=1);b.def(m,"$anybits?",U=function(a){a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),"to_int");return 0!==(this&a)},U.$$arity=1);b.def(m,"$angle",wa=function(){return R(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:
0>this?Math.PI:0},wa.$$arity=0);b.alias(m,"arg","angle");b.alias(m,"phase","angle");b.def(m,"$bit_length",Ca=function(){R(r(A,"Integer")["$==="](this))||this.$raise(r(A,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,b=0>this?~this:this;0!=b;)a+=1,b>>>=1;return a},Ca.$$arity=0);b.def(m,"$ceil",ya=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=
Math.round(a));return a},ya.$$arity=-1);b.def(m,"$chr",F=function(a){return String.fromCharCode(this)},F.$$arity=-1);b.def(m,"$denominator",xa=function(){var a,c=xa.$$p,e;c&&(xa.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return R(R(a=this["$nan?"]())?a:this["$infinite?"]())?1:O(this,b.find_super_dispatcher(this,"denominator",xa,!1),e,c)},xa.$$arity=0);b.def(m,"$downto",sa=function(a){var b=sa.$$p,c=b||E,e;b&&(sa.$$p=null);b&&(sa.$$p=null);if(c===E)return O(this,
"enum_for",["downto",a],(e=function(){var b=e.$$s||this;R(r(A,"Numeric")["$==="](a))||b.$raise(r(A,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return R(u(a,b))?0:C(v(b,a),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(r(A,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b>=a;b--)c(b);return this},sa.$$arity=1);b.alias(m,"eql?","==");b.def(m,"$equal?",za=function(a){var b;return R(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},
za.$$arity=1);b.def(m,"$even?",oa=function(){return 0===this%2},oa.$$arity=0);b.def(m,"$floor",ma=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},ma.$$arity=-1);b.def(m,"$gcd",W=function(a){R(r(A,"Integer")["$==="](a))||this.$raise(r(A,"TypeError"),"not an integer");var b=Math.abs(this);for(a=Math.abs(a);0<b;){var c=b;b=a%b;a=c}return a},W.$$arity=1);b.def(m,"$gcdlcm",aa=function(a){return[this.$gcd(),
this.$lcm()]},aa.$$arity=1);b.def(m,"$integer?",Ea=function(){return 0===this%1},Ea.$$arity=0);b.def(m,"$is_a?",ua=function(a){var c=ua.$$p,e;c&&(ua.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return R(a["$=="](r(A,"Integer"))?r(A,"Integer")["$==="](this):a["$=="](r(A,"Integer")))||R(a["$=="](r(A,"Integer"))?r(A,"Integer")["$==="](this):a["$=="](r(A,"Integer")))||R(a["$=="](r(A,"Float"))?r(A,"Float")["$==="](this):a["$=="](r(A,"Float")))?!0:O(this,b.find_super_dispatcher(this,
"is_a?",ua,!1),e,c)},ua.$$arity=1);b.alias(m,"kind_of?","is_a?");b.def(m,"$instance_of?",S=function(a){var c=S.$$p,e;c&&(S.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return R(a["$=="](r(A,"Integer"))?r(A,"Integer")["$==="](this):a["$=="](r(A,"Integer")))||R(a["$=="](r(A,"Integer"))?r(A,"Integer")["$==="](this):a["$=="](r(A,"Integer")))||R(a["$=="](r(A,"Float"))?r(A,"Float")["$==="](this):a["$=="](r(A,"Float")))?!0:O(this,b.find_super_dispatcher(this,"instance_of?",
S,!1),e,c)},S.$$arity=1);b.def(m,"$lcm",Va=function(a){R(r(A,"Integer")["$==="](a))||this.$raise(r(A,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},Va.$$arity=1);b.alias(m,"magnitude","abs");b.alias(m,"modulo","%");b.def(m,"$next",ka=function(){return this+1},ka.$$arity=0);b.def(m,"$nobits?",ia=function(a){a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),"to_int");return 0==(this&a)},ia.$$arity=1);b.def(m,"$nonzero?",Da=function(){return 0==this?E:this},Da.$$arity=
0);b.def(m,"$numerator",na=function(){var a,c=na.$$p,e;c&&(na.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return R(R(a=this["$nan?"]())?a:this["$infinite?"]())?this:O(this,b.find_super_dispatcher(this,"numerator",na,!1),e,c)},na.$$arity=0);b.def(m,"$odd?",Ta=function(){return 0!==this%2},Ta.$$arity=0);b.def(m,"$ord",Ka=function(){return this},Ka.$$arity=0);b.def(m,"$pow",Fa=function(a,b){0==this&&this.$raise(r(A,"ZeroDivisionError"),"divided by 0");if(void 0===
b)return this["$**"](a);r(A,"Integer")["$==="](a)||this.$raise(r(A,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(r(A,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");r(A,"Integer")["$==="](b)||this.$raise(r(A,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===b&&this.$raise(r(A,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](b)},Fa.$$arity=
-2);b.def(m,"$pred",Pa=function(){return this-1},Pa.$$arity=0);b.def(m,"$quo",da=function(a){var c=da.$$p,e;c&&(da.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=arguments[f];return R(r(A,"Integer")["$==="](this))?O(this,b.find_super_dispatcher(this,"quo",da,!1),e,c):q(this,a)},da.$$arity=1);b.def(m,"$rationalize",ra=function(a){1<arguments.length&&this.$raise(r(A,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(R(r(A,"Integer")["$==="](this)))return r(A,
"Rational").$new(this,1);if(R(this["$infinite?"]()))return this.$raise(r(A,"FloatDomainError"),"Infinity");if(R(this["$nan?"]()))return this.$raise(r(A,"FloatDomainError"),"NaN");if(R(null==a)){var c=r(A,"Math").$frexp(this);var e=b.to_ary(c);var f=null==e[0]?E:e[0];e=null==e[1]?E:e[1];c;f=r(A,"Math").$ldexp(f,t(r(A,"Float"),"MANT_DIG")).$to_i();e=v(e,t(r(A,"Float"),"MANT_DIG"));return r(A,"Rational").$new(g(2,f),1["$<<"](v(1,e))).$rationalize(r(A,"Rational").$new(1,1["$<<"](v(1,e))))}return this.$to_r().$rationalize(a)},
ra.$$arity=-1);b.def(m,"$remainder",ea=function(a){return v(this,g(a,q(this,a).$truncate()))},ea.$$arity=1);b.def(m,"$round",ta=function(a){var c;if(R(r(A,"Integer")["$==="](this))){if(R(null==a))return this;R(R(c=r(A,"Float")["$==="](a))?a["$infinite?"]():c)&&this.$raise(r(A,"RangeError"),"Infinity");a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),"to_int");R(z(a,t(r(A,"Integer"),"MIN")))&&this.$raise(r(A,"RangeError"),"out of bounds");if(R(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;
a=Math.pow(10,a);var e=Math.floor((Math.abs(e)+a/2)/a)*a;return 0>this?-e:e}R(R(c=this["$nan?"]())?null==a:c)&&this.$raise(r(A,"FloatDomainError"),"NaN");a=r(A,"Opal")["$coerce_to!"](a||0,r(A,"Integer"),"to_int");if(R("number"===typeof a?0>=a:a["$<="](0)))R(this["$nan?"]())?this.$raise(r(A,"RangeError"),"NaN"):R(this["$infinite?"]())&&this.$raise(r(A,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(R(R(c=this["$nan?"]())?c:this["$infinite?"]()))return this}e=r(A,"Math").$frexp(this);
c=b.to_ary(e);c=null==c[1]?E:c[1];e;e=v(C(t(r(A,"Float"),"DIG"),2),R(u(c,0))?q(c,4):v(q(c,3),1));e="number"===typeof a&&"number"===typeof e?a>=e:a["$>="](e);return R(e)?this:R(z(a,(R(u(c,0))?C(q(c,3),1):q(c,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},ta.$$arity=-1);b.def(m,"$step",Aa=function(a,c,e){function f(){void 0!==y&&(m=y);void 0===m&&(m=E);M===E&&w.$raise(r(A,"TypeError"),"step must be numeric");0===M&&w.$raise(r(A,"ArgumentError"),"step can't be 0");void 0!==P&&(M=P);
if(M===E||null==M)M=1;var a=M["$<=>"](0);a===E&&w.$raise(r(A,"ArgumentError"),"0 can't be coerced into "+M.$class());if(m===E||null==m)m=0<a?t(r(A,"Float"),"INFINITY"):t(r(A,"Float"),"INFINITY")["$-@"]();r(A,"Opal").$compare(w,m)}function d(){if(0<M&&w>m||0>M&&w<m)return 0;if(Infinity===M||-Infinity===M)return 1;var a=Math.abs,b=Math.floor;a=(a(w)+a(m)+a(m-w))/a(M)*t(r(A,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return b((m-w)/M+a)+1}function l(){f();if(0===M)return Infinity;
if(0!==M%1)return d();if(0<M&&w>m||0>M&&w<m)return 0;var a=Math.ceil,b=Math.abs,c=b(w-m)+1;b=b(M);return a(c/b)}var p=Aa.$$p,h=p||E,g,n,w=this,B=g=E;p&&(Aa.$$p=null);p&&(Aa.$$p=null);p=b.slice.call(arguments,0,arguments.length);g=b.extract_kwargs(p);if(null==g)g=I([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");if(0<p.length){var m=p[0];p.splice(0,1)}if(0<p.length){var M=p[0];p.splice(0,1)}var y=g.$$smap.to;var P=g.$$smap.by;void 0!==m&&void 0!==y&&w.$raise(r(A,"ArgumentError"),
"to is given twice");void 0!==M&&void 0!==P&&w.$raise(r(A,"ArgumentError"),"step is given twice");if(h===E)return g=[],B=I([],{}),void 0!==m&&g.push(m),void 0!==M&&g.push(M),void 0!==y&&b.hash_put(B,"to",y),void 0!==P&&b.hash_put(B,"by",P),B["$any?"]()&&g.push(B),O(w,"enum_for",["step"].concat(b.to_a(g)),(n=function(){return l()},n.$$s=w,n.$$arity=0,n));f();if(0===M)for(;;)h(w);if(0!==w%1||0!==m%1||0!==M%1){if(n=d(),0<n)if(Infinity===M||-Infinity===M)h(w);else if(p=0,0<M)for(;p<n;)g=p*M+w,m<g&&(g=
m),h(g),p+=1;else for(;p<n;)g=p*M+w,m>g&&(g=m),h(g),p+=1}else if(n=w,0<M)for(;n<=m;)h(n),n+=M;else for(;n>=m;)h(n),n+=M;return w},Aa.$$arity=-1);b.alias(m,"succ","next");b.def(m,"$times",pa=function(){var a=pa.$$p,b=a||E,c;a&&(pa.$$p=null);a&&(pa.$$p=null);if(!R(b))return O(this,"enum_for",["times"],(c=function(){return c.$$s||this},c.$$s=this,c.$$arity=0,c));for(a=0;a<this;a++)b(a);return this},pa.$$arity=0);b.def(m,"$to_f",Ma=function(){return this},Ma.$$arity=0);b.def(m,"$to_i",Ga=function(){return parseInt(this,
10)},Ga.$$arity=0);b.alias(m,"to_int","to_i");b.def(m,"$to_r",Na=function(){if(R(r(A,"Integer")["$==="](this)))return r(A,"Rational").$new(this,1);var a=r(A,"Math").$frexp(this);var c=b.to_ary(a);var e=null==c[0]?E:c[0];c=null==c[1]?E:c[1];a;e=r(A,"Math").$ldexp(e,t(r(A,"Float"),"MANT_DIG")).$to_i();c=v(c,t(r(A,"Float"),"MANT_DIG"));return g(e,t(r(A,"Float"),"RADIX")["$**"](c)).$to_r()},Na.$$arity=0);b.def(m,"$to_s",La=function(a){var b;null==a&&(a=10);a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),
"to_int");R(R(b=z(a,2))?b:u(a,36))&&this.$raise(r(A,"ArgumentError"),"invalid radix "+a);return this.toString(a)},La.$$arity=-1);b.def(m,"$truncate",Ia=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Ia.$$arity=-1);b.alias(m,"inspect","to_s");b.def(m,"$digits",Oa=function(a){null==a&&(a=10);z(this,0)&&this.$raise(t(r(A,"Math"),"DomainError"),"out of domain");a=r(A,"Opal")["$coerce_to!"](a,r(A,"Integer"),
"to_int");R(z(a,2))&&this.$raise(r(A,"ArgumentError"),"invalid radix "+a);for(var b=this,c=[];0!==b;)c.push(b%a),b=parseInt(b/a,10);return c},Oa.$$arity=-1);b.def(m,"$divmod",Ja=function(a){var c,e=Ja.$$p,f;e&&(Ja.$$p=null);var d=0;var l=arguments.length;for(f=Array(l);d<l;d++)f[d]=arguments[d];return R(R(c=this["$nan?"]())?c:a["$nan?"]())?this.$raise(r(A,"FloatDomainError"),"NaN"):R(this["$infinite?"]())?this.$raise(r(A,"FloatDomainError"),"Infinity"):O(this,b.find_super_dispatcher(this,"divmod",
Ja,!1),f,e)},Ja.$$arity=1);b.def(m,"$upto",Qa=function(a){var b=Qa.$$p,c=b||E,e;b&&(Qa.$$p=null);b&&(Qa.$$p=null);if(c===E)return O(this,"enum_for",["upto",a],(e=function(){var b=e.$$s||this;R(r(A,"Numeric")["$==="](a))||b.$raise(r(A,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return R(z(a,b))?0:C(v(a,b),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(r(A,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b<=a;b++)c(b);
return this},Qa.$$arity=1);b.def(m,"$zero?",Xa=function(){return 0==this},Xa.$$arity=0);b.def(m,"$size",Wa=function(){return 4},Wa.$$arity=0);b.def(m,"$nan?",Ua=function(){return isNaN(this)},Ua.$$arity=0);b.def(m,"$finite?",B=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},B.$$arity=0);b.def(m,"$infinite?",P=function(){return Infinity==this?1:-Infinity==this?-1:E},P.$$arity=0);b.def(m,"$positive?",fa=function(){return 0!=this&&(Infinity==this||0<1/this)},fa.$$arity=0);return(b.def(m,
"$negative?",Q=function(){return-Infinity==this||0>1/this},Q.$$arity=0),E)&&"negative?"})(k[0],r(k,"Numeric"),k);b.const_set(k[0],"Fixnum",r(k,"Number"));(function(g,$super,k){g=K(g,$super,"Integer");k=[g].concat(k);g.$$is_number_class=!0;(function(g,m){var a=[g].concat(m),d,k,x;b.def(g,"$allocate",d=function(){return this.$raise(r(a,"TypeError"),"allocator undefined for "+this.$name())},d.$$arity=0);b.udef(g,"$new");b.def(g,"$===",k=function(a){return a.$$is_number?0===a%1:!1},k.$$arity=1);return(b.def(g,
"$sqrt",x=function(b){b=r(a,"Opal")["$coerce_to!"](b,r(a,"Integer"),"to_int");0>b&&this.$raise(t(r(a,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(b),10)},x.$$arity=1),E)&&"sqrt"})(b.get_singleton_class(g),k);b.const_set(k[0],"MAX",Math.pow(2,30)-1);return b.const_set(k[0],"MIN",-Math.pow(2,30))})(k[0],r(k,"Numeric"),k);return function(g,$super,k){g=K(g,$super,"Float");k=[g].concat(k);g.$$is_number_class=!0;(function(g,m){var a=[g].concat(m),d,k;
b.def(g,"$allocate",d=function(){return this.$raise(r(a,"TypeError"),"allocator undefined for "+this.$name())},d.$$arity=0);b.udef(g,"$new");return(b.def(g,"$===",k=function(a){return!!a.$$is_number},k.$$arity=1),E)&&"==="})(b.get_singleton_class(g),k);b.const_set(k[0],"INFINITY",Infinity);b.const_set(k[0],"MAX",Number.MAX_VALUE);b.const_set(k[0],"MIN",Number.MIN_VALUE);b.const_set(k[0],"NAN",NaN);b.const_set(k[0],"DIG",15);b.const_set(k[0],"MANT_DIG",53);b.const_set(k[0],"RADIX",2);return b.const_set(k[0],
"EPSILON",Number.EPSILON||2.220446049250313E-16)}(k[0],r(k,"Numeric"),k)};
Opal.modules["corelib/range"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b<=g:b["$<="](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var q=b.top,g=[],F=b.nil,k=b.const_get_qualified,E=b.const_get_relative,t=b.klass,r=b.truthy,K=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
q.$require("corelib/enumerable");return function(g,$super,q){g=t(g,$super,"Range");var m=[g].concat(q),I,S,A,J,a,d,L,x,T,n,h,c,y,p,V,D,l,e;g.$$prototype.begin=g.$$prototype.end=g.$$prototype.excl=F;g.$include(E(m,"Enumerable"));g.$$prototype.$$is_range=!0;g.$attr_reader("begin","end");b.def(g,"$initialize",I=function(a,b,c){null==c&&(c=!1);r(this.begin)&&this.$raise(E(m,"NameError"),"'initialize' called twice");r(a["$<=>"](b))||this.$raise(E(m,"ArgumentError"),"bad value for range");this.begin=a;
this.end=b;return this.excl=c},I.$$arity=-3);b.def(g,"$==",S=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},S.$$arity=1);b.def(g,"$===",A=function(a){return this["$include?"](a)},A.$$arity=1);b.def(g,"$cover?",J=function(a){var b;var c=this.begin["$<=>"](a);if(!r(r(b=c)?u(c,0):b))return!1;a=a["$<=>"](this.end);return r(this.excl)?r(b=a)?z(a,0):b:r(b=a)?u(a,0):b},J.$$arity=1);b.def(g,"$each",a=function(){var c=a.$$p,e=c||F;c&&(a.$$p=null);c&&(a.$$p=null);
if(e===F)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(E(m,"TypeError"),"can't iterate from Float");var d=this.begin;for(c=this.end+(r(this.excl)?0:1);d<c;d++)e(d);return this}if(this.begin.$$is_string&&this.end.$$is_string)return K(this.begin,"upto",[this.end,this.excl],e.$to_proc()),this;c=this.begin;var l=this.end;for(r(c["$respond_to?"]("succ"))||this.$raise(E(m,"TypeError"),"can't iterate from "+c.$class());r(z(c["$<=>"](l),
0));)b.yield1(e,c),c=c.$succ();r(r(d=this.excl["$!"]())?c["$=="](l):d)&&b.yield1(e,c);return this},a.$$arity=0);b.def(g,"$eql?",d=function(a){var b,c;return r(E(m,"Range")["$==="](a))?r(b=r(c=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):c)?this.end["$eql?"](a.$end()):b:!1},d.$$arity=1);b.def(g,"$exclude_end?",L=function(){return this.excl},L.$$arity=0);b.def(g,"$first",x=function(a){var c=x.$$p,e;c&&(x.$$p=null);var f=0;var d=arguments.length;for(e=Array(d);f<d;f++)e[f]=
arguments[f];return r(null==a)?this.begin:K(this,b.find_super_dispatcher(this,"first",x,!1),e,c)},x.$$arity=-1);b.alias(g,"include?","cover?");b.def(g,"$last",T=function(a){return r(null==a)?this.end:this.$to_a().$last(a)},T.$$arity=-1);b.def(g,"$max",n=function(){var a,c=n.$$p,e=c||F,d;c&&(n.$$p=null);var l=0;var p=arguments.length;for(d=Array(p);l<p;l++)d[l]=arguments[l];return e!==F?K(this,b.find_super_dispatcher(this,"max",n,!1),d,c):r(C(this.begin,this.end))?F:r(r(a=this.excl)?this.begin["$=="](this.end):
a)?F:this.excl?this.end-1:this.end},n.$$arity=0);b.alias(g,"member?","cover?");b.def(g,"$min",h=function(){var a,c=h.$$p,e=c||F,d;c&&(h.$$p=null);var l=0;var p=arguments.length;for(d=Array(p);l<p;l++)d[l]=arguments[l];return e!==F?K(this,b.find_super_dispatcher(this,"min",h,!1),d,c):r(C(this.begin,this.end))?F:r(r(a=this.excl)?this.begin["$=="](this.end):a)?F:this.begin},h.$$arity=0);b.def(g,"$size",c=function(){var a;var b=this.begin;var c=this.end;r(this.excl)&&(c="number"===typeof c?c-1:c["$-"](1));
if(!r(r(a=E(m,"Numeric")["$==="](b))?E(m,"Numeric")["$==="](c):a))return F;if(r(z(c,b)))return 0;a=k(E(m,"Float"),"INFINITY");return r([b.$abs(),c.$abs()]["$include?"](a))?a:(Math.abs(c-b)+1).$to_i()},c.$$arity=0);b.def(g,"$step",y=function(a){function c(){a.$$is_number||(a=E(m,"Opal")["$coerce_to!"](a,E(m,"Integer"),"to_int"));0>a?h.$raise(E(m,"ArgumentError"),"step can't be negative"):0===a&&h.$raise(E(m,"ArgumentError"),"step can't be 0")}function e(){if(!h.begin["$respond_to?"]("succ")||h.begin.$$is_string&&
h.end.$$is_string)return F;if(0===a%1){var b=h.$size();return("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()}b=h.begin;var c=h.end,e=Math.abs,f=Math.floor;e=(e(b)+e(c)+e(c-b))/e(a)*k(E(m,"Float"),"EPSILON");.5<e&&(e=.5);h.excl?(f=f((c-b)/a-e),f*a+b<c&&f++):f=f((c-b)/a+e)+1;return f}var f,d,l,p=y.$$p,g=p||F,h=this,n=F;p&&(y.$$p=null);null==a&&(a=1);if(g===F)return K(h,"enum_for",["step",a],(f=function(){c();return e()},f.$$s=h,f.$$arity=0,f));c();r(h.begin.$$is_number&&h.end.$$is_number)?
(n=0,function(){var c=b.new_brk();try{return K(h,"loop",[],(d=function(){var e=d.$$s||this;null==e.begin&&(e.begin=F);null==e.excl&&(e.excl=F);null==e.end&&(e.end=F);var f=v(e.begin,"number"===typeof n&&"number"===typeof a?n*a:n["$*"](a));r(e.excl)?(e=e.end,e="number"===typeof f&&"number"===typeof e?f>=e:f["$>="](e),r(e)&&b.brk(F,c)):r(C(f,e.end))&&b.brk(F,c);b.yield1(g,f);return n=v(n,1)},d.$$s=h,d.$$brk=c,d.$$arity=0,d))}catch(ha){if(ha===c)return ha.$v;throw ha;}}()):(h.begin.$$is_string&&h.end.$$is_string&&
0!==a%1&&h.$raise(E(m,"TypeError"),"no implicit conversion to float from string"),K(h,"each_with_index",[],(l=function(c,e){null==c&&(c=F);null==e&&(e=F);return e["$%"](a)["$=="](0)?b.yield1(g,c):F},l.$$s=h,l.$$arity=2,l)));return h},y.$$arity=-1);b.def(g,"$bsearch",p=function(){var a=p.$$p,b=a||F;a&&(p.$$p=null);a&&(p.$$p=null);if(b===F)return this.$enum_for("bsearch");r(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(E(m,"TypeError"),"can't do binary search for "+this.begin.$class());
return K(this.$to_a(),"bsearch",[],b.$to_proc())},p.$$arity=0);b.def(g,"$to_s",V=function(){return""+this.begin+(r(this.excl)?"...":"..")+this.end},V.$$arity=0);b.def(g,"$inspect",D=function(){return""+this.begin.$inspect()+(r(this.excl)?"...":"..")+this.end.$inspect()},D.$$arity=0);b.def(g,"$marshal_load",l=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},l.$$arity=1);return(b.def(g,"$hash",e=function(){return[this.begin,this.end,this.excl].$hash()},
e.$$arity=0),F)&&"hash"}(g[0],null,g)};
Opal.modules["corelib/proc"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.slice,q=b.klass,g=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(u,$super,E){u=q(u,$super,"Proc");var t=[u].concat(E),r,F,R,O,I,m,la,S,A,J;b.defineProperty(u.$$prototype,"$$is_proc",!0);b.defineProperty(u.$$prototype,"$$is_lambda",!1);b.defs(u,"$new",r=function(){var a=r.$$p,b=a||z;a&&(r.$$p=null);a&&(r.$$p=null);g(b)||this.$raise(C(t,"ArgumentError"),"tried to create a Proc object without a block");return b},
r.$$arity=0);b.def(u,"$call",F=function(a){var d=F.$$p,g=d||z;d&&(F.$$p=null);d&&(F.$$p=null);d=b.slice.call(arguments,0,arguments.length);g!==z&&(this.$$p=g);if(g=this.$$brk)try{var m=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d)}catch(T){if(T===g)return g.$v;throw T;}else m=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d);return m},F.$$arity=-1);b.alias(u,"[]","call");b.alias(u,"===","call");b.alias(u,"yield","call");b.def(u,"$to_proc",R=function(){return this},R.$$arity=0);b.def(u,"$lambda?",
O=function(){return!!this.$$is_lambda},O.$$arity=0);b.def(u,"$arity",I=function(){return this.$$is_curried?-1:this.$$arity},I.$$arity=0);b.def(u,"$source_location",m=function(){return z},m.$$arity=0);b.def(u,"$binding",la=function(){this.$$is_curried&&this.$raise(C(t,"ArgumentError"),"Can't create Binding");return z},la.$$arity=0);b.def(u,"$parameters",S=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],b;var g=0;for(b=this.$$parameters.length;g<
b;g++){var m=this.$$parameters[g];"req"===m[0]&&(m=["opt",m[1]]);a.push(m)}return a}return[]},S.$$arity=0);b.def(u,"$curry",A=function(a){function b(){var d=v.call(arguments),m=d.length;m>a&&g.$$is_lambda&&!g.$$is_curried&&g.$raise(C(t,"ArgumentError"),"wrong number of arguments ("+m+" for "+a+")");if(m>=a)return g.$call.apply(g,d);m=function(){return b.apply(null,d.concat(v.call(arguments)))};m.$$is_lambda=g.$$is_lambda;m.$$is_curried=!0;return m}var g=this;void 0===a?a=g.length:(a=C(t,"Opal")["$coerce_to!"](a,
C(t,"Integer"),"to_int"),g.$$is_lambda&&a!==g.length&&g.$raise(C(t,"ArgumentError"),"wrong number of arguments ("+a+" for "+g.length+")"));b.$$is_lambda=g.$$is_lambda;b.$$is_curried=!0;return b},A.$$arity=-1);b.def(u,"$dup",J=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},g;for(g in this)this.hasOwnProperty(g)&&(b[g]=this[g]);return b},J.$$arity=0);return b.alias(u,"clone","dup")}(u[0],Function,u)};
Opal.modules["corelib/method"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.klass,q=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(g,$super,k){g=v(g,$super,"Method");var u=[g].concat(k),t,r,K,R,O,I,m,la,S;g.$$prototype.method=g.$$prototype.receiver=g.$$prototype.owner=g.$$prototype.name=z;g.$attr_reader("owner","receiver","name");b.def(g,"$initialize",t=function(b,g,a,d){this.receiver=b;this.owner=g;this.name=d;return this.method=
a},t.$$arity=4);b.def(g,"$arity",r=function(){return this.method.$arity()},r.$$arity=0);b.def(g,"$parameters",K=function(){return this.method.$$parameters},K.$$arity=0);b.def(g,"$source_location",R=function(){var b;return q(b=this.method.$$source_location)?b:["(eval)",0]},R.$$arity=0);b.def(g,"$comments",O=function(){var b;return q(b=this.method.$$comments)?b:[]},O.$$arity=0);b.def(g,"$call",I=function(g){var m=I.$$p,a=m||z;m&&(I.$$p=null);m&&(I.$$p=null);m=b.slice.call(arguments,0,arguments.length);
this.method.$$p=a;return this.method.apply(this.receiver,m)},I.$$arity=-1);b.alias(g,"[]","call");b.def(g,"$unbind",m=function(){return C(u,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},m.$$arity=0);b.def(g,"$to_proc",la=function(){var b=this.$call.bind(this);b.$$unbound=this.method;b.$$is_lambda=!0;b.$$arity=this.method.$$arity;b.$$parameters=this.method.$$parameters;return b},la.$$arity=0);return(b.def(g,"$inspect",S=function(){return"#<"+this.$class()+": "+this.receiver.$class()+
"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},S.$$arity=0),z)&&"inspect"})(u[0],null,u);return function(g,$super,k){g=v(g,$super,"UnboundMethod");var u=[g].concat(k),t,r,K,R,O,I,m;g.$$prototype.method=g.$$prototype.owner=g.$$prototype.name=g.$$prototype.source=z;g.$attr_reader("source","owner","name");b.def(g,"$initialize",t=function(b,g,m,k){this.source=b;this.owner=g;this.method=m;return this.name=k},t.$$arity=4);b.def(g,"$arity",r=function(){return this.method.$arity()},
r.$$arity=0);b.def(g,"$parameters",K=function(){return this.method.$$parameters},K.$$arity=0);b.def(g,"$source_location",R=function(){var b;return q(b=this.method.$$source_location)?b:["(eval)",0]},R.$$arity=0);b.def(g,"$comments",O=function(){var b;return q(b=this.method.$$comments)?b:[]},O.$$arity=0);b.def(g,"$bind",I=function(g){if(this.owner.$$is_module||b.is_a(g,this.owner))return C(u,"Method").$new(g,this.owner,this.method,this.name);this.$raise(C(u,"TypeError"),"can't bind singleton method to a different class (expected "+
g+".kind_of?("+this.owner+" to be true)")},I.$$arity=1);return(b.def(g,"$inspect",m=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},m.$$arity=0),z)&&"inspect"}(u[0],null,u)};
Opal.modules["corelib/variables"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.gvars,q=b.hash2;b.add_stubs(["$new"]);v["&"]=v["~"]=v["`"]=v["'"]=z;v.LOADED_FEATURES=v['"']=b.loaded_features;v.LOAD_PATH=v[":"]=[];v["/"]="\n";v[","]=z;b.const_set(u[0],"ARGV",[]);b.const_set(u[0],"ARGF",C(u,"Object").$new());b.const_set(u[0],"ENV",q([],{}));v.VERBOSE=!1;v.DEBUG=!1;return v.SAFE=0};
Opal.modules["opal/regexp_anchors"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.module;b.add_stubs(["$==","$new"]);u=[v(u[0],"Opal")].concat(u);b.const_set(u[0],"REGEXP_START",C(u,"RUBY_ENGINE")["$=="]("opal")?"^":z);b.const_set(u[0],"REGEXP_END",C(u,"RUBY_ENGINE")["$=="]("opal")?"$":z);b.const_set(u[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(u[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(u[0],"INLINE_IDENTIFIER_REGEXP",C(u,"Regexp").$new("[^"+C(u,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+C(u,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(u[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(u[0],"CONST_NAME_REGEXP",C(u,"Regexp").$new(""+C(u,"REGEXP_START")+"(::)?[A-Z][^"+C(u,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+C(u,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(b){var u=b.top;b.add_stubs(["$require"]);u.$require("opal/base");u.$require("corelib/nil");u.$require("corelib/boolean");u.$require("corelib/string");u.$require("corelib/comparable");u.$require("corelib/enumerable");u.$require("corelib/enumerator");u.$require("corelib/array");u.$require("corelib/hash");u.$require("corelib/number");u.$require("corelib/range");u.$require("corelib/proc");u.$require("corelib/method");u.$require("corelib/regexp");u.$require("corelib/variables");
return u.$require("opal/regexp_anchors")};
Opal.modules["corelib/string/encoding"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var z,C,v,q,g,F=b.top,k=[],E=b.nil,t=b.const_get_qualified,r=b.const_get_relative,K=b.klass,R=b.hash2,O=b.truthy,I=b.send;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));F.$require("corelib/string");
(function(g,$super,k){g=K(g,$super,"Encoding");var m=[g].concat(k),q,a,d,L,x,T,n,h,c,y;g.$$prototype.ascii=g.$$prototype.dummy=g.$$prototype.name=E;b.defineProperty(g,"$$register",{});b.defs(g,"$register",q=function(a,b){var c=q.$$p,d=c||E,e,f,p=E,g=E,h=E;c&&(q.$$p=null);c&&(q.$$p=null);null==b&&(b=R([],{}));p=u([a],O(e=b["$[]"]("aliases"))?e:[]);g=I(r(m,"Class"),"new",[this],d.$to_proc()).$new(a,p,O(e=b["$[]"]("ascii"))?e:!1,O(e=b["$[]"]("dummy"))?e:!1);h=this.$$register;return I(p,"each",[],(f=
function(a){var b=f.$$s||this;null==a&&(a=E);b.$const_set(a.$sub("-","_"),g);return h["$$"+a]=g},f.$$s=this,f.$$arity=1,f))},q.$$arity=-2);b.defs(g,"$find",a=function(a){var b;if(a["$=="]("default_external"))return this.$default_external();var c=this.$$register;c=O(b=c["$$"+a])?b:c["$$"+a.$upcase()];O(c)||this.$raise(r(m,"ArgumentError"),"unknown encoding name - "+a);return c},a.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(g),m);g.$attr_reader("name",
"names");b.def(g,"$initialize",d=function(a,b,c,d){this.name=a;this.names=b;this.ascii=c;return this.dummy=d},d.$$arity=4);b.def(g,"$ascii_compatible?",L=function(){return this.ascii},L.$$arity=0);b.def(g,"$dummy?",x=function(){return this.dummy},x.$$arity=0);b.def(g,"$to_s",T=function(){return this.name},T.$$arity=0);b.def(g,"$inspect",n=function(){return"#<Encoding:"+this.name+(O(this.dummy)?" (dummy)":E)+">"},n.$$arity=0);b.def(g,"$each_byte",h=function(a){b.slice.call(arguments,0,arguments.length);
return this.$raise(r(m,"NotImplementedError"))},h.$$arity=-1);b.def(g,"$getbyte",c=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(r(m,"NotImplementedError"))},c.$$arity=-1);b.def(g,"$bytesize",y=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(r(m,"NotImplementedError"))},y.$$arity=-1);(function(a,$super,b){[K(a,$super,"EncodingError")].concat(b);return E})(m[0],r(m,"StandardError"),m);return function(a,$super,b){[K(a,$super,"CompatibilityError")].concat(b);
return E}(m[0],r(m,"EncodingError"),m)})(k[0],null,k);I(r(k,"Encoding"),"register",["UTF-8",R(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(z=function(){var g=z.$$s||this,k,r;b.def(g,"$each_byte",k=function(g){var m=k.$$p,a=m||E;m&&(k.$$p=null);m&&(k.$$p=null);m=0;for(var d=g.length;m<d;m++){var L=g.charCodeAt(m);if(127>=L)b.yield1(a,L);else{L=encodeURIComponent(g.charAt(m)).substr(1).split("%");for(var x=0,r=L.length;x<r;x++)b.yield1(a,parseInt(L[x],16))}}},k.$$arity=1);return(b.def(g,"$bytesize",
r=function(b){return b.$bytes().$length()},r.$$arity=1),E)&&"bytesize"},z.$$s=F,z.$$arity=0,z));I(r(k,"Encoding"),"register",["UTF-16LE"],(C=function(){var g=C.$$s||this,k,r;b.def(g,"$each_byte",k=function(g){var m=k.$$p,a=m||E;m&&(k.$$p=null);m&&(k.$$p=null);m=0;for(var d=g.length;m<d;m++){var r=g.charCodeAt(m);b.yield1(a,r&255);b.yield1(a,r>>8)}},k.$$arity=1);return(b.def(g,"$bytesize",r=function(b){return b.$bytes().$length()},r.$$arity=1),E)&&"bytesize"},C.$$s=F,C.$$arity=0,C));I(r(k,"Encoding"),
"register",["UTF-16BE"],(v=function(){var g=v.$$s||this,k,r;b.def(g,"$each_byte",k=function(g){var m=k.$$p,a=m||E;m&&(k.$$p=null);m&&(k.$$p=null);m=0;for(var d=g.length;m<d;m++){var r=g.charCodeAt(m);b.yield1(a,r>>8);b.yield1(a,r&255)}},k.$$arity=1);return(b.def(g,"$bytesize",r=function(b){return b.$bytes().$length()},r.$$arity=1),E)&&"bytesize"},v.$$s=F,v.$$arity=0,v));I(r(k,"Encoding"),"register",["UTF-32LE"],(q=function(){var g=q.$$s||this,k,r;b.def(g,"$each_byte",k=function(g){var m=k.$$p,a=m||
E;m&&(k.$$p=null);m&&(k.$$p=null);m=0;for(var d=g.length;m<d;m++){var r=g.charCodeAt(m);b.yield1(a,r&255);b.yield1(a,r>>8)}},k.$$arity=1);return(b.def(g,"$bytesize",r=function(b){return b.$bytes().$length()},r.$$arity=1),E)&&"bytesize"},q.$$s=F,q.$$arity=0,q));I(r(k,"Encoding"),"register",["ASCII-8BIT",R(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(g=function(){var m=g.$$s||this,k,r;b.def(m,"$each_byte",k=function(g){var m=k.$$p,a=m||E;m&&(k.$$p=null);m&&
(k.$$p=null);m=0;for(var d=g.length;m<d;m++){var r=g.charCodeAt(m);b.yield1(a,r&255);b.yield1(a,r>>8)}},k.$$arity=1);return(b.def(m,"$bytesize",r=function(b){return b.$bytes().$length()},r.$$arity=1),E)&&"bytesize"},g.$$s=F,g.$$arity=0,g));return function(g,$super,k){g=K(g,$super,"String");var m=[g].concat(k),q,a,d,L,x,T,n;g.$$prototype.encoding=E;g.$attr_reader("encoding");b.defineProperty(String.prototype,"encoding",t(r(m,"Encoding"),"UTF_16LE"));b.def(g,"$bytes",q=function(){return this.$each_byte().$to_a()},
q.$$arity=0);b.def(g,"$bytesize",a=function(){return this.encoding.$bytesize(this)},a.$$arity=0);b.def(g,"$each_byte",d=function(){var a=d.$$p,b=a||E;a&&(d.$$p=null);a&&(d.$$p=null);if(b===E)return this.$enum_for("each_byte");I(this.encoding,"each_byte",[this],b.$to_proc());return this},d.$$arity=0);b.def(g,"$encode",L=function(a){return this.$dup().$force_encoding(a)},L.$$arity=1);b.def(g,"$force_encoding",x=function(a){if(a===this.encoding)return this;a=r(m,"Opal")["$coerce_to!"](a,r(m,"String"),
"to_s");a=r(m,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},x.$$arity=1);b.def(g,"$getbyte",T=function(a){return this.encoding.$getbyte(this,a)},T.$$arity=1);return(b.def(g,"$valid_encoding?",n=function(){return!0},n.$$arity=0),E)&&"valid_encoding?"}(k[0],null,k)};
Opal.modules["corelib/struct"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b>g:b["$>"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}function C(b,g){return"number"===typeof b&&"number"===typeof g?b<g:b["$<"](g)}function v(b,g){return"number"===typeof b&&"number"===typeof g?b>=g:b["$>="](g)}function q(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}var g=b.top,F=[],k=b.nil,E=b.const_get_relative,t=b.klass,r=b.hash2,
K=b.truthy,R=b.send;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));g.$require("corelib/enumerable");
return function(g,$super,m){g=t(g,$super,"Struct");var F=[g].concat(m),O,A,J,a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y;g.$include(E(F,"Enumerable"));b.defs(g,"$new",O=function(a,c,e){var f=O.$$p,d=f||k,l,p;var g=k;f&&(O.$$p=null);f&&(O.$$p=null);var h=b.slice.call(arguments,1,arguments.length);g=b.extract_kwargs(h);if(null==g)g=r([],{});else if(!g.$$is_hash)throw b.ArgumentError.$new("expected kwargs");f=g.$$smap.keyword_init;null==f&&(f=!1);if(K(a))try{a=E(F,"Opal")["$const_name!"](a)}catch(ha){if(b.rescue(ha,
[E(F,"TypeError"),E(F,"NameError")]))try{h.$unshift(a),a=k}finally{b.pop_exception()}else throw ha;}R(h,"map",[],(l=function(a){null==a&&(a=k);return E(F,"Opal")["$coerce_to!"](a,E(F,"String"),"to_str")},l.$$s=this,l.$$arity=1,l));g=R(E(F,"Class"),"new",[this],(p=function(){var a=p.$$s||this,c;R(h,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=k);return b.$define_struct_attribute(a)},c.$$s=a,c.$$arity=1,c));return function(a,c){[a].concat(c);var e;b.def(a,"$new",e=function(a){var c=b.slice.call(arguments,
0,arguments.length);var e=this.$allocate();e.$$data={};R(e,"initialize",b.to_a(c));return e},e.$$arity=-1);return a.$alias_method("[]","new")}(b.get_singleton_class(a),F)},p.$$s=this,p.$$arity=0,p));K(d)&&R(g,"module_eval",[],d.$to_proc());g.$$keyword_init=f;K(a)&&E(F,"Struct").$const_set(a,g);return g},O.$$arity=-2);b.defs(g,"$define_struct_attribute",A=function(a){var b,c;this["$=="](E(F,"Struct"))&&this.$raise(E(F,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);
R(this,"define_method",[a],(b=function(){return(b.$$s||this).$$data[a]},b.$$s=this,b.$$arity=0,b));return R(this,"define_method",[""+a+"="],(c=function(b){var e=c.$$s||this;null==b&&(b=k);return e.$$data[a]=b},c.$$s=this,c.$$arity=1,c))},A.$$arity=1);b.defs(g,"$members",J=function(){var a;null==this.members&&(this.members=k);this["$=="](E(F,"Struct"))&&this.$raise(E(F,"ArgumentError"),"the Struct class has no members");return this.members=K(a=this.members)?a:[]},J.$$arity=0);b.defs(g,"$inherited",
a=function(a){var b,c=k;null==this.members&&(this.members=k);c=this.members;return R(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=c},b.$$s=this,b.$$arity=0,b))},a.$$arity=1);b.def(g,"$initialize",d=function(a){var c,e,f,d=k,l=k;var p=b.slice.call(arguments,0,arguments.length);if(K(this.$class().$$keyword_init))return d=K(c=p.$last())?c:r([],{}),K(K(c=u(p.$length(),1))?c:1===p.length&&!d.$$is_hash)&&this.$raise(E(F,"ArgumentError"),"wrong number of arguments (given "+p.$length()+
", expected 0)"),l=z(d.$keys(),this.$class().$members()),K(l["$any?"]())&&this.$raise(E(F,"ArgumentError"),"unknown keywords: "+l.$join(", ")),R(this.$class().$members(),"each",[],(e=function(a){var c=e.$$s||this;null==a&&(a=k);a=[a,d["$[]"](a)];R(c,"[]=",b.to_a(a));return a[z(a.length,1)]},e.$$s=this,e.$$arity=1,e));K(u(p.$length(),this.$class().$members().$length()))&&this.$raise(E(F,"ArgumentError"),"struct size differs");return R(this.$class().$members(),"each_with_index",[],(f=function(a,c){var e=
f.$$s||this;null==a&&(a=k);null==c&&(c=k);a=[a,p["$[]"](c)];R(e,"[]=",b.to_a(a));return a[z(a.length,1)]},f.$$s=this,f.$$arity=2,f))},d.$$arity=-1);b.def(g,"$members",L=function(){return this.$class().$members()},L.$$arity=0);b.def(g,"$hash",x=function(){return E(F,"Hash").$new(this.$$data).$hash()},x.$$arity=0);b.def(g,"$[]",T=function(a){K(E(F,"Integer")["$==="](a))?(K(C(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(E(F,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+
")"),K(v(a,this.$class().$members().$size()))&&this.$raise(E(F,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):K(E(F,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(E(F,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(E(F,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=E(F,"Opal")["$coerce_to!"](a,E(F,"String"),"to_str");return this.$$data[a]},T.$$arity=1);b.def(g,
"$[]=",n=function(a,b){K(E(F,"Integer")["$==="](a))?(K(C(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(E(F,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),K(v(a,this.$class().$members().$size()))&&this.$raise(E(F,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):K(E(F,"String")["$==="](a))?K(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(E(F,
"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(E(F,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=E(F,"Opal")["$coerce_to!"](a,E(F,"String"),"to_str");return this.$$data[a]=b},n.$$arity=2);b.def(g,"$==",h=function(a){function b(a,f){var d;c[a.$__id__()]=!0;e[f.$__id__()]=!0;for(d in a.$$data){var l=a.$$data[d];var p=f.$$data[d];if(E(F,"Struct")["$==="](l)){if(!(c.hasOwnProperty(l.$__id__())&&e.hasOwnProperty(p.$__id__())||b(l,p)))return!1}else if(!l["$=="](p))return!1}return!0}
if(!K(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},h.$$arity=1);b.def(g,"$eql?",c=function(a){function b(a,f){var d;c[a.$__id__()]=!0;e[f.$__id__()]=!0;for(d in a.$$data){var l=a.$$data[d];var p=f.$$data[d];if(E(F,"Struct")["$==="](l)){if(!(c.hasOwnProperty(l.$__id__())&&e.hasOwnProperty(p.$__id__())||b(l,p)))return!1}else if(!l["$eql?"](p))return!1}return!0}if(!K(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},c.$$arity=1);b.def(g,"$each",
y=function(){var a,c,e=y.$$p,f=e||k;e&&(y.$$p=null);if(f===k)return R(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));R(this.$class().$members(),"each",[],(c=function(a){var e=c.$$s||this;null==a&&(a=k);return b.yield1(f,e["$[]"](a))},c.$$s=this,c.$$arity=1,c));return this},y.$$arity=0);b.def(g,"$each_pair",p=function(){var a,c,e=p.$$p,f=e||k;e&&(p.$$p=null);if(f===k)return R(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));R(this.$class().$members(),"each",[],(c=function(a){var e=c.$$s||this;null==a&&(a=k);return b.yield1(f,[a,e["$[]"](a)])},c.$$s=this,c.$$arity=1,c));return this},p.$$arity=0);b.def(g,"$length",V=function(){return this.$class().$members().$length()},V.$$arity=0);b.alias(g,"size","length");b.def(g,"$to_a",D=function(){var a;return R(this.$class().$members(),"map",[],(a=function(b){var c=a.$$s||this;null==b&&(b=k);return c["$[]"](b)},a.$$s=this,a.$$arity=1,a))},D.$$arity=0);b.alias(g,
"values","to_a");b.def(g,"$inspect",l=function(){var a,b,c=k;c="#<struct ";K(K(a=E(F,"Struct")["$==="](this))?this.$class().$name():a)&&(c=q(c,""+this.$class()+" "));c=q(c,R(this.$each_pair(),"map",[],(b=function(a,b){null==a&&(a=k);null==b&&(b=k);return""+a+"="+b.$inspect()},b.$$s=this,b.$$arity=2,b)).$join(", "));return c=q(c,">")},l.$$arity=0);b.alias(g,"to_s","inspect");b.def(g,"$to_h",e=function(){var a;return R(this.$class().$members(),"each_with_object",[r([],{})],(a=function(c,e){var f=a.$$s||
this;null==c&&(c=k);null==e&&(e=k);c=[c,f["$[]"](c)];R(e,"[]=",b.to_a(c));return c[z(c.length,1)]},a.$$s=this,a.$$arity=2,a))},e.$$arity=0);b.def(g,"$values_at",f=function(a){var c;var e=b.slice.call(arguments,0,arguments.length);e=R(e,"map",[],(c=function(a){null==a&&(a=k);return a.$$is_range?a.$to_a():a},c.$$s=this,c.$$arity=1,c)).$flatten();c=[];for(var f=0,d=e.length;f<d;f++)e[f].$$is_number||this.$raise(E(F,"TypeError"),"no implicit conversion of "+e[f].$class()+" into Integer"),c.push(this["$[]"](e[f]));
return c},f.$$arity=-1);return(b.def(g,"$dig",Y=function(a,c){var e=b.slice.call(arguments,1,arguments.length);var f=K(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||k:k;if(f===k||0===e.length)return f;K(f["$respond_to?"]("dig"))||this.$raise(E(F,"TypeError"),""+f.$class()+" does not have #dig method");return R(f,"dig",b.to_a(e))},Y.$$arity=-2),k)&&"dig"}(F[0],null,F)};
Opal.modules["corelib/io"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var z=[],C=b.nil,v=b.const_get_qualified,q=b.const_get_relative,g=b.klass,F=b.module,k=b.send,E=b.gvars,t=b.truthy,r=C;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(r,$super,u){r=g(r,$super,"IO");u=[r].concat(u);var m,v,z,A;r.$$prototype.tty=r.$$prototype.closed=C;b.const_set(u[0],
"SEEK_SET",0);b.const_set(u[0],"SEEK_CUR",1);b.const_set(u[0],"SEEK_END",2);b.def(r,"$tty?",m=function(){return this.tty},m.$$arity=0);b.def(r,"$closed?",v=function(){return this.closed},v.$$arity=0);r.$attr_accessor("write_proc");b.def(r,"$write",z=function(b){this.write_proc(b);return b.$size()},z.$$arity=1);r.$attr_accessor("sync","tty");b.def(r,"$flush",A=function(){return C},A.$$arity=0);(function(g,a){g=F(g,"Writable");[g].concat(a);var d,m,x;b.def(g,"$<<",d=function(a){this.$write(a);return this},
d.$$arity=1);b.def(g,"$print",m=function(a){var d;null==E[","]&&(E[","]=C);var g=b.slice.call(arguments,0,arguments.length);this.$write(k(g,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=C);return b.$String(a)},d.$$s=this,d.$$arity=1,d)).$join(E[","]));return C},m.$$arity=-1);b.def(g,"$puts",x=function(a){var d,g=C;null==E["/"]&&(E["/"]=C);var c=b.slice.call(arguments,0,arguments.length);g=E["/"];t(c["$empty?"]())?this.$write(E["/"]):this.$write(k(c,"map",[],(d=function(a){var b=d.$$s||this;
null==a&&(a=C);return b.$String(a).$chomp()},d.$$s=this,d.$$arity=1,d)).$concat([C]).$join(g));return C},x.$$arity=-1)})(u[0],u);return function(g,a){g=F(g,"Readable");var d=[g].concat(a),m,x,k,n;b.def(g,"$readbyte",m=function(){return this.$getbyte()},m.$$arity=0);b.def(g,"$readchar",x=function(){return this.$getc()},x.$$arity=0);b.def(g,"$readline",k=function(a){null==E["/"]&&(E["/"]=C);return this.$raise(q(d,"NotImplementedError"))},k.$$arity=-1);b.def(g,"$readpartial",n=function(a,b){return this.$raise(q(d,
"NotImplementedError"))},n.$$arity=-2)}(u[0],u)})(z[0],null,z);b.const_set(z[0],"STDERR",E.stderr=q(z,"IO").$new());b.const_set(z[0],"STDIN",E.stdin=q(z,"IO").$new());b.const_set(z[0],"STDOUT",E.stdout=q(z,"IO").$new());var K=b.global.console;r=["object"===typeof process&&"object"===typeof process.stdout?function(b){process.stdout.write(b)}:function(b){K.log(b)}];k(q(z,"STDOUT"),"write_proc=",b.to_a(r));r[u(r.length,1)];r=["object"===typeof process&&"object"===typeof process.stderr?function(b){process.stderr.write(b)}:
function(b){K.warn(b)}];k(q(z,"STDERR"),"write_proc=",b.to_a(r));r[u(r.length,1)];q(z,"STDOUT").$extend(v(q(z,"IO"),"Writable"));return q(z,"STDERR").$extend(v(q(z,"IO"),"Writable"))};Opal.modules["corelib/main"]=function(b){var u,z,C=b.top,v=[],q=b.nil,g=b.const_get_relative;b.add_stubs(["$include"]);b.defs(C,"$to_s",u=function(){return"main"},u.$$arity=0);return(b.defs(C,"$include",z=function(b){return g(v,"Object").$include(b)},z.$$arity=1),q)&&"include"};
Opal.modules["corelib/dir"]=function(b){var u=[],z=b.nil,C=b.const_get_relative,v=b.klass,q=b.truthy;b.add_stubs(["$[]"]);return function(g,$super,k){g=v(g,$super,"Dir");k=[g].concat(k);return function(g,k){var r=[g].concat(k),u,v,t;b.def(g,"$chdir",u=function(g){var m=u.$$p,k=m||z,r=z;m&&(u.$$p=null);a:{try{r=b.current_dir;b.current_dir=g;var q=b.yieldX(k,[]);break a}finally{b.current_dir=r}q=void 0}return q},u.$$arity=1);b.def(g,"$pwd",v=function(){return b.current_dir||"."},v.$$arity=0);b.alias(g,
"getwd","pwd");return(b.def(g,"$home",t=function(){var b;return q(b=C(r,"ENV")["$[]"]("HOME"))?b:"."},t.$$arity=0),z)&&"home"}(b.get_singleton_class(g),k)}(u[0],null,u)};
Opal.modules["corelib/file"]=function(b){function u(b,g){return"number"===typeof b&&"number"===typeof g?b+g:b["$+"](g)}function z(b,g){return"number"===typeof b&&"number"===typeof g?b-g:b["$-"](g)}var C=[],v=b.nil,q=b.const_get_relative,g=b.klass,F=b.truthy,k=b.range,E=b.send;b.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(t,
$super,C){t=g(t,$super,"File");C=[t].concat(C);var R=v;b.const_set(C[0],"Separator",b.const_set(C[0],"SEPARATOR","/"));b.const_set(C[0],"ALT_SEPARATOR",v);b.const_set(C[0],"PATH_SEPARATOR",":");b.const_set(C[0],"FNM_SYSCASE",0);R=/^[a-zA-Z]:(?:\\|\/)/;return function(g,t){function m(a){F(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=q(I,"Opal")["$coerce_to!"](a,q(I,"String"),"to_str")}function C(){return q(I,"ALT_SEPARATOR")===v?b.escape_regexp(q(I,"SEPARATOR")):b.escape_regexp(u(q(I,"SEPARATOR"),
q(I,"ALT_SEPARATOR")))}var I=[g].concat(t),A,J,a,d,L,x,T,n,h;b.def(g,"$absolute_path",A=function(a,b){var c;null==b&&(b=v);var d=q(I,"SEPARATOR");var g=C();var l=[];a=F(a["$respond_to?"]("to_path"))?a.$to_path():a;b=F(c=b)?c:q(I,"Dir").$pwd();c=a.substr(0,d.length)===d||R.test(a);var e=b.substr(0,d.length)===d||R.test(b);F(c)?(c=a.$split(new RegExp("["+g+"]")),a=R.test(a)?"":a.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),b=!0):(c=u(b.$split(new RegExp("["+g+"]")),a.$split(new RegExp("["+g+"]"))),a=R.test(b)?
"":b.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),b=e);e=0;for(var f=c.length;e<f;e++)g=c[e],g===v||""===g&&(0===l.length||b)||"."===g&&(0===l.length||b)||(".."===g?l.pop():l.push(g));b||"."===c[0]||l.$unshift(".");d=l.$join(d);F(b)&&(d=u(a,d));return d},A.$$arity=-2);b.def(g,"$expand_path",J=function(a,b){null==b&&(b=v);var c=q(I,"SEPARATOR");var d=C();if(F("~"===a[0]||b&&"~"===b[0])){var g=q(I,"Dir").$home();F(g)||this.$raise(q(I,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");d=
R.test(g)?"":g.$sub(new RegExp("^(["+d+"]+).*$"),"\\1");F(g["$start_with?"](d))||this.$raise(q(I,"ArgumentError"),"non-absolute home");g=u(g,c);c=new RegExp("^\\~(?:"+c+"|$)");a=a.$sub(c,g);F(b)&&(b=b.$sub(c,g))}return this.$absolute_path(a,b)},J.$$arity=-2);b.alias(g,"realpath","expand_path");b.def(g,"$dirname",a=function(a){var b=C();a=m(a);var c=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");
return""===a?c?"/":".":a},a.$$arity=1);b.def(g,"$basename",d=function(a,d){null==d&&(d=v);var c=C();a=m(a);if(0==a.length)return a;d=d!==v?q(I,"Opal")["$coerce_to!"](d,q(I,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+c+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+c+"])?([^"+c+"]+)$"),"$1");".*"===d?a=a.replace(/\.[^\.]+$/,""):null!==d&&(d=b.escape_regexp(d),a=a.replace(new RegExp(""+d+"$"),""));return a},d.$$arity=-2);b.def(g,"$extname",L=function(a){var c;a=m(a);a=this.$basename(a);if(F(a["$empty?"]()))return"";
var d=a["$[]"](k(1,-1,!1)).$rindex(".");return F(F(c=d["$nil?"]())?c:u(d,1)["$=="](z(a.$length(),1)))?"":a["$[]"](b.Range.$new(u(d,1),-1,!1))},L.$$arity=1);b.def(g,"$exist?",x=function(a){return null!=b.modules[a]},x.$$arity=1);b.alias(g,"exists?","exist?");b.def(g,"$directory?",T=function(a){var c,d=v;d=v;d=[];for(var g in b.modules)d.push(g);a=a.$gsub(new RegExp("(^."+q(I,"SEPARATOR")+"+|"+q(I,"SEPARATOR")+"+$)"));return d=E(d,"find",[],(c=function(b){null==b&&(b=v);return b["$=~"](new RegExp("^"+
a))},c.$$s=this,c.$$arity=1,c))},T.$$arity=1);b.def(g,"$join",n=function(a){var c,d,g=v;var h=b.slice.call(arguments,0,arguments.length);if(F(h["$empty?"]()))return"";g="";h=E(h.$flatten().$each_with_index(),"map",[],(c=function(a,b){null==a&&(a=v);null==b&&(b=v);return F(b["$=="](0)?a["$empty?"]():b["$=="](0))?q(I,"SEPARATOR"):F(h.$length()["$=="](u(b,1))?a["$empty?"]():h.$length()["$=="](u(b,1)))?q(I,"SEPARATOR"):a},c.$$s=this,c.$$arity=2,c));h=E(h,"reject",[],"empty?".$to_proc());E(h,"each_with_index",
[],(d=function(a,b){var c;null==a&&(a=v);null==b&&(b=v);b=h["$[]"](u(b,1));if(F(b["$nil?"]()))return g=""+g+a;F(F(c=a["$end_with?"](q(I,"SEPARATOR")))?b["$start_with?"](q(I,"SEPARATOR")):c)&&(a=a.$sub(new RegExp(""+q(I,"SEPARATOR")+"+$"),""));return g=F(F(c=a["$end_with?"](q(I,"SEPARATOR")))?c:b["$start_with?"](q(I,"SEPARATOR")))?""+g+a:""+g+a+q(I,"SEPARATOR")},d.$$s=this,d.$$arity=2,d));return g},n.$$arity=-1);return(b.def(g,"$split",h=function(a){return a.$split(q(I,"SEPARATOR"))},h.$$arity=1),
v)&&"split"}(b.get_singleton_class(t),C)}(C[0],q(C,"IO"),C)};
Opal.modules["corelib/process"]=function(b){var u=[],z=b.nil,C=b.const_get_qualified,v=b.const_get_relative,q=b.klass,g=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(u,$super,E){u=q(u,$super,"Process");var t=[u].concat(E),r,F,R,O;E=z;u.__clocks__=[];b.defs(u,"$__register_clock__",r=function(b,g){null==this.__clocks__&&(this.__clocks__=z);this.$const_set(b,this.__clocks__.$size());return this.__clocks__["$<<"](g)},r.$$arity=2);u.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});E=!1;if(b.global.performance)E=function(){return performance.now()};else if(b.global.process&&process.hrtime){var I=process.hrtime();E=function(){var b=process.hrtime(I);return 1E3*b[0]+(b[1]/1E3|0)/1E3}}g(E)&&u.$__register_clock__("CLOCK_MONOTONIC",E);b.defs(u,"$pid",F=function(){return 0},F.$$arity=0);b.defs(u,"$times",R=function(){var b=v(t,"Time").$now().$to_f();return C(v(t,"Benchmark"),"Tms").$new(b,b,b,b,b)},R.$$arity=0);return(b.defs(u,"$clock_gettime",O=function(b,
r){var m,u;null==this.__clocks__&&(this.__clocks__=z);null==r&&(r="float_second");g(m=u=this.__clocks__["$[]"](b))?m:this.$raise(C(v(t,"Errno"),"EINVAL"),"clock_gettime("+b+") "+this.__clocks__["$[]"](b));b=u();switch(r){case "float_second":return b/1E3;case "float_millisecond":return b/1;case "float_microsecond":return 1E3*b;case "second":return b/1E3|0;case "millisecond":return b/1|0;case "microsecond":return 1E3*b|0;case "nanosecond":return 1E6*b|0;default:this.$raise(v(t,"ArgumentError"),"unexpected unit: "+
r)}},O.$$arity=-2),z)&&"clock_gettime"})(u[0],null,u);(function(g,$super,u){g=q(g,$super,"Signal");[g].concat(u);var v;return(b.defs(g,"$trap",v=function(g){b.slice.call(arguments,0,arguments.length);return z},v.$$arity=-1),z)&&"trap"})(u[0],null,u);return function(g,$super,u){g=q(g,$super,"GC");[g].concat(u);var v;return(b.defs(g,"$start",v=function(){return z},v.$$arity=0),z)&&"start"}(u[0],null,u)};
Opal.modules["corelib/unsupported"]=function(b){function u(g){switch(b.config.unsupported_features_severity){case "error":F(q,"Kernel").$raise(F(q,"NotImplementedError"),g);break;case "warning":t[g]||(t[g]=!0,v.$warn(g))}}var z,C,v=b.top,q=[],g=b.nil,F=b.const_get_relative,k=b.klass,E=b.module;b.add_stubs(["$raise","$warn","$%"]);var t={};(function(r,$super,u){r=k(r,$super,"String");var q=[r].concat(u),v,m,t,z,A,C,a,d,L,x,T,n,h,c,y,p,V,D,l,e,f,Y,Z;b.def(r,"$<<",v=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},v.$$arity=-1);b.def(r,"$capitalize!",m=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},m.$$arity=-1);b.def(r,"$chomp!",t=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},t.$$arity=-1);b.def(r,"$chop!",z=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},z.$$arity=-1);b.def(r,"$downcase!",A=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
A.$$arity=-1);b.def(r,"$gsub!",C=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},C.$$arity=-1);b.def(r,"$lstrip!",a=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},a.$$arity=-1);b.def(r,"$next!",d=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},d.$$arity=-1);b.def(r,"$reverse!",L=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},L.$$arity=-1);b.def(r,"$slice!",x=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},x.$$arity=-1);b.def(r,"$squeeze!",T=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},T.$$arity=-1);b.def(r,"$strip!",n=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
n.$$arity=-1);b.def(r,"$sub!",h=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},h.$$arity=-1);b.def(r,"$succ!",c=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},c.$$arity=-1);b.def(r,"$swapcase!",y=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},y.$$arity=-1);b.def(r,"$tr!",p=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},p.$$arity=-1);b.def(r,"$tr_s!",V=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},V.$$arity=-1);b.def(r,"$upcase!",D=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},D.$$arity=-1);b.def(r,"$prepend",l=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
l.$$arity=-1);b.def(r,"$[]=",e=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},e.$$arity=-1);b.def(r,"$clear",f=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},f.$$arity=-1);b.def(r,"$encode!",Y=function(a){b.slice.call(arguments,
0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},Y.$$arity=-1);return(b.def(r,"$unicode_normalize!",Z=function(a){b.slice.call(arguments,0,arguments.length);return this.$raise(F(q,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},Z.$$arity=-1),g)&&"unicode_normalize!"})(q[0],null,q);(function(g,k){g=E(g,"Kernel");
[g].concat(k);var r,q;b.def(g,"$freeze",r=function(){u("Object freezing is not supported by Opal");return this},r.$$arity=0);b.def(g,"$frozen?",q=function(){u("Object freezing is not supported by Opal");return!1},q.$$arity=0)})(q[0],q);(function(g,k){g=E(g,"Kernel");[g].concat(k);var r,q,v;b.def(g,"$taint",r=function(){u("Object tainting is not supported by Opal");return this},r.$$arity=0);b.def(g,"$untaint",q=function(){u("Object tainting is not supported by Opal");return this},q.$$arity=0);b.def(g,
"$tainted?",v=function(){u("Object tainting is not supported by Opal");return!1},v.$$arity=0)})(q[0],q);(function(r,$super,q){r=k(r,$super,"Module");[r].concat(q);var u,v,m,t;b.def(r,"$public",u=function(m){0===b.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return g},u.$$arity=-1);b.alias(r,"private","public");b.alias(r,"protected","public");b.alias(r,"nesting","public");b.def(r,"$private_class_method",v=function(g){b.slice.call(arguments,0,arguments.length);return this},
v.$$arity=-1);b.alias(r,"public_class_method","private_class_method");b.def(r,"$private_method_defined?",m=function(b){return!1},m.$$arity=1);b.def(r,"$private_constant",t=function(m){b.slice.call(arguments,0,arguments.length);return g},t.$$arity=-1);b.alias(r,"protected_method_defined?","private_method_defined?");b.alias(r,"public_instance_methods","instance_methods");b.alias(r,"public_instance_method","instance_method");return b.alias(r,"public_method_defined?","method_defined?")})(q[0],null,q);
(function(g,k){g=E(g,"Kernel");[g].concat(k);var r;b.def(g,"$private_methods",r=function(g){b.slice.call(arguments,0,arguments.length);return[]},r.$$arity=-1);b.alias(g,"private_instance_methods","private_methods")})(q[0],q);(function(g,k){g=E(g,"Kernel");var r=[g].concat(k),q;b.def(g,"$eval",q=function(g){b.slice.call(arguments,0,arguments.length);return this.$raise(F(r,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+F(r,
"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},q.$$arity=-1)})(q[0],q);b.defs(v,"$public",z=function(k){b.slice.call(arguments,0,arguments.length);return g},z.$$arity=-1);return(b.defs(v,"$private",C=function(k){b.slice.call(arguments,0,arguments.length);return g},C.$$arity=-1),g)&&"private"};
(function(b){var u=b.top;b.add_stubs(["$require"]);u.$require("opal/base");u.$require("opal/mini");u.$require("corelib/string/encoding");u.$require("corelib/struct");u.$require("corelib/io");u.$require("corelib/main");u.$require("corelib/dir");u.$require("corelib/file");u.$require("corelib/process");return u.$require("corelib/unsupported")})(Opal);
(function(b,u){"object"===typeof module&&module.exports?module.exports=u:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return u(b.config())}):b.Asciidoctor=u})(this,function(b){function u(a,b,m,x,k){var d=Opal.klass(Opal.Object,a,b,function(){}),h,c,y,p={},r;for(r in m)m.hasOwnProperty(r)&&function(a){var b=m[a];"postConstruct"===a?h=b:"initialize"===a?c=b:"constructor"===a?y=b:(x&&x.hasOwnProperty(a)&&(p[a]=!0),Opal.def(d,"$"+a,function(){var c=k&&k.hasOwnProperty(a)?
k[a](arguments):arguments;return b.apply(this,c)}))}(r);var D="function"===typeof y?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));a.unshift(null);a=new (Function.prototype.bind.apply(y,a));Object.assign(this,a);"function"===typeof h&&h.bind(this)()}:"function"===typeof c?function(){for(var a=Array.from(arguments),b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));c.apply(this,a);"function"===typeof h&&
h.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",D));"function"===typeof h&&h.bind(this)()};Opal.def(d,"$initialize",D);Opal.def(d,"super",function(a){if("function"===typeof a)Opal.send(this,Opal.find_super_dispatcher(this,a.name,a));else{for(var b=Array.from(arguments),c=0;c<b.length;c++)"object"===typeof b[c]&&(b[c]=q(b[c]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",D),b)}});if(x)for(var l in x)x.hasOwnProperty(l)&&!p.hasOwnProperty(l)&&function(a){var b=
x[a];Opal.def(d,"$"+a,function(){return b.apply(this,arguments)})}(l);return d}function z(a,b){var d=Opal.const_get_qualified(Opal.Logger,"Formatter");return u(d,a,b,{},{call:function(a){for(var b=0;b<a.length;b++)"object"===typeof a[b]&&"$$smap"in a[b]&&(a[b]=g(a[b]));return a}})}function C(a,b){var d=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return u(d,a,b,{},{add:function(a){if(2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]){var b=g(a[2]);b.getText=function(){return this.text};
b.getSourceLocation=function(){return this.source_location};b.$inspect=function(){var a=this.getSourceLocation();return a?a.getPath()+": line "+a.getLineNumber()+": "+this.getText():this.getText()};a[2]=b}1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a}})}function v(a,b,g){a=Opal.const_get_qualified(A,a);return u(a,b,g,{"handles?":function(){return!0}})}Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var b=[],g=a.nil,m=a.const_get_relative,k=a.klass;a.add_stubs(["$new"]);
return function(b,$super,c){b=k(b,$super,"File");var d=[b].concat(c),p;return(a.defs(b,"$read",p=function(a){var b="",c=-1;try{var e=new XMLHttpRequest;e.open("GET",a,!1);e.addEventListener("load",function(){c=this.status;if(0===c||200===c)b=this.responseText});e.overrideMimeType("text/plain");e.send()}catch(f){throw m(d,"IOError").$new("Error reading file or directory: "+a+"; reason: "+f.message);}if(404===c||0===c&&!b)throw m(d,"IOError").$new("No such file or directory: "+a);return b},p.$$arity=
1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser"]=function(a){var d=a.top,g=[];a.add_stubs(["$require"]);if("object"===typeof b&&"object"===typeof b.runtime){var m=b.runtime;var k=m.platform;var n=m.engine;var h=m.framework;m=m.ioModule}k=k||"browser";n=n||"";h=h||"";a.const_set(g[0],"JAVASCRIPT_IO_MODULE",m||"xmlhttprequest");a.const_set(g[0],"JAVASCRIPT_PLATFORM",k);a.const_set(g[0],"JAVASCRIPT_ENGINE",n);a.const_set(g[0],"JAVASCRIPT_FRAMEWORK",h);return d.$require("asciidoctor/js/opal_ext/browser/file")};
Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(a){var b=[],g=a.nil,m=a.const_get_qualified,k=a.const_get_relative,n=a.module,h=a.klass,c=a.hash2,y=a.truthy;a.add_stubs("$uriish? $[] $web_path $path_resolver $descends_from? $base_dir $attr? $join $prepare_source_string $read $fetch $warn $logger $normalize_system_path $read_asset".split(" "));return function(b,d){b=[n(b,"Asciidoctor")].concat(d);(function(b,$super,e){b=h(b,$super,"AbstractNode");var f=[b].concat(e),d,
p;b.$$prototype.document=g;a.def(b,"$read_contents",d=function(b,e){var d,p,h,n=g;null==e&&(e=c([],{}));var x=this.document;if(y(y(d=k(f,"Helpers")["$uriish?"](b))?d:y(p=y(h=n=e["$[]"]("start"))?k(f,"Helpers")["$uriish?"](n):h)?b=x.$path_resolver().$web_path(b,n):p))if(y(y(d=x.$path_resolver()["$descends_from?"](b,x.$base_dir()))?d:x["$attr?"]("allow-uri-read")))try{return y(e["$[]"]("normalize"))?k(f,"Helpers").$prepare_source_string(m("::","File").$read(b)).$join(k(f,"LF")):m("::","File").$read(b)}catch(va){if(a.rescue(va,
[k(f,"StandardError")]))try{return y(e.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(y(d=e["$[]"]("label"))?d:"asset")+" at URI: "+b),g}finally{a.pop_exception()}else throw va;}else return y(e.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(y(d=e["$[]"]("label"))?d:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),g;else return b=this.$normalize_system_path(b,e["$[]"]("start"),g,c(["target_name"],{target_name:y(d=
e["$[]"]("label"))?d:"asset"})),this.$read_asset(b,c(["normalize","warn_on_failure","label"],{normalize:e["$[]"]("normalize"),warn_on_failure:e.$fetch("warn_on_failure",!0),label:e["$[]"]("label")}))},d.$$arity=-2);return(a.def(b,"$generate_data_uri_from_uri",p=function(a,b){null==b&&(b=!1);var c="",e="",f=-1;try{var d=new XMLHttpRequest;d.open("GET",a,!1);d.overrideMimeType("text/plain; charset=x-user-defined");d.addEventListener("load",function(){f=this.status;if(0===f||200===f){for(var a="",b=
this.responseText,d=0,g=b.length;d<g;++d){var p=b.charCodeAt(d)&255;a+=String.fromCharCode(p)}e=btoa(a);c=this.getResponseHeader("content-type")}});d.send(null);if(!c)if(a.endsWith(".jpeg")||a.endsWith(".jpg")||a.endsWith(".jpe"))c="image/jpg";else if(a.endsWith(".png"))c="image/png";else if(a.endsWith(".svg"))c="image/svg+xml";else if(a.endsWith(".bmp"))c="image/bmp";else if(a.endsWith(".tif")||a.endsWith(".tiff"))c="image/tiff"}catch(H){f=0}return 404!==f&&(0!==f||e&&c)?"data:"+c+";base64,"+e:(this.$logger().$warn("could not retrieve image data from URI: "+
a),a)},p.$$arity=-2),g)&&"generate_data_uri_from_uri"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(a){var b=[],g=a.nil,m=a.const_get_relative,k=a.module,n=a.send;a.add_stubs(["$new","$path"]);return function(b,c){var d=[k(b,"OpenURI")].concat(c),p;a.defs(m(d,"OpenURI"),"$open_uri",p=function(b,c){var l,e=(l=p.$$p)||g;l&&(p.$$p=null);l=a.slice.call(arguments,1,arguments.length);l=n(m(d,"File"),"new",[this.$path()].concat(a.to_a(l)));return e!==g?
a.yield1(e,l):l},p.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(a){var b=[],g=a.nil,m=a.const_get_relative,k=a.module,n=a.klass,h=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));return function(b,d){b=[k(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=n(b,$super,"PreprocessorReader");var d=[b].concat(c),e;b.$$prototype.path_resolver=
b.$$prototype.document=b.$$prototype.include_stack=b.$$prototype.dir=g;return(a.def(b,"$resolve_include_path",e=function(a,b,c){var e,f,l;c=g;var p=(this.path_resolver=h(e=this.path_resolver)?e:m(d,"PathResolver").$new("\\")).$posixify(a);e=["file",this.document.$base_dir()];var n=e[1];e;if(h(p["$start_with?"]("file://")))a=b=p;else if(h(m(d,"Helpers")["$uriish?"](p))){if(!h(h(e=this.path_resolver["$descends_from?"](p,n))?e:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+
a+"["+b+"]");a=b=p}else if(h(this.path_resolver["$absolute_path?"](p)))a=b="file://"+(h(p["$start_with?"]("/"))?"":"/")+p;else if((f=h(l=this.include_stack["$empty?"]())?n:this.dir)["$=="]("."))a=b=p;else if(h(h(e=f["$start_with?"]("file://"))?e:m(d,"Helpers")["$uriish?"](f)["$!"]()))a=""+f+"/"+p,b=h(l)?p:h(h(e=n["$=="]("."))?e:(c=this.path_resolver["$descends_from?"](a,n))["$!"]())?a:a.$slice(c,a.$length());else if(h(l))a=""+f+"/"+(b=p);else if(h(h(e=c=this.path_resolver["$descends_from?"](f,n))?
e:this.document.$attributes()["$key?"]("allow-uri-read")))a=""+f+"/"+p,b=h(c)?a.$slice(c,a.$length()):p;else return this.$replace_next_line("link:"+a+"["+b+"]");return[a,"file",b]},e.$$arity=3),g)&&"resolve_include_path"})(b[0],m(b,"Reader"),b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(a){var b=a.top,g=a.nil,m=a.const_get_relative;a.add_stubs(["$==","$require"]);return m([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(b.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),
b.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),b.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):g};Opal.modules.set=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var k=[],n=a.nil,h=a.const_get_relative,c=a.klass,y=a.hash2,p=a.truthy,r=a.send,D=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(d,$super,f){d=c(d,$super,"Set");var l=[d].concat(f),k,x,D,M,q,w,L,u,T,V,v,t,A,z,C,E,sa,za,oa,ma,W,aa,F,I,J,O,ka,ia;d.$$prototype.hash=n;d.$include(h(l,"Enumerable"));a.defs(d,"$[]",k=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$new(c)},k.$$arity=-1);a.def(d,"$initialize",x=function(b){var c=x.$$p,f=c||n,d;c&&(x.$$p=null);c&&(x.$$p=null);null==b&&(b=n);this.hash=y([],{});if(p(b["$nil?"]()))return n;p(h(l,"Enumerable")["$==="](b))||this.$raise(h(l,"ArgumentError"),
"value must be enumerable");return p(f)?r(b,"each",[],(d=function(b){var c=d.$$s||this;null==b&&(b=n);return c.$add(a.yield1(f,b))},d.$$s=this,d.$$arity=1,d)):this.$merge(b)},x.$$arity=-1);a.def(d,"$dup",D=function(){return this.$class().$new().$merge(this)},D.$$arity=0);a.def(d,"$-",M=function(a){p(a["$respond_to?"]("each"))||this.$raise(h(l,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},M.$$arity=1);a.alias(d,"difference","-");a.def(d,"$inspect",q=function(){return"#<Set: {"+
this.$to_a().$join(",")+"}>"},q.$$arity=0);a.def(d,"$==",w=function(a){var b,c;return p(this["$equal?"](a))?!0:p(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):p(p(b=a["$is_a?"](h(l,"Set")))?this.$size()["$=="](a.$size()):b)?r(a,"all?",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=n);null==a&&(a=n);return b.hash["$include?"](a)},c.$$s=this,c.$$arity=1,c)):!1},w.$$arity=1);a.def(d,"$add",L=function(c){c=[c,!0];r(this.hash,"[]=",a.to_a(c));c[b(c.length,
1)];return this},L.$$arity=1);a.alias(d,"<<","add");a.def(d,"$classify",u=function(){var c=u.$$p,f=c||n,d,g,p=n;c&&(u.$$p=null);c&&(u.$$p=null);if(f===n)return this.$enum_for("classify");p=r(h(l,"Hash"),"new",[],(d=function(c,f){var l=d.$$s||this;null==c&&(c=n);null==f&&(f=n);f=[f,l.$class().$new()];r(c,"[]=",a.to_a(f));return f[b(f.length,1)]},d.$$s=this,d.$$arity=2,d));r(this,"each",[],(g=function(b){null==b&&(b=n);return p["$[]"](a.yield1(f,b)).$add(b)},g.$$s=this,g.$$arity=1,g));return p},u.$$arity=
0);a.def(d,"$collect!",T=function(){var b=T.$$p,c=b||n,f,d=n;b&&(T.$$p=null);b&&(T.$$p=null);if(c===n)return this.$enum_for("collect!");d=this.$class().$new();r(this,"each",[],(f=function(b){null==b&&(b=n);return d["$<<"](a.yield1(c,b))},f.$$s=this,f.$$arity=1,f));return this.$replace(d)},T.$$arity=0);a.alias(d,"map!","collect!");a.def(d,"$delete",V=function(a){this.hash.$delete(a);return this},V.$$arity=1);a.def(d,"$delete?",v=function(a){return p(this["$include?"](a))?(this.$delete(a),this):n},
v.$$arity=1);a.def(d,"$delete_if",t=function(){var b,c,f=t.$$p,d=f||n;f&&(t.$$p=null);if(d===n)return this.$enum_for("delete_if");r(r(this,"select",[],(b=function(b){null==b&&(b=n);return a.yield1(d,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=n);null==a&&(a=n);return b.hash.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},t.$$arity=0);a.def(d,"$add?",A=function(a){return p(this["$include?"](a))?n:this.$add(a)},A.$$arity=1);a.def(d,"$each",z=function(){var a=
z.$$p,b=a||n;a&&(z.$$p=null);a&&(z.$$p=null);if(b===n)return this.$enum_for("each");r(this.hash,"each_key",[],b.$to_proc());return this},z.$$arity=0);a.def(d,"$empty?",C=function(){return this.hash["$empty?"]()},C.$$arity=0);a.def(d,"$eql?",E=function(a){var b;return this.hash["$eql?"](r(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=n);return a.hash},b.$$s=this,b.$$arity=0,b)))},E.$$arity=1);a.def(d,"$clear",sa=function(){this.hash.$clear();return this},sa.$$arity=0);
a.def(d,"$include?",za=function(a){return this.hash["$include?"](a)},za.$$arity=1);a.alias(d,"member?","include?");a.def(d,"$merge",oa=function(a){var b;r(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=n);return c.$add(a)},b.$$s=this,b.$$arity=1,b));return this},oa.$$arity=1);a.def(d,"$replace",ma=function(a){this.$clear();this.$merge(a);return this},ma.$$arity=1);a.def(d,"$size",W=function(){return this.hash.$size()},W.$$arity=0);a.alias(d,"length","size");a.def(d,"$subtract",aa=function(a){var b;
r(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=n);return c.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},aa.$$arity=1);a.def(d,"$|",F=function(a){p(a["$respond_to?"]("each"))||this.$raise(h(l,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},F.$$arity=1);a.def(d,"$superset?",I=function(a){var b,c;p(b=a["$is_a?"](h(l,"Set")))?b:this.$raise(h(l,"ArgumentError"),"value must be a set");return p(g(this.$size(),a.$size()))?!1:r(a,"all?",[],(c=function(a){var b=
c.$$s||this;null==a&&(a=n);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},I.$$arity=1);a.alias(d,">=","superset?");a.def(d,"$proper_superset?",J=function(a){var b,c;p(b=a["$is_a?"](h(l,"Set")))?b:this.$raise(h(l,"ArgumentError"),"value must be a set");return p(m(this.$size(),a.$size()))?!1:r(a,"all?",[],(c=function(a){var b=c.$$s||this;null==a&&(a=n);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},J.$$arity=1);a.alias(d,">","proper_superset?");a.def(d,"$subset?",O=function(a){var b,c;
p(b=a["$is_a?"](h(l,"Set")))?b:this.$raise(h(l,"ArgumentError"),"value must be a set");return p(g(a.$size(),this.$size()))?!1:r(this,"all?",[],(c=function(b){null==b&&(b=n);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},O.$$arity=1);a.alias(d,"<=","subset?");a.def(d,"$proper_subset?",ka=function(a){var b,c;p(b=a["$is_a?"](h(l,"Set")))?b:this.$raise(h(l,"ArgumentError"),"value must be a set");return p(m(a.$size(),this.$size()))?!1:r(this,"all?",[],(c=function(b){null==b&&(b=n);return a["$include?"](b)},
c.$$s=this,c.$$arity=1,c))},ka.$$arity=1);a.alias(d,"<","proper_subset?");a.alias(d,"+","|");a.alias(d,"union","|");return(a.def(d,"$to_a",ia=function(){return this.hash.$keys()},ia.$$arity=0),n)&&"to_a"})(k[0],null,k);return function(b,c){b=D(b,"Enumerable");var e=[b].concat(c),d;a.def(b,"$to_set",d=function(b,c){var f=d.$$p,l=f||n;f&&(d.$$p=null);f&&(d.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(0<f.length){var g=f[0];f.splice(0,1)}null==g&&(g=h(e,"Set"));return r(g,"new",[this].concat(a.to_a(f)),
l.$to_proc())},d.$$arity=-1)}(k[0],k)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],g=a.nil,m=a.const_get_relative,k=a.module,n=a.send;a.add_stubs(["$new"]);return function(b,c){b=k(b,"Kernel");var d=[b].concat(c),p,h;a.def(b,"$open",p=function(b,c){var e,f=(e=p.$$p)||g;e&&(p.$$p=null);e=a.slice.call(arguments,1,arguments.length);e=n(m(d,"File"),"new",[b].concat(a.to_a(e)));return f!==g?a.yield1(f,e):e},p.$$arity=-2);a.def(b,"$__dir__",h=function(){return""},h.$$arity=0)}(b[0],
b)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],g=a.nil,m=a.const_get_relative,k=a.klass,n=a.truthy,h=a.gvars;a.add_stubs("$attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,$super,d){b=k(b,$super,"File");var c=[b].concat(d),p,l,e,f;b.$$prototype.eof=b.$$prototype.path=g;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",p=function(a,b){null==b&&(b="r");this.path=a;this.contents=
g;this.eof=!1;this.lineno=0;b=b.$delete("b");return this.flags=b=b.$gsub(/:(.*)/,"")},p.$$arity=-2);a.def(b,"$read",l=function(){if(n(this.eof))return"";var a=m(c,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},l.$$arity=0);a.def(b,"$each_line",e=function(b){var f=e.$$p,d=f||g;null==h["/"]&&(h["/"]=g);f&&(e.$$p=null);f&&(e.$$p=null);null==b&&(b=h["/"]);if(n(this.eof))return d!==g?this:[].$to_enum();if(d!==g){f=m(c,"File").$read(this.path);this.eof=!1;this.lineno=0;var l=f.$chomp();
f=f.length!=l.length;l=l.split(b);for(var p=0,k=l.length;p<k;p++)this.lineno+=1,p<k-1||f?a.yield1(d,l[p]+b):a.yield1(d,l[p]);this.eof=!0;return this}return this.$read().$each_line()},e.$$arity=-1);a.def(b,"$readlines",f=function(){return m(c,"File").$readlines(this.path)},f.$$arity=0);return function(b,c){var e=[b].concat(c),f,d,l,p;a.def(b,"$readlines",f=function(a,b){null==h["/"]&&(h["/"]=g);null==b&&(b=h["/"]);return m(e,"File").$read(a).$split(b)},f.$$arity=-2);a.def(b,"$file?",d=function(a){return!0},
d.$$arity=1);a.def(b,"$readable?",l=function(a){return!0},l.$$arity=1);return(a.def(b,"$read",p=function(a){return""},p.$$arity=1),g)&&"read"}(a.get_singleton_class(b),c)})(b[0],null,b);return function(b,$super,d){b=k(b,$super,"IO");var c=[b].concat(d),p;return(a.defs(b,"$read",p=function(a){return m(c,"File").$read(a)},p.$$arity=1),g)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],g=a.nil,m=a.klass,k=a.send;a.add_stubs(["$[]=","$-"]);return function(b,
$super,c){b=m(b,$super,"MatchData");[b].concat(c);var d;b.$$prototype.matches=g;return(a.def(b,"$[]=",d=function(b,c){b=[b,c];k(this.matches,"[]=",a.to_a(b));c=b.length;c="number"===typeof c?c-1:c["$-"](1);return b[c]},d.$$arity=2),g)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],g=a.nil,m=a.klass,k=a.truthy,n=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));return function(b,
$super,d){b=m(b,$super,"String");[b].concat(d);var p,h;k(b["$method_defined?"]("limit_bytesize"))||a.def(b,"$limit_bytesize",p=function(a){var b=this.$bytes().$length();b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);return k(b)?this.$byteslice(0,a).$to_s():this.$to_s()},p.$$arity=1);k(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",h=function(a){var b;return a["$=="]("C3")?n(this["$[]"](0,3).$bytes().$select(),
"with_index",[],(b=function(a,b){null==b&&(b=g);return b["$even?"]()},b.$$s=this,b.$$arity=2,b)):this.$_original_unpack(a)},h.$$arity=1),g)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],g=a.const_get_relative,m=a.module;a.add_stubs(["$extend"]);return function(b,d){b=m(b,"URI");var h=[b].concat(d),c,n;a.defs(b,"$parse",c=function(a){return a.$extend(g(h,"URI"))},c.$$arity=1);a.def(b,"$path",n=function(){return this},n.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/base64"]=
function(a){var b=[],g=a.module,m=a.hash2,k=a.truthy;a.add_stubs(["$delete"]);return function(b,d){b=g(b,"Base64");[b].concat(d);var c,h,p,n,x,l;var e=a.global.btoa||function(a){return(a instanceof Buffer?a:Buffer.from(a.toString(),"binary")).toString("base64")};var f=a.global.atob||function(a){return Buffer.from(a,"base64").toString("binary")};a.defs(b,"$decode64",c=function(a){return f(a.replace(/\r?\n/g,""))},c.$$arity=1);a.defs(b,"$encode64",h=function(a){return e(a).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,
"$1\n")},h.$$arity=1);a.defs(b,"$strict_decode64",p=function(a){return f(a)},p.$$arity=1);a.defs(b,"$strict_encode64",n=function(a){return e(a)},n.$$arity=1);a.defs(b,"$urlsafe_decode64",x=function(a){return f(a.replace(/\-/g,"+").replace(/_/g,"/"))},x.$$arity=1);a.defs(b,"$urlsafe_encode64",l=function(b,c){if(null==c)c=m([],{});else if(!c.$$is_hash)throw a.ArgumentError.$new("expected kwargs");c=c.$$smap.padding;null==c&&(c=!0);b=e(b).replace(/\+/g,"-").replace(/\//g,"_");k(c)||(b=b.$delete("="));
return b},l.$$arity=-2)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/number"]=function(a){var b=[],g=a.nil,m=a.const_get_relative,k=a.klass,n=a.truthy;a.add_stubs(["$coerce_to!","$>"]);return function(b,$super,d){b=k(b,$super,"Number");var p=[b].concat(d),h;return(a.def(b,"$round",h=function(a){a=m(p,"Opal")["$coerce_to!"](a,m(p,"Integer"),"to_int");return n("number"===typeof a?0<a:a["$>"](0))?Number(this.toFixed(a)):Math.round(this)},h.$$arity=-1),g)&&"round"}(b[0],m(b,"Numeric"),b)};Opal.modules["asciidoctor/js/opal_ext"]=
function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext/kernel");b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");b.$require("asciidoctor/js/opal_ext/string");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/base64");b.$require("asciidoctor/js/opal_ext/number");a.config.unsupported_features_severity="ignore";b.$require("asciidoctor/js/opal_ext/browser")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,
b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],m=a.nil,k=a.const_get_relative,n=a.module,h=a.send,c=a.gvars,y=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(d,g){d=n(d,"Asciidoctor");var p=[d].concat(g),l;a.const_set(p[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(d,"$unpack_hex_range",l=function(a){var b;return h(a,"gsub",[k(p,"HEX_RANGE_RX")],(b=function(){var a,b;return"\\u"+((a=c["~"])===m?m:a["$[]"](1))+(y(a=(b=c["~"])===m?m:
b["$[]"](2))?"-\\u"+((b=c["~"])===m?m:b["$[]"](2)):a)},b.$$s=this,b.$$arity=0,b))},l.$$arity=1);a.const_set(p[0],"P_L",b("A-Za-z",d.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(p[0],"P_Nl",d.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(p[0],"P_Nd",b("0-9",d.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(p[0],
"P_Pc",d.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(p[0],"CC_ALPHA",""+k(p,"P_L")+k(p,"P_Nl"));a.const_set(p[0],"CG_ALPHA","["+k(p,"CC_ALPHA")+"]");a.const_set(p[0],"CC_ALNUM",""+k(p,"CC_ALPHA")+k(p,"P_Nd"));a.const_set(p[0],"CG_ALNUM","["+k(p,"CC_ALNUM")+"]");a.const_set(p[0],"CC_WORD",""+k(p,"CC_ALNUM")+k(p,"P_Pc"));a.const_set(p[0],"CG_WORD","["+k(p,"CC_WORD")+"]");a.const_set(p[0],"CG_BLANK","[ \\t]");a.const_set(p[0],"CC_EOL","(?=\\n|$)");a.const_set(p[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(p[0],"CC_ALL","[\\s\\S]");a.const_set(p[0],"CC_ANY","[^\\n]")}(g[0],g)};Opal.modules.strscan=function(a){var b=[],g=a.nil,m=a.klass,k=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,c){b=m(b,$super,"StringScanner");[b].concat(c);var d,p,n,x,l,e,f,r,q,u,N,M,L,w,T,v,t,A,U,z,C,ya,E,F,sa;b.$$prototype.pos=b.$$prototype.string=b.$$prototype.working=b.$$prototype.matched=b.$$prototype.prev_pos=
b.$$prototype.match=g;b.$attr_reader("pos");b.$attr_reader("matched");a.def(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=g;this.working=a;return this.match=[]},d.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",p=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},p.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",n=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:"object"===typeof a?(this.prev_pos=
this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):g},n.$$arity=1);a.def(b,"$scan_until",x=function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,e;;)if(e=a.exec(c),b+=1,c=c.substr(1),null==e){if(0===c.length)return this.matched=g}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=b-1,this.pos=
b,this.working=c.substr(e[0].length),this.matched},x.$$arity=1);a.def(b,"$[]",l=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?g:b[a]},l.$$arity=1);a.def(b,"$check",e=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=g:this.matched=a[0]},e.$$arity=1);a.def(b,"$check_until",f=function(a){var b=this.prev_pos,c=this.pos;a=this.$scan_until(a);a!==g&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=b;this.pos=
c;return a},f.$$arity=1);a.def(b,"$peek",r=function(a){return this.working.substring(0,a)},r.$$arity=1);a.def(b,"$eos?",q=function(){return 0===this.working.length},q.$$arity=0);a.def(b,"$exist?",u=function(a){a=a.exec(this.working);return null==a?g:0==a.index?0:a.index+1},u.$$arity=1);a.def(b,"$skip",N=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=g;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);
return b},N.$$arity=1);a.def(b,"$skip_until",M=function(a){a=this.$scan_until(a);if(a===g)return g;this.matched=a.substr(-1);return a.length},M.$$arity=1);a.def(b,"$get_byte",L=function(){var a=g;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=g;return a},L.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",w=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return g;
this.prev_pos=this.pos;return a[0].length},w.$$arity=1);a.def(b,"$pos=",T=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},T.$$arity=1);a.def(b,"$matched_size",v=function(){return this.matched===g?g:this.matched.length},v.$$arity=0);a.def(b,"$post_match",t=function(){return this.matched===g?g:this.string.substr(this.pos)},t.$$arity=0);a.def(b,"$pre_match",A=function(){return this.matched===g?g:this.string.substr(0,this.prev_pos)},A.$$arity=0);a.def(b,
"$reset",U=function(){this.working=this.string;this.matched=g;return this.pos=0},U.$$arity=0);a.def(b,"$rest",z=function(){return this.working},z.$$arity=0);a.def(b,"$rest?",C=function(){return 0!==this.working.length},C.$$arity=0);a.def(b,"$rest_size",ya=function(){return this.$rest().$size()},ya.$$arity=0);a.def(b,"$terminate",E=function(){this.match=g;var b=[this.string.$length()];k(this,"pos=",a.to_a(b));var c=b.length;c="number"===typeof c?c-1:c["$-"](1);return b[c]},E.$$arity=0);a.def(b,"$unscan",
F=function(){this.pos=this.prev_pos;this.match=this.prev_pos=g;return this},F.$$arity=0);b.$private();return(a.def(b,"$anchor",sa=function(a){var b=a.toString().match(/\/([^\/]+)$/);b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},sa.$$arity=1),g)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=
function(a){var b=[],g=a.nil,m=a.klass,k=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,c){b=m(b,$super,"NilClass");[b].concat(c);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,c){b=m(b,$super,"String");[b].concat(c);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){b=m(b,$super,"Array");[b].concat(c);return k(b["$method_defined?"]("nil_or_empty?"))?
g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){b=m(b,$super,"Hash");[b].concat(c);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,c){b=m(b,$super,"Numeric");[b].concat(c);return k(b["$method_defined?"]("nil_or_empty?"))?g:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/hash/merge"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}var g,m=a.top,k=[],n=a.nil,h=a.const_get_relative,c=a.send,y=a.truthy,p=a.hash2;a.add_stubs("$== $arity $instance_method $send $new $< $length $> $inject $merge $[]".split(" "));return h(k,"Hash").$instance_method("merge").$arity()["$=="](1)?h(k,"Hash").$send("prepend",c(h(k,"Module"),"new",[],(g=function(){var d;return(a.def(g.$$s||this,"$merge",d=function(g){var l,e=n;d.$$p&&(d.$$p=null);var f=a.slice.call(arguments,0,arguments.length);return y(b(e=f.$length(),1))?c(this,a.find_super_dispatcher(this,
"merge",d,!1),[p([],{})],null):y("number"===typeof e?1<e:e["$>"](1))?c(f,"inject",[this],(l=function(a,b){null==a&&(a=n);null==b&&(b=n);return a.$merge(b)},l.$$s=this,l.$$arity=2,l)):c(this,a.find_super_dispatcher(this,"merge",d,!1),[f["$[]"](0)],null)},d.$$arity=-1),n)&&"merge"},g.$$s=m,g.$$arity=0,g))):n};Opal.modules["asciidoctor/core_ext/match_data/names"]=function(a){var b=[],g=a.nil,m=a.const_get_relative,k=a.truthy,n=a.klass;a.add_stubs(["$method_defined?"]);return k(m(b,"MatchData")["$method_defined?"]("names"))?
g:function(b,$super,d){b=n(b,$super,"MatchData");[b].concat(d);var p;return(a.def(b,"$names",p=function(){return[]},p.$$arity=0),g)&&"names"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,g=a.nil,m=a.const_get_relative;a.add_stubs(["$=="]);b.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty");b.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge");return m([],"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):
g};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=[],k=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,y=a.truthy,p=a.gvars,r=a.send,q=a.hash2;a.add_stubs("$module_function $require $include? $include $== $=== $path $message $raise $warn $logger $chomp $empty? $slice $unpack $[] $byteslice $bytesize $[]= $- $map $rstrip $encode $encoding $nil_or_empty? $!= $tap $each_line $<< $match? $gsub $rindex $index $basename $extname $! $length $directory? $dirname $mkdir_p $mkdir $private_constant $join $divmod $* $+ $to_i $to_s $chr $ord $class_for_name $const_get".split(" "));
return function(d,e){d=[c(d,"Asciidoctor")].concat(e);(function(e,d){e=c(e,"Helpers");var f=[e].concat(d),l,m,M,x,w,D,u,L,Y,v,T,t,V,A,z,C;e.$module_function();a.def(e,"$require_library",l=function(b,c,e){var d=k,l=k;null==p["!"]&&(p["!"]=k);null==c&&(c=!0);null==e&&(e="abort");try{return this.$require(b)}catch(Ea){if(a.rescue(Ea,[n("::","LoadError")]))try{return y(this["$include?"](h(f,"Logging")))||this.$include(h(f,"Logging")),y(c)?(c["$=="](!0)&&(c=b),d=e,"abort"["$==="](d)?(l=p["!"].$path()["$=="](c)?
"":" (reason: "+(y(p["!"].$path())?"cannot load '"+p["!"].$path()+"'":p["!"].$message())+")",this.$raise(n("::","LoadError"),"asciidoctor: FAILED: required gem '"+c+"' is not available"+l+". Processing aborted.")):"warn"["$==="](d)&&(l=p["!"].$path()["$=="](c)?"":" (reason: "+(y(p["!"].$path())?"cannot load '"+p["!"].$path()+"'":p["!"].$message())+")",this.$logger().$warn("optional gem '"+c+"' is not available"+l+". Functionality disabled."))):(d=e,"abort"["$==="](d)?this.$raise(n("::","LoadError"),
"asciidoctor: FAILED: "+p["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](d)&&this.$logger().$warn(""+p["!"].$message().$chomp(".")+". Functionality disabled.")),k}finally{a.pop_exception()}else throw Ea;}},l.$$arity=-2);a.def(e,"$prepare_source_array",m=function(c){var e,d,l,g,p=k,m=k,w=k;p=k;if(y(c["$empty?"]()))return[];if((p=(m=(w=c["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](h(f,"BOM_BYTES_UTF_16LE")))return p=[0,w.$byteslice(2,w.$bytesize())],r(c,"[]=",a.to_a(p)),p[b(p.length,
1)],r(c,"map",[],(e=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8"),n(n("::","Encoding"),"UTF_16LE")).$rstrip()},e.$$s=this,e.$$arity=1,e));if(p["$=="](h(f,"BOM_BYTES_UTF_16BE")))return p=[0,w.$byteslice(2,w.$bytesize())],r(c,"[]=",a.to_a(p)),p[b(p.length,1)],r(c,"map",[],(d=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8"),n(n("::","Encoding"),"UTF_16BE")).$rstrip()},d.$$s=this,d.$$arity=1,d));m["$=="](h(f,"BOM_BYTES_UTF_8"))&&(p=[0,w.$byteslice(3,w.$bytesize())],r(c,"[]=",a.to_a(p)),
p[b(p.length,1)]);return w.$encoding()["$=="](h(f,"UTF_8"))?r(c,"map",[],(l=function(a){null==a&&(a=k);return a.$rstrip()},l.$$s=this,l.$$arity=1,l)):r(c,"map",[],(g=function(a){null==a&&(a=k);return a.$encode(h(f,"UTF_8")).$rstrip()},g.$$s=this,g.$$arity=1,g))},m.$$arity=1);a.def(e,"$prepare_source_string",M=function(a){var b,c=k,e=k;if(y(a["$nil_or_empty?"]()))return[];(c=(e=a.$unpack("C3")).$slice(0,2))["$=="](h(f,"BOM_BYTES_UTF_16LE"))?a=a.$byteslice(2,a.$bytesize()).$encode(h(f,"UTF_8"),n(n("::",
"Encoding"),"UTF_16LE")):c["$=="](h(f,"BOM_BYTES_UTF_16BE"))?a=a.$byteslice(2,a.$bytesize()).$encode(h(f,"UTF_8"),n(n("::","Encoding"),"UTF_16BE")):e["$=="](h(f,"BOM_BYTES_UTF_8"))?(a=a.$byteslice(3,a.$bytesize()),a.$encoding()["$=="](h(f,"UTF_8"))||(a=a.$encode(h(f,"UTF_8")))):y(a.$encoding()["$!="](h(f,"UTF_8")))&&(a=a.$encode(h(f,"UTF_8")));return r([],"tap",[],(b=function(c){var e=b.$$s||this,f;null==c&&(c=k);return r(a,"each_line",[],(f=function(a){null==a&&(a=k);return c["$<<"](a.$rstrip())},
f.$$s=e,f.$$arity=1,f))},b.$$s=this,b.$$arity=1,b))},M.$$arity=1);a.def(e,"$uriish?",x=function(a){var b;return y(b=a["$include?"](":"))?h(f,"UriSniffRx")["$match?"](a):b},x.$$arity=1);h(f,"RUBY_ENGINE")["$=="]("opal")?a.def(e,"$encode_uri_component",w=function(a){return encodeURIComponent(a).replace(/%20|[!'()*]/g,function(a){return"%20"===a?"+":"%"+a.charCodeAt(0).toString(16)})},w.$$arity=1):k;a.def(e,"$encode_spaces_in_uri",D=function(a){return y(a["$include?"](" "))?a.$gsub(" ","%20"):a},D.$$arity=
1);a.def(e,"$rootname",u=function(a){var b;return y(b=a.$rindex("."))?y(a.$index("/",b))?a:a.$slice(0,b):a},u.$$arity=1);a.def(e,"$basename",L=function(a,b){null==b&&(b=k);return y(b)?n("::","File").$basename(a,b["$=="](!0)?this.$extname(a):b):n("::","File").$basename(a)},L.$$arity=-2);a.def(e,"$extname?",Y=function(a){var b,c=k;return y(b=c=a.$rindex("."))?a.$index("/",c)["$!"]():b},Y.$$arity=1);y(n(n("::","File"),"ALT_SEPARATOR"))?a.def(e,"$extname",v=function(a,b){var c,e;null==b&&(b="");return y(e=
a.$rindex("."))?y(y(c=a.$index("/",e))?c:a.$index(n(n("::","File"),"ALT_SEPARATOR"),e))?b:a.$slice(e,a.$length()):b},v.$$arity=-2):a.def(e,"$extname",T=function(a,b){var c;null==b&&(b="");return y(c=a.$rindex("."))?y(a.$index("/",c))?b:a.$slice(c,a.$length()):b},T.$$arity=-2);a.def(e,"$mkdir_p",t=function(b){var c;if(y(n("::","File")["$directory?"](b)))return k;(c=n("::","File").$dirname(b))["$=="](".")||this.$mkdir_p(c);try{return n("::","Dir").$mkdir(b)}catch(ma){if(a.rescue(ma,[n("::","SystemCallError")]))try{return y(n("::",
"File")["$directory?"](b))?k:this.$raise()}finally{a.pop_exception()}else throw ma;}},t.$$arity=1);a.const_set(f[0],"ROMAN_NUMERALS",q("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));e.$private_constant("ROMAN_NUMERALS");a.def(e,"$int_to_roman",V=function(b){var c;return r(h(f,"ROMAN_NUMERALS"),"map",[],(c=function(c,e){null==c&&(c=k);null==e&&(e=k);var f=b.$divmod(e);e=a.to_ary(f);var d=null==e[0]?k:e[0];b=null==e[1]?k:e[1];
f;return"number"===typeof c&&"number"===typeof d?c*d:c["$*"](d)},c.$$s=this,c.$$arity=2,c)).$join()},V.$$arity=1);a.def(e,"$nextval",A=function(a){if(y(n("::","Integer")["$==="](a)))return g(a,1);var b=a.$to_i();return y(b.$to_s()["$!="](a.$to_s()))?g(a["$[]"](0).$ord(),1).$chr():g(b,1)},A.$$arity=1);a.def(e,"$resolve_class",z=function(a){return y(n("::","Class")["$==="](a))?a:y(n("::","String")["$==="](a))?this.$class_for_name(a):k},z.$$arity=1);a.def(e,"$class_for_name",C=function(b){var c=k;try{return y(n("::",
"Class")["$==="](c=n("::","Object").$const_get(b,!1)))||this.$raise(),c}catch(ma){if(a.rescue(ma,[h(f,"StandardError")]))try{return this.$raise(n("::","NameError"),"Could not resolve class for name: "+b)}finally{a.pop_exception()}else throw ma;}},C.$$arity=1)})(d[0],d)}(m[0],m)};Opal.modules.logger=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var g=[],m=a.nil,k=a.const_get_qualified,n=a.const_get_relative,h=a.klass,c=a.module,y=a.send,p=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));
return function(d,$super,l){d=h(d,$super,"Logger");var e=[d].concat(l),f,g,r,x,q,M,u,w,L,v,T,t,U,V,A;d.$$prototype.level=d.$$prototype.progname=d.$$prototype.pipe=d.$$prototype.formatter=m;(function(b,e){b=[c(b,"Severity")].concat(e);a.const_set(b[0],"DEBUG",0);a.const_set(b[0],"INFO",1);a.const_set(b[0],"WARN",2);a.const_set(b[0],"ERROR",3);a.const_set(b[0],"FATAL",4);a.const_set(b[0],"UNKNOWN",5)})(e[0],e);d.$include(n(e,"Severity"));a.const_set(e[0],"SEVERITY_LABELS",y(n(e,"Severity").$constants(),
"map",[],(f=function(a){null==a&&(a=m);return[n(e,"Severity").$const_get(a),a.$to_s()]},f.$$s=d,f.$$arity=1,f)).$to_h());(function(b,$super,c){b=h(b,$super,"Formatter");var e=[b].concat(c),f,d;a.const_set(e[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(e[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",f=function(a,b,c,f){return this.$format(n(e,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(n(e,"DATE_TIME_FORMAT")),a,c,this.$message_as_string(f))},f.$$arity=4);return(a.def(b,
"$message_as_string",d=function(a){var b,c=m;return function(){c=a;if(k("::","String")["$==="](c))return a;if(k("::","Exception")["$==="](c)){var e=""+a.$message()+" ("+a.$class()+")\n",f=(p(b=a.$backtrace())?b:[]).$join("\n");return"number"===typeof e&&"number"===typeof f?e+f:e["$+"](f)}return a.$inspect()}()},d.$$arity=1),m)&&"message_as_string"})(e[0],null,e);d.$attr_reader("level");d.$attr_accessor("progname");d.$attr_accessor("formatter");a.def(d,"$initialize",g=function(a){this.pipe=a;this.level=
n(e,"DEBUG");return this.formatter=n(e,"Formatter").$new()},g.$$arity=1);a.def(d,"$level=",r=function(a){var b;return p(k("::","Integer")["$==="](a))?this.level=a:p(b=n(e,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=b:this.$raise(n(e,"ArgumentError"),"invalid log level: "+a)},r.$$arity=1);a.def(d,"$info",x=function(a){var b=x.$$p,c=b||m;b&&(x.$$p=null);b&&(x.$$p=null);null==a&&(a=m);return y(this,"add",[n(e,"INFO"),m,a],c.$to_proc())},x.$$arity=-1);a.def(d,"$debug",q=function(a){var b=
q.$$p,c=b||m;b&&(q.$$p=null);b&&(q.$$p=null);null==a&&(a=m);return y(this,"add",[n(e,"DEBUG"),m,a],c.$to_proc())},q.$$arity=-1);a.def(d,"$warn",M=function(a){var b=M.$$p,c=b||m;b&&(M.$$p=null);b&&(M.$$p=null);null==a&&(a=m);return y(this,"add",[n(e,"WARN"),m,a],c.$to_proc())},M.$$arity=-1);a.def(d,"$error",u=function(a){var b=u.$$p,c=b||m;b&&(u.$$p=null);b&&(u.$$p=null);null==a&&(a=m);return y(this,"add",[n(e,"ERROR"),m,a],c.$to_proc())},u.$$arity=-1);a.def(d,"$fatal",w=function(a){var b=w.$$p,c=
b||m;b&&(w.$$p=null);b&&(w.$$p=null);null==a&&(a=m);return y(this,"add",[n(e,"FATAL"),m,a],c.$to_proc())},w.$$arity=-1);a.def(d,"$unknown",L=function(a){var b=L.$$p,c=b||m;b&&(L.$$p=null);b&&(L.$$p=null);null==a&&(a=m);return y(this,"add",[n(e,"UNKNOWN"),m,a],c.$to_proc())},L.$$arity=-1);a.def(d,"$info?",v=function(){return b(this.level,n(e,"INFO"))},v.$$arity=0);a.def(d,"$debug?",T=function(){return b(this.level,n(e,"DEBUG"))},T.$$arity=0);a.def(d,"$warn?",t=function(){return b(this.level,n(e,"WARN"))},
t.$$arity=0);a.def(d,"$error?",U=function(){return b(this.level,n(e,"ERROR"))},U.$$arity=0);a.def(d,"$fatal?",V=function(){return b(this.level,n(e,"FATAL"))},V.$$arity=0);return(a.def(d,"$add",A=function(b,c,f){var d=A.$$p,l=d||m,g;d&&(A.$$p=null);d&&(A.$$p=null);null==c&&(c=m);null==f&&(f=m);d=b=p(g=b)?g:n(e,"UNKNOWN");var h=this.level;d="number"===typeof d&&"number"===typeof h?d<h:d["$<"](h);if(p(d))return!0;f=p(g=f)?g:this.progname;p(c)||(l!==m?c=a.yieldX(l,[]):(c=f,f=this.progname));this.pipe.$write(this.formatter.$call(p(g=
n(e,"SEVERITY_LABELS")["$[]"](b))?g:"ANY",k("::","Time").$now(),f,c));return!0},A.$$arity=-2),m)&&"add"}(g[0],null,g)};Opal.modules["asciidoctor/logging"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var m=a.top,k=[],n=a.nil,h=a.const_get_qualified,c=a.const_get_relative,y=a.module,p=a.klass,r=a.send,q=a.truthy,l=a.hash2,e=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $tap $each $constants $const_get $[]= $<< $clear $empty? $max $map $attr_accessor $memoize_logger $private $private_class_method $extend $logger $merge".split(" "));
m.$require("logger");return function(f,d){f=[y(f,"Asciidoctor")].concat(d);(function(e,$super,f){e=p(e,$super,"Logger");var d=[e].concat(f),m,w;e.$$prototype.max_severity=n;e.$attr_reader("max_severity");a.def(e,"$initialize",m=function(e){var f=m.$$p,l;f&&(m.$$p=null);var g=0;var p=arguments.length;for(l=Array(p);g<p;g++)l[g]=arguments[g];a.slice.call(arguments,0,arguments.length);r(this,a.find_super_dispatcher(this,"initialize",m,!1),l,f);f=["asciidoctor"];r(this,"progname=",a.to_a(f));f[b(f.length,
1)];f=[c(d,"BasicFormatter").$new()];r(this,"formatter=",a.to_a(f));f[b(f.length,1)];f=[c(d,"WARN")];r(this,"level=",a.to_a(f));return f[b(f.length,1)]},m.$$arity=-1);a.def(e,"$add",w=function(b,e,f){var l,p=w.$$p,h;p&&(w.$$p=null);var m=0;var k=arguments.length;for(h=Array(k);m<k;m++)h[m]=arguments[m];null==e&&(e=n);null==f&&(f=n);q(g(b=q(l=b)?l:c(d,"UNKNOWN"),this.max_severity=q(l=this.max_severity)?l:b))&&(this.max_severity=b);return r(this,a.find_super_dispatcher(this,"add",w,!1),h,p)},w.$$arity=
-2);(function(b,$super,e){b=p(b,$super,"BasicFormatter");var f=[b].concat(e),d;a.const_set(f[0],"SEVERITY_LABELS",l(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(b,"$call",d=function(a,b,e,d){var l;return""+e+": "+(q(l=c(f,"SEVERITY_LABELS")["$[]"](a))?l:a)+": "+(q(h("::","String")["$==="](d))?d:d.$inspect())+c(f,"LF")},d.$$arity=4),n)&&"call"})(d[0],c(d,"Formatter"),d);return function(b,c){b=y(b,"AutoFormattingMessage");[b].concat(c);var e;a.def(b,"$inspect",e=function(){var a;
return q(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},e.$$arity=0)}(d[0],d)})(f[0],h("::","Logger"),f);(function(e,$super,f){e=p(e,$super,"MemoryLogger");var d=[e].concat(f),g,h,m,k,y,x;e.$$prototype.messages=n;a.const_set(d[0],"SEVERITY_LABELS",r(l([],{}),"tap",[],(g=function(e){var f=g.$$s||this,l;null==e&&(e=n);return r(c(d,"Severity").$constants(!1),"each",[],(l=function(f){null==f&&(f=n);f=[c(d,"Severity").$const_get(f,!1),f];r(e,"[]=",a.to_a(f));return f[b(f.length,
1)]},l.$$s=f,l.$$arity=1,l))},g.$$s=e,g.$$arity=1,g)));e.$attr_reader("messages");a.def(e,"$initialize",h=function(){var e=[c(d,"WARN")];r(this,"level=",a.to_a(e));e[b(e.length,1)];return this.messages=[]},h.$$arity=0);a.def(e,"$add",m=function(b,e,f){var g=m.$$p,p=g||n;g&&(m.$$p=null);null==e&&(e=n);null==f&&(f=n);q(e)||(e=p!==n?a.yieldX(p,[]):f);this.messages["$<<"](l(["severity","message"],{severity:c(d,"SEVERITY_LABELS")["$[]"](q(b)?b:c(d,"UNKNOWN")),message:e}));return!0},m.$$arity=-2);a.def(e,
"$clear",k=function(){return this.messages.$clear()},k.$$arity=0);a.def(e,"$empty?",y=function(){return this.messages["$empty?"]()},y.$$arity=0);return(a.def(e,"$max_severity",x=function(){var a;return q(this["$empty?"]())?n:r(this.messages,"map",[],(a=function(a){null==a&&(a=n);return c(d,"Severity").$const_get(a["$[]"]("severity"),!1)},a.$$s=this,a.$$arity=1,a)).$max()},x.$$arity=0),n)&&"max_severity"})(f[0],h("::","Logger"),f);(function(e,$super,f){e=p(e,$super,"NullLogger");var d=[e].concat(f),
l,h;e.$$prototype.max_severity=n;e.$attr_reader("max_severity");a.def(e,"$initialize",l=function(){var e=[c(d,"WARN")];r(this,"level=",a.to_a(e));return e[b(e.length,1)]},l.$$arity=0);return(a.def(e,"$add",h=function(a,b,e){var f;q(g(a=q(f=a)?f:c(d,"UNKNOWN"),this.max_severity=q(f=this.max_severity)?f:a))&&(this.max_severity=a);return!0},h.$$arity=-2),n)&&"add"})(f[0],h("::","Logger"),f);(function(b,f){b=y(b,"LoggerManager");f=[b].concat(f);b.logger_class=c(f,"Logger");(function(b,c){var f=[b].concat(c),
d,l,g;b.$attr_accessor("logger_class");a.def(b,"$logger",d=function(a){var b;null==this.logger&&(this.logger=n);null==this.logger_class&&(this.logger_class=n);null==e.stderr&&(e.stderr=n);null==a&&(a=e.stderr);this.$memoize_logger();return this.logger=q(b=this.logger)?b:this.logger_class.$new(a)},d.$$arity=-1);a.def(b,"$logger=",l=function(a){null==this.logger_class&&(this.logger_class=n);null==e.stderr&&(e.stderr=n);return this.logger=q(a)?a:this.logger_class.$new(e.stderr)},l.$$arity=1);b.$private();
return(a.def(b,"$memoize_logger",g=function(){var b=a.get_singleton_class(this);[b].concat(f);a.alias(b,"logger","logger");return b.$attr_reader("logger")},g.$$arity=0),n)&&"memoize_logger"})(a.get_singleton_class(b),f)})(f[0],f);(function(b,e){b=y(b,"Logging");var f=[b].concat(e),d,g,p,m;b.$private_class_method(q(d=(a.defs(b,"$included",g=function(a){return a.$extend(c(f,"Logging"))},g.$$arity=1),n)&&"included")?d:"included");a.def(b,"$logger",p=function(){return c(f,"LoggerManager").$logger()},
p.$$arity=0);a.def(b,"$message_with_context",m=function(a,b){null==b&&(b=l([],{}));return l(["text"],{text:a}).$merge(b).$extend(h(c(f,"Logger"),"AutoFormattingMessage"))},m.$$arity=-2)})(f[0],f)}(k[0],k)};Opal.modules["asciidoctor/rx"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],m=a.nil,k=a.const_get_qualified,n=a.const_get_relative,h=a.module,c=a.hash2,r=a.send,p=a.truthy,q=a.hash;a.add_stubs("$== $join $to_a $new $empty? $escape $[]= $-".split(" "));
return function(d,l){d=h(d,"Asciidoctor");var e=[d].concat(l),f,g;(function(a,b){[h(a,"Rx")].concat(b);m})(e[0],e);a.const_set(e[0],"AuthorInfoLineRx",new RegExp("^("+n(e,"CG_WORD")+"["+n(e,"CC_WORD")+"\\-'.]*)(?: +("+n(e,"CG_WORD")+"["+n(e,"CC_WORD")+"\\-'.]*))?(?: +("+n(e,"CG_WORD")+"["+n(e,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(e[0],"AuthorDelimiterRx",/;(?: |$)/);a.const_set(e[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+n(e,"CC_ANY")+"*?),)? *(?!:)("+n(e,"CC_ANY")+"*?)(?: *(?!^),?: *("+
n(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"ManpageTitleVolnumRx",new RegExp("^("+n(e,"CC_ANY")+"+?) *\\( *("+n(e,"CC_ANY")+"+?) *\\)$"));a.const_set(e[0],"ManpageNamePurposeRx",new RegExp("^("+n(e,"CC_ANY")+"+?) +- +("+n(e,"CC_ANY")+"+)$"));a.const_set(e[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+n(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"EvalExpressionRx",new RegExp("^("+n(e,"CC_ANY")+"+?) *([=!><]=|[><]) *("+n(e,"CC_ANY")+"+)$"));a.const_set(e[0],
"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+n(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m);a.const_set(e[0],"AttributeEntryRx",new RegExp("^:(!?"+n(e,"CG_WORD")+"[^:]*):(?:[ \\t]+("+n(e,"CC_ANY")+"*))?$"));a.const_set(e[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+n(e,"CC_WORD")+"-]"));n(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+n(e,
"CC_ALL")+"*)\\]$")):m;a.const_set(e[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+n(e,"CG_WORD")+"["+n(e,"CC_WORD")+"-]*|(set|counter2?):"+n(e,"CC_ANY")+"+?)(\\\\)?\\}"));a.const_set(e[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)(?:, *("+n(e,"CC_ANY")+"+))?)\\]\\]$"));a.const_set(e[0],"BlockAttributeListRx",new RegExp("^\\[(|["+n(e,"CC_WORD")+".#%{,\"']"+n(e,"CC_ANY")+"*)\\]$"));a.const_set(e[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+n(e,
"CC_WORD")+".#%{,\"']"+n(e,"CC_ANY")+"*|\\[(?:|["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*(?:, *"+n(e,"CC_ANY")+"+)?)\\])\\]$"));a.const_set(e[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+n(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AdmonitionParagraphRx",new RegExp("^("+n(e,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+"));a.const_set(e[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+n(e,"CC_ANY")+"*)$"));a.const_set(e[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+n(e,"CC_ANY")+
"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+n(e,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$"));a.const_set(e[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+n(e,"CC_ANY")+"*?"+n(e,"CG_ALNUM")+n(e,"CC_ANY")+"*)$"));a.const_set(e[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)(?:, *("+n(e,"CC_ANY")+"+))?\\]\\]$"));a.const_set(e[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+
n(e,"CC_WORD")+"\\-.]+?"));a.const_set(e[0],"SectionLevelStyleRx",/^sect\d$/);a.const_set(e[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+n(e,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<?\\d+>[ \\t])"));a.const_set(e[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+n(e,"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+n(e,
"CC_ANY")+"*)$"));a.const_set(e[0],"OrderedListMarkerRxMap",c(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(e[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+n(e,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+n(e,"CC_ANY")+"*)$)"));a.const_set(e[0],"DescriptionListSiblingRx",c(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+n(e,"CC_ANY")+
"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+n(e,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+n(e,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+n(e,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+n(e,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+n(e,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+n(e,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+n(e,"CC_ANY")+"*)$)")}));a.const_set(e[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+n(e,"CC_ANY")+"*)$"));a.const_set(e[0],
"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/);a.const_set(e[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)");a.const_set(e[0],"CalloutExtractRxMap",r(k("::","Hash"),"new",[],(f=function(c,f){null==c&&(c=m);null==f&&(f=m);f=[f,new RegExp("("+(p(f["$empty?"]())?"":""+k("::","Regexp").$escape(f)+" ?")+")?"+n(e,"CalloutExtractRxt"))];r(c,"[]=",a.to_a(f));return f[b(f.length,1)]},f.$$s=d,f.$$arity=2,f)));a.const_set(e[0],
"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+n(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+n(e,"CC_EOL")+")"));a.const_set(e[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+n(e,"CC_EOL")+")");a.const_set(e[0],"CalloutSourceRxMap",r(k("::","Hash"),"new",[],(g=function(c,f){null==c&&(c=m);null==
f&&(f=m);f=[f,new RegExp("("+(p(f["$empty?"]())?"":""+k("::","Regexp").$escape(f)+" ?")+")?"+n(e,"CalloutSourceRxt"))];r(c,"[]=",a.to_a(f));return f[b(f.length,1)]},g.$$s=d,g.$$arity=2,g)));a.const_set(e[0],"ListRxMap",c(["ulist","olist","dlist","colist"],{ulist:n(e,"UnorderedListRx"),olist:n(e,"OrderedListRx"),dlist:n(e,"DescriptionListRx"),colist:n(e,"CalloutListRx")}));a.const_set(e[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(e[0],"CellSpecStartRx",
/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(e[0],"CustomBlockMacroRx",new RegExp("^("+n(e,"CG_WORD")+"["+n(e,"CC_WORD")+"-]*)::(|\\S|\\S"+n(e,"CC_ANY")+"*?\\S)\\[("+n(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+n(e,"CC_ANY")+"*?\\S)\\[("+n(e,
"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+n(e,"CC_ANY")+"+)?\\]$"));a.const_set(e[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)(?:, *("+n(e,"CC_ANY")+"+?))?\\]\\]|anchor:(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+n(e,"CC_ANY")+"*?[^\\\\])\\]))"));a.const_set(e[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)(?:, *("+n(e,"CC_ANY")+
"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+n(e,"CC_ANY")+"*?[^\\\\])\\])"));a.const_set(e[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)(?:, *("+n(e,"CC_ANY")+"+?))?\\]\\]"));a.const_set(e[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+n(e,"CC_ALPHA")+"_:]["+n(e,"CC_WORD")+"\\-:.]*)(?:, *("+n(e,"CC_ANY")+"+?))?\\]\\]\\]"));a.const_set(e[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+n(e,"CG_WORD")+
"(?:&amp;|["+n(e,"CC_WORD")+"\\-.%+])*@"+n(e,"CG_ALNUM")+"["+n(e,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b"));a.const_set(e[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+n(e,"CC_WORD")+"-]+)?)\\[(?:|("+n(e,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(e[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+n(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+n(e,"CC_ALL")+
"*?[^\\\\])\\]|\\(\\(("+n(e,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(e[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+n(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineLinkRx",new RegExp("(^|link:|"+n(e,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+n(e,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(e[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+n(e,"CC_ALL")+"*?[^\\\\])\\]",
"m"));a.const_set(e[0],"MacroNameRx",new RegExp("^"+n(e,"CG_WORD")+"["+n(e,"CC_WORD")+"-]*$"));a.const_set(e[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+n(e,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(e[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+n(e,"CG_WORD")+"|["+n(e,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+n(e,"CC_ALL")+"*?[^\\\\]))?\\]","m"));a.const_set(e[0],"InlineMenuRx",new RegExp('\\\\?"(['+n(e,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));
a.const_set(e[0],"InlinePassRx",q(!1,["+","`",new RegExp("(^|[^"+n(e,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+n(e,"CC_ALL")+"*?\\S)\\4)(?!"+n(e,"CG_WORD")+")","m")],!0,["`",m,new RegExp("(^|[^`"+n(e,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+n(e,"CC_ALL")+"*?\\S)\\4)(?![`"+n(e,"CC_WORD")+"])","m")]));a.const_set(e[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+n(e,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(e[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+
n(e,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+n(e,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(e[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+n(e,"CC_WORD")+"#/.:{]"+n(e,"CC_ALL")+"*?)&gt;&gt;|xref:(["+n(e,"CC_WORD")+"#/.:{]"+n(e,"CC_ALL")+"*?)\\[(?:\\]|("+n(e,"CC_ALL")+"*?[^\\\\])\\]))","m"));n(e,"RUBY_ENGINE")["$=="]("opal")?a.const_set(e[0],"HardLineBreakRx",new RegExp("^("+n(e,"CC_ANY")+"*) \\+$","m")):m;a.const_set(e[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);
a.const_set(e[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(e[0],"BlankLineRx",/\n{2,}/);a.const_set(e[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(e[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(e[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(e[0],"SubModifierSniffRx",/[+-]/);a.const_set(e[0],"TrailingDigitsRx",/\d+$/);a.const_set(e[0],"UriSniffRx",new RegExp("^"+n(e,"CG_ALPHA")+"["+n(e,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(e[0],"XmlSanitizeRx",
/<[^>]+>/)}(g[0],g)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var h=[],c=a.nil,r=a.const_get_qualified,
p=a.const_get_relative,q=a.slice,u=a.module,l=a.hash2,e=a.hash,f=a.truthy,v=a.send,t=a.gvars;a.add_stubs("$freeze $+ $keys $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $clear $split $apply_subs $== $gsub $match? $compat_mode $convert_quoted_text $attributes $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $info $squeeze $delete $reject $start_with? $do_replacement $extensions $inline_macros? $inline_macros $regexp $instance $slice $length $names $config $merge $[]= $- $normalize_text $parse_attributes $process_method $text $expand_subs $text= $convert $class $strip $> $index $min $compact $end_with? $map $chop $new $pop $rstrip $register $tr $basename $parse $<< $lstrip $split_simple_csv $partition $sub $encode_uri_component $style $parse_into $extname? $rindex $info? $catalog $fetch $outfilesuffix $natural_xrefs $resolve_id $find $footnotes $id $< $size $attr? $attr $to_s $read_next_id $callouts $syntax_highlighter $highlight? $sub_source $extract_callouts $name $to_sym $to_i $resolve_lines_to_highlight $highlight $nil_or_empty? $restore_callouts $count $to_a $concat $uniq $sort $* $parse_quoted_text_attributes $resolve_pass_subs $extract_inner_passthrough $basebackend? $error $chr $drop $& $resolve_subs $resolve_block_subs $private $=~ $shorthand_property_syntax $each_char".split(" "));
return function(d,h){d=[u(d,"Asciidoctor")].concat(h);(function(d,h){d=u(d,"Substitutors");var w=[d].concat(h),y,M,x,D,N,T,L,X,A,Y,z,V,C,E,W,aa,F,I,Z,J,ka,ia,ja,na,O,Ka,Fa,K,da,ra;a.const_set(w[0],"SpecialCharsRx",/[<&>]/);a.const_set(w[0],"SpecialCharsTr",l([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(w[0],"QuotedTextSniffRx",e(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(w[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(w[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();
a.const_set(w[0],"NO_SUBS",[]).$freeze();a.const_set(w[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(w[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(w[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(w[0],"SUB_GROUPS",l(["none","normal","verbatim","specialchars"],{none:p(w,"NO_SUBS"),normal:p(w,"NORMAL_SUBS"),verbatim:p(w,"VERBATIM_SUBS"),specialchars:p(w,
"BASIC_SUBS")}));a.const_set(w[0],"SUB_HINTS",l("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(w[0],"SUB_OPTIONS",l(["block","inline"],{block:b(b(p(w,"SUB_GROUPS").$keys(),p(w,"NORMAL_SUBS")),["callouts"]),inline:b(p(w,"SUB_GROUPS").$keys(),p(w,"NORMAL_SUBS"))}));a.const_set(w[0],"CAN","\u0018");a.const_set(w[0],"DEL","\u007f");a.const_set(w[0],"PASS_START","\u0096");a.const_set(w[0],"PASS_END",
"\u0097");a.const_set(w[0],"PassSlotRx",new RegExp(""+p(w,"PASS_START")+"(\\d+)"+p(w,"PASS_END")));a.const_set(w[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+p(w,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+p(w,"PASS_END")+"</span>"));a.const_set(w[0],"RS","\\");a.const_set(w[0],"R_SB","]");a.const_set(w[0],"ESC_R_SB","\\]");a.const_set(w[0],"PLUS","+");a.def(d,"$apply_subs",y=function(a,b){var e,d,l=c,g=c,h=c;null==this.passthroughs&&(this.passthroughs=c);null==this.passthroughs_locked&&
(this.passthroughs_locked=c);null==b&&(b=p(w,"NORMAL_SUBS"));if(f(f(e=a["$empty?"]())?e:b["$!"]()))return a;f(l=r("::","Array")["$==="](a))&&(a=f(a["$[]"](1))?a.$join(p(w,"LF")):a["$[]"](0));f(b["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),f(this.passthroughs["$empty?"]())||(g=this.passthroughs,this.passthroughs_locked=f(e=this.passthroughs_locked)?e:h=!0));v(b,"each",[],(d=function(e){var l=d.$$s||this;null==e&&(e=c);var g=e;return"specialcharacters"["$==="](g)?a=l.$sub_specialchars(a):
"quotes"["$==="](g)?a=l.$sub_quotes(a):"attributes"["$==="](g)?f(a["$include?"](p(w,"ATTR_REF_HEAD")))?a=l.$sub_attributes(a):c:"replacements"["$==="](g)?a=l.$sub_replacements(a):"macros"["$==="](g)?a=l.$sub_macros(a):"highlight"["$==="](g)?a=l.$highlight_source(a,b["$include?"]("callouts")):"callouts"["$==="](g)?f(b["$include?"]("highlight"))?c:a=l.$sub_callouts(a):"post_replacements"["$==="](g)?a=l.$sub_post_replacements(a):l.$logger().$warn("unknown substitution type "+e)},d.$$s=this,d.$$arity=
1,d));f(g)&&(a=this.$restore_passthroughs(a),f(h)&&(g.$clear(),this.passthroughs_locked=c));return f(l)?a.$split(p(w,"LF"),-1):a},y.$$arity=-2);a.def(d,"$apply_normal_subs",M=function(a){return this.$apply_subs(a,p(w,"NORMAL_SUBS"))},M.$$arity=1);a.def(d,"$apply_header_subs",x=function(a){return this.$apply_subs(a,p(w,"HEADER_SUBS"))},x.$$arity=1);a.alias(d,"apply_title_subs","apply_subs");a.def(d,"$apply_reftext_subs",D=function(a){return this.$apply_subs(a,p(w,"REFTEXT_SUBS"))},D.$$arity=1);p(w,
"RUBY_ENGINE")["$=="]("opal")?a.def(d,"$sub_specialchars",N=function(a){var b,c;return f(f(b=f(c=a["$include?"](">"))?c:a["$include?"]("&"))?b:a["$include?"]("<"))?a.$gsub(p(w,"SpecialCharsRx"),p(w,"SpecialCharsTr")):a},N.$$arity=1):c;a.alias(d,"sub_specialcharacters","sub_specialchars");a.def(d,"$sub_quotes",T=function(a){var b,e=c;null==this.document&&(this.document=c);f(p(w,"QuotedTextSniffRx")["$[]"](e=this.document.$compat_mode())["$match?"](a))&&v(p(w,"QUOTE_SUBS")["$[]"](e),"each",[],(b=function(e,
f,d){var l=b.$$s||this,g;null==e&&(e=c);null==f&&(f=c);null==d&&(d=c);return a=v(a,"gsub",[d],(g=function(){var a=g.$$s||this;null==t["~"]&&(t["~"]=c);return a.$convert_quoted_text(t["~"],e,f)},g.$$s=l,g.$$arity=0,g))},b.$$s=this,b.$$arity=3,b));return a},T.$$arity=1);a.def(d,"$sub_attributes",L=function(b,e){var d,g,h,m,n=c,k=c,r=c,y=c,M=c,x=c,q=c,u=c;null==this.document&&(this.document=c);null==e&&(e=l([],{}));n=this.document.$attributes();k=r=y=M=x=q=c;b=v(b,"gsub",[p(w,"AttributeReferenceRx")],
(d=function(){var b=d.$$s||this,l,g,h,m,u=c,ba=c,G=c,D=c;null==b.document&&(b.document=c);return f(f(l=((g=t["~"])===c?c:g["$[]"](1))["$=="](p(w,"RS")))?l:((g=t["~"])===c?c:g["$[]"](4))["$=="](p(w,"RS")))?"{"+((l=t["~"])===c?c:l["$[]"](2))+"}":f((l=t["~"])===c?c:l["$[]"](3))?function(){u=(ba=((l=t["~"])===c?c:l["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](u)?(g=p(w,"Parser").$store_attribute(ba["$[]"](0),f(h=ba["$[]"](1))?h:"",b.document),l=a.to_ary(g),G=null==l[1]?c:l[1],g,f(f(l=G)?l:(x=
f(g=x)?g:f(h=n["$[]"]("attribute-undefined"))?h:p(w,"Compliance").$attribute_undefined())["$!="]("drop-line"))?k=M=p(w,"DEL"):k=r=p(w,"CAN")):"counter2"["$==="](u)?(v(b.document,"counter",a.to_a(ba)),k=M=p(w,"DEL")):v(b.document,"counter",a.to_a(ba))}():f(n["$key?"](D=((l=t["~"])===c?c:l["$[]"](2)).$downcase()))?n["$[]"](D):f(G=p(w,"INTRINSIC_ATTRIBUTES")["$[]"](D))?G:function(){u=q=f(l=q)?l:f(g=f(h=e["$[]"]("attribute_missing"))?h:n["$[]"]("attribute-missing"))?g:p(w,"Compliance").$attribute_missing();
if("drop"["$==="](u))return k=M=p(w,"DEL");if("drop-line"["$==="](u))return(y=f(l=y)?l:f(g=e["$[]"]("drop_line_severity"))?g:"info")["$=="]("info")&&v(b.$logger(),"info",[],(m=function(){return"dropping line containing reference to missing attribute: "+D},m.$$s=b,m.$$arity=0,m)),k=r=p(w,"CAN");"warn"["$==="](u)&&b.$logger().$warn("skipping reference to missing attribute: "+D);return(l=t["~"])===c?c:l["$[]"](0)}()},d.$$s=this,d.$$arity=0,d));return f(k)?f(M)?(u=b.$squeeze(p(w,"DEL")).$split(p(w,"LF"),
-1),f(r)?v(u,"reject",[],(g=function(a){var b,e,d;null==a&&(a=c);return f(b=f(e=f(d=a["$=="](p(w,"DEL")))?d:a["$=="](p(w,"CAN")))?e:a["$start_with?"](p(w,"CAN")))?b:a["$include?"](p(w,"CAN"))},g.$$s=this,g.$$arity=1,g)).$join(p(w,"LF")).$delete(p(w,"DEL")):v(u,"reject",[],(h=function(a){null==a&&(a=c);return a["$=="](p(w,"DEL"))},h.$$s=this,h.$$arity=1,h)).$join(p(w,"LF")).$delete(p(w,"DEL"))):f(b["$include?"](p(w,"LF")))?v(b.$split(p(w,"LF"),-1),"reject",[],(m=function(a){var b,e;null==a&&(a=c);
return f(b=f(e=a["$=="](p(w,"CAN")))?e:a["$start_with?"](p(w,"CAN")))?b:a["$include?"](p(w,"CAN"))},m.$$s=this,m.$$arity=1,m)).$join(p(w,"LF")):"":b},L.$$arity=-2);a.def(d,"$sub_replacements",X=function(a){var b;f(p(w,"ReplaceableTextRx")["$match?"](a))&&v(p(w,"REPLACEMENTS"),"each",[],(b=function(e,f,d){var l=b.$$s||this,g;null==e&&(e=c);null==f&&(f=c);null==d&&(d=c);return a=v(a,"gsub",[e],(g=function(){var a=g.$$s||this;null==t["~"]&&(t["~"]=c);return a.$do_replacement(t["~"],f,d)},g.$$s=l,g.$$arity=
0,g))},b.$$s=this,b.$$arity=3,b));return a},X.$$arity=1);a.def(d,"$sub_macros",A=function(e){var d,h,n,k,y,M,x,u,D,N,T,L,W,U,B,P=c,fa=c,Q=c,Ha=c,ba=c,G=c,cb=c;null==this.document&&(this.document=c);null==this.context&&(this.context=c);null==this.parent&&(this.parent=c);P=e["$include?"]("[");fa=e["$include?"](":");Q=f(d=P)?fa:d;Ha=f(d=Q)?e["$include?"](":["):d;ba=(G=this.document).$attributes();f(f(d=cb=G.$extensions())?cb["$inline_macros?"]():d)&&v(cb.$inline_macros(),"each",[],(h=function(b){var d=
h.$$s||this,m;null==b&&(b=c);return e=v(e,"gsub",[b.$instance().$regexp()],(m=function(){var e=m.$$s||this,d,h,Ba,n=c,k;null==t["~"]&&(t["~"]=c);if(f((Ba=(d=t["~"])===c?c:d["$[]"](0))["$start_with?"](p(w,"RS"))))return((d=t["~"])===c?c:d["$[]"](0)).$slice(1,((d=t["~"])===c?c:d["$[]"](0)).$length());if(f(t["~"].$names()["$empty?"]()))d=[(h=t["~"])===c?c:h["$[]"](1),(h=t["~"])===c?c:h["$[]"](2)];else{a:{try{var B=t["~"]["$[]"]("target");break a}catch(db){if(a.rescue(db,[p(w,"StandardError")]))try{B=
c;break a}finally{a.pop_exception()}else throw db;}B=void 0}d=B;a:{try{var P=t["~"]["$[]"]("content");break a}catch(db){if(a.rescue(db,[p(w,"StandardError")]))try{P=c;break a}finally{a.pop_exception()}else throw db;}P=void 0}d=[d,P]}P=d[0];B=d[1];d;var Q=f(n=(k=b.$config())["$[]"]("default_attrs"))?n.$merge():l([],{});f(B)&&(f(B["$empty?"]())?k["$[]"]("content_model")["$=="]("attributes")||(h=["text",B],v(Q,"[]=",a.to_a(h)),h[g(h.length,1)]):(B=e.$normalize_text(B,!0,!0),k["$[]"]("content_model")["$=="]("attributes")?
e.$parse_attributes(B,f(d=f(h=k["$[]"]("positional_attrs"))?h:k["$[]"]("pos_attrs"))?d:[],l(["into"],{into:Q})):(h=["text",B],v(Q,"[]=",a.to_a(h)),h[g(h.length,1)])),P=f(d=P)?d:k["$[]"]("format")["$=="]("short")?B:P);return f(p(w,"Inline")["$==="](d=b.$process_method()["$[]"](e,P,Q)))?(f(Ba=d.$attributes().$delete("subs"))&&(h=[e.$apply_subs(d.$text(),e.$expand_subs(Ba))],v(d,"text=",a.to_a(h)),h[g(h.length,1)]),d.$convert()):f(d)?(e.$logger().$info("expected substitution value for custom inline macro to be of type Inline; got "+
d.$class()+": "+Ba),d):""},m.$$s=d,m.$$arity=0,m))},h.$$s=this,h.$$arity=1,h));f(ba["$key?"]("experimental"))&&(f(f(d=Ha)?f(n=e["$include?"]("kbd:"))?n:e["$include?"]("btn:"):d)&&(e=v(e,"gsub",[p(w,"InlineKbdBtnMacroRx")],(k=function(){var e=k.$$s||this,d,h,n,B=c,P=c,Q=c;Q=c;return f((d=t["~"])===c?c:d["$[]"](1))?((d=t["~"])===c?c:d["$[]"](0)).$slice(1,((d=t["~"])===c?c:d["$[]"](0)).$length()):((d=t["~"])===c?c:d["$[]"](2))["$=="]("kbd")?(f((B=((d=t["~"])===c?c:d["$[]"](3)).$strip())["$include?"](p(w,
"R_SB")))&&(B=B.$gsub(p(w,"ESC_R_SB"),p(w,"R_SB"))),f(f(d=m(B.$length(),1))?P=f(P=B.$index(",",1))?[P,B.$index("+",1)].$compact().$min():B.$index("+",1):d)?(Q=B.$slice(P,1),f(B["$end_with?"](Q))?(B=v(B.$chop().$split(Q,-1),"map",[],(h=function(a){null==a&&(a=c);return a.$strip()},h.$$s=e,h.$$arity=1,h)),Q=[-1,b(B["$[]"](-1),Q)],v(B,"[]=",a.to_a(Q)),Q[g(Q.length,1)]):B=v(B.$split(Q),"map",[],(n=function(a){null==a&&(a=c);return a.$strip()},n.$$s=e,n.$$arity=1,n))):B=[B],p(w,"Inline").$new(e,"kbd",
c,l(["attributes"],{attributes:l(["keys"],{keys:B})})).$convert()):p(w,"Inline").$new(e,"button",e.$normalize_text((d=t["~"])===c?c:d["$[]"](3),!0,!0)).$convert()},k.$$s=this,k.$$arity=0,k))),f(f(d=Q)?e["$include?"]("menu:"):d)&&(e=v(e,"gsub",[p(w,"InlineMenuMacroRx")],(y=function(){var a=y.$$s||this,b,e,d=c,g=c,h=c;h=g=c;if(f(((b=t["~"])===c?c:b["$[]"](0))["$start_with?"](p(w,"RS"))))return((b=t["~"])===c?c:b["$[]"](0)).$slice(1,((b=t["~"])===c?c:b["$[]"](0)).$length());d=(b=t["~"])===c?c:b["$[]"](1);
f(g=(b=t["~"])===c?c:b["$[]"](2))?(f(g["$include?"](p(w,"R_SB")))&&(g=g.$gsub(p(w,"ESC_R_SB"),p(w,"R_SB"))),f(h=f(g["$include?"]("&gt;"))?"&gt;":f(g["$include?"](","))?",":c)?(g=v(g.$split(h),"map",[],(e=function(a){null==a&&(a=c);return a.$strip()},e.$$s=a,e.$$arity=1,e)),h=g.$pop()):(b=[[],g.$rstrip()],g=b[0],h=b[1],b)):(b=[[],c],g=b[0],h=b[1],b);return p(w,"Inline").$new(a,"menu",c,l(["attributes"],{attributes:l(["menu","submenus","menuitem"],{menu:d,submenus:g,menuitem:h})})).$convert()},y.$$s=
this,y.$$arity=0,y))),f(f(d=e["$include?"]('"'))?e["$include?"]("&gt;"):d)&&(e=v(e,"gsub",[p(w,"InlineMenuRx")],(M=function(){var b=M.$$s||this,e,d,g,h=c,m=c;var n=c;if(f(((e=t["~"])===c?c:e["$[]"](0))["$start_with?"](p(w,"RS"))))return((e=t["~"])===c?c:e["$[]"](0)).$slice(1,((e=t["~"])===c?c:e["$[]"](0)).$length());n=v(((d=t["~"])===c?c:d["$[]"](1)).$split("&gt;"),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=b,g.$$arity=1,g));e=a.to_ary(n);h=null==e[0]?c:e[0];m=q.call(e,1);n;n=
m.$pop();return p(w,"Inline").$new(b,"menu",c,l(["attributes"],{attributes:l(["menu","submenus","menuitem"],{menu:h,submenus:m,menuitem:n})})).$convert()},M.$$s=this,M.$$arity=0,M))));f(f(d=Q)?f(n=e["$include?"]("image:"))?n:e["$include?"]("icon:"):d)&&(e=v(e,"gsub",[p(w,"InlineImageMacroRx")],(x=function(){var b=x.$$s||this,e,d,h,m=c;if(f(((e=t["~"])===c?c:e["$[]"](0))["$start_with?"](p(w,"RS"))))return((e=t["~"])===c?c:e["$[]"](0)).$slice(1,((e=t["~"])===c?c:e["$[]"](0)).$length());f(((e=t["~"])===
c?c:e["$[]"](0))["$start_with?"]("icon:"))?(e=["icon",["size"]],d=e[0],h=e[1]):(e=["image",["alt","width","height"]],d=e[0],h=e[1]);e;var n=(e=t["~"])===c?c:e["$[]"](1);h=b.$parse_attributes((e=t["~"])===c?c:e["$[]"](2),h,l(["unescape_input"],{unescape_input:!0}));d["$=="]("icon")||(G.$register("images",n),m=["imagesdir",ba["$[]"]("imagesdir")],v(h,"[]=",a.to_a(m)),m[g(m.length,1)]);f(e=h["$[]"]("alt"))?e:(m=["alt",(m=["default-alt",p(w,"Helpers").$basename(n,!0).$tr("_-"," ")],v(h,"[]=",a.to_a(m)),
m[g(m.length,1)])],v(h,"[]=",a.to_a(m)),m[g(m.length,1)]);return p(w,"Inline").$new(b,"image",c,l(["type","target","attributes"],{type:d,target:n,attributes:h})).$convert()},x.$$s=this,x.$$arity=0,x)));f(f(d=f(n=e["$include?"]("(("))?e["$include?"]("))"):n)?d:f(n=Ha)?e["$include?"]("dexterm"):n)&&(e=v(e,"gsub",[p(w,"InlineIndextermMacroRx")],(u=function(){var b=u.$$s||this,d,h,m,n,B=c,k=c,P=c,Q=c,r=c,y=c,M=c,x=c,ba=c,G=c,fa=c,D=c,N=c,Ha=c,T=c;return function(){B=(d=t["~"])===c?c:d["$[]"](1);if("indexterm"["$==="](B)){if(f(((d=
t["~"])===c?c:d["$[]"](0))["$start_with?"](p(w,"RS"))))return((d=t["~"])===c?c:d["$[]"](0)).$slice(1,((d=t["~"])===c?c:d["$[]"](0)).$length());if(f((k=b.$normalize_text((d=t["~"])===c?c:d["$[]"](2),!0,!0))["$include?"]("=")))if(f(P=(Q=p(w,"AttributeList").$new(k,b).$parse())["$[]"](1))){r=["terms",y=[P]];v(Q,"[]=",a.to_a(r));r[g(r.length,1)];if(f(M=Q["$[]"](2))&&(y["$<<"](M),f(x=Q["$[]"](3))))y["$<<"](x);f(ba=Q["$[]"]("see-also"))&&(r=["see-also",function(){return f(ba["$include?"](","))?v(ba.$split(","),
"map",[],(h=function(a){null==a&&(a=c);return a.$lstrip()},h.$$s=b,h.$$arity=1,h)):[ba]}()],v(Q,"[]=",a.to_a(r)),r[g(r.length,1)])}else Q=l(["terms"],{terms:y=k});else Q=l(["terms"],{terms:y=b.$split_simple_csv(k)});return p(w,"Inline").$new(b,"indexterm",c,l(["attributes"],{attributes:Q})).$convert()}if("indexterm2"["$==="](B)){if(f(((d=t["~"])===c?c:d["$[]"](0))["$start_with?"](p(w,"RS"))))return((d=t["~"])===c?c:d["$[]"](0)).$slice(1,((d=t["~"])===c?c:d["$[]"](0)).$length());f((G=b.$normalize_text((d=
t["~"])===c?c:d["$[]"](2),!0,!0))["$include?"]("="))&&(G=f(d=f(m=(Q=p(w,"AttributeList").$new(G,b).$parse())["$[]"](1))?m:Q=c)?d:G,f(f(d=Q)?ba=Q["$[]"]("see-also"):d)&&(r=["see-also",function(){return f(ba["$include?"](","))?v(ba.$split(","),"map",[],(n=function(a){null==a&&(a=c);return a.$lstrip()},n.$$s=b,n.$$arity=1,n)):[ba]}()],v(Q,"[]=",a.to_a(r)),r[g(r.length,1)]));return p(w,"Inline").$new(b,"indexterm",G,l(["attributes","type"],{attributes:Q,type:"visible"})).$convert()}e=(d=t["~"])===c?c:
d["$[]"](3);if(f(((d=t["~"])===c?c:d["$[]"](0))["$start_with?"](p(w,"RS"))))if(f(f(d=e["$start_with?"]("("))?e["$end_with?"](")"):d))e=e.$slice(1,g(e.$length(),2)),d=[!0,"(",")"],fa=d[0],D=d[1],N=d[2],d;else return((d=t["~"])===c?c:d["$[]"](0)).$slice(1,((d=t["~"])===c?c:d["$[]"](0)).$length());else fa=!0,f(e["$start_with?"]("("))?(f(e["$end_with?"](")"))?(d=[e.$slice(1,g(e.$length(),2)),!1],e=d[0],fa=d[1]):(d=[e.$slice(1,e.$length()),"(",""],e=d[0],D=d[1],N=d[2]),d):f(e["$end_with?"](")"))&&(d=[e.$chop(),
"",")"],e=d[0],D=d[1],N=d[2],d);f(fa)?(f((G=b.$normalize_text(e,!0))["$include?"](";&"))&&(f(G["$include?"](" &gt;&gt; "))?(m=G.$partition(" &gt;&gt; "),d=a.to_ary(m),G=null==d[0]?c:d[0],Ha=null==d[2]?c:d[2],m,Q=l(["see"],{see:Ha})):f(G["$include?"](" &amp;&gt; "))&&(m=G.$split(" &amp;&gt; "),d=a.to_ary(m),G=null==d[0]?c:d[0],ba=q.call(d,1),m,Q=l(["see-also"],{"see-also":ba}))),T=p(w,"Inline").$new(b,"indexterm",G,l(["attributes","type"],{attributes:Q,type:"visible"})).$convert()):(Q=l([],{}),f((y=
b.$normalize_text(e,!0))["$include?"](";&"))&&(f(y["$include?"](" &gt;&gt; "))?(m=y.$partition(" &gt;&gt; "),d=a.to_ary(m),y=null==d[0]?c:d[0],Ha=null==d[2]?c:d[2],m,r=["see",Ha],v(Q,"[]=",a.to_a(r)),r[g(r.length,1)]):f(y["$include?"](" &amp;&gt; "))&&(m=y.$split(" &amp;&gt; "),d=a.to_ary(m),y=null==d[0]?c:d[0],ba=q.call(d,1),m,r=["see-also",ba],v(Q,"[]=",a.to_a(r)),r[g(r.length,1)])),r=["terms",y=b.$split_simple_csv(y)],v(Q,"[]=",a.to_a(r)),r[g(r.length,1)],T=p(w,"Inline").$new(b,"indexterm",c,l(["attributes"],
{attributes:Q})).$convert());return f(D)?""+D+T+N:T}()},u.$$s=this,u.$$arity=0,u)));f(f(d=fa)?e["$include?"]("://"):d)&&(e=v(e,"gsub",[p(w,"InlineLinkRx")],(D=function(){var b=D.$$s||this,d,h,m,n=c;if(f((m=(d=t["~"])===c?c:d["$[]"](2))["$start_with?"](p(w,"RS"))))return""+((d=t["~"])===c?c:d["$[]"](1))+m.$slice(1,m.$length())+((d=t["~"])===c?c:d["$[]"](4));d=[(h=t["~"])===c?c:h["$[]"](1),""];h=d[0];var B=d[1];d;if(f((d=t["~"])===c?c:d["$[]"](4)))h["$=="]("link:")&&(h=""),e=(d=t["~"])===c?c:d["$[]"](4);
else{if(h["$=="]("link:"))return(d=t["~"])===c?c:d["$[]"](0);e="";var k=(d=t["~"])===c?c:d["$[]"](3);if(")"["$==="](k)){if(m=m.$chop(),B=")",f(m["$end_with?"]("://")))return(d=t["~"])===c?c:d["$[]"](0)}else if(";"["$==="](k)){if(f(f(d=h["$start_with?"]("&lt;"))?m["$end_with?"]("&gt;"):d)?(h=h.$slice(4,h.$length()),m=m.$slice(0,g(m.$length(),4))):f((m=m.$chop())["$end_with?"](")"))?(m=m.$chop(),B=");"):B=";",f(m["$end_with?"]("://")))return(d=t["~"])===c?c:d["$[]"](0)}else if(":"["$==="](k)&&(f((m=
m.$chop())["$end_with?"](")"))?(m=m.$chop(),B="):"):B=":",f(m["$end_with?"]("://"))))return(d=t["~"])===c?c:d["$[]"](0)}d=[c,l(["type"],{type:"link"})];k=d[0];var P=d[1];d;f(e["$empty?"]())||(f(e["$include?"](p(w,"R_SB")))&&(e=e.$gsub(p(w,"ESC_R_SB"),p(w,"R_SB"))),f(f(d=G.$compat_mode()["$!"]())?e["$include?"]("="):d)&&(e=f(d=(k=p(w,"AttributeList").$new(e,b).$parse())["$[]"](1))?d:"",n=["id",k["$[]"]("id")],v(P,"[]=",a.to_a(n)),n[g(n.length,1)]),f(e["$end_with?"]("^"))&&(e=e.$chop(),f(k)?f(d=k["$[]"]("window"))?
d:(n=["window","_blank"],v(k,"[]=",a.to_a(n)),n[g(n.length,1)]):k=l(["window"],{window:"_blank"})));f(e["$empty?"]())&&(e=f(ba["$key?"]("hide-uri-scheme"))?m.$sub(p(w,"UriSniffRx"),""):m,f(k)?(n=["role",f(k["$key?"]("role"))?"bare "+k["$[]"]("role"):"bare"],v(k,"[]=",a.to_a(n)),n[g(n.length,1)]):k=l(["role"],{role:"bare"}));G.$register("links",(n=["target",m],v(P,"[]=",a.to_a(n)),n[g(n.length,1)]));f(k)&&(n=["attributes",k],v(P,"[]=",a.to_a(n)),n[g(n.length,1)]);return""+h+p(w,"Inline").$new(b,"anchor",
e,P).$convert()+B},D.$$s=this,D.$$arity=0,D)));f(f(d=Q)?f(n=e["$include?"]("link:"))?n:e["$include?"]("ilto:"):d)&&(e=v(e,"gsub",[p(w,"InlineLinkMacroRx")],(N=function(){var d=N.$$s||this,h,m,n=c,B=c;if(f(((h=t["~"])===c?c:h["$[]"](0))["$start_with?"](p(w,"RS"))))return((h=t["~"])===c?c:h["$[]"](0)).$slice(1,((h=t["~"])===c?c:h["$[]"](0)).$length());var k=f(m=(h=t["~"])===c?c:h["$[]"](1))?b("mailto:",n=(h=t["~"])===c?c:h["$[]"](2)):(h=t["~"])===c?c:h["$[]"](2);h=[c,l(["type"],{type:"link"})];var P=
h[0];var Q=h[1];h;f((e=(h=t["~"])===c?c:h["$[]"](3))["$empty?"]())||(f(e["$include?"](p(w,"R_SB")))&&(e=e.$gsub(p(w,"ESC_R_SB"),p(w,"R_SB"))),f(m)?f(f(h=G.$compat_mode()["$!"]())?e["$include?"](","):h)&&(e=f(h=(P=p(w,"AttributeList").$new(e,d).$parse())["$[]"](1))?h:"",B=["id",P["$[]"]("id")],v(Q,"[]=",a.to_a(B)),B[g(B.length,1)],f(P["$key?"](2))&&(k=f(P["$key?"](3))?""+k+"?subject="+p(w,"Helpers").$encode_uri_component(P["$[]"](2))+"&amp;body="+p(w,"Helpers").$encode_uri_component(P["$[]"](3)):""+
k+"?subject="+p(w,"Helpers").$encode_uri_component(P["$[]"](2)))):f(f(h=G.$compat_mode()["$!"]())?e["$include?"]("="):h)&&(e=f(h=(P=p(w,"AttributeList").$new(e,d).$parse())["$[]"](1))?h:"",B=["id",P["$[]"]("id")],v(Q,"[]=",a.to_a(B)),B[g(B.length,1)]),f(e["$end_with?"]("^"))&&(e=e.$chop(),f(P)?f(h=P["$[]"]("window"))?h:(B=["window","_blank"],v(P,"[]=",a.to_a(B)),B[g(B.length,1)]):P=l(["window"],{window:"_blank"})));f(e["$empty?"]())&&(f(m)?e=n:(f(ba["$key?"]("hide-uri-scheme"))?f((e=k.$sub(p(w,"UriSniffRx"),
""))["$empty?"]())&&(e=k):e=k,f(P)?(B=["role",f(P["$key?"]("role"))?"bare "+P["$[]"]("role"):"bare"],v(P,"[]=",a.to_a(B)),B[g(B.length,1)]):P=l(["role"],{role:"bare"})));G.$register("links",(B=["target",k],v(Q,"[]=",a.to_a(B)),B[g(B.length,1)]));f(P)&&(B=["attributes",P],v(Q,"[]=",a.to_a(B)),B[g(B.length,1)]);return p(w,"Inline").$new(d,"anchor",e,Q).$convert()},N.$$s=this,N.$$arity=0,N)));f(e["$include?"]("@"))&&(e=v(e,"gsub",[p(w,"InlineEmailRx")],(T=function(){var a=T.$$s||this,e,d;if(f((e=t["~"])===
c?c:e["$[]"](1)))return((e=t["~"])===c?c:e["$[]"](1))["$=="](p(w,"RS"))?((e=t["~"])===c?c:e["$[]"](0)).$slice(1,((e=t["~"])===c?c:e["$[]"](0)).$length()):(e=t["~"])===c?c:e["$[]"](0);var g=b("mailto:",d=(e=t["~"])===c?c:e["$[]"](0));G.$register("links",g);return p(w,"Inline").$new(a,"anchor",d,l(["type","target"],{type:"link",target:g})).$convert()},T.$$s=this,T.$$arity=0,T)));f(f(d=f(n=P)?this.context["$=="]("list_item"):n)?this.parent.$style()["$=="]("bibliography"):d)&&(e=v(e,"sub",[p(w,"InlineBiblioAnchorRx")],
(L=function(){var a=L.$$s||this,b;return p(w,"Inline").$new(a,"anchor",(b=t["~"])===c?c:b["$[]"](2),l(["type","id"],{type:"bibref",id:(b=t["~"])===c?c:b["$[]"](1)})).$convert()},L.$$s=this,L.$$arity=0,L)));f(f(d=f(n=P)?e["$include?"]("[["):n)?d:f(n=Q)?e["$include?"]("or:"):n)&&(e=v(e,"gsub",[p(w,"InlineAnchorRx")],(W=function(){var a=W.$$s||this,b,e,d,g=c;if(f((b=t["~"])===c?c:b["$[]"](1)))return((b=t["~"])===c?c:b["$[]"](0)).$slice(1,((b=t["~"])===c?c:b["$[]"](0)).$length());f(d=(b=t["~"])===c?c:
b["$[]"](2))?g=(b=t["~"])===c?c:b["$[]"](3):(d=(b=t["~"])===c?c:b["$[]"](4),f(f(b=g=(e=t["~"])===c?c:e["$[]"](5))?g["$include?"](p(w,"R_SB")):b)&&(g=g.$gsub(p(w,"ESC_R_SB"),p(w,"R_SB"))));return p(w,"Inline").$new(a,"anchor",g,l(["type","id"],{type:"ref",id:d})).$convert()},W.$$s=this,W.$$arity=0,W)));f(f(d=f(n=e["$include?"]("&"))?e["$include?"](";&l"):n)?d:f(n=Q)?e["$include?"]("xref:"):n)&&(e=v(e,"gsub",[p(w,"InlineXrefMacroRx")],(U=function(){var d=U.$$s||this,h,n,B=c,k=c,P,Q,r=Q=c,y=c;if(f(((h=
t["~"])===c?c:h["$[]"](0))["$start_with?"](p(w,"RS"))))return((h=t["~"])===c?c:h["$[]"](0)).$slice(1,((h=t["~"])===c?c:h["$[]"](0)).$length());var M=l([],{});if(f(n=(h=t["~"])===c?c:h["$[]"](1))){var x=n.$split(",",2);h=a.to_ary(x);n=null==h[0]?c:h[0];e=null==h[1]?c:h[1];x;f(e)&&(e=e.$lstrip())}else B=!0,n=(h=t["~"])===c?c:h["$[]"](2),f(e=(h=t["~"])===c?c:h["$[]"](3))&&(f(e["$include?"](p(w,"R_SB")))&&(e=e.$gsub(p(w,"ESC_R_SB"),p(w,"R_SB"))),f(f(h=G.$compat_mode()["$!"]())?e["$include?"]("="):h)&&
(e=p(w,"AttributeList").$new(e,d).$parse_into(M)["$[]"](1)));f(G.$compat_mode())?k=n:f(P=n.$index("#"))?f(m(P,0))?(f(m(Q=g(g(n.$length(),1),P),0))?(h=[n.$slice(0,P),n.$slice(b(P,1),Q)],Q=h[0],k=h[1],h):Q=n.$chop(),f(B)?f(Q["$end_with?"](".adoc"))?r=Q=Q.$slice(0,g(Q.$length(),5)):f(p(w,"Helpers")["$extname?"](Q)["$!"]())&&(r=Q):r=f(v(Q,"end_with?",a.to_a(p(w,"ASCIIDOC_EXTENSIONS").$keys())))?Q=Q.$slice(0,Q.$rindex(".")):Q):(h=[n,n.$slice(1,n.$length())],y=h[0],k=h[1],h):f(B)?f(n["$end_with?"](".adoc"))?
r=Q=n.$slice(0,g(n.$length(),5)):f(p(w,"Helpers")["$extname?"](n))?Q=n:k=n:k=n;f(y)?(n=k,f(f(h=d.$logger()["$info?"]())?G.$catalog()["$[]"]("refs")["$[]"](n)["$!"]():h)&&d.$logger().$info("possible invalid reference: "+n)):f(Q)?f(f(h=r)?f(x=G.$attributes()["$[]"]("docname")["$=="](Q))?x:G.$catalog()["$[]"]("includes")["$[]"](Q):h)?f(k)?(h=[k,c,"#"+k],n=h[0],Q=h[1],y=h[2],h,f(f(h=d.$logger()["$info?"]())?G.$catalog()["$[]"]("refs")["$[]"](n)["$!"]():h)&&d.$logger().$info("possible invalid reference: "+
n)):(h=[c,c,"#"],n=h[0],Q=h[1],y=h[2],h):(h=[Q,""+G.$attributes()["$[]"]("relfileprefix")+Q+(f(r)?G.$attributes().$fetch("relfilesuffix",G.$outfilesuffix()):"")],n=h[0],Q=h[1],h,f(k)?(h=[""+n+"#"+k,""+Q+"#"+k],n=h[0],y=h[1],h):y=Q):f(f(h=G.$compat_mode())?h:p(w,"Compliance").$natural_xrefs()["$!"]())?(h=[k,"#"+k],n=h[0],y=h[1],h,f(f(h=d.$logger()["$info?"]())?G.$catalog()["$[]"]("refs")["$[]"](n):h)&&d.$logger().$info("possible invalid reference: "+n)):f(G.$catalog()["$[]"]("refs")["$[]"](k))?(h=
[k,"#"+k],n=h[0],y=h[1],h):f(f(h=f(x=k["$include?"](" "))?x:k.$downcase()["$!="](k))?n=G.$resolve_id(k):h)?(h=[n,"#"+n],k=h[0],y=h[1],h):(h=[k,"#"+k],n=h[0],y=h[1],h,f(d.$logger()["$info?"]())&&d.$logger().$info("possible invalid reference: "+n));h=["path",Q];v(M,"[]=",a.to_a(h));h[g(h.length,1)];h=["fragment",k];v(M,"[]=",a.to_a(h));h[g(h.length,1)];h=["refid",n];v(M,"[]=",a.to_a(h));h[g(h.length,1)];return p(w,"Inline").$new(d,"anchor",e,l(["type","target","attributes"],{type:"xref",target:y,attributes:M})).$convert()},
U.$$s=this,U.$$arity=0,U)));f(f(d=Q)?e["$include?"]("tnote"):d)&&(e=v(e,"gsub",[p(w,"InlineFootnoteMacroRx")],(B=function(){var b=B.$$s||this,d,g,h,m,n=c,k=g=c,P=c;g=c;if(f(((d=t["~"])===c?c:d["$[]"](0))["$start_with?"](p(w,"RS"))))return((d=t["~"])===c?c:d["$[]"](0)).$slice(1,((d=t["~"])===c?c:d["$[]"](0)).$length());if(f((d=t["~"])===c?c:d["$[]"](1)))if(f((d=t["~"])===c?c:d["$[]"](3)))g=((h=t["~"])===c?c:h["$[]"](3)).$split(",",2),d=a.to_ary(g),n=null==d[0]?c:d[0],e=null==d[1]?c:d[1],g,f(G.$compat_mode())||
b.$logger().$warn("found deprecated footnoteref macro: "+((d=t["~"])===c?c:d["$[]"](0))+"; use footnote macro with target instead");else return(d=t["~"])===c?c:d["$[]"](0);else n=(d=t["~"])===c?c:d["$[]"](2),e=(d=t["~"])===c?c:d["$[]"](3);if(f(n))f(e)?(e=b.$restore_passthroughs(b.$normalize_text(e,!0,!0)),g=G.$counter("footnote-number"),G.$register("footnotes",r(p(w,"Document"),"Footnote").$new(g,n,e)),d=["ref",c],k=d[0],P=d[1]):(f(g=v(G.$footnotes(),"find",[],(m=function(a){null==a&&(a=c);return a.$id()["$=="](n)},
m.$$s=b,m.$$arity=1,m)))?d=[g.$index(),g.$text()]:(b.$logger().$warn("invalid footnote reference: "+n),d=[c,n]),g=d[0],e=d[1],d,d=["xref",n,c],k=d[0],P=d[1],n=d[2]),d;else if(f(e))e=b.$restore_passthroughs(b.$normalize_text(e,!0,!0)),g=G.$counter("footnote-number"),G.$register("footnotes",r(p(w,"Document"),"Footnote").$new(g,n,e)),k=P=c;else return(d=t["~"])===c?c:d["$[]"](0);return p(w,"Inline").$new(b,"footnote",e,l(["attributes","id","target","type"],{attributes:l(["index"],{index:g}),id:n,target:P,
type:k})).$convert()},B.$$s=this,B.$$arity=0,B)));return e},A.$$arity=1);a.def(d,"$sub_post_replacements",Y=function(a){var b,e,d,h=c,m=c;null==this.attributes&&(this.attributes=c);null==this.document&&(this.document=c);if(f(f(b=this.attributes["$[]"]("hardbreaks-option"))?b:this.document.$attributes()["$[]"]("hardbreaks-option"))){h=a.$split(p(w,"LF"),-1);if(f(k(h.$size(),2)))return a;m=h.$pop();return v(h,"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=c);return p(w,"Inline").$new(b,"break",
f(a["$end_with?"](p(w,"HARD_LINE_BREAK")))?a.$slice(0,g(a.$length(),2)):a,l(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=1,e))["$<<"](m).$join(p(w,"LF"))}return f(f(b=a["$include?"](p(w,"PLUS")))?a["$include?"](p(w,"HARD_LINE_BREAK")):b)?v(a,"gsub",[p(w,"HardLineBreakRx")],(d=function(){var a=d.$$s||this,b;return p(w,"Inline").$new(a,"break",(b=t["~"])===c?c:b["$[]"](1),l(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=0,d)):a},Y.$$arity=1);a.def(d,"$sub_source",z=function(a,
b){return f(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},z.$$arity=2);a.def(d,"$sub_callouts",V=function(a){var e,d=c,g=c;d=f(this["$attr?"]("line-comment"))?p(w,"CalloutSourceRxMap")["$[]"](this.$attr("line-comment")):p(w,"CalloutSourceRx");g=0;return v(a,"gsub",[d],(e=function(){var a=e.$$s||this,d;null==a.document&&(a.document=c);return f((d=t["~"])===c?c:d["$[]"](2))?((d=t["~"])===c?c:d["$[]"](0)).$sub(p(w,"RS"),""):p(w,"Inline").$new(a,"callout",((d=t["~"])===c?
c:d["$[]"](4))["$=="](".")?(g=b(g,1)).$to_s():(d=t["~"])===c?c:d["$[]"](4),l(["id","attributes"],{id:a.document.$callouts().$read_next_id(),attributes:l(["guard"],{guard:(d=t["~"])===c?c:d["$[]"](1)})})).$convert()},e.$$s=this,e.$$arity=0,e))},V.$$arity=1);a.def(d,"$highlight_source",C=function(b,e){var d,g,h=c,m=c,n,r=c,y=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);if(!f(f(d=h=this.document.$syntax_highlighter())?h["$highlight?"]():d))return this.$sub_source(b,
e);f(e)&&(e=this.$extract_callouts(b),d=a.to_ary(e),b=null==d[0]?c:d[0],m=null==d[1]?c:d[1],e);e=this.document.$attributes();var M=h.$name();f(n=f(this["$attr?"]("linenums"))?(f(d=e["$[]"](""+M+"-linenums-mode"))?d:"table").$to_sym():c)&&f(k(r=this.$attr("start",1).$to_i(),1))&&(r=1);f(this["$attr?"]("highlight"))&&(y=this.$resolve_lines_to_highlight(b,this.$attr("highlight")));e=h.$highlight(this,b,this.$attr("language"),l("callouts css_mode highlight_lines number_lines start_line_number style".split(" "),
{callouts:m,css_mode:(f(g=e["$[]"](""+M+"-css"))?g:"class").$to_sym(),highlight_lines:y,number_lines:n,start_line_number:r,style:e["$[]"](""+M+"-style")}));d=a.to_ary(e);b=null==d[0]?c:d[0];d=null==d[1]?c:d[1];e;f(this.passthroughs["$empty?"]())||(b=b.$gsub(p(w,"HighlightedPassSlotRx"),""+p(w,"PASS_START")+"\\1"+p(w,"PASS_END")));return f(m["$nil_or_empty?"]())?b:this.$restore_callouts(b,m,d)},C.$$arity=2);a.def(d,"$resolve_lines_to_highlight",E=function(e,d){var l,h=c;h=[];f(d["$include?"](" "))&&
(d=d.$delete(" "));v(f(d["$include?"](","))?d.$split(","):d.$split(";"),"map",[],(l=function(d){var l,m=c;null==d&&(d=c);f(d["$start_with?"]("!"))&&(d=d.$slice(1,d.$length()),m=!0);if(f(l=f(d["$include?"](".."))?"..":f(d["$include?"]("-"))?"-":c)){l=d.$partition(l);d=a.to_ary(l);var n=null==d[0]?c:d[0];var r=null==d[2]?c:d[2];l;f(f(d=r["$empty?"]())?d:k(r=r.$to_i(),0))&&(r=b(e.$count(p(w,"LF")),1));d=a.Range.$new(n.$to_i(),r,!1).$to_a();return f(m)?h=g(h,d):h.$concat(d)}return f(m)?h.$delete(d.$to_i()):
h["$<<"](d.$to_i())},l.$$s=this,l.$$arity=1,l));return h.$sort().$uniq()},E.$$arity=2);a.def(d,"$extract_passthroughs",W=function(b){var e,d,h,k,r,y=c,M=c,x=c,q=c,u=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);y=this.document.$compat_mode();M=this.passthroughs;f(f(e=f(d=b["$include?"]("++"))?d:b["$include?"]("$$"))?e:b["$include?"]("ss:"))&&(b=v(b,"gsub",[p(w,"InlinePassMacroRx")],(h=function(){var b=h.$$s||this,e,d,k,B,P=c,r=c,Q=c,x=k=c;if(f(d=(e=t["~"])===
c?c:e["$[]"](4))){if(f(f(e=y)?d["$=="]("++"):e))return(f((e=t["~"])===c?c:e["$[]"](2))?""+((e=t["~"])===c?c:e["$[]"](1))+"["+((e=t["~"])===c?c:e["$[]"](2))+"]"+((e=t["~"])===c?c:e["$[]"](3)):""+((e=t["~"])===c?c:e["$[]"](1))+((e=t["~"])===c?c:e["$[]"](3)))+"++"+b.$extract_passthroughs((e=t["~"])===c?c:e["$[]"](5))+"++";if(f(k=(e=t["~"])===c?c:e["$[]"](2))){if(f(m(B=((e=t["~"])===c?c:e["$[]"](3)).$length(),0)))return""+((e=t["~"])===c?c:e["$[]"](1))+"["+k+"]"+n(p(w,"RS"),g(B,1))+d+((e=t["~"])===c?
c:e["$[]"](5))+d;((e=t["~"])===c?c:e["$[]"](1))["$=="](p(w,"RS"))?P="["+k+"]":(f((e=d["$=="]("++"))?k["$end_with?"]("x-"):d["$=="]("++"))&&(r=!0,k=k.$slice(0,g(k.$length(),2))),Q=b.$parse_quoted_text_attributes(k))}else if(f(m(B=((e=t["~"])===c?c:e["$[]"](3)).$length(),0)))return""+n(p(w,"RS"),g(B,1))+d+((e=t["~"])===c?c:e["$[]"](5))+d;k=d["$=="]("+++")?[]:p(w,"BASIC_SUBS");b=f(Q)?f(r)?[x=M.$size(),l(["text","subs","type","attributes"],{text:(e=t["~"])===c?c:e["$[]"](5),subs:p(w,"NORMAL_SUBS"),type:"monospaced",
attributes:Q})]:[x=M.$size(),l(["text","subs","type","attributes"],{text:(e=t["~"])===c?c:e["$[]"](5),subs:k,type:"unquoted",attributes:Q})]:[x=M.$size(),l(["text","subs"],{text:(e=t["~"])===c?c:e["$[]"](5),subs:k})]}else{if(((e=t["~"])===c?c:e["$[]"](6))["$=="](p(w,"RS")))return((e=t["~"])===c?c:e["$[]"](0)).$slice(1,((e=t["~"])===c?c:e["$[]"](0)).$length());b=f(k=(e=t["~"])===c?c:e["$[]"](7))?[x=M.$size(),l(["text","subs"],{text:b.$normalize_text((e=t["~"])===c?c:e["$[]"](8),c,!0),subs:b.$resolve_pass_subs(k)})]:
[x=M.$size(),l(["text"],{text:b.$normalize_text((e=t["~"])===c?c:e["$[]"](8),c,!0)})]}v(M,"[]=",a.to_a(b));b[g(b.length,1)];return""+(f(e=P)?e:"")+p(w,"PASS_START")+x+p(w,"PASS_END")},h.$$s=this,h.$$arity=0,h)));d=p(w,"InlinePassRx")["$[]"](y);e=a.to_ary(d);x=null==e[0]?c:e[0];q=null==e[1]?c:e[1];u=null==e[2]?c:e[2];d;f(f(e=b["$include?"](x))?e:f(d=q)?b["$include?"](q):d)&&(b=v(b,"gsub",[u],(k=function(){var b=k.$$s||this,e,d,h=c,m=c,n=c;var r=(e=t["~"])===c?c:e["$[]"](1);var Q=(e=t["~"])===c?c:e["$[]"](2);
f((d=(e=t["~"])===c?c:e["$[]"](3))["$start_with?"](p(w,"RS")))&&(h=p(w,"RS"));var x=(e=t["~"])===c?c:e["$[]"](4);var q=(e=t["~"])===c?c:e["$[]"](5);f(y)?m=!0:f(m=f(e=Q)?Q["$end_with?"]("x-"):e)&&(Q=Q.$slice(0,g(Q.$length(),2)));if(f(Q)){if(f(x["$=="]("`")?m["$!"]():x["$=="]("`")))return b.$extract_inner_passthrough(q,""+r+"["+Q+"]"+h);if(f(h))return""+r+"["+Q+"]"+d.$slice(1,d.$length());r["$=="](p(w,"RS"))?r="["+Q+"]":n=b.$parse_quoted_text_attributes(Q)}else{if(f(x["$=="]("`")?m["$!"]():x["$=="]("`")))return b.$extract_inner_passthrough(q,
""+r+h);if(f(h))return""+r+d.$slice(1,d.$length())}f(y)?q=[b=M.$size(),l(["text","subs","attributes","type"],{text:q,subs:p(w,"BASIC_SUBS"),attributes:n,type:"monospaced"})]:f(n)?f(m)?(e=x["$=="]("`")?p(w,"BASIC_SUBS"):p(w,"NORMAL_SUBS"),q=[b=M.$size(),l(["text","subs","attributes","type"],{text:q,subs:e,attributes:n,type:"monospaced"})]):q=[b=M.$size(),l(["text","subs","attributes","type"],{text:q,subs:p(w,"BASIC_SUBS"),attributes:n,type:"unquoted"})]:q=[b=M.$size(),l(["text","subs"],{text:q,subs:p(w,
"BASIC_SUBS")})];v(M,"[]=",a.to_a(q));q[g(q.length,1)];return""+r+p(w,"PASS_START")+b+p(w,"PASS_END")},k.$$s=this,k.$$arity=0,k)));f(f(e=b["$include?"](":"))?f(d=b["$include?"]("stem:"))?d:b["$include?"]("math:"):e)&&(b=v(b,"gsub",[p(w,"InlineStemMacroRx")],(r=function(){var b=r.$$s||this,e,d;null==b.document&&(b.document=c);if(f(((e=t["~"])===c?c:e["$[]"](0))["$start_with?"](p(w,"RS"))))return((e=t["~"])===c?c:e["$[]"](0)).$slice(1,((e=t["~"])===c?c:e["$[]"](0)).$length());(d=((e=t["~"])===c?c:e["$[]"](1)).$to_sym())["$=="]("stem")&&
(d=p(w,"STEM_TYPE_ALIASES")["$[]"](b.document.$attributes()["$[]"]("stem")).$to_sym());var h=(e=t["~"])===c?c:e["$[]"](2);var m=b.$normalize_text((e=t["~"])===c?c:e["$[]"](3),c,!0);f(f(e=d["$=="]("latexmath")?m["$start_with?"]("$"):d["$=="]("latexmath"))?m["$end_with?"]("$"):e)&&(m=m.$slice(1,g(m.$length(),2)));h=f(h)?b.$resolve_pass_subs(h):f(b.document["$basebackend?"]("html"))?p(w,"BASIC_SUBS"):c;d=[b=M.$size(),l(["text","subs","type"],{text:m,subs:h,type:d})];v(M,"[]=",a.to_a(d));d[g(d.length,
1)];return""+p(w,"PASS_START")+b+p(w,"PASS_END")},r.$$s=this,r.$$arity=0,r)));return b},W.$$arity=1);a.def(d,"$restore_passthroughs",aa=function(a){var b,e=c;null==this.passthroughs&&(this.passthroughs=c);e=this.passthroughs;return v(a,"gsub",[p(w,"PassSlotRx")],(b=function(){var d=b.$$s||this,g,h,m,n,k=c;if(f(h=e["$[]"](((g=t["~"])===c?c:g["$[]"](1)).$to_i())))return g=d.$apply_subs(h["$[]"]("text"),h["$[]"]("subs")),f(m=h["$[]"]("type"))&&(f(n=h["$[]"]("attributes"))&&(k=n["$[]"]("id")),g=p(w,"Inline").$new(d,
"quoted",g,l(["type","id","attributes"],{type:m,id:k,attributes:n})).$convert()),f(g["$include?"](p(w,"PASS_START")))?d.$restore_passthroughs(g):g;d.$logger().$error("unresolved passthrough detected: "+a);return"??pass??"},b.$$s=this,b.$$arity=0,b))},aa.$$arity=1);a.def(d,"$resolve_subs",F=function(a,e,d,l){var h,n=c,k=c,r=c,y=c;null==e&&(e="block");null==d&&(d=c);null==l&&(l=c);if(f(a["$nil_or_empty?"]()))return c;n=c;f(a["$include?"](" "))&&(a=a.$delete(" "));k=p(w,"SubModifierSniffRx")["$match?"](a);
v(a.$split(","),"each",[],(h=function(a){var l,h,m=c;null==a&&(a=c);var r=c;f(k)&&((l=a.$chr())["$=="]("+")?(r="append",a=a.$slice(1,a.$length())):l["$=="]("-")?(r="remove",a=a.$slice(1,a.$length())):f(a["$end_with?"]("+"))&&(r="prepend",a=a.$chop()));a=a.$to_sym();f((l=e["$=="]("inline"))?f(h=a["$=="]("verbatim"))?h:a["$=="]("v"):e["$=="]("inline"))?a=p(w,"BASIC_SUBS"):f(p(w,"SUB_GROUPS")["$key?"](a))?a=p(w,"SUB_GROUPS")["$[]"](a):f(f(l=e["$=="]("inline")?a.$length()["$=="](1):e["$=="]("inline"))?
p(w,"SUB_HINTS")["$key?"](a):l)?(a=p(w,"SUB_HINTS")["$[]"](a),a=f(m=p(w,"SUB_GROUPS")["$[]"](a))?m:[a]):a=[a];if(f(r))return n=f(l=n)?l:f(d)?d.$drop(0):[],"append"["$==="](r)?n=b(n,a):"prepend"["$==="](r)?n=b(a,n):"remove"["$==="](r)?n=g(n,a):c;n=f(l=n)?l:[];return n=b(n,a)},h.$$s=this,h.$$arity=1,h));if(!f(n))return c;r=n["$&"](p(w,"SUB_OPTIONS")["$[]"](e));f(g(n,r)["$empty?"]())||(y=g(n,r),this.$logger().$warn("invalid substitution type"+(f(m(y.$size(),1))?"s":"")+(f(l)?" for ":"")+l+": "+y.$join(", ")));
return r},F.$$arity=-2);a.def(d,"$resolve_block_subs",I=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},I.$$arity=3);a.def(d,"$resolve_pass_subs",Z=function(a){return this.$resolve_subs(a,"inline",c,"passthrough macro")},Z.$$arity=1);a.def(d,"$expand_subs",J=function(a){var e,d,l=c;if(f(r("::","Symbol")["$==="](a)))return a["$=="]("none")?c:f(e=p(w,"SUB_GROUPS")["$[]"](a))?e:[a];l=[];v(a,"each",[],(d=function(a){var e;null==a&&(a=c);return a["$=="]("none")?c:f(e=p(w,"SUB_GROUPS")["$[]"](a))?
l=b(l,e):l["$<<"](a)},d.$$s=this,d.$$arity=1,d));return f(l["$empty?"]())?c:l},J.$$arity=1);a.def(d,"$commit_subs",ka=function(){var b,e,d,l,h=c,m=c,n=c;null==this.default_subs&&(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.subs&&(this.subs=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);if(!f(l=this.default_subs))if(l=this.content_model,"simple"["$==="](l))l=
p(w,"NORMAL_SUBS");else if("verbatim"["$==="](l))l=this.context["$=="]("verse")?p(w,"NORMAL_SUBS"):p(w,"VERBATIM_SUBS");else if("raw"["$==="](l))l=this.context["$=="]("stem")?p(w,"BASIC_SUBS"):p(w,"NO_SUBS");else return this.subs;f(h=this.attributes["$[]"]("subs"))?this.subs=f(b=this.$resolve_block_subs(h,l,this.context))?b:[]:this.subs=l.$drop(0);f(f(b=f(e=f(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?m=this.document.$syntax_highlighter():d)?m["$highlight?"]():
e)?n=this.subs.$index("specialcharacters"):b)&&(b=[n,"highlight"],v(this.subs,"[]=",a.to_a(b)),b[g(b.length,1)]);return c},ka.$$arity=0);a.def(d,"$parse_attributes",ia=function(a,b,e){var d,g=c,h=c;null==this.document&&(this.document=c);null==b&&(b=[]);null==e&&(e=l([],{}));if(f(f(a)?a["$empty?"]():!0))return l([],{});f(e["$[]"]("unescape_input"))&&(a=this.$normalize_text(a,!0,!0));f(f(d=e["$[]"]("sub_input"))?a["$include?"](p(w,"ATTR_REF_HEAD")):d)&&(a=this.document.$sub_attributes(a));f(e["$[]"]("sub_result"))&&
(g=this);return f(h=e["$[]"]("into"))?p(w,"AttributeList").$new(a,g).$parse_into(h,b):p(w,"AttributeList").$new(a,g).$parse(b)},ia.$$arity=-2);d.$private();a.def(d,"$extract_callouts",ja=function(e){var d,h=c,m=c,n=c,k=c;h=l([],{});m=0;n=c;k=f(this["$attr?"]("line-comment"))?p(w,"CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):p(w,"CalloutExtractRx");e=v(e.$split(p(w,"LF"),-1),"map",[],(d=function(e){var l=d.$$s||this,r;null==e&&(e=c);m=b(m,1);return v(e,"gsub",[k],(r=function(){var b,e=
c;if(f((b=t["~"])===c?c:b["$[]"](2)))return((b=t["~"])===c?c:b["$[]"](0)).$sub(p(w,"RS"),"");(f(b=h["$[]"](m))?b:(e=[m,[]],v(h,"[]=",a.to_a(e)),e[g(e.length,1)]))["$<<"]([(b=t["~"])===c?c:b["$[]"](1),(b=t["~"])===c?c:b["$[]"](4)]);n=m;return""},r.$$s=l,r.$$arity=0,r))},d.$$s=this,d.$$arity=1,d)).$join(p(w,"LF"));f(n)?n["$=="](m)&&(e=""+e+p(w,"LF")):h=c;return[e,h]},ja.$$arity=1);a.def(d,"$restore_callouts",na=function(e,d,g){var h,m=c,n=c,k=c;null==g&&(g=c);f(g)?(m=e.$slice(0,g),e=e.$slice(g,e.$length())):
m="";n=k=0;return b(m,v(e.$split(p(w,"LF"),-1),"map",[],(h=function(e){var g=h.$$s||this,m,r,y=m=c;var M=c;null==g.document&&(g.document=c);null==e&&(e=c);return f(m=d.$delete(k=b(k,1)))?m.$size()["$=="](1)?(m=m["$[]"](0),M=a.to_ary(m),y=null==M[0]?c:M[0],M=null==M[1]?c:M[1],m,""+e+p(w,"Inline").$new(g,"callout",M["$=="](".")?(n=b(n,1)).$to_s():M,l(["id","attributes"],{id:g.document.$callouts().$read_next_id(),attributes:l(["guard"],{guard:y})})).$convert()):""+e+v(m,"map",[],(r=function(a,e){var d=
r.$$s||this;null==d.document&&(d.document=c);null==a&&(a=c);null==e&&(e=c);return p(w,"Inline").$new(d,"callout",e["$=="](".")?(n=b(n,1)).$to_s():e,l(["id","attributes"],{id:d.document.$callouts().$read_next_id(),attributes:l(["guard"],{guard:a})})).$convert()},r.$$s=g,r.$$arity=2,r)).$join(" "):e},h.$$s=this,h.$$arity=1,h)).$join(p(w,"LF")))},na.$$arity=-3);a.def(d,"$extract_inner_passthrough",O=function(b,e){var d,h;null==this.passthroughs&&(this.passthroughs=c);if(f(f(d=f(h=b["$end_with?"]("+"))?
b["$start_with?"]("+","\\+"):h)?p(w,"SinglePlusInlinePassRx")["$=~"](b):d)){if(f((d=t["~"])===c?c:d["$[]"](1)))return""+e+"`+"+((d=t["~"])===c?c:d["$[]"](2))+"+`";b=[h=this.passthroughs.$size(),l(["text","subs"],{text:(d=t["~"])===c?c:d["$[]"](2),subs:p(w,"BASIC_SUBS")})];v(this.passthroughs,"[]=",a.to_a(b));b[g(b.length,1)];return""+e+"`"+p(w,"PASS_START")+h+p(w,"PASS_END")+"`"}return""+e+"`"+b+"`"},O.$$arity=2);a.def(d,"$convert_quoted_text",Ka=function(a,b,e){var d=c,g=c,h=c,m=c;if(f(a["$[]"](0)["$start_with?"](p(w,
"RS"))))if(f(e["$=="]("constrained")?d=a["$[]"](2):e["$=="]("constrained")))g="["+d+"]";else return a["$[]"](0).$slice(1,a["$[]"](0).$length());if(e["$=="]("constrained")){if(f(g))return""+g+p(w,"Inline").$new(this,"quoted",a["$[]"](3),l(["type"],{type:b})).$convert();f(e=a["$[]"](2))&&(h=(m=this.$parse_quoted_text_attributes(e))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+p(w,"Inline").$new(this,"quoted",a["$[]"](3),l(["type","id","attributes"],{type:b,id:h,attributes:m})).$convert()}f(e=
a["$[]"](1))&&(h=(m=this.$parse_quoted_text_attributes(e))["$[]"]("id"),b["$=="]("mark")&&(b="unquoted"));return p(w,"Inline").$new(this,"quoted",a["$[]"](2),l(["type","id","attributes"],{type:b,id:h,attributes:m})).$convert()},Ka.$$arity=3);a.def(d,"$do_replacement",Fa=function(a,c,e){var d;return f((d=a["$[]"](0))["$include?"](p(w,"RS")))?d.$sub(p(w,"RS"),""):"none"["$==="](e)?c:"bounding"["$==="](e)?b(b(a["$[]"](1),c),a["$[]"](2)):b(a["$[]"](1),c)},Fa.$$arity=3);p(w,"RUBY_ENGINE")["$=="]("opal")||
c;a.def(d,"$parse_quoted_text_attributes",K=function(b){var e,d=c;if(f((b=b.$rstrip())["$empty?"]()))return l([],{});f(b["$include?"](p(w,"ATTR_REF_HEAD")))&&(b=this.$sub_attributes(b));f(b["$include?"](","))&&(b=b.$slice(0,b.$index(",")));if(f(f(e=b["$start_with?"](".","#"))?p(w,"Compliance").$shorthand_property_syntax():e)){var h=b.$split("#",2);f(m(h.$size(),1))?(b=h["$[]"](1).$split("."),e=a.to_ary(b),d=null==e[0]?c:e[0],e=q.call(e,1),b):e=[];b=f(h["$[]"](0)["$empty?"]())?[]:h["$[]"](0).$split(".");
f(m(b.$size(),1))&&b.$shift();f(m(e.$size(),0))&&b.$concat(e);e=l([],{});f(d)&&(d=["id",d],v(e,"[]=",a.to_a(d)),d[g(d.length,1)]);f(b["$empty?"]())||(d=["role",b.$join(" ")],v(e,"[]=",a.to_a(d)),d[g(d.length,1)]);return e}return l(["role"],{role:b})},K.$$arity=1);a.def(d,"$normalize_text",da=function(a,b,e){var d;null==b&&(b=c);null==e&&(e=c);f(a["$empty?"]())||(f(b)&&(a=a.$strip().$tr(p(w,"LF")," ")),f(f(d=e)?a["$include?"](p(w,"R_SB")):d)&&(a=a.$gsub(p(w,"ESC_R_SB"),p(w,"R_SB"))));return a},da.$$arity=
-2);a.def(d,"$split_simple_csv",ra=function(a){var e,d,l=c,g=c,p=c;return f(a["$empty?"]())?[]:f(a["$include?"]('"'))?(l=[],g="",p=c,v(a,"each_char",[],(e=function(a){var e=c;null==a&&(a=c);return function(){e=a;if(","["$==="](e)){if(f(p))return g=b(g,a);l["$<<"](g.$strip());return g=""}return'"'["$==="](e)?p=p["$!"]():g=b(g,a)}()},e.$$s=this,e.$$arity=1,e)),l["$<<"](g.$strip())):v(a.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=this,d.$$arity=1,d))},ra.$$arity=1)})(d[0],
d)}(h[0],h)};Opal.modules["asciidoctor/version"]=function(a){var b=[],g=a.module;b=[g(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","2.0.9")};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var m=[],k=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,r=a.klass,p=a.hash2,q=a.truthy,t=a.send;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $[] $merge $raise $converter $attributes $key? $[]= $- $delete $tap $new $each_key $end_with? $<< $slice $length $update $split $include? $empty? $join $apply_reftext_subs $attr? $attr $extname? $image_uri $< $safe $uriish? $encode_spaces_in_uri $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $extname $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open_uri $content_type $read $base_dir $root? $path_resolver $system_path $web_path $=== $!= $prepare_source_string $fetch $read_asset".split(" "));
return function(d,e){d=[c(d,"Asciidoctor")].concat(e);(function(c,$super,e){c=r(c,$super,"AbstractNode");var d=[c].concat(e),f,l,m,w,y,x,u,v,D,L,T,A,z,C,E,za,V,F,W,aa,I,Z,J,O,ka,ia,Da,na,K,Ka,Fa,R;c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.parent=k;c.$include(h(d,"Substitutors"),h(d,"Logging"));c.$attr_reader("attributes");c.$attr_reader("context");c.$attr_reader("document");c.$attr_accessor("id");c.$attr_reader("node_name");c.$attr_reader("parent");a.def(c,"$initialize",f=function(a,
b,c){var e=k;null==c&&(c=p([],{}));b["$=="]("document")?this.document=this:q(a)&&(this.document=(this.parent=a).$document());this.node_name=(this.context=b).$to_s();this.attributes=q(e=c["$[]"]("attributes"))?e.$merge():p([],{});return this.passthroughs=[]},f.$$arity=-3);a.def(c,"$block?",l=function(){return this.$raise(n("::","NotImplementedError"))},l.$$arity=0);a.def(c,"$inline?",m=function(){return this.$raise(n("::","NotImplementedError"))},m.$$arity=0);a.def(c,"$converter",w=function(){return this.document.$converter()},
w.$$arity=0);a.def(c,"$parent=",y=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},y.$$arity=1);a.def(c,"$attr",x=function(a,b,c){var e,d,f,g;null==b&&(b=k);null==c&&(c=k);return q(e=this.attributes["$[]"](a.$to_s()))?e:q(d=q(f=q(g=c)?this.parent:g)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):f)?d:b},x.$$arity=-2);a.def(c,"$attr?",u=function(a,b,c){var e,d;null==b&&(b=k);null==c&&(c=k);return q(b)?b["$=="](q(e=this.attributes["$[]"](a.$to_s()))?
e:q(q(d=c)?this.parent:d)?this.document.$attributes()["$[]"]((c["$=="](!0)?a:c).$to_s()):k):q(e=this.attributes["$key?"](a.$to_s()))?e:q(q(d=c)?this.parent:d)?this.document.$attributes()["$key?"]((c["$=="](!0)?a:c).$to_s()):!1},u.$$arity=-2);a.def(c,"$set_attr",v=function(c,e,d){null==e&&(e="");null==d&&(d=!0);if(q(d["$=="](!1)?this.attributes["$key?"](c):d["$=="](!1)))return!1;c=[c,e];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},v.$$arity=-2);a.def(c,"$remove_attr",D=function(a){return this.attributes.$delete(a)},
D.$$arity=1);a.def(c,"$option?",L=function(a){return q(this.attributes["$[]"](""+a+"-option"))?!0:!1},L.$$arity=1);a.def(c,"$set_option",T=function(c){c=[""+c+"-option",""];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return k},T.$$arity=1);a.def(c,"$enabled_options",A=function(){var a;return t(n("::","Set").$new(),"tap",[],(a=function(c){var e=a.$$s||this,d;null==e.attributes&&(e.attributes=k);null==c&&(c=k);return t(e.attributes,"each_key",[],(d=function(a){null==a&&(a=k);return q(a.$to_s()["$end_with?"]("-option"))?
c["$<<"](a.$slice(0,b(a.$length(),7))):k},d.$$s=e,d.$$arity=1,d))},a.$$s=this,a.$$arity=1,a))},A.$$arity=0);a.def(c,"$update_attributes",z=function(a){return this.attributes.$update(a)},z.$$arity=1);a.def(c,"$role",C=function(){return this.attributes["$[]"]("role")},C.$$arity=0);a.def(c,"$roles",E=function(){var a;return q(a=this.attributes["$[]"]("role"))?a.$split():[]},E.$$arity=0);a.def(c,"$role?",za=function(a){null==a&&(a=k);return q(a)?a["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},
za.$$arity=-1);a.def(c,"$has_role?",V=function(a){var b;return q(b=this.attributes["$[]"]("role"))?(" "+b+" ")["$include?"](" "+a+" "):!1},V.$$arity=1);a.def(c,"$add_role",F=function(c){var e;if(q(e=this.attributes["$[]"]("role"))){if(q((" "+e+" ")["$include?"](" "+c+" ")))return!1;c=["role",""+e+" "+c];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0}c=["role",c];t(this.attributes,"[]=",a.to_a(c));c[b(c.length,1)];return!0},F.$$arity=1);a.def(c,"$remove_role",W=function(c){var e,d=k;
return q(q(e=d=this.attributes["$[]"]("role"))?(d=d.$split()).$delete(c):e)?(q(d["$empty?"]())?this.attributes.$delete("role"):(c=["role",d.$join(" ")],t(this.attributes,"[]=",a.to_a(c)),c[b(c.length,1)]),!0):!1},W.$$arity=1);a.def(c,"$reftext",aa=function(){var a;return q(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):k},aa.$$arity=0);a.def(c,"$reftext?",I=function(){return this.attributes["$key?"]("reftext")},I.$$arity=0);a.def(c,"$icon_uri",Z=function(a){q(this["$attr?"]("icon"))?
(a=this.$attr("icon"),q(h(d,"Helpers")["$extname?"](a))||(a=""+a+"."+this.document.$attr("icontype","png"))):a=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(a,"iconsdir")},Z.$$arity=1);a.def(c,"$image_uri",J=function(a,b){var c,e,f,l,p=k,m=k;null==b&&(b="imagesdir");return q(q(c=g((p=this.document).$safe(),n(h(d,"SafeMode"),"SECURE")))?p["$attr?"]("data-uri"):c)?q(q(c=q(e=h(d,"Helpers")["$uriish?"](a))?a=h(d,"Helpers").$encode_spaces_in_uri(a):e)?c:q(e=q(f=q(l=b)?m=p.$attr(b):
l)?h(d,"Helpers")["$uriish?"](m):f)?a=this.$normalize_web_path(a,m,!1):e)?q(p["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,p["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,q(b)?p.$attr(b):k)},J.$$arity=-2);a.def(c,"$media_uri",O=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,q(b)?this.document.$attr(b):k)},O.$$arity=-2);a.def(c,"$generate_data_uri",ka=function(a,b){var c=k;null==b&&(b=k);var e=q(c=h(d,"Helpers").$extname(a,
k))?c["$=="](".svg")?"image/svg+xml":"image/"+c.$slice(1,c.$length()):"application/octet-stream";a=q(b)?this.$normalize_system_path(a,this.document.$attr(b),k,p(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(q(n("::","File")["$readable?"](a)))return"data:"+e+";base64,"+n("::","Base64").$strict_encode64(n("::","File").$binread(a));this.$logger().$warn("image to embed not found or not readable: "+a);return"data:"+e+";base64,"},ka.$$arity=-2);a.def(c,"$generate_data_uri_from_uri",
ia=function(b,c){var e,f=k,g=k;null==c&&(c=!1);q(c)?h(d,"Helpers").$require_library("open-uri/cached","open-uri-cached"):q(h(d,"RUBY_ENGINE_OPAL")["$!"]())&&n("::","OpenURI");try{var l=t(n("::","OpenURI"),"open_uri",[b,h(d,"URI_READ_MODE")],(e=function(a){null==a&&(a=k);return[a.$content_type(),a.$read()]},e.$$s=this,e.$$arity=1,e));var p=a.to_ary(l);f=null==p[0]?k:p[0];g=null==p[1]?k:p[1];l;return"data:"+f+";base64,"+n("::","Base64").$strict_encode64(g)}catch(Ga){if(a.rescue(Ga,[h(d,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+
b),b}finally{a.pop_exception()}else throw Ga;}},ia.$$arity=-2);a.def(c,"$normalize_asset_path",Da=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),k,p(["target_name","recover"],{target_name:b,recover:c}))},Da.$$arity=-2);a.def(c,"$normalize_system_path",na=function(a,b,c,e){var f;null==b&&(b=k);null==c&&(c=k);null==e&&(e=p([],{}));q(g((f=this.document).$safe(),n(h(d,"SafeMode"),"SAFE")))?q(b)?q(f.$path_resolver()["$root?"](b))||(b=
n("::","File").$join(f.$base_dir(),b)):b=f.$base_dir():(q(b)||(b=f.$base_dir()),q(c)||(c=f.$base_dir()));return f.$path_resolver().$system_path(a,b,c,e)},na.$$arity=-2);a.def(c,"$normalize_web_path",K=function(a,b,c){var e;null==b&&(b=k);null==c&&(c=!0);return q(q(e=c)?h(d,"Helpers")["$uriish?"](a):e)?h(d,"Helpers").$encode_spaces_in_uri(a):this.document.$path_resolver().$web_path(a,b)},K.$$arity=-2);a.def(c,"$read_asset",Ka=function(a,b){var c;null==b&&(b=p([],{}));q(n("::","Hash")["$==="](b))||
(b=p(["warn_on_failure"],{warn_on_failure:b["$!="](!1)}));if(q(n("::","File")["$readable?"](a)))return q(b["$[]"]("normalize"))?h(d,"Helpers").$prepare_source_string(n("::","File").$read(a,p(["mode"],{mode:h(d,"FILE_READ_MODE")}))).$join(h(d,"LF")):n("::","File").$read(a,p(["mode"],{mode:h(d,"FILE_READ_MODE")}));q(b["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(q(c=this.$attr("docfile"))?c:"<stdin>")+": "+(q(c=b["$[]"]("label"))?c:"file")+" does not exist or cannot be read: "+a);return k},
Ka.$$arity=-2);a.def(c,"$read_contents",Fa=function(b,c){var e,f,g,l,m,w=k,r=k;null==c&&(c=p([],{}));w=this.document;if(q(q(e=h(d,"Helpers")["$uriish?"](b))?e:q(f=q(g=r=c["$[]"]("start"))?h(d,"Helpers")["$uriish?"](r):g)?b=w.$path_resolver().$web_path(b,r):f))if(q(w["$attr?"]("allow-uri-read"))){q(w["$attr?"]("cache-uri"))&&h(d,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return q(c["$[]"]("normalize"))?h(d,"Helpers").$prepare_source_string(t(n("::","OpenURI"),"open_uri",[b,
h(d,"URI_READ_MODE")],(l=function(a){null==a&&(a=k);return a.$read()},l.$$s=this,l.$$arity=1,l))).$join(h(d,"LF")):t(n("::","OpenURI"),"open_uri",[b,h(d,"URI_READ_MODE")],(m=function(a){null==a&&(a=k);return a.$read()},m.$$s=this,m.$$arity=1,m))}catch(La){if(a.rescue(La,[h(d,"StandardError")]))try{return q(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(q(e=c["$[]"]("label"))?e:"asset")+" at URI: "+b),k}finally{a.pop_exception()}else throw La;}}else return q(c.$fetch("warn_on_failure",
!0))&&this.$logger().$warn("cannot retrieve contents of "+(q(e=c["$[]"]("label"))?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),k;else return b=this.$normalize_system_path(b,c["$[]"]("start"),k,p(["target_name"],{target_name:q(e=c["$[]"]("label"))?e:"asset"})),this.$read_asset(b,p(["normalize","warn_on_failure","label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0),label:c["$[]"]("label")}))},Fa.$$arity=-2);return(a.def(c,"$is_uri?",R=function(a){return h(d,
"Helpers")["$uriish?"](a)},R.$$arity=1),k)&&"is_uri?"})(d[0],null,d)}(m[0],m)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=[],k=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,r=a.klass,p=a.hash2,q=a.send,t=a.truthy;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $=== $level $file $lineno $playback_attributes $convert $converter $join $map $to_s $parent $parent= $- $<< $empty? $> $Integer $find_by_internal $to_proc $context $[] $items $+ $find_index $include? $next_adjacent_block $blocks $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $delete $reftext $! $sub_placeholder $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $numeral= $numeral $caption= $int_to_roman $each $assign_numeral $reindex_sections $protected $has_role? $raise $header? $!= $flatten $head $rows $merge $body $foot $style $inner_document".split(" "));
return function(d,e){d=[c(d,"Asciidoctor")].concat(e);(function(c,$super,e){c=r(c,$super,"AbstractBlock");var d=[c].concat(e),f,l,m,w,y,x,u,v,D,L,A,z,T,C,E,za,F,I,W,aa,V,Z,J,O,ka,ia,Da,na,K;c.$$prototype.source_location=c.$$prototype.document=c.$$prototype.attributes=c.$$prototype.blocks=c.$$prototype.next_section_index=c.$$prototype.numeral=c.$$prototype.context=c.$$prototype.parent=c.$$prototype.caption=c.$$prototype.style=c.$$prototype.converted_title=c.$$prototype.title=c.$$prototype.subs=c.$$prototype.next_section_ordinal=
c.$$prototype.id=c.$$prototype.header=k;c.$attr_reader("blocks");c.$attr_writer("caption");c.$attr_accessor("content_model");c.$attr_accessor("level");c.$attr_accessor("numeral");c.$attr_accessor("source_location");c.$attr_accessor("style");c.$attr_reader("subs");a.def(c,"$initialize",f=function(b,c,e){var g,l=f.$$p,m;l&&(f.$$p=null);var n=0;var w=arguments.length;for(m=Array(w);n<w;n++)m[n]=arguments[n];null==e&&(e=p([],{}));q(this,a.find_super_dispatcher(this,"initialize",f,!1),m,l);this.content_model=
"compound";this.blocks=[];this.subs=[];this.id=this.title=this.caption=this.numeral=this.style=this.default_subs=this.source_location=k;return t(t(g=c["$=="]("document"))?g:c["$=="]("section"))?(this.level=this.next_section_index=0,this.next_section_ordinal=1):t(h(d,"AbstractBlock")["$==="](b))?this.level=b.$level():this.level=k},f.$$arity=-3);a.def(c,"$block?",l=function(){return!0},l.$$arity=0);a.def(c,"$inline?",m=function(){return!1},m.$$arity=0);a.def(c,"$file",w=function(){var a;return t(a=
this.source_location)?this.source_location.$file():a},w.$$arity=0);a.def(c,"$lineno",y=function(){var a;return t(a=this.source_location)?this.source_location.$lineno():a},y.$$arity=0);a.def(c,"$convert",x=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},x.$$arity=0);a.alias(c,"render","convert");a.def(c,"$content",u=function(){var a;return q(this.blocks,"map",[],(a=function(a){null==a&&(a=k);return a.$convert()},a.$$s=this,a.$$arity=1,a)).$join(h(d,
"LF"))},u.$$arity=0);a.def(c,"$context=",v=function(a){return this.node_name=(this.context=a).$to_s()},v.$$arity=1);a.def(c,"$<<",D=function(c){if(!c.$parent()["$=="](this)){var e=[this];q(c,"parent=",a.to_a(e));e[b(e.length,1)]}this.blocks["$<<"](c);return this},D.$$arity=1);a.alias(c,"append","<<");a.def(c,"$blocks?",L=function(){return t(this.blocks["$empty?"]())?!1:!0},L.$$arity=0);a.def(c,"$sections?",A=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},A.$$arity=
0);a.def(c,"$number",z=function(){try{return this.$Integer(this.numeral)}catch(Ka){if(a.rescue(Ka,[h(d,"StandardError")]))try{return this.numeral}finally{a.pop_exception()}else throw Ka;}},z.$$arity=0);a.def(c,"$find_by",T=function(b){var c=T.$$p,e=c||k,d=k;c&&(T.$$p=null);c&&(T.$$p=null);null==b&&(b=p([],{}));try{return q(this,"find_by_internal",[b,d=[]],e.$to_proc())}catch(ra){if(a.rescue(ra,[n("::","StopIteration")]))try{return d}finally{a.pop_exception()}else throw ra;}},T.$$arity=-1);a.alias(c,
"query","find_by");a.def(c,"$next_adjacent_block",C=function(){var a,b=k,c=k;return this.context["$=="]("document")?k:t((b=this.parent).$context()["$=="]("dlist")?this.context["$=="]("list_item"):(b=this.parent).$context()["$=="]("dlist"))?t(c=b.$items()["$[]"](g(q(b.$items(),"find_index",[],(a=function(b,c){var e=a.$$s||this,d;null==b&&(b=k);null==c&&(c=k);return t(d=b["$include?"](e))?d:c["$=="](e)},a.$$s=this,a.$$arity=2,a)),1)))?c:b.$next_adjacent_block():t(c=b.$blocks()["$[]"](g(b.$blocks().$find_index(this),
1)))?c:b.$next_adjacent_block()},C.$$arity=0);a.def(c,"$sections",E=function(){var a;return q(this.blocks,"select",[],(a=function(a){null==a&&(a=k);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},E.$$arity=0);a.def(c,"$alt",za=function(){var a;if(t(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);a=this.$sub_specialchars(a);return t(h(d,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return""},
za.$$arity=0);a.def(c,"$caption",F=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},F.$$arity=0);a.def(c,"$captioned_title",I=function(){return""+this.caption+this.$title()},I.$$arity=0);a.def(c,"$list_marker_keyword",W=function(a){var b;null==a&&(a=k);return h(d,"ORDERED_LIST_KEYWORDS")["$[]"](t(b=a)?b:this.style)},W.$$arity=-1);a.def(c,"$title",aa=function(){var a,b;return this.converted_title=t(a=this.converted_title)?a:t(b=this.title)?this.$apply_title_subs(this.title):
b},aa.$$arity=0);a.def(c,"$title?",V=function(){return t(this.title)?!0:!1},V.$$arity=0);a.def(c,"$title=",Z=function(a){this.converted_title=k;return this.title=a},Z.$$arity=1);a.def(c,"$sub?",J=function(a){return this.subs["$include?"](a)},J.$$arity=1);a.def(c,"$remove_sub",O=function(a){this.subs.$delete(a);return k},O.$$arity=1);a.def(c,"$xreftext",ka=function(a){var b,c,e=k,f=k,g=k;null==a&&(a=k);t(t(b=e=this.$reftext())?e["$empty?"]()["$!"]():b)?b=e:(t(t(b=t(c=a)?this.title:c)?this.caption:
b)?"full"["$==="](a)?(a=this.$sub_placeholder(this.$sub_quotes(t(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=t(t(b=t(c=this.numeral)?f=h(d,"CAPTION_ATTR_NAMES")["$[]"](this.context):c)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral+", "+a:""+this.caption.$chomp(". ")+", "+a):a="short"["$==="](a)?t(t(b=t(c=this.numeral)?f=h(d,"CAPTION_ATTR_NAMES")["$[]"](this.context):c)?g=this.document.$attributes()["$[]"](f):b)?""+g+" "+this.numeral:this.caption.$chomp(". "):
this.$title():a=this.$title(),b=a);return b},ka.$$arity=-1);a.def(c,"$assign_caption",ia=function(a,b){var c,e,f=k,g=k;null==b&&(b=this.context);!t(t(c=t(e=this.caption)?e:this.title["$!"]())?c:this.caption=t(e=a)?e:this.document.$attributes()["$[]"]("caption"))&&t(t(c=f=h(d,"CAPTION_ATTR_NAMES")["$[]"](b))?g=this.document.$attributes()["$[]"](f):c)&&(this.caption=""+g+" "+(this.numeral=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return k},ia.$$arity=-2);a.def(c,"$assign_numeral",
Da=function(c){var e,f=k,l,p=k;this.next_section_index=g((f=[this.next_section_index],q(c,"index=",a.to_a(f)),f[b(f.length,1)]),1);t(f=c.$numbered())&&((l=c.$sectname())["$=="]("appendix")?(f=[this.document.$counter("appendix-number","A")],q(c,"numeral=",a.to_a(f)),f[b(f.length,1)],f=[t(p=this.document.$attributes()["$[]"]("appendix-caption"))?""+p+" "+c.$numeral()+": ":""+c.$numeral()+". "],q(c,"caption=",a.to_a(f)),f[b(f.length,1)]):t(t(e=l["$=="]("chapter"))?e:f["$=="]("chapter"))?(f=[this.document.$counter("chapter-number",
1).$to_s()],q(c,"numeral=",a.to_a(f)),f[b(f.length,1)]):(f=[l["$=="]("part")?h(d,"Helpers").$int_to_roman(this.next_section_ordinal):this.next_section_ordinal.$to_s()],q(c,"numeral=",a.to_a(f)),f[b(f.length,1)],this.next_section_ordinal=g(this.next_section_ordinal,1)));return k},Da.$$arity=1);a.def(c,"$reindex_sections",na=function(){var a;this.next_section_index=0;this.next_section_ordinal=1;return q(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=k);return b.$context()["$=="]("section")?
(c.$assign_numeral(b),b.$reindex_sections()):k},a.$$s=this,a.$$arity=1,a))},na.$$arity=0);c.$protected();return(a.def(c,"$find_by_internal",K=function(b,c){var e=K.$$p,d=e||k,f,l,h,m,w,r,y,M,x,u,v=k,N=k,D=k,L=k,W=k,U=k;U=k;e&&(K.$$p=null);e&&(K.$$p=null);null==b&&(b=p([],{}));null==c&&(c=[]);if(t(t(f=t(l=t(h=t(m=v=t(N=b["$[]"]("context"))?k:!0)?m:N["$=="](this.context))?t(m=(D=b["$[]"]("style"))["$!"]())?m:D["$=="](this.style):h)?t(h=(L=b["$[]"]("role"))["$!"]())?h:this["$has_role?"](L):l)?t(l=(W=
b["$[]"]("id"))["$!"]())?l:W["$=="](this.id):f))if(d!==k)if(t(U=a.yield1(d,this))){if("prune"["$==="](U))return c["$<<"](this),t(W)&&this.$raise(n("::","StopIteration")),c;if("reject"["$==="](U))return t(W)&&this.$raise(n("::","StopIteration")),c;"stop"["$==="](U)?this.$raise(n("::","StopIteration")):(c["$<<"](this),t(W)&&this.$raise(n("::","StopIteration")))}else t(W)&&this.$raise(n("::","StopIteration"));else c["$<<"](this),t(W)&&this.$raise(n("::","StopIteration"));U=this.context;"document"["$==="](U)?
N["$=="]("document")||(t(t(f=this["$header?"]())?t(l=v)?l:N["$=="]("section"):f)&&q(this.header,"find_by_internal",[b,c],d.$to_proc()),q(this.blocks,"each",[],(w=function(a){null==a&&(a=k);return t(N["$=="]("section")?a.$context()["$!="]("section"):N["$=="]("section"))?k:q(a,"find_by_internal",[b,c],d.$to_proc())},w.$$s=this,w.$$arity=1,w))):"dlist"["$==="](U)?t(t(f=v)?f:N["$!="]("section"))&&q(this.blocks.$flatten(),"each",[],(r=function(a){null==a&&(a=k);return t(a)?q(a,"find_by_internal",[b,c],
d.$to_proc()):k},r.$$s=this,r.$$arity=1,r)):"table"["$==="](U)?t(b["$[]"]("traverse_documents"))?(q(this.$rows().$head(),"each",[],(y=function(a){var e=y.$$s||this,f;null==a&&(a=k);return q(a,"each",[],(f=function(a){null==a&&(a=k);return q(a,"find_by_internal",[b,c],d.$to_proc())},f.$$s=e,f.$$arity=1,f))},y.$$s=this,y.$$arity=1,y)),N["$=="]("inner_document")&&(b=b.$merge(p(["context"],{context:"document"}))),q(g(this.$rows().$body(),this.$rows().$foot()),"each",[],(M=function(a){var e=M.$$s||this,
f;null==a&&(a=k);return q(a,"each",[],(f=function(a){null==a&&(a=k);q(a,"find_by_internal",[b,c],d.$to_proc());return a.$style()["$=="]("asciidoc")?q(a.$inner_document(),"find_by_internal",[b,c],d.$to_proc()):k},f.$$s=e,f.$$arity=1,f))},M.$$s=this,M.$$arity=1,M))):q(g(g(this.$rows().$head(),this.$rows().$body()),this.$rows().$foot()),"each",[],(x=function(a){var e=x.$$s||this,f;null==a&&(a=k);return q(a,"each",[],(f=function(a){null==a&&(a=k);return q(a,"find_by_internal",[b,c],d.$to_proc())},f.$$s=
e,f.$$arity=1,f))},x.$$s=this,x.$$arity=1,x)):q(this.blocks,"each",[],(u=function(a){null==a&&(a=k);return t(N["$=="]("section")?a.$context()["$!="]("section"):N["$=="]("section"))?k:q(a,"find_by_internal",[b,c],d.$to_proc())},u.$$s=this,u.$$arity=1,u));return c},K.$$arity=-1),k)&&"find_by_internal"})(d[0],h(d,"AbstractNode"),d)}(m[0],m)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=[],k=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,r=a.klass,p=a.hash,q=a.hash2,t=a.truthy,l=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each $[]= $- $private $skip_blank $== $peek $parse_attribute_value $get_byte $start_with? $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $split $empty? $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(e,d){e=
[c(e,"Asciidoctor")].concat(d);(function(c,$super,e){c=r(c,$super,"AttributeList");var d=[c].concat(e),f,m,w,y,x,u,v,D,L,A,z,C;c.$$prototype.attributes=c.$$prototype.scanner=c.$$prototype.delimiter=c.$$prototype.block=c.$$prototype.delimiter_skip_pattern=c.$$prototype.delimiter_boundary_pattern=k;a.const_set(d[0],"BACKSLASH","\\");a.const_set(d[0],"APOS","'");a.const_set(d[0],"BoundaryRxs",p('"',/.*?[^\\](?=")/,h(d,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/));a.const_set(d[0],"EscapedQuotes",
p('"','\\"',h(d,"APOS"),"\\'"));a.const_set(d[0],"NameRx",new RegExp(""+h(d,"CG_WORD")+"["+h(d,"CC_WORD")+"\\-.]*"));a.const_set(d[0],"BlankRx",/[ \t]+/);a.const_set(d[0],"SkipRxs",q([","],{",":/[ \t]*(,|$)/}));a.def(c,"$initialize",f=function(a,b,c){null==b&&(b=k);null==c&&(c=",");this.scanner=n("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=h(d,"SkipRxs")["$[]"](c);this.delimiter_boundary_pattern=h(d,"BoundaryRxs")["$[]"](c);return this.attributes=k},f.$$arity=
-2);a.def(c,"$parse_into",m=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},m.$$arity=-2);a.def(c,"$parse",w=function(a){var c;null==a&&(a=[]);if(t(this.attributes))return this.attributes;this.attributes=q([],{});for(c=0;t(this.$parse_attribute(c,a))&&!t(this.scanner["$eos?"]());)this.$skip_delimiter(),c=b(c,1);return this.attributes},w.$$arity=-1);a.def(c,"$rekey",y=function(a){return h(d,"AttributeList").$rekey(this.attributes,a)},y.$$arity=1);a.defs(c,"$rekey",x=function(c,e){var d,
f=k;f=0;l(e,"each",[],(d=function(e){var d;null==e&&(e=k);f=b(f,1);return t(e)&&t(d=c["$[]"](f))?(e=[e,d],l(c,"[]=",a.to_a(e)),e[g(e.length,1)]):k},d.$$s=this,d.$$arity=1,d));return c},x.$$arity=2);c.$private();a.def(c,"$parse_attribute",u=function(c,e){var f,p,m=k,n=k,w=n=k,r=k,y=k;n=m=n=r=k;null==c&&(c=0);null==e&&(e=[]);m=!1;this.$skip_blank();if((n=this.scanner.$peek(1))["$=="]('"'))n=this.$parse_attribute_value(this.scanner.$get_byte()),w=k;else if(n["$=="](h(d,"APOS")))n=this.$parse_attribute_value(this.scanner.$get_byte()),
w=k,t(n["$start_with?"](h(d,"APOS")))||(m=!0);else{n=this.$scan_name();r=0;y=k;if(t(this.scanner["$eos?"]())){if(!t(n))return!1}else r=t(f=this.$skip_blank())?f:0,y=this.scanner.$get_byte();if(t(t(f=y["$!"]())?f:y["$=="](this.delimiter)))w=k;else if(t(t(f=y["$!="]("="))?f:n["$!"]()))n=""+n+" "["$*"](r)+y+this.$scan_to_delimiter(),w=k;else if(this.$skip_blank(),t(this.scanner.$peek(1)))if((y=this.scanner.$get_byte())["$=="]('"'))w=this.$parse_attribute_value(y);else if(y["$=="](h(d,"APOS")))w=this.$parse_attribute_value(y),
t(w["$start_with?"](h(d,"APOS")))||(m=!0);else if(y["$=="](this.delimiter))w="";else if(w=""+y+this.$scan_to_delimiter(),w["$=="]("None"))return!0}t(w)?(r=n,"options"["$==="](r)||"opts"["$==="](r)?t(w["$include?"](","))?(t(w["$include?"](" "))&&(w=w.$delete(" ")),l(w.$split(","),"each",[],(p=function(b){var c=p.$$s||this;null==c.attributes&&(c.attributes=k);null==b&&(b=k);if(t(b["$empty?"]()))return k;b=[""+b+"-option",""];l(c.attributes,"[]=",a.to_a(b));return b[g(b.length,1)]},p.$$s=this,p.$$arity=
1,p))):t(w["$empty?"]())||(n=[""+w+"-option",""],l(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)]):(t(t(f=m)?this.block:f)?(r=n,n="title"["$==="](r)||"reftext"["$==="](r)?[n,w]:[n,this.block.$apply_subs(w)]):n=[n,w],l(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)])):(m=t(t(f=m)?this.block:f)?this.block.$apply_subs(n):n,t(n=e["$[]"](c))&&(n=[n,m],l(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)]),n=[b(c,1),m],l(this.attributes,"[]=",a.to_a(n)),n[g(n.length,1)]);return!0},u.$$arity=-1);a.def(c,
"$parse_attribute_value",v=function(a){var b;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):t(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),t(b["$include?"](h(d,"BACKSLASH")))?b.$gsub(h(d,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},v.$$arity=1);a.def(c,"$skip_blank",D=function(){return this.scanner.$skip(h(d,"BlankRx"))},D.$$arity=0);a.def(c,"$skip_delimiter",L=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},L.$$arity=0);a.def(c,
"$scan_name",A=function(){return this.scanner.$scan(h(d,"NameRx"))},A.$$arity=0);a.def(c,"$scan_to_delimiter",z=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},z.$$arity=0);return(a.def(c,"$scan_to_quote",C=function(a){return this.scanner.$scan(h(d,"BoundaryRxs")["$[]"](a))},C.$$arity=1),k)&&"scan_to_quote"})(e[0],null,e)}(m[0],m)};Opal.modules["asciidoctor/block"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],m=a.nil,k=a.const_get_qualified,
n=a.const_get_relative,h=a.module,c=a.klass,r=a.send,p=a.hash2,q=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $drop $delete $[]= $commit_subs $nil_or_empty? $prepare_source_string $apply_subs $join $< $size $empty? $rstrip $shift $pop $warn $logger $to_s $class $object_id $inspect".split(" "));return function(d,g){d=[h(d,"Asciidoctor")].concat(g);(function(e,$super,d){e=c(e,$super,"Block");var g=[e].concat(d),l,h,y,t;d=m;e.$$prototype.attributes=e.$$prototype.content_model=
e.$$prototype.lines=e.$$prototype.subs=e.$$prototype.blocks=e.$$prototype.context=e.$$prototype.style=m;d=["simple"];r(a.const_set(g[0],"DEFAULT_CONTENT_MODEL",p("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(d));d[b(d.length,1)];a.alias(e,"blockname","context");e.$attr_accessor("lines");
a.def(e,"$initialize",l=function(c,e,d){var h,w=l.$$p,y,t;w&&(l.$$p=null);var M=0;var x=arguments.length;for(t=Array(x);M<x;M++)t[M]=arguments[M];null==d&&(d=p([],{}));r(this,a.find_super_dispatcher(this,"initialize",l,!1),t,w);this.content_model=q(h=d["$[]"]("content_model"))?h:n(g,"DEFAULT_CONTENT_MODEL")["$[]"](e);q(d["$key?"]("subs"))?q(h=d["$[]"]("subs"))?(h["$=="]("default")?this.default_subs=d["$[]"]("default_subs"):q(k("::","Array")["$==="](h))?(this.default_subs=h.$drop(0),this.attributes.$delete("subs")):
(this.default_subs=m,h=["subs",""+h],r(this.attributes,"[]=",a.to_a(h)),h[b(h.length,1)]),this.$commit_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=m;return q((y=d["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:q(k("::","String")["$==="](y))?this.lines=n(g,"Helpers").$prepare_source_string(y):this.lines=y.$drop(0)},l.$$arity=-3);a.def(e,"$content",h=function(){var b,c=h.$$p,e=this,d=m,l=m,p=m,k=m,y=m,t=m,M=m;c&&(h.$$p=null);t=0;M=arguments.length;for(y=Array(M);t<
M;t++)y[t]=arguments[t];return function(){d=e.content_model;if("compound"["$==="](d))return r(e,a.find_super_dispatcher(e,"content",h,!1),y,c);if("simple"["$==="](d))return e.$apply_subs(e.lines.$join(n(g,"LF")),e.subs);if("verbatim"["$==="](d)||"raw"["$==="](d)){l=e.$apply_subs(e.lines,e.subs);var w=l.$size();w="number"===typeof w?2>w:w["$<"](2);if(q(w))return l["$[]"](0);for(;q(q(b=p=l["$[]"](0))?p.$rstrip()["$empty?"]():b);)l.$shift();for(;q(q(b=k=l["$[]"](-1))?k.$rstrip()["$empty?"]():b);)l.$pop();
return l.$join(n(g,"LF"))}e.content_model["$=="]("empty")||e.$logger().$warn("Unknown content model '"+e.content_model+"' for block: "+e.$to_s());return m}()},h.$$arity=0);a.def(e,"$source",y=function(){return this.lines.$join(n(g,"LF"))},y.$$arity=0);return(a.def(e,"$to_s",t=function(){var a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+
", style: "+this.style.$inspect()+", "+a+"}>"},t.$$arity=0),m)&&"to_s"})(d[0],n(d,"AbstractBlock"),d)}(g[0],g)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=[],k=a.nil,n=a.module,h=a.klass,c=a.hash2,r=a.truthy,p=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $private $generate_callout_id".split(" "));
return function(d,m){d=[n(d,"Asciidoctor")].concat(m);(function(d,$super,f){d=h(d,$super,"Callouts");[d].concat(f);var l,m,n,y,q,t,w,x,u;d.$$prototype.co_index=d.$$prototype.lists=d.$$prototype.list_index=k;a.def(d,"$initialize",l=function(){this.lists=[];this.list_index=0;return this.$next_list()},l.$$arity=0);a.def(d,"$register",m=function(a){this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:a.$to_i(),id:a=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return a},m.$$arity=
1);a.def(d,"$read_next_id",n=function(){var a=k;var c=this.$current_list();var d=this.co_index;var f=c.$size();d="number"===typeof d&&"number"===typeof f?d<=f:d["$<="](f);r(d)&&(a=c["$[]"](g(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},n.$$arity=0);a.def(d,"$callout_ids",y=function(a){var b;return p(this.$current_list(),"map",[],(b=function(b){null==b&&(b=k);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},y.$$arity=
1);a.def(d,"$current_list",q=function(){return this.lists["$[]"](g(this.list_index,1))},q.$$arity=0);a.def(d,"$next_list",t=function(){this.list_index=b(this.list_index,1);var a=this.lists.$size();var c=this.list_index;a="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(r(a))this.lists["$<<"]([]);this.co_index=1;return k},t.$$arity=0);a.def(d,"$rewind",w=function(){this.co_index=this.list_index=1;return k},w.$$arity=0);d.$private();a.def(d,"$generate_next_callout_id",x=function(){return this.$generate_callout_id(this.list_index,
this.co_index)},x.$$arity=0);return(a.def(d,"$generate_callout_id",u=function(a,b){return"CO"+a+"-"+b},u.$$arity=2),k)&&"generate_callout_id"})(d[0],null,d)}(m[0],m)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=[],k=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,r=a.hash2,p=a.truthy,q=a.send,t=a.klass,l=a.gvars;a.add_stubs("$autoload $__dir__ $attr_reader $raise $class $[] $sub $slice $length $== $[]= $backend_traits $- $derive_backend_traits $register $map $to_s $new $create $default $each $default= $registry $for $=== $supports_templates? $merge $private $include $delete $clear $private_class_method $send $extend $node_name $+ $receiver $name $warn $logger $respond_to? $content".split(" "));
return function(e,d){e=[c(e,"Asciidoctor")].concat(d);(function(e,d){e=c(e,"Converter");var f=[e].concat(d),m,y,x,w,u,v;e.$autoload("CompositeConverter",""+e.$__dir__()+"/converter/composite");e.$autoload("TemplateConverter",""+e.$__dir__()+"/converter/template");e.$attr_reader("backend");a.def(e,"$initialize",m=function(a,b){null==b&&r([],{});return this.backend=a},m.$$arity=-2);a.def(e,"$convert",y=function(a,b,c){null==this.backend&&(this.backend=k);return this.$raise(n("::","NotImplementedError"),
""+this.$class()+" (backend: "+this.backend+") must implement the #convert method")},y.$$arity=-2);a.def(e,"$handles?",x=function(a){return!0},x.$$arity=1);a.defs(e,"$derive_backend_traits",w=function(a){var b,c,e;if(!p(a))return r([],{});p(b=h(f,"DEFAULT_EXTENSIONS")["$[]"](c=a.$sub(h(f,"TrailingDigitsRx"),"")))?e=b.$slice(1,b.$length()):b="."+(e=c);return e["$=="]("html")?r(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:c,filetype:e,htmlsyntax:"html",outfilesuffix:b}):r(["basebackend",
"filetype","outfilesuffix"],{basebackend:c,filetype:e,outfilesuffix:b})},w.$$arity=1);(function(e,d){e=c(e,"BackendTraits");var f=[e].concat(d),g,l,m,n,w,y,t,M,x;a.def(e,"$basebackend",g=function(c){null==c&&(c=k);return p(c)?(c=["basebackend",c],q(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("basebackend")},g.$$arity=-1);a.def(e,"$filetype",l=function(c){null==c&&(c=k);return p(c)?(c=["filetype",c],q(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,
1)]):this.$backend_traits()["$[]"]("filetype")},l.$$arity=-1);a.def(e,"$htmlsyntax",m=function(c){null==c&&(c=k);return p(c)?(c=["htmlsyntax",c],q(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},m.$$arity=-1);a.def(e,"$outfilesuffix",n=function(c){null==c&&(c=k);return p(c)?(c=["outfilesuffix",c],q(this.$backend_traits(),"[]=",a.to_a(c)),c[b(c.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},n.$$arity=-1);a.def(e,"$supports_templates",
w=function(c){null==c&&(c=!0);c=["supports_templates",c];q(this.$backend_traits(),"[]=",a.to_a(c));return c[b(c.length,1)]},w.$$arity=-1);a.def(e,"$supports_templates?",y=function(){return this.$backend_traits()["$[]"]("supports_templates")},y.$$arity=0);a.def(e,"$init_backend_traits",t=function(a){var b;null==a&&(a=k);return this.backend_traits=p(b=a)?b:r([],{})},t.$$arity=-1);a.def(e,"$backend_traits",M=function(){var a;null==this.backend_traits&&(this.backend_traits=k);null==this.backend&&(this.backend=
k);return this.backend_traits=p(a=this.backend_traits)?a:h(f,"Converter").$derive_backend_traits(this.backend)},M.$$arity=0);a.alias(e,"backend_info","backend_traits");a.defs(e,"$derive_backend_traits",x=function(a){return h(f,"Converter").$derive_backend_traits(a)},x.$$arity=1)})(f[0],f);(function(b,e){b=c(b,"Config");var d=[b].concat(e),f;a.def(b,"$register_for",f=function(b){var c;var e=a.slice.call(arguments,0,arguments.length);return q(h(d,"Converter"),"register",[this].concat(a.to_a(q(e,"map",
[],(c=function(a){null==a&&(a=k);return a.$to_s()},c.$$s=this,c.$$arity=1,c)))))},f.$$arity=-1)})(f[0],f);(function(e,d){e=c(e,"Factory");var f=[e].concat(d),g,l,m,w,y,t,M,x;a.defs(e,"$new",g=function(b,c){var e=a.slice.call(arguments,0,arguments.length);var d=a.extract_kwargs(e);if(null==d)d=r([],{});else if(!d.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<e.length){var g=e[0];e.splice(0,1)}null==g&&(g=k);e=d.$$smap.proxy_default;null==e&&(e=!0);return p(e)?h(f,"DefaultFactoryProxy").$new(g):
h(f,"CustomFactory").$new(g)},g.$$arity=-1);a.defs(e,"$default",l=function(b){a.slice.call(arguments,0,arguments.length);return h(f,"Converter")},l.$$arity=-1);a.defs(e,"$create",m=function(a,b){null==b&&(b=r([],{}));return this.$default().$create(a,b)},m.$$arity=-2);a.def(e,"$register",w=function(c,e){var d;var f=a.slice.call(arguments,1,arguments.length);return q(f,"each",[],(d=function(e){var f=d.$$s||this;null==e&&(e=k);e["$=="]("*")?(e=[c],q(f.$registry(),"default=",a.to_a(e))):(e=[e,c],q(f.$registry(),
"[]=",a.to_a(e)));return e[b(e.length,1)]},d.$$s=this,d.$$arity=1,d))},w.$$arity=-2);a.def(e,"$for",y=function(a){return this.$registry()["$[]"](a)},y.$$arity=1);a.def(e,"$create",t=function(a,b){var c,e,d,g,l=k;null==b&&(b=r([],{}));return p(d=this.$for(a))?(p(n("::","Class")["$==="](d))&&(d=d.$new(a,b)),p(p(c=p(e=g=b["$[]"]("template_dirs"))?h(f,"BackendTraits")["$==="](d):e)?d["$supports_templates?"]():c)?h(f,"CompositeConverter").$new(a,h(f,"TemplateConverter").$new(a,g,b),d,r(["backend_traits_source"],
{backend_traits_source:d})):d):p(g=b["$[]"]("template_dirs"))?p(p(c=l=b["$[]"]("delegate_backend"))?d=this.$for(l):c)?(p(n("::","Class")["$==="](d))&&(d=d.$new(l,b)),h(f,"CompositeConverter").$new(a,h(f,"TemplateConverter").$new(a,g,b),d,r(["backend_traits_source"],{backend_traits_source:d}))):h(f,"TemplateConverter").$new(a,g,b):k},t.$$arity=-2);a.def(e,"$converters",M=function(){return this.$registry().$merge()},M.$$arity=0);e.$private();a.def(e,"$registry",x=function(){return this.$raise(n("::",
"NotImplementedError"),""+h(f,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},x.$$arity=0)})(f[0],f);(function(c,$super,e){c=t(c,$super,"CustomFactory");e=[c].concat(e);var d,f;c.$include(h(e,"Factory"));a.def(c,"$initialize",d=function(c){null==c&&(c=k);if(p(c)){var e=[c.$delete("*")];q(c,"default=",a.to_a(e));e[b(e.length,1)];return this.registry=c}return this.registry=r([],{})},d.$$arity=-1);a.def(c,"$unregister_all",f=function(){var c=[k];q(this.$registry().$clear(),
"default=",a.to_a(c));return c[b(c.length,1)]},f.$$arity=0);c.$private();return c.$attr_reader("registry")})(f[0],null,f);(function(b,e){b=c(b,"DefaultFactory");var d=[b].concat(e),f;b.$include(h(d,"Factory"));b.$private();a.class_variable_set(d[0],"@@registry",r([],{}));a.def(b,"$registry",f=function(){var a;return null==(a=d[0].$$cvars["@@registry"])?k:a},f.$$arity=0);h(d,"RUBY_ENGINE")["$=="]("opal")||k})(f[0],f);(function(a,$super,b){a=t(a,$super,"DefaultFactoryProxy");b=[a].concat(b);a.$include(h(b,
"DefaultFactory"));h(b,"RUBY_ENGINE")["$=="]("opal");return k})(f[0],h(f,"CustomFactory"),f);e.$private_class_method(p(u=(a.defs(e,"$included",v=function(a){a.$send("include",h(f,"BackendTraits"));return a.$extend(h(f,"Config"))},v.$$arity=1),k)&&"included")?u:"included");(function(b,$super,c){b=t(b,$super,"Base");var e=[b].concat(c),d,f,m,w;b.$$prototype.backend=k;b.$include(h(e,"Converter"),h(e,"Logging"));a.def(b,"$convert",d=function(b,c,d){var f,m,w=k;null==l["!"]&&(l["!"]=k);null==c&&(c=b.$node_name());
null==d&&(d=k);try{return p(d)?this.$send(g("convert_",c),b,d):this.$send(g("convert_",c),b)}catch(Ea){if(a.rescue(Ea,[h(e,"StandardError")]))try{return p(p(f=p(m=n("::","NoMethodError")["$==="](w=l["!"]))?w.$receiver()["$=="](this):m)?w.$name().$to_s()["$=="](c):f)||this.$raise(),this.$logger().$warn("missing convert handler for "+w.$name()+" node in "+this.backend+" backend ("+this.$class()+")"),k}finally{a.pop_exception()}else throw Ea;}},d.$$arity=-2);a.def(b,"$handles?",f=function(a){return this["$respond_to?"]("convert_"+
a)},f.$$arity=1);a.def(b,"$content_only",m=function(a){return a.$content()},m.$$arity=1);return(a.def(b,"$skip",w=function(a){return k},w.$$arity=1),k)&&"skip"})(f[0],null,f);e.$extend(h(f,"DefaultFactory"))})(e[0],e)}(m[0],m)};Opal.modules["asciidoctor/document"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:
a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],c=a.nil,r=a.const_get_qualified,p=a.const_get_relative,q=a.module,t=a.klass,l=a.send,e=a.truthy,f=a.hash2,u=a.gvars,v=a.hash;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $merge $catalog $attributes $safe $compat_mode $outfilesuffix $sourcemap $path_resolver $converter $extensions $syntax_highlighter $each $end_with? $start_with? $slice $length $chop $== $downcase $extname $=== $value_for_name $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $fetch $fill_datetime_attributes $activate $create $to_proc $groups $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $to_s $value $save_to $register $tap $xreftext $source $source_lines $doctitle $sectname= $title= $first_section $title $reftext $> $< $find $context $assign_numeral $clear_playback_attributes $save_attributes $name $negate $rewind $replace $attribute_locked? $apply_attribute_value_subs $delete? $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $class $write_alternate_pages $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $apply_subs $docinfo_processors? $join $concat $compact $docinfo_processors $object_id $inspect $size $private $=~ $resolve_pass_subs $apply_header_subs $limit_bytesize $bytesize $valid_encoding? $byteslice $resolve_subs $utc $at $Integer $now $index $strftime $year $utc_offset $partition $create_converter $basebackend $filetype $htmlsyntax $derive_backend_traits $raise".split(" "));
return function(d,h){d=[q(d,"Asciidoctor")].concat(h);(function(d,$super,h){d=t(d,$super,"Document");var w=[d].concat(h),q,y,x,M,N,D,L,A,z,C,Y,E,T,W,X,F,I,J,Z,ka,ia,V,O,K,R,S,Pa,da,ra,ea,ta,Aa,pa,Ma,Ga,Na,La,Ia,Oa,Ja,Qa,Xa,Wa,Ua,B,P,fa,Q,Ha,ba,G,cb;d.$$prototype.attributes=d.$$prototype.safe=d.$$prototype.sourcemap=d.$$prototype.reader=d.$$prototype.base_dir=d.$$prototype.parsed=d.$$prototype.parent_document=d.$$prototype.extensions=d.$$prototype.options=d.$$prototype.counters=d.$$prototype.catalog=
d.$$prototype.reftexts=d.$$prototype.header=d.$$prototype.blocks=d.$$prototype.header_attributes=d.$$prototype.attributes_modified=d.$$prototype.backend=d.$$prototype.attribute_overrides=d.$$prototype.timings=d.$$prototype.converter=d.$$prototype.outfilesuffix=d.$$prototype.docinfo_processor_extensions=d.$$prototype.document=d.$$prototype.max_attribute_value_size=d.$$prototype.id=d.$$prototype.doctype=c;a.const_set(w[0],"ImageReference",l(r("::","Struct"),"new",["target","imagesdir"],(q=function(){return a.alias(q.$$s||
this,"to_s","target")},q.$$s=d,q.$$arity=0,q)));a.const_set(w[0],"Footnote",r("::","Struct").$new("index","id","text"));(function(d,$super,f){d=t(d,$super,"AttributeEntry");[d].concat(f);var g,p;d.$attr_reader("name","value","negate");a.def(d,"$initialize",g=function(a,b,d){null==d&&(d=c);this.name=a;this.value=b;return this.negate=e(d["$nil?"]())?b["$nil?"]():d},g.$$arity=-3);return(a.def(d,"$save_to",p=function(d){var f,g=c;(e(f=d["$[]"]("attribute_entries"))?f:(g=["attribute_entries",[]],l(d,"[]=",
a.to_a(g)),g[b(g.length,1)]))["$<<"](this);return this},p.$$arity=1),c)&&"save_to"})(w[0],null,w);(function(b,$super,d){b=t(b,$super,"Title");var g=[b].concat(d),l,h,m,k;b.$$prototype.sanitized=b.$$prototype.subtitle=b.$$prototype.combined=c;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",l=function(b,d){var l,h,m=c;null==d&&(d=f([],{}));e(e(l=this.sanitized=d["$[]"]("sanitize"))?b["$include?"]("<"):l)&&(b=b.$gsub(p(g,"XmlSanitizeRx"),
"").$squeeze(" ").$strip());e(e(l=(m=e(h=d["$[]"]("separator"))?h:":")["$empty?"]())?l:b["$include?"](m=""+m+" ")["$!"]())?(this.main=b,this.subtitle=c):(h=b.$rpartition(m),l=a.to_ary(h),this.main=null==l[0]?c:l[0],this.subtitle=null==l[2]?c:l[2],h);return this.combined=b},l.$$arity=-2);a.def(b,"$sanitized?",h=function(){return this.sanitized},h.$$arity=0);a.def(b,"$subtitle?",m=function(){return e(this.subtitle)?!0:!1},m.$$arity=0);return(a.def(b,"$to_s",k=function(){return this.combined},k.$$arity=
0),c)&&"to_s"})(w[0],null,w);a.const_set(w[0],"Author",r("::","Struct").$new("name","firstname","middlename","lastname","initials","email"));d.$attr_reader("safe");d.$attr_reader("compat_mode");d.$attr_reader("backend");d.$attr_reader("doctype");d.$attr_accessor("sourcemap");d.$attr_reader("catalog");a.alias(d,"references","catalog");d.$attr_reader("counters");d.$attr_reader("header");d.$attr_reader("base_dir");d.$attr_reader("options");d.$attr_reader("outfilesuffix");d.$attr_reader("parent_document");
d.$attr_reader("reader");d.$attr_reader("path_resolver");d.$attr_reader("converter");d.$attr_reader("syntax_highlighter");d.$attr_reader("extensions");a.def(d,"$initialize",y=function(d,h){var k,n,B,P,Q,q,t,x,u=c,G=c,M=c,v=c,ba=c,fa=c,Ba=fa=fa=c,qa=c,Ha=Ba=c,N=Ba=Ba=c;u=u=u=c;y.$$p&&(y.$$p=null);null==d&&(d=c);null==h&&(h=f([],{}));l(this,a.find_super_dispatcher(this,"initialize",y,!1),[this,"document"],null);if(e(u=h.$delete("parent")))this.parent_document=u,e(k=h["$[]"]("base_dir"))?k:(G=["base_dir",
u.$base_dir()],l(h,"[]=",a.to_a(G)),G[b(G.length,1)]),e(u.$options()["$[]"]("catalog_assets"))&&(G=["catalog_assets",!0],l(h,"[]=",a.to_a(G)),G[b(G.length,1)]),this.catalog=u.$catalog().$merge(f(["footnotes"],{footnotes:[]})),this.attribute_overrides=M=u.$attributes().$merge(),v=M.$delete("doctype"),M.$delete("compat-mode"),M.$delete("toc"),M.$delete("toc-placement"),M.$delete("toc-position"),this.safe=u.$safe(),e(this.compat_mode=u.$compat_mode())&&(G=["compat-mode",""],l(this.attributes,"[]=",a.to_a(G)),
G[b(G.length,1)]),this.outfilesuffix=u.$outfilesuffix(),this.sourcemap=u.$sourcemap(),this.timings=c,this.path_resolver=u.$path_resolver(),this.converter=u.$converter(),ba=c,this.extensions=u.$extensions(),this.syntax_highlighter=u.$syntax_highlighter();else{this.parent_document=c;this.catalog=f("ids refs footnotes links images callouts includes".split(" "),{ids:f([],{}),refs:f([],{}),footnotes:[],links:[],images:[],callouts:p(w,"Callouts").$new(),includes:f([],{})});this.attribute_overrides=M=f([],
{});l(e(k=h["$[]"]("attributes"))?k:f([],{}),"each",[],(n=function(d,f){var g;null==d&&(d=c);null==f&&(f=c);e(d["$end_with?"]("@"))?(e(d["$start_with?"]("!"))?(g=[d.$slice(1,b(d.$length(),2)),!1],d=g[0],f=g[1]):e(d["$end_with?"]("!@"))?(g=[d.$slice(0,b(d.$length(),2)),!1],d=g[0],f=g[1]):(g=[d.$chop(),""+f+"@"],d=g[0],f=g[1]),g):e(d["$start_with?"]("!"))?(g=[d.$slice(1,d.$length()),f["$=="]("@")?!1:c],d=g[0],f=g[1],g):e(d["$end_with?"]("!"))&&(g=[d.$chop(),f["$=="]("@")?!1:c],d=g[0],f=g[1],g);G=[d.$downcase(),
f];l(M,"[]=",a.to_a(G));return G[b(G.length,1)]},n.$$s=this,n.$$arity=2,n));e(fa=h["$[]"]("to_file"))&&(G=["outfilesuffix",p(w,"Helpers").$extname(fa)],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]);if(e((fa=h["$[]"]("safe"))["$!"]()))this.safe=r(p(w,"SafeMode"),"SECURE");else if(e(r("::","Integer")["$==="](fa)))this.safe=fa;else{a:{try{var D=p(w,"SafeMode").$value_for_name(fa);break a}catch(nb){if(a.rescue(nb,[p(w,"StandardError")]))try{D=r(p(w,"SafeMode"),"SECURE");break a}finally{a.pop_exception()}else throw nb;
}D=void 0}this.safe=D}fa=h.$delete("input_mtime");this.compat_mode=M["$key?"]("compat-mode");this.sourcemap=h["$[]"]("sourcemap");this.timings=h.$delete("timings");this.path_resolver=p(w,"PathResolver").$new();ba=e((B=r("::","Asciidoctor","skip_raise"))&&(k=r(B,"Extensions","skip_raise"))?"constant":c)?!0:c;this.extensions=c;e(e(P=h["$key?"]("header_footer"))?h["$key?"]("standalone")["$!"]():P)&&(G=["standalone",h["$[]"]("header_footer")],l(h,"[]=",a.to_a(G)),G[b(G.length,1)])}this.parsed=this.reftexts=
this.header=this.header_attributes=c;this.counters=f([],{});this.attributes_modified=r("::","Set").$new();this.docinfo_processor_extensions=f([],{});Ba=h["$[]"]("standalone");(this.options=h).$freeze();qa=this.attributes;G=["sectids",""];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["toc-placement","auto"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];e(Ba)?(G=["copycss",""],l(qa,"[]=",a.to_a(G)),G[b(G.length,1)],G=["embedded",c]):(G=["notitle",""],l(qa,"[]=",a.to_a(G)),G[b(G.length,1)],G=["embedded",""]);l(M,
"[]=",a.to_a(G));G[b(G.length,1)];G=["stylesheet",""];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["webfonts",""];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["prewrap",""];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["attribute-undefined",p(w,"Compliance").$attribute_undefined()];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["attribute-missing",p(w,"Compliance").$attribute_missing()];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["iconfont-remote",""];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["caution-caption","Caution"];
l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["important-caption","Important"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["note-caption","Note"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["tip-caption","Tip"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["warning-caption","Warning"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["example-caption","Example"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["figure-caption","Figure"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["table-caption","Table"];l(qa,"[]=",a.to_a(G));
G[b(G.length,1)];G=["toc-title","Table of Contents"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["section-refsig","Section"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["part-refsig","Part"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["chapter-refsig","Chapter"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["appendix-caption",(G=["appendix-refsig","Appendix"],l(qa,"[]=",a.to_a(G)),G[b(G.length,1)])];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["untitled-label","Untitled"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];
G=["version-label","Version"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["last-update-label","Last updated"];l(qa,"[]=",a.to_a(G));G[b(G.length,1)];G=["asciidoctor",""];l(M,"[]=",a.to_a(G));G[b(G.length,1)];G=["asciidoctor-version",r(r("::","Asciidoctor"),"VERSION")];l(M,"[]=",a.to_a(G));G[b(G.length,1)];G=["safe-mode-name",Ba=p(w,"SafeMode").$name_for_value(this.safe)];l(M,"[]=",a.to_a(G));G[b(G.length,1)];G=["safe-mode-"+Ba,""];l(M,"[]=",a.to_a(G));G[b(G.length,1)];G=["safe-mode-level",this.safe];
l(M,"[]=",a.to_a(G));G[b(G.length,1)];e(P=M["$[]"]("max-include-depth"))?P:(G=["max-include-depth",64],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]);e(P=M["$[]"]("allow-uri-read"))?P:(G=["allow-uri-read",c],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]);G=["user-home",p(w,"USER_HOME")];l(M,"[]=",a.to_a(G));G[b(G.length,1)];e(M["$key?"]("numbered"))&&(G=["sectnums",M.$delete("numbered")],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]);e(M["$key?"]("hardbreaks"))&&(G=["hardbreaks-option",M.$delete("hardbreaks")],l(M,"[]=",
a.to_a(G)),G[b(G.length,1)]);e(Ha=h["$[]"]("base_dir"))?this.base_dir=(G=["docdir",r("::","File").$expand_path(Ha)],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]):e(M["$[]"]("docdir"))?this.base_dir=M["$[]"]("docdir"):this.base_dir=(G=["docdir",r("::","Dir").$pwd()],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]);e(Ba=h["$[]"]("backend"))&&(G=["backend",""+Ba],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]);e(Ba=h["$[]"]("doctype"))&&(G=["doctype",""+Ba],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]);e(g(this.safe,r(p(w,"SafeMode"),
"SERVER")))&&(e(P=M["$[]"]("copycss"))?P:(G=["copycss",c],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]),e(P=M["$[]"]("source-highlighter"))?P:(G=["source-highlighter",c],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]),e(P=M["$[]"]("backend"))?P:(G=["backend",p(w,"DEFAULT_BACKEND")],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]),e(e(P=u["$!"]())?M["$key?"]("docfile"):P)&&(G=["docfile",M["$[]"]("docfile")["$[]"](a.Range.$new(m(M["$[]"]("docdir").$length(),1),-1,!1))],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]),G=["docdir",""],
l(M,"[]=",a.to_a(G)),G[b(G.length,1)],G=["user-home","."],l(M,"[]=",a.to_a(G)),G[b(G.length,1)],e(g(this.safe,r(p(w,"SafeMode"),"SECURE")))&&(e(M["$key?"]("max-attribute-value-size"))||(G=["max-attribute-value-size",4096],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]),e(M["$key?"]("linkcss"))||(G=["linkcss",""],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]),e(P=M["$[]"]("icons"))?P:(G=["icons",c],l(M,"[]=",a.to_a(G)),G[b(G.length,1)])));this.max_attribute_value_size=e(N=e(P=M["$[]"]("max-attribute-value-size"))?
P:(G=["max-attribute-value-size",c],l(M,"[]=",a.to_a(G)),G[b(G.length,1)]))?N.$to_i().$abs():c;l(M,"delete_if",[],(Q=function(d,f){var g,p=c;null==d&&(d=c);null==f&&(f=c);e(f)?(e(e(g=r("::","String")["$==="](f))?f["$end_with?"]("@"):g)&&(g=[f.$chop(),!0],f=g[0],p=g[1],g),G=[d,f],l(qa,"[]=",a.to_a(G)),G[b(G.length,1)]):(qa.$delete(d),p=f["$=="](!1));return p},Q.$$s=this,Q.$$arity=2,Q));if(e(u))return this.backend=qa["$[]"]("backend"),(this.doctype=(G=["doctype",v],l(qa,"[]=",a.to_a(G)),G[b(G.length,
1)]))["$=="](p(w,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(p(w,"DEFAULT_DOCTYPE")),this.reader=p(w,"Reader").$new(d,h["$[]"]("cursor")),e(this.sourcemap)&&(this.source_location=this.reader.$cursor()),p(w,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=c;(u=e(P=qa["$[]"]("backend"))?P:p(w,"DEFAULT_BACKEND"))["$=="]("manpage")?this.doctype=(G=["doctype",(G=["doctype","manpage"],l(M,"[]=",a.to_a(G)),G[b(G.length,1)])],l(qa,"[]=",a.to_a(G)),G[b(G.length,
1)]):this.doctype=e(P=qa["$[]"]("doctype"))?P:(G=["doctype",p(w,"DEFAULT_DOCTYPE")],l(qa,"[]=",a.to_a(G)),G[b(G.length,1)]);this.$update_backend_attributes(u,!0);e(P=qa["$[]"]("stylesdir"))?P:(G=["stylesdir","."],l(qa,"[]=",a.to_a(G)),G[b(G.length,1)]);e(P=qa["$[]"]("iconsdir"))?P:(G=["iconsdir",""+qa.$fetch("imagesdir","./images")+"/icons"],l(qa,"[]=",a.to_a(G)),G[b(G.length,1)]);this.$fill_datetime_attributes(qa,fa);e(ba)&&(e(u=h["$[]"]("extension_registry"))?e(e(P=r(p(w,"Extensions"),"Registry")["$==="](u))?
P:e(q=(x=r("::","AsciidoctorJ","skip_raise"))&&(t=r(x,"Extensions","skip_raise"))&&r(t,"ExtensionRegistry","skip_raise")?"constant":c)?r(r(r("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](u):q)&&(this.extensions=u.$activate(this)):e(r("::","Proc")["$==="](u=h["$[]"]("extensions")))?this.extensions=l(p(w,"Extensions"),"create",[],u.$to_proc()).$activate(this):e(p(w,"Extensions").$groups()["$empty?"]()["$!"]())&&(this.extensions=r(p(w,"Extensions"),"Registry").$new().$activate(this)));
this.reader=p(w,"PreprocessorReader").$new(this,d,r(p(w,"Reader"),"Cursor").$new(qa["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0}));return e(this.sourcemap)?this.source_location=this.reader.$cursor():c},y.$$arity=-1);a.def(d,"$parse",x=function(a){var b,d,g,h=c,m=c;null==a&&(a=c);if(e(this.parsed))return this;h=this;e(a)&&(this.reader=p(w,"PreprocessorReader").$new(h,a,r(p(w,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0})),
e(this.sourcemap)&&(this.source_location=this.reader.$cursor()));e(e(b=m=e(this.parent_document)?c:this.extensions)?m["$preprocessors?"]():b)&&l(m.$preprocessors(),"each",[],(d=function(a){var b=d.$$s||this,f;null==b.reader&&(b.reader=c);null==a&&(a=c);return b.reader=e(f=a.$process_method()["$[]"](h,b.reader))?f:b.reader},d.$$s=this,d.$$arity=1,d));p(w,"Parser").$parse(this.reader,h,f(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();e(e(b=m)?m["$tree_processors?"]():
b)&&l(m.$tree_processors(),"each",[],(g=function(a){var b,d,f=c;null==a&&(a=c);return e(e(b=e(d=f=a.$process_method()["$[]"](h))?p(w,"Document")["$==="](f):d)?f["$!="](h):b)?h=f:c},g.$$s=this,g.$$arity=1,g));this.parsed=!0;return h},x.$$arity=-1);a.def(d,"$parsed?",M=function(){return this.parsed},M.$$arity=0);a.def(d,"$counter",N=function(d,f){var g,h=c,m=c,k=c;null==f&&(f=c);if(e(this.parent_document))return this.parent_document.$counter(d,f);k=e(e(g=h=(m=this.attributes["$[]"](d))["$nil_or_empty?"]()["$!"]())?
this.counters["$key?"](d):g)?[d,(k=[d,p(w,"Helpers").$nextval(m)],l(this.counters,"[]=",a.to_a(k)),k[b(k.length,1)])]:e(f)?[d,(k=[d,f["$=="](f.$to_i().$to_s())?f.$to_i():f],l(this.counters,"[]=",a.to_a(k)),k[b(k.length,1)])]:[d,(k=[d,p(w,"Helpers").$nextval(e(h)?m:0)],l(this.counters,"[]=",a.to_a(k)),k[b(k.length,1)])];l(this.attributes,"[]=",a.to_a(k));return k[b(k.length,1)]},N.$$arity=-2);a.def(d,"$increment_and_store_counter",D=function(a,b){return p(w,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},
D.$$arity=2);a.alias(d,"counter_increment","increment_and_store_counter");a.def(d,"$register",L=function(d,g){var h,m=this,k=c,n=c,B=c,r=c,G=c;return function(){k=d;return"ids"["$==="](k)?m.$register("refs",[n=g["$[]"](0),p(w,"Inline").$new(m,"anchor",g["$[]"](1),f(["type","id"],{type:"ref",id:n}))]):"refs"["$==="](k)?(B=m.catalog["$[]"]("refs"),e(h=B["$[]"](g["$[]"](0)))?h:(r=[g["$[]"](0),G=g["$[]"](1)],l(B,"[]=",a.to_a(r)),r[b(r.length,1)]),G):"footnotes"["$==="](k)?m.catalog["$[]"](d)["$<<"](g):
e(m.options["$[]"]("catalog_assets"))?m.catalog["$[]"](d)["$<<"](d["$=="]("images")?p(w,"ImageReference").$new(g,m.attributes["$[]"]("imagesdir")):g):c}()},L.$$arity=2);a.def(d,"$resolve_id",A=function(d){var g,p,h=this,m=c;if(e(h.reftexts))return h.reftexts["$[]"](d);if(e(h.parsed))return l(h.reftexts=f([],{}),"tap",[],(g=function(d){var f=g.$$s||this,p;null==f.catalog&&(f.catalog=c);null==d&&(d=c);return l(f.catalog["$[]"]("refs"),"each",[],(p=function(f,g){var p,h=c;null==f&&(f=c);null==g&&(g=
c);return e(p=d["$[]"](g.$xreftext()))?p:(h=[g.$xreftext(),f],l(d,"[]=",a.to_a(h)),h[b(h.length,1)])},p.$$s=f,p.$$arity=2,p))},g.$$s=h,g.$$arity=1,g))["$[]"](d);m=c;(function(){var g=a.new_brk();try{return l(h.reftexts=f([],{}),"tap",[],(p=function(f){var g=p.$$s||this,h;null==g.catalog&&(g.catalog=c);null==f&&(f=c);return function(){var p=a.new_brk();try{return l(g.catalog["$[]"]("refs"),"each",[],(h=function(g,h){var k,n=c;null==g&&(g=c);null==h&&(h=c);if((h=h.$xreftext())["$=="](d))a.brk(m=g,p);
else return e(k=f["$[]"](h))?k:(n=[h,g],l(f,"[]=",a.to_a(n)),n[b(n.length,1)])},h.$$s=g,h.$$brk=p,h.$$arity=2,h))}catch(ab){if(ab===p)return ab.$v;throw ab;}}()},p.$$s=h,p.$$brk=g,p.$$arity=1,p))}catch(Ya){if(Ya===g)return Ya.$v;throw Ya;}})();h.reftexts=c;return m},A.$$arity=1);a.def(d,"$footnotes?",z=function(){return e(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},z.$$arity=0);a.def(d,"$footnotes",C=function(){return this.catalog["$[]"]("footnotes")},C.$$arity=0);a.def(d,"$callouts",Y=
function(){return this.catalog["$[]"]("callouts")},Y.$$arity=0);a.def(d,"$nested?",E=function(){return e(this.parent_document)?!0:!1},E.$$arity=0);a.def(d,"$embedded?",T=function(){return this.attributes["$key?"]("embedded")},T.$$arity=0);a.def(d,"$extensions?",W=function(){return e(this.extensions)?!0:!1},W.$$arity=0);a.def(d,"$source",X=function(){return e(this.reader)?this.reader.$source():c},X.$$arity=0);a.def(d,"$source_lines",F=function(){return e(this.reader)?this.reader.$source_lines():c},
F.$$arity=0);a.def(d,"$basebackend?",I=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},I.$$arity=1);a.def(d,"$title",J=function(){return this.$doctitle()},J.$$arity=0);a.def(d,"$title=",Z=function(c){var d;if(!e(d=this.header)){var f=["header"];l(d=this.header=p(w,"Section").$new(this,0),"sectname=",a.to_a(f));f[b(f.length,1)]}f=[c];l(d,"title=",a.to_a(f));return f[b(f.length,1)]},Z.$$arity=1);a.def(d,"$doctitle",ka=function(a){var b,d,g,l=c;null==a&&(a=f([],{}));if(!e(d=this.attributes["$[]"]("title")))if(e(g=
this.$first_section()))d=g.$title();else if(e((e(b=a["$[]"]("use_fallback"))?d=this.attributes["$[]"]("untitled-label"):b)["$!"]()))return c;return e(l=a["$[]"]("partition"))?p(w,"Title").$new(d,a.$merge(f(["separator"],{separator:l["$=="](!0)?this.attributes["$[]"]("title-separator"):l}))):e(e(b=a["$[]"]("sanitize"))?d["$include?"]("<"):b)?d.$gsub(p(w,"XmlSanitizeRx"),"").$squeeze(" ").$strip():d},ka.$$arity=-1);a.alias(d,"name","doctitle");a.def(d,"$xreftext",ia=function(a){var b;a=c;return e(e(b=
a=this.$reftext())?a["$empty?"]()["$!"]():b)?a:this.$title()},ia.$$arity=-1);a.def(d,"$author",V=function(){return this.attributes["$[]"]("author")},V.$$arity=0);a.def(d,"$authors",O=function(){var a,b,c;if(e((b=this.attributes)["$key?"]("author"))){var d=[p(w,"Author").$new(b["$[]"]("author"),b["$[]"]("firstname"),b["$[]"]("middlename"),b["$[]"]("lastname"),b["$[]"]("authorinitials"),b["$[]"]("email"))];if(e(k(c=e(a=b["$[]"]("authorcount"))?a:0,1)))for(a=1;e(n(a,c));)a=m(a,1),d["$<<"](p(w,"Author").$new(b["$[]"]("author_"+
a),b["$[]"]("firstname_"+a),b["$[]"]("middlename_"+a),b["$[]"]("lastname_"+a),b["$[]"]("authorinitials_"+a),b["$[]"]("email_"+a)));return d}return[]},O.$$arity=0);a.def(d,"$revdate",K=function(){return this.attributes["$[]"]("revdate")},K.$$arity=0);a.def(d,"$notitle",R=function(){var a;return e(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},R.$$arity=0);a.def(d,"$noheader",S=function(){return this.attributes["$key?"]("noheader")},S.$$arity=0);a.def(d,"$nofooter",
Pa=function(){return this.attributes["$key?"]("nofooter")},Pa.$$arity=0);a.def(d,"$first_section",da=function(){var a,b;return e(a=this.header)?a:l(this.blocks,"find",[],(b=function(a){null==a&&(a=c);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},da.$$arity=0);a.def(d,"$header?",ra=function(){return e(this.header)?!0:!1},ra.$$arity=0);a.alias(d,"has_header?","header?");a.def(d,"$<<",ea=function(b){var c=ea.$$p,e;c&&(ea.$$p=null);var d=0;var f=arguments.length;for(e=Array(f);d<
f;d++)e[d]=arguments[d];b.$context()["$=="]("section")&&this.$assign_numeral(b);return l(this,a.find_super_dispatcher(this,"<<",ea,!1),e,c)},ea.$$arity=1);a.def(d,"$finalize_header",ta=function(c,d){null==d&&(d=!0);this.$clear_playback_attributes(c);this.$save_attributes();e(d)||(d=["invalid-header",!0],l(c,"[]=",a.to_a(d)),d[b(d.length,1)]);return c},ta.$$arity=-2);a.def(d,"$playback_attributes",Aa=function(d){var f;return e(d["$key?"]("attribute_entries"))?l(d["$[]"]("attribute_entries"),"each",
[],(f=function(d){var g=f.$$s||this;null==g.attributes&&(g.attributes=c);null==d&&(d=c);var p=d.$name();if(e(d.$negate()))return g.attributes.$delete(p),p["$=="]("compat-mode")?g.compat_mode=!1:c;d=[p,d.$value()];l(g.attributes,"[]=",a.to_a(d));d[b(d.length,1)];return p["$=="]("compat-mode")?g.compat_mode=!0:c},f.$$s=this,f.$$arity=1,f)):c},Aa.$$arity=1);a.def(d,"$restore_attributes",pa=function(){e(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},
pa.$$arity=0);a.def(d,"$set_attribute",Ma=function(d,f){null==f&&(f="");if(e(this["$attribute_locked?"](d)))return c;e(f["$empty?"]())||(f=this.$apply_attribute_value_subs(f));if(e(this.header_attributes)){var g=[d,f];l(this.attributes,"[]=",a.to_a(g));g[b(g.length,1)]}else"backend"["$==="](d)?this.$update_backend_attributes(f,e(g=this.attributes_modified["$delete?"]("htmlsyntax"))?f["$=="](this.backend):g):"doctype"["$==="](d)?this.$update_doctype_attributes(f):(g=[d,f],l(this.attributes,"[]=",a.to_a(g)),
g[b(g.length,1)]),this.attributes_modified["$<<"](d);return f},Ma.$$arity=-2);a.def(d,"$delete_attribute",Ga=function(a){if(e(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0},Ga.$$arity=1);a.def(d,"$attribute_locked?",Na=function(a){return this.attribute_overrides["$key?"](a)},Na.$$arity=1);a.def(d,"$set_header_attribute",La=function(c,d,f){var g;null==d&&(d="");null==f&&(f=!0);var p=e(g=this.header_attributes)?g:this.attributes;if(e(f["$=="](!1)?
p["$key?"](c):f["$=="](!1)))return!1;c=[c,d];l(p,"[]=",a.to_a(c));c[b(c.length,1)];return!0},La.$$arity=-2);a.def(d,"$convert",Ia=function(d){var h,m,k=c,n=c,B=c,G=c,P=c;null==d&&(d=f([],{}));e(this.timings)&&this.timings.$start("convert");e(this.parsed)||this.$parse();e(e(h=g(this.safe,r(p(w,"SafeMode"),"SERVER")))?h:d["$empty?"]())||(e((k=["outfile",d["$[]"]("outfile")],l(this.attributes,"[]=",a.to_a(k)),k[b(k.length,1)]))||this.attributes.$delete("outfile"),e((k=["outdir",d["$[]"]("outdir")],l(this.attributes,
"[]=",a.to_a(k)),k[b(k.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?e(n=e(h=this.blocks["$[]"](0))?h:this.header)&&(e(e(h=n.$content_model()["$=="]("compound"))?h:n.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):B=n.$content()):(G=e(d["$key?"]("standalone"))?e(d["$[]"]("standalone"))?"document":"embedded":e(d["$key?"]("header_footer"))?e(d["$[]"]("header_footer"))?
"document":"embedded":e(this.options["$[]"]("standalone"))?"document":"embedded",B=this.converter.$convert(this,G));!e(this.parent_document)&&e(e(h=P=this.extensions)?P["$postprocessors?"]():h)&&l(P.$postprocessors(),"each",[],(m=function(a){var b=m.$$s||this;null==a&&(a=c);return B=a.$process_method()["$[]"](b,B)},m.$$s=this,m.$$arity=1,m));e(this.timings)&&this.timings.$record("convert");return B},Ia.$$arity=-1);a.alias(d,"render","convert");a.def(d,"$write",Oa=function(a,b){var d;e(this.timings)&&
this.timings.$start("write");e(p(w,"Writer")["$==="](this.converter))?this.converter.$write(a,b):(e(b["$respond_to?"]("write"))?e(a["$nil_or_empty?"]())||(b.$write(a.$chomp()),b.$write(p(w,"LF"))):r("::","File").$write(b,a,f(["mode"],{mode:p(w,"FILE_WRITE_MODE")})),e(e(d=this.backend["$=="]("manpage")?r("::","String")["$==="](b):this.backend["$=="]("manpage"))?this.converter.$class()["$respond_to?"]("write_alternate_pages"):d)&&this.converter.$class().$write_alternate_pages(this.attributes["$[]"]("mannames"),
this.attributes["$[]"]("manvolnum"),b));e(this.timings)&&this.timings.$record("write");return c},Oa.$$arity=2);a.def(d,"$content",Ja=function(){var b=Ja.$$p,c;b&&(Ja.$$p=null);var e=0;var d=arguments.length;for(c=Array(d);e<d;e++)c[e]=arguments[e];this.attributes.$delete("title");return l(this,a.find_super_dispatcher(this,"content",Ja,!1),c,b)},Ja.$$arity=0);a.def(d,"$docinfo",Qa=function(a,b){var d,g,h=c,m=c,k=c,B=c,G=c,P=c,Q=c;B=Q=c;null==a&&(a="head");null==b&&(b=c);if(e(n(this.$safe(),r(p(w,"SafeMode"),
"SECURE")))&&(a["$=="]("head")||(h="-"+a),e(b)||(b=this.outfilesuffix),m=e((m=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?e(this.attributes["$key?"]("docinfo2"))?["private","shared"]:e(this.attributes["$key?"]("docinfo1"))?["shared"]:e(m)?["private"]:c:l(m.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=this,d.$$arity=1,d)),e(m))){k=[];var q=["docinfo"+h+b,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];B=q[0];G=q[1];P=q[2];q;if(!e(m["$&"](["shared",
"shared-"+a])["$empty?"]())&&(Q=this.$normalize_system_path(B,G),e(Q=this.$read_asset(Q,f(["normalize"],{normalize:!0})))))k["$<<"](this.$apply_subs(Q,P));if(!e(e(q=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?q:m["$&"](["private","private-"+a])["$empty?"]())&&(Q=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+B,G),e(B=this.$read_asset(Q,f(["normalize"],{normalize:!0})))))k["$<<"](this.$apply_subs(B,P))}return e(e(q=this.extensions)?this["$docinfo_processors?"](a):q)?
(e(q=k)?q:[]).$concat(l(this.docinfo_processor_extensions["$[]"](a),"map",[],(g=function(a){var b=g.$$s||this;null==a&&(a=c);return a.$process_method()["$[]"](b)},g.$$s=this,g.$$arity=1,g)).$compact()).$join(p(w,"LF")):e(k)?k.$join(p(w,"LF")):""},Qa.$$arity=-1);a.def(d,"$docinfo_processors?",Xa=function(d){var f,g=c;null==d&&(d="head");if(e(this.docinfo_processor_extensions["$key?"](d)))return this.docinfo_processor_extensions["$[]"](d)["$!="](!1);if(e(e(f=this.extensions)?this.document.$extensions()["$docinfo_processors?"](d):
f))return(g=[d,this.document.$extensions().$docinfo_processors(d)],l(this.docinfo_processor_extensions,"[]=",a.to_a(g)),g[b(g.length,1)])["$!"]()["$!"]();g=[d,!1];l(this.docinfo_processor_extensions,"[]=",a.to_a(g));return g[b(g.length,1)]},Xa.$$arity=-1);a.def(d,"$to_s",Wa=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(e(this.header["$!="](c))?this.header.$title():c).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Wa.$$arity=0);
d.$private();a.def(d,"$apply_attribute_value_subs",Ua=function(a){var b;e(p(w,"AttributeEntryPassMacroRx")["$=~"](a))?(a=(b=u["~"])===c?c:b["$[]"](2),e((b=u["~"])===c?c:b["$[]"](1))&&(a=this.$apply_subs(a,this.$resolve_pass_subs((b=u["~"])===c?c:b["$[]"](1))))):a=this.$apply_header_subs(a);return e(this.max_attribute_value_size)?this.$limit_bytesize(a,this.max_attribute_value_size):a},Ua.$$arity=1);a.def(d,"$limit_bytesize",B=function(a,c){if(e(k(a.$bytesize(),c)))for(;!e((a=a.$byteslice(0,c))["$valid_encoding?"]());)c=
b(c,1);return a},B.$$arity=2);a.def(d,"$resolve_docinfo_subs",P=function(){return e(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",c,"docinfo"):["attributes"]},P.$$arity=0);a.def(d,"$create_converter",fa=function(d,g){var h,m,k=c,n;var B=f(["document","htmlsyntax"],{document:this,htmlsyntax:this.attributes["$[]"]("htmlsyntax")});e(m=e(h=(k=this.options)["$[]"]("template_dirs"))?h:k["$[]"]("template_dir"))&&(h=["template_dirs",[].concat(a.to_a(m))],
l(B,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_cache",k.$fetch("template_cache",!0)],l(B,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_engine",k["$[]"]("template_engine")],l(B,"[]=",a.to_a(h)),h[b(h.length,1)],h=["template_engine_options",k["$[]"]("template_engine_options")],l(B,"[]=",a.to_a(h)),h[b(h.length,1)],h=["eruby",k["$[]"]("eruby")],l(B,"[]=",a.to_a(h)),h[b(h.length,1)],h=["safe",this.safe],l(B,"[]=",a.to_a(h)),h[b(h.length,1)],e(g)&&(h=["delegate_backend",g],l(B,"[]=",a.to_a(h)),h[b(h.length,
1)]));return e(n=k["$[]"]("converter"))?r(p(w,"Converter"),"CustomFactory").$new(v(d,n)).$create(d,B):k.$fetch("converter_factory",p(w,"Converter")).$create(d,B)},fa.$$arity=2);a.def(d,"$clear_playback_attributes",Q=function(a){return a.$delete("attribute_entries")},Q.$$arity=1);a.def(d,"$save_attributes",Ha=function(){var d,g,h=c,m=c,k=c,n=k=c,B=c,G=c,P=c,Q=P=P=n=G=c,q=c,t=c;e(e(d=(h=this.attributes)["$key?"]("doctitle"))?d:(m=this.$doctitle())["$!"]())||(k=["doctitle",m],l(h,"[]=",a.to_a(k)),k[b(k.length,
1)]);this.id=e(d=this.id)?d:h["$[]"]("css-signature");e(k=e(h.$delete("toc2"))?"left":h["$[]"]("toc"))&&(n=e(e(d=B=h.$fetch("toc-placement","macro"))?B["$!="]("auto"):d)?B:h["$[]"]("toc-position"),e(e(d=k["$empty?"]())?n["$nil_or_empty?"]():d)||(G="left",P="toc2",G=e(n["$nil_or_empty?"]())?e(k["$empty?"]())?G:k:n,k=["toc",""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["toc-placement","auto"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)],n=G,"left"["$==="](n)||"<"["$==="](n)||"&lt;"["$==="](n)?(k=["toc-position",
"left"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):"right"["$==="](n)||">"["$==="](n)||"&gt;"["$==="](n)?(k=["toc-position","right"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):"top"["$==="](n)||"^"["$==="](n)?(k=["toc-position","top"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):"bottom"["$==="](n)||"v"["$==="](n)?(k=["toc-position","bottom"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):("preamble"["$==="](n)||"macro"["$==="](n)?(k=["toc-position","content"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["toc-placement",G],
l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):h.$delete("toc-position"),P=c),e(P)&&(e(d=h["$[]"]("toc-class"))?d:(k=["toc-class",P],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]))));e(e(d=P=h["$[]"]("icons"))?h["$key?"]("icontype")["$!"]():d)&&(n=P,""["$==="](n)||"font"["$==="](n)?c:(k=["icons",""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["icontype",P],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]));e(this.compat_mode=h["$key?"]("compat-mode"))&&e(h["$key?"]("language"))&&(k=["source-language",h["$[]"]("language")],l(h,
"[]=",a.to_a(k)),k[b(k.length,1)]);e(this.parent_document)||((P=h["$[]"]("basebackend"))["$=="]("html")?e(e(d=Q=h["$[]"]("source-highlighter"))?h["$[]"](""+Q+"-unavailable")["$!"]():d)&&(e(q=this.options["$[]"]("syntax_highlighter_factory"))?this.syntax_highlighter=q.$create(Q,this.backend,f(["document"],{document:this})):e(t=this.options["$[]"]("syntax_highlighters"))?this.syntax_highlighter=r(p(w,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(t).$create(Q,this.backend,f(["document"],{document:this})):
this.syntax_highlighter=p(w,"SyntaxHighlighter").$create(Q,this.backend,f(["document"],{document:this}))):P["$=="]("docbook")&&(e(e(d=this["$attribute_locked?"]("toc"))?d:this.attributes_modified["$include?"]("toc"))||(k=["toc",""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]),e(e(d=this["$attribute_locked?"]("sectnums"))?d:this.attributes_modified["$include?"]("sectnums"))||(k=["sectnums",""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)])),this.outfilesuffix=h["$[]"]("outfilesuffix"),l(p(w,"FLEXIBLE_ATTRIBUTES"),
"each",[],(g=function(a){var b=g.$$s||this,d;null==b.attribute_overrides&&(b.attribute_overrides=c);null==a&&(a=c);return e(e(d=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):d)?b.attribute_overrides.$delete(a):c},g.$$s=this,g.$$arity=1,g)));return this.header_attributes=h.$merge()},Ha.$$arity=0);a.def(d,"$fill_datetime_attributes",ba=function(d,f){var g,h,p=c,k,m=c;var n=e(r("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?p=r("::","Time").$at(this.$Integer(r("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():
r("::","Time").$now();e(k=d["$[]"]("localdate"))?e(g=d["$[]"]("localyear"))?g:(m=["localyear",k.$index("-")["$=="](4)?k.$slice(0,4):c],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]):(k=(m=["localdate",n.$strftime("%F")],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]),e(g=d["$[]"]("localyear"))?g:(m=["localyear",n.$year().$to_s()],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]));var w=e(g=d["$[]"]("localtime"))?g:(m=["localtime",n.$strftime("%T "+(n.$utc_offset()["$=="](0)?"UTC":"%z"))],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]);
e(g=d["$[]"]("localdatetime"))?g:(m=["localdatetime",""+k+" "+w],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]);f=e(g=e(h=p)?h:f)?g:n;e(h=d["$[]"]("docdate"))?e(g=d["$[]"]("docyear"))?g:(m=["docyear",h.$index("-")["$=="](4)?h.$slice(0,4):c],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]):(h=(m=["docdate",f.$strftime("%F")],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]),e(g=d["$[]"]("docyear"))?g:(m=["docyear",f.$year().$to_s()],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]));f=e(g=d["$[]"]("doctime"))?g:(m=["doctime",f.$strftime("%T "+
(f.$utc_offset()["$=="](0)?"UTC":"%z"))],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]);e(g=d["$[]"]("docdatetime"))?g:(m=["docdatetime",""+h+" "+f],l(d,"[]=",a.to_a(m)),m[b(m.length,1)]);return c},ba.$$arity=2);a.def(d,"$update_backend_attributes",G=function(d,f){var g,h,m=c,k=c,n=c,B=c,G=c,P;null==f&&(f=c);if(e(e(g=f)?g:d["$!="](this.backend))){var Q=this.backend;var q=(h=this.attributes)["$[]"]("basebackend");var t=this.doctype;if(e(d["$include?"](":"))){var y=d.$partition(":");g=a.to_ary(y);m=null==g[0]?
c:g[0];d=null==g[2]?c:g[2];y}e(d["$start_with?"]("xhtml"))?(k=["htmlsyntax","xml"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)],d=d.$slice(1,d.$length())):e(d["$start_with?"]("html"))&&(e(g=h["$[]"]("htmlsyntax"))?g:(k=["htmlsyntax","html"],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]));d=e(g=p(w,"BACKEND_ALIASES")["$[]"](d))?g:d;e(m)&&(g=[m,d],d=g[0],n=g[1],g);e(t)?(e(Q)&&(h.$delete("backend-"+Q),h.$delete("backend-"+Q+"-doctype-"+t)),k=["backend-"+d+"-doctype-"+t,""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["doctype-"+
t,""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):e(Q)&&h.$delete("backend-"+Q);k=["backend-"+d,""];l(h,"[]=",a.to_a(k));k[b(k.length,1)];this.backend=(k=["backend",d],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]);e(r(p(w,"Converter"),"BackendTraits")["$==="](y=this.$create_converter(d,n)))?(B=y.$basebackend(),G=y.$filetype(),e(Q=y.$htmlsyntax())&&(k=["htmlsyntax",Q],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]),e(f)?e(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",y.$outfilesuffix()],l(h,"[]=",a.to_a(k)),k[b(k.length,
1)]):e(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",y.$outfilesuffix()],l(h,"[]=",a.to_a(k)),k[b(k.length,1)])):e(y)?(Q=p(w,"Converter").$derive_backend_traits(d),B=Q["$[]"]("basebackend"),G=Q["$[]"]("filetype"),e(f)?e(g=h["$[]"]("outfilesuffix"))?g:(k=["outfilesuffix",Q["$[]"]("outfilesuffix")],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):e(this["$attribute_locked?"]("outfilesuffix"))||(k=["outfilesuffix",Q["$[]"]("outfilesuffix")],l(h,"[]=",a.to_a(k)),k[b(k.length,1)])):this.$raise(r("::",
"NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+d+"'. Processing aborted.");this.converter=y;e(P=h["$[]"]("filetype"))&&h.$delete("filetype-"+P);k=["filetype",G];l(h,"[]=",a.to_a(k));k[b(k.length,1)];k=["filetype-"+G,""];l(h,"[]=",a.to_a(k));k[b(k.length,1)];e(f=p(w,"DEFAULT_PAGE_WIDTHS")["$[]"](B))?(k=["pagewidth",f],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):h.$delete("pagewidth");e(B["$!="](q))&&(e(t)?(e(q)&&(h.$delete("basebackend-"+q),h.$delete("basebackend-"+q+"-doctype-"+
t)),k=["basebackend-"+B+"-doctype-"+t,""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]):e(q)&&h.$delete("basebackend-"+q),k=["basebackend-"+B,""],l(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["basebackend",B],l(h,"[]=",a.to_a(k)),k[b(k.length,1)]);return d}return c},G.$$arity=-2);return(a.def(d,"$update_doctype_attributes",cb=function(d){var f,g;if(e(e(f=d)?d["$!="](this.doctype):f)){f=[this.backend,(g=this.attributes)["$[]"]("basebackend"),this.doctype];var h=f[0];var p=f[1];var k=f[2];f;e(k)?(g.$delete("doctype-"+
k),e(h)&&(g.$delete("backend-"+h+"-doctype-"+k),f=["backend-"+h+"-doctype-"+d,""],l(g,"[]=",a.to_a(f)),f[b(f.length,1)]),e(p)&&(g.$delete("basebackend-"+p+"-doctype-"+k),f=["basebackend-"+p+"-doctype-"+d,""],l(g,"[]=",a.to_a(f)),f[b(f.length,1)])):(e(h)&&(f=["backend-"+h+"-doctype-"+d,""],l(g,"[]=",a.to_a(f)),f[b(f.length,1)]),e(p)&&(f=["basebackend-"+p+"-doctype-"+d,""],l(g,"[]=",a.to_a(f)),f[b(f.length,1)]));f=["doctype-"+d,""];l(g,"[]=",a.to_a(f));f[b(f.length,1)];return this.doctype=(f=["doctype",
d],l(g,"[]=",a.to_a(f)),f[b(f.length,1)])}return c},cb.$$arity=1),c)&&"update_doctype_attributes"})(d[0],p(d,"AbstractBlock"),d)}(h[0],h)};Opal.modules["asciidoctor/inline"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,m=a.module,n=a.klass,h=a.hash2,c=a.send,r=a.truthy;a.add_stubs("$attr_accessor $attr_reader $[] $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,e){b=n(b,$super,"Inline");[b].concat(e);
var d,p,k,m,q,t,y,w;b.$$prototype.text=b.$$prototype.type=g;b.$attr_accessor("text");b.$attr_reader("type");b.$attr_accessor("target");a.def(b,"$initialize",d=function(b,e,f,p){d.$$p&&(d.$$p=null);null==f&&(f=g);null==p&&(p=h([],{}));c(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,e,p],null);this.node_name="inline_"+e;this.text=f;this.id=p["$[]"]("id");this.type=p["$[]"]("type");return this.target=p["$[]"]("target")},d.$$arity=-3);a.def(b,"$block?",p=function(){return!1},p.$$arity=0);a.def(b,
"$inline?",k=function(){return!0},k.$$arity=0);a.def(b,"$convert",m=function(){return this.$converter().$convert(this)},m.$$arity=0);a.alias(b,"render","convert");a.def(b,"$alt",q=function(){var a;return r(a=this.$attr("alt"))?a:""},q.$$arity=0);a.def(b,"$reftext?",t=function(){var a,b;return r(a=this.text)?r(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},t.$$arity=0);a.def(b,"$reftext",y=function(){var a;return r(a=this.text)?this.$apply_reftext_subs(a):g},y.$$arity=0);return(a.def(b,
"$xreftext",w=function(a){return this.$reftext()},w.$$arity=-1),g)&&"xreftext"})(b[0],k(b,"AbstractNode"),b)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,m=a.module,n=a.klass,h=a.hash2,c=a.send,r=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $drop $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $! $simple? $source $shift $context $parent".split(" "));return function(b,d){b=[m(b,"Asciidoctor")].concat(d);
(function(b,$super,e){b=n(b,$super,"List");[b].concat(e);var d,p,k,m;b.$$prototype.context=b.$$prototype.document=b.$$prototype.style=g;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",d=function(b,e,f){var g=d.$$p,p;g&&(d.$$p=null);var k=0;var m=arguments.length;for(p=Array(m);k<m;k++)p[k]=arguments[k];null==f&&(f=h([],{}));return c(this,a.find_super_dispatcher(this,"initialize",d,!1),p,g)},d.$$arity=-3);a.def(b,"$outline?",p=function(){var a;
return r(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},p.$$arity=0);a.def(b,"$convert",k=function(){var b=k.$$p,e;b&&(k.$$p=null);var d=0;var f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return this.context["$=="]("colist")?(b=c(this,a.find_super_dispatcher(this,"convert",k,!1),e,b),this.document.$callouts().$next_list(),b):c(this,a.find_super_dispatcher(this,"convert",k,!1),e,b)},k.$$arity=0);a.alias(b,"render","convert");return(a.def(b,"$to_s",m=function(){return"#<"+
this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},m.$$arity=0),g)&&"to_s"})(b[0],k(b,"AbstractBlock"),b);(function(b,$super,e){b=n(b,$super,"ListItem");var d=[b].concat(e),h,p,m,q,t,y,w,x;b.$$prototype.text=b.$$prototype.subs=b.$$prototype.blocks=g;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",h=function(b,e){h.$$p&&(h.$$p=null);null==e&&(e=g);c(this,a.find_super_dispatcher(this,
"initialize",h,!1),[b,"list_item"],null);this.text=e;this.level=b.$level();return this.subs=k(d,"NORMAL_SUBS").$drop(0)},h.$$arity=-2);a.def(b,"$text?",p=function(){return r(this.text["$nil_or_empty?"]())?!1:!0},p.$$arity=0);a.def(b,"$text",m=function(){var a;return r(a=this.text)?this.$apply_subs(this.text,this.subs):a},m.$$arity=0);a.def(b,"$text=",q=function(a){return this.text=a},q.$$arity=1);a.def(b,"$simple?",t=function(){var a,b,c=g;return r(a=this.blocks["$empty?"]())?a:r(b=this.blocks.$size()["$=="](1)?
k(d,"List")["$==="](c=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?c["$outline?"]():b},t.$$arity=0);a.def(b,"$compound?",y=function(){return this["$simple?"]()["$!"]()},y.$$arity=0);a.def(b,"$fold_first",w=function(){this.text=r(this.text["$nil_or_empty?"]())?this.blocks.$shift().$source():""+this.text+k(d,"LF")+this.blocks.$shift().$source();return g},w.$$arity=0);return(a.def(b,"$to_s",x=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+
", text: "+this.text.$inspect()+", blocks: "+(r(a=this.blocks)?a:[]).$size()+"}>"},x.$$arity=0),g)&&"to_s"})(b[0],k(b,"AbstractBlock"),b)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}
function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var h=[],c=a.nil,r=a.const_get_qualified,p=a.const_get_relative,q=a.module,t=a.klass,l=a.send,e=a.truthy,f=a.hash2,u=a.gvars;a.add_stubs("$include $new $proc $start_with? $match? $is_delimited_block? $private_class_method $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $parse_block_metadata_lines $attributes $is_next_line_doctitle? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $apply_header_subs $[]= $source_location= $header $attribute_locked? $id $clear $delete $instance_variable_get $parse_header_metadata $include? $== $! $register $doctype $parse_manpage_header $=~ $downcase $sub_attributes $error $logger $message_with_context $cursor_at_line $backend $skip_blank_lines $save $update $is_next_line_section? $initialize_section $join $map $read_lines_until $lstrip $title $split $restore_save $discard_save $context $empty? $header? $!= $attr? $attr $key? $document $+ $level $special $sectname $to_i $< $> $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $merge $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $debug? $debug $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $uniform? $length $end_with? $=== $parse_attributes $attribute_missing $tr $basename $assign_caption $registered_for_block_macro? $config $process_method $replace $parse_callout_list $callouts $parse_list $parse_description_list $underline_style_section_titles $is_section_title? $peek_line $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $map! $slice $pop $build_block $apply_subs $chop $catalog_inline_anchors $rekey $index $strip $parse_table $each $raise $title? $update_attributes $commit_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $nil? $lines $parse_blocks $parse_list_item $items $scan $gsub $count $advance $dup $match $callout_ids $next_list $catalog_inline_anchor $source_location $marker= $catalog_inline_biblio_anchor $set_option $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $concat $find $casecmp $sectname= $special= $numbered= $numbered $lineno $peek_lines $setext_section_title? $abs $cursor_at_prev_line $process_attribute_entries $next_line_empty? $process_authors $rstrip $each_with_index $compact $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $resolve_list_marker $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $partition $shorthand_property_syntax $each_char $yield_buffered_attribute $any? $* $each_byte $%".split(" "));
return function(d,h){d=[q(d,"Asciidoctor")].concat(h);(function(d,$super,h){d=t(d,$super,"Parser");var w=[d].concat(h),q,y,x,v,N,D,A,z,C,L,E,F,T,I,W,X,J,Y,V,Z,ka,ia,O,K,ja,R,S,Pa,da,ra,ea,ta,Aa,pa,Ma,Ga,Na,La,Ia,Oa,Ja,Qa,Xa,Wa,Ua,B;d.$include(p(w,"Logging"));a.const_set(w[0],"BlockMatchData",p(w,"Struct").$new("context","masq","tip","terminator"));a.const_set(w[0],"TAB","\t");a.const_set(w[0],"TabIndentRx",/^\t+/);a.const_set(w[0],"StartOfBlockProc",l(d,"proc",[],(q=function(a){var b=q.$$s||this,
d,f;null==a&&(a=c);return e(d=e(f=a["$start_with?"]("["))?p(w,"BlockAttributeLineRx")["$match?"](a):f)?d:b["$is_delimited_block?"](a)},q.$$s=d,q.$$arity=1,q)));a.const_set(w[0],"StartOfListProc",l(d,"proc",[],(y=function(a){null==a&&(a=c);return p(w,"AnyListRx")["$match?"](a)},y.$$s=d,y.$$arity=1,y)));a.const_set(w[0],"StartOfBlockOrListProc",l(d,"proc",[],(x=function(a){var b=x.$$s||this,d,f,g;null==a&&(a=c);return e(d=e(f=b["$is_delimited_block?"](a))?f:e(g=a["$start_with?"]("["))?p(w,"BlockAttributeLineRx")["$match?"](a):
g)?d:p(w,"AnyListRx")["$match?"](a)},x.$$s=d,x.$$arity=1,x)));a.const_set(w[0],"NoOp",c);a.const_set(w[0],"AuthorKeys","author authorinitials firstname middlename lastname email".split(" "));a.const_set(w[0],"TableCellHorzAlignments",f(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(w[0],"TableCellVertAlignments",f(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(w[0],"TableCellStyles",f("dsemhla".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",
l:"literal",a:"asciidoc"}));d.$private_class_method("new");a.defs(d,"$parse",v=function(b,d,g){null==g&&(g=f([],{}));var l=this.$parse_document_header(b,d);if(!e(g["$[]"]("header_only")))for(;e(b["$has_more_lines?"]());){g=this.$next_section(b,d,l);l=a.to_ary(g);var h=null==l[0]?c:l[0];l=null==l[1]?c:l[1];g;e(h)&&(d.$assign_numeral(h),d.$blocks()["$<<"](h))}return d},v.$$arity=-3);a.defs(d,"$parse_document_header",N=function(d,f){var g,h,p,k=c,m=c;var n=this.$parse_block_metadata_lines(d,f);var w=
f.$attributes();if(e(e(g=h=this["$is_next_line_doctitle?"](d,n,w["$[]"]("leveloffset")))?n["$[]"]("title"):g))return f.$finalize_header(n,!1);if(!e((p=w["$[]"]("doctitle"))["$nil_or_empty?"]())){var B=[k=p];l(f,"title=",a.to_a(B));B[b(B.length,1)]}if(e(h)){e(f.$sourcemap())&&(m=d.$cursor());B=this.$parse_section_title(d,f);g=a.to_ary(B);f["$id="](null==g[0]?c:g[0]);h=null==g[2]?c:g[2];var r=null==g[4]?c:g[4];B;e(k)?h=c:(B=[h],l(f,"title=",a.to_a(B)),B[b(B.length,1)],B=["doctitle",k=f.$apply_header_subs(h)],
l(w,"[]=",a.to_a(B)),B[b(B.length,1)]);e(m)&&(B=[m],l(f.$header(),"source_location=",a.to_a(B)),B[b(B.length,1)]);e(e(g=r)?g:f["$attribute_locked?"]("compat-mode"))||(B=["compat-mode",""],l(w,"[]=",a.to_a(B)),B[b(B.length,1)]);e(B=n["$[]"]("separator"))&&!e(f["$attribute_locked?"]("title-separator"))&&(B=["title-separator",B],l(w,"[]=",a.to_a(B)),B[b(B.length,1)]);e(m=n["$[]"]("id"))?(B=[m],l(f,"id=",a.to_a(B)),B[b(B.length,1)]):m=f.$id();e(B=n["$[]"]("role"))&&(B=["role",B],l(w,"[]=",a.to_a(B)),
B[b(B.length,1)]);e(B=n["$[]"]("reftext"))&&(B=["reftext",B],l(w,"[]=",a.to_a(B)),B[b(B.length,1)]);n.$clear();(B=f.$instance_variable_get("@attributes_modified")).$delete("doctitle");this.$parse_header_metadata(d,f);if(e(B["$include?"]("doctitle")))e(e(g=(p=w["$[]"]("doctitle"))["$nil_or_empty?"]())?g:p["$=="](k))?(B=["doctitle",k],l(w,"[]=",a.to_a(B))):(B=[p],l(f,"title=",a.to_a(B))),B[b(B.length,1)];else if(e(h["$!"]()))B["$<<"]("doctitle");e(m)&&f.$register("refs",[m,f])}f.$doctype()["$=="]("manpage")&&
this.$parse_manpage_header(d,f,n);return f.$finalize_header(n)},N.$$arity=2);a.defs(d,"$parse_manpage_header",D=function(d,g,h){var k,m,n,B,r=c,q=c,P=c,Q=c,t=c,y=c,x=y=c,v=c,fa=c;e(p(w,"ManpageTitleVolnumRx")["$=~"]((r=g.$attributes())["$[]"]("doctitle")))?(q=["manvolnum",P=(k=u["~"])===c?c:k["$[]"](2)],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],q=["mantitle",(e((Q=(k=u["~"])===c?c:k["$[]"](1))["$include?"](p(w,"ATTR_REF_HEAD")))?g.$sub_attributes(Q):Q).$downcase()]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",
f(["source_location"],{source_location:d.$cursor_at_line(1)}))),q=["mantitle",e(k=e(m=r["$[]"]("doctitle"))?m:r["$[]"]("docname"))?k:"command"],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],q=["manvolnum",P="1"]);l(r,"[]=",a.to_a(q));q[b(q.length,1)];e(e(k=t=r["$[]"]("manname"))?r["$[]"]("manpurpose"):k)?(e(k=r["$[]"]("manname-title"))?k:(q=["manname-title","Name"],l(r,"[]=",a.to_a(q)),q[b(q.length,1)]),q=["mannames",[t]],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],g.$backend()["$=="]("manpage")&&(q=["docname",
t],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],q=["outfilesuffix","."+P],l(r,"[]=",a.to_a(q)),q[b(q.length,1)])):(d.$skip_blank_lines(),d.$save(),h.$update(this.$parse_block_metadata_lines(d,g)),e(y=this["$is_next_line_section?"](d,f([],{})))?y["$=="](1)?(y=this.$initialize_section(d,g,f([],{})),x=l(d.$read_lines_until(f(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(n=function(a){null==a&&(a=c);return a.$lstrip()},n.$$s=this,n.$$arity=1,n)).$join(" "),
e(p(w,"ManpageNamePurposeRx")["$=~"](x))?(e(k=r["$[]"]("manname-title"))?k:(q=["manname-title",y.$title()],l(r,"[]=",a.to_a(q)),q[b(q.length,1)]),e(y.$id())&&(q=["manname-id",y.$id()],l(r,"[]=",a.to_a(q)),q[b(q.length,1)]),q=["manpurpose",(k=u["~"])===c?c:k["$[]"](2)],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],e((t=(k=u["~"])===c?c:k["$[]"](1))["$include?"](p(w,"ATTR_REF_HEAD")))&&(t=g.$sub_attributes(t)),e(t["$include?"](","))?t=(v=l(t.$split(","),"map",[],(B=function(a){null==a&&(a=c);return a.$lstrip()},
B.$$s=this,B.$$arity=1,B)))["$[]"](0):v=[t],q=["manname",t],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],q=["mannames",v],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],g.$backend()["$=="]("manpage")&&(q=["docname",t],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],q=["outfilesuffix","."+P],l(r,"[]=",a.to_a(q)),q[b(q.length,1)])):fa="non-conforming name section body"):fa="name section must be at level 1":fa="name section expected",e(fa)?(d.$restore_save(),this.$logger().$error(this.$message_with_context(fa,f(["source_location"],
{source_location:d.$cursor()}))),q=["manname",t=e(k=r["$[]"]("docname"))?k:"command"],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],q=["mannames",[t]],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],g.$backend()["$=="]("manpage")&&(q=["docname",t],l(r,"[]=",a.to_a(q)),q[b(q.length,1)],q=["outfilesuffix","."+P],l(r,"[]=",a.to_a(q)),q[b(q.length,1)])):d.$discard_save());return c},D.$$arity=3);a.defs(d,"$next_section",A=function(d,h,n){var B,r,q,P,t,Q,y=c,u,x,v=c,fa=x=c,N;null==n&&(n=f([],{}));var D=t=Q=!1;if(e(e(B=(r=
h.$context()["$=="]("document"))?h.$blocks()["$empty?"]():h.$context()["$=="]("document"))?e(r=e(q=y=h["$header?"]())?q:n.$delete("invalid-header"))?r:this["$is_next_line_section?"](d,n)["$!"]():B)){var A=(u=h).$doctype()["$=="]("book");if(e(e(B=y)?B:e(r=A)?n["$[]"](1)["$!="]("abstract"):r)){D=t=p(w,"Block").$new(h,"preamble",f(["content_model"],{content_model:"compound"}));if(e(e(B=A)?h["$attr?"]("preface-title"):B)){var z=[h.$attr("preface-title")];l(D,"title=",a.to_a(z));z[b(z.length,1)]}h.$blocks()["$<<"](D)}y=
h;x=0;if(e(h.$attributes()["$key?"]("fragment")))var C=-1;else e(A)?(B=[1,0],C=B[0],v=B[1],B):C=1}else A=(u=h.$document()).$doctype()["$=="]("book"),y=this.$initialize_section(d,h,n),n=e(x=n["$[]"]("title"))?f(["title"],{title:x}):f([],{}),C=g(x=y.$level(),1),x["$=="](0)?Q=A:e((B=x["$=="](1))?y.$special():x["$=="](1))&&!e(e(B=e(r=(fa=y.$sectname())["$=="]("appendix"))?r:fa["$=="]("preface"))?B:fa["$=="]("abstract"))&&(C=c);for(d.$skip_blank_lines();e(d["$has_more_lines?"]());){this.$parse_block_metadata_lines(d,
u,n);if(e(N=this["$is_next_line_section?"](d,n)))if(e(u["$attr?"]("leveloffset"))&&(N=g(N,u.$attr("leveloffset").$to_i()),e(k(N,0))&&(N=0)),e(m(N,x)))e(C)?e(e(r=e(q=N["$=="](C))?q:e(P=v)?N["$=="](v):P)?r:k(C,0))||(r=e(v)?"expected levels "+v+" or "+C:"expected level "+C,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+r+", got level "+N,f(["source_location"],{source_location:d.$cursor()})))):this.$logger().$error(this.$message_with_context(""+fa+" sections do not support nested sections",
f(["source_location"],{source_location:d.$cursor()}))),q=this.$next_section(d,y,n),r=a.to_ary(q),N=null==r[0]?c:r[0],n=null==r[1]?c:r[1],q,y.$assign_numeral(N),y.$blocks()["$<<"](N);else if(e((r=N["$=="](0))?y["$=="](u):N["$=="](0)))e(A)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",f(["source_location"],{source_location:d.$cursor()}))),q=this.$next_section(d,y,n),r=a.to_ary(q),N=null==r[0]?c:r[0],n=null==r[1]?c:r[1],q,y.$assign_numeral(N),
y.$blocks()["$<<"](N);else break;else if(z=d.$cursor(),e(N=this.$next_block(d,e(r=t)?r:y,n,f(["parse_metadata"],{parse_metadata:!1})))){if(e(Q))if(e(y["$blocks?"]()["$!"]()))e(N.$style()["$!="]("partintro"))&&(N.$context()["$=="]("paragraph")?(z=["open"],l(N,"context=",a.to_a(z)),z[b(z.length,1)],z=["partintro"],l(N,"style=",a.to_a(z)),z[b(z.length,1)]):(z=[t=p(w,"Block").$new(y,"open",f(["content_model"],{content_model:"compound"}))],l(N,"parent=",a.to_a(z)),z[b(z.length,1)],z=["partintro"],l(t,
"style=",a.to_a(z)),z[b(z.length,1)],y.$blocks()["$<<"](t)));else if(y.$blocks().$size()["$=="](1)){var L=y.$blocks()["$[]"](0);e(e(r=t["$!"]())?L.$content_model()["$=="]("compound"):r)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",f(["source_location"],{source_location:z}))):e(L.$content_model()["$!="]("compound"))&&(z=[t=p(w,"Block").$new(y,"open",f(["content_model"],{content_model:"compound"}))],l(N,"parent=",a.to_a(z)),z[b(z.length,1)],z=["partintro"],
l(t,"style=",a.to_a(z)),z[b(z.length,1)],y.$blocks().$shift(),L.$style()["$=="]("partintro")&&(z=["paragraph"],l(L,"context=",a.to_a(z)),z[b(z.length,1)],z=[c],l(L,"style=",a.to_a(z)),z[b(z.length,1)]),t["$<<"](L),y.$blocks()["$<<"](t))}(e(r=t)?r:y).$blocks()["$<<"](N);n.$clear()}if(e(r=d.$skip_blank_lines()))r;else break}if(e(Q))e(e(B=y["$blocks?"]())?y.$blocks()["$[]"](-1).$context()["$=="]("section"):B)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",
f(["source_location"],{source_location:d.$cursor()})));else if(e(D))if(e(D["$blocks?"]())){if(!e(e(B=e(r=A)?r:u.$blocks()["$[]"](1))?B:p(w,"Compliance").$unwrap_standalone_preamble()["$!"]()))for(u.$blocks().$shift();e(d=D.$blocks().$shift());)u["$<<"](d)}else u.$blocks().$shift();return[e(y["$!="](h))?y:c,n.$merge()]},A.$$arity=-3);a.defs(d,"$next_block",z=function(d,h,n,B){try{var r,q,t,y,P,x,Q,v=c,fa=c,N=c,Ha=c,z=c,A=c,D=c,C=c,L=c,U=c,E=c,W=c,F=c,T=c,H=c,I=c,ia=c,X=c,J=c,ka=c,za=c,ca=c,Ca=c,aa=
c,Y=c,ha=c,ma=c,wa=c,oa=c,V=c,sa=c,La=c,Z=c,va=c,O=c,Ea=c,K=c,ja=c,ya=c,na=c,R=c,Da=c,Ia=c,xa=c,ua=c,S=c,Ra=c,Sa=c,Ta=c,Oa=c;null==u["~"]&&(u["~"]=c);null==n&&(n=f([],{}));null==B&&(B=f([],{}));if(!e(v=d.$skip_blank_lines()))return c;e(e(r=fa=B["$[]"]("text_only"))?m(v,0):r)&&(B.$delete("text_only"),fa=c);N=h.$document();if(e(B.$fetch("parse_metadata",!0)))for(;e(this.$parse_block_metadata_line(d,N,n,B));)d.$shift(),e(q=d.$skip_blank_lines())?q:a.ret(c);e(Ha=N.$extensions())&&(r=[Ha["$blocks?"](),
Ha["$block_macros?"]()],z=r[0],A=r[1],r);d.$mark();r=[d.$read_line(),N.$attributes(),n["$[]"](1)];D=r[0];C=r[1];L=r[2];r;U=E=W=F=c;e(T=this["$is_delimited_block?"](D,!0))&&(E=W=T.$context(),F=T.$terminator(),e(L)?L["$=="](E.$to_s())||(e(T.$masq()["$include?"](L))?E=L.$to_sym():e(e(r=T.$masq()["$include?"]("admonition"))?p(w,"ADMONITION_STYLES")["$include?"](L):r)?E="admonition":e(e(r=z)?Ha["$registered_for_block?"](L,E):r)?E=L.$to_sym():(e(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for "+
E+" block: "+L,f(["source_location"],{source_location:d.$cursor_at_mark()}))),L=E.$to_s())):L=(H=["style",E.$to_s()],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]));if(!e(T))for(;e(!0);){if(e(e(q=e(t=L)?p(w,"Compliance").$strict_verbatim_paragraphs():t)?p(w,"VERBATIM_STYLES")["$include?"](L):q)){E=L.$to_sym();d.$unshift_line(D);break}if(e(fa))I=D["$start_with?"](" ",p(w,"TAB"));else if(ia=p(w,"Compliance").$markdown_syntax(),e(D["$start_with?"](" "))){if(q=[!0," "],I=q[0],X=q[1],q,e(e(q=e(t=ia)?l(D.$lstrip(),
"start_with?",a.to_a(p(w,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):t)?p(w,"MarkdownThematicBreakRx")["$match?"](D):q)){U=p(w,"Block").$new(h,"thematic_break",f(["content_model"],{content_model:"empty"}));break}}else if(e(D["$start_with?"](p(w,"TAB"))))q=[!0,p(w,"TAB")],I=q[0],X=q[1],q;else if(q=[!1,D.$chr()],I=q[0],X=q[1],q,J=e(ia)?p(w,"HYBRID_LAYOUT_BREAK_CHARS"):p(w,"LAYOUT_BREAK_CHARS"),e(e(q=J["$key?"](X))?e(ia)?p(w,"ExtLayoutBreakRx")["$match?"](D):e(t=this["$uniform?"](D,X,ka=D.$length()))?
m(ka,2):t:q)){U=p(w,"Block").$new(h,J["$[]"](X),f(["content_model"],{content_model:"empty"}));break}else if(e(e(q=D["$end_with?"]("]"))?D["$include?"]("::"):q))if(e(e(q=e(t=X["$=="]("i"))?t:D["$start_with?"]("video:","audio:"))?p(w,"BlockMediaMacroRx")["$=~"](D):q)){q=[((t=u["~"])===c?c:t["$[]"](1)).$to_sym(),(t=u["~"])===c?c:t["$[]"](2),(t=u["~"])===c?c:t["$[]"](3)];za=q[0];ca=q[1];Ca=q[2];q;U=p(w,"Block").$new(h,za,f(["content_model"],{content_model:"empty"}));e(Ca)&&(aa=za,Y="video"["$==="](aa)?
["poster","width","height"]:"audio"["$==="](aa)?[]:["alt","width","height"],U.$parse_attributes(Ca,Y,f(["sub_input","into"],{sub_input:!0,into:n})));e(n["$key?"]("style"))&&n.$delete("style");if(e(ca["$include?"](p(w,"ATTR_REF_HEAD")))){if(e(e(q=e(t=(ha=U.$sub_attributes(ca))["$empty?"]())?(e(y=C["$[]"]("attribute-missing"))?y:p(w,"Compliance").$attribute_missing())["$=="]("drop-line"):t)?U.$sub_attributes(g(ca," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():
q))return n.$clear(),c;ca=ha}za["$=="]("image")&&(N.$register("images",ca),H=["imagesdir",C["$[]"]("imagesdir")],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],e(q=n["$[]"]("alt"))?q:(H=["alt",e(t=L)?t:(H=["default-alt",p(w,"Helpers").$basename(ca,!0).$tr("_-"," ")],l(n,"[]=",a.to_a(H)),H[b(H.length,1)])],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),e((ma=n.$delete("scaledwidth"))["$nil_or_empty?"]())||(H=["scaledwidth",e(p(w,"TrailingDigitsRx")["$match?"](ma))?""+ma+"%":ma],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),
e(n["$[]"]("title"))&&(H=[wa=n.$delete("title")],l(U,"title=",a.to_a(H)),H[b(H.length,1)],U.$assign_caption(n.$delete("caption"),"figure")));H=["target",ca];l(n,"[]=",a.to_a(H));H[b(H.length,1)];break}else if(e(e(q=(t=X["$=="]("t"))?D["$start_with?"]("toc:"):X["$=="]("t"))?p(w,"BlockTocMacroRx")["$=~"](D):q)){U=p(w,"Block").$new(h,"toc",f(["content_model"],{content_model:"empty"}));e((q=u["~"])===c?c:q["$[]"](1))&&U.$parse_attributes((q=u["~"])===c?c:q["$[]"](1),[],f(["into"],{into:n}));break}else if(e(e(A)?
e(q=e(t=p(w,"CustomBlockMacroRx")["$=~"](D))?oa=Ha["$registered_for_block_macro?"]((y=u["~"])===c?c:y["$[]"](1)):t)?q:V=this.$logger()["$debug?"]():e(q=this.$logger()["$debug?"]())?V=p(w,"CustomBlockMacroRx")["$=~"](D):q))if(e(V))this.$logger().$debug(this.$message_with_context("unknown name for block macro: "+((q=u["~"])===c?c:q["$[]"](1)),f(["source_location"],{source_location:d.$cursor_at_mark()})));else{sa=(q=u["~"])===c?c:q["$[]"](3);if(e((ca=(q=u["~"])===c?c:q["$[]"](2))["$include?"](p(w,"ATTR_REF_HEAD")))){if(e(e(q=
e(t=(ha=h.$sub_attributes(ca))["$empty?"]())?(e(y=C["$[]"]("attribute-missing"))?y:p(w,"Compliance").$attribute_missing())["$=="]("drop-line"):t)?h.$sub_attributes(g(ca," "),f(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():q))return n.$clear(),c;ca=ha}(La=oa.$config())["$[]"]("content_model")["$=="]("attributes")?e(sa)&&N.$parse_attributes(sa,e(q=e(t=La["$[]"]("positional_attrs"))?t:La["$[]"]("pos_attrs"))?q:[],f(["sub_input",
"into"],{sub_input:!0,into:n})):(H=["text",e(q=sa)?q:""],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]);e(Z=La["$[]"]("default_attrs"))&&l(n,"update",[Z],(P=function(a,b){null==b&&(b=c);return b},P.$$s=this,P.$$arity=2,P));if(e(U=oa.$process_method()["$[]"](h,ca,n))){n.$replace(U.$attributes());break}else return n.$clear(),c}if(e(e(q=e(t=I["$!"]())?(X=e(y=X)?y:D.$chr())["$=="]("<"):t)?p(w,"CalloutListRx")["$=~"](D):q)){d.$unshift_line(D);U=this.$parse_callout_list(d,u["~"],h,N.$callouts());H=["style","arabic"];
l(n,"[]=",a.to_a(H));H[b(H.length,1)];break}else if(e(p(w,"UnorderedListRx")["$match?"](D))){d.$unshift_line(D);e(e(q=e(t=L["$!"]())?p(w,"Section")["$==="](h):t)?h.$sectname()["$=="]("bibliography"):q)&&(H=["style",L="bibliography"],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]);U=this.$parse_list(d,"ulist",h,L);break}else if(e(p(w,"OrderedListRx")["$match?"](D))){d.$unshift_line(D);U=this.$parse_list(d,"olist",h,L);e(U.$style())&&(H=["style",U.$style()],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]);break}else if(e(e(q=
e(t=D["$include?"]("::"))?t:D["$include?"](";;"))?p(w,"DescriptionListRx")["$=~"](D):q)){d.$unshift_line(D);U=this.$parse_description_list(d,u["~"],h);break}else if(e(e(q=e(t=L["$=="]("float"))?t:L["$=="]("discrete"))?e(p(w,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](D,d.$peek_line()):e(t=I["$!"]())?this["$atx_section_title?"](D):t:q)){d.$unshift_line(D);t=this.$parse_section_title(d,N,n["$[]"]("id"));q=a.to_ary(t);va=null==q[0]?c:q[0];O=null==q[1]?c:q[1];wa=null==
q[2]?c:q[2];Ea=null==q[3]?c:q[3];t;e(O)&&(H=["reftext",O],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]);U=p(w,"Block").$new(h,"floating_title",f(["content_model"],{content_model:"empty"}));H=[wa];l(U,"title=",a.to_a(H));H[b(H.length,1)];n.$delete("title");H=[e(q=va)?q:e(C["$key?"]("sectids"))?p(w,"Section").$generate_id(U.$title(),N):c];l(U,"id=",a.to_a(H));H[b(H.length,1)];H=[Ea];l(U,"level=",a.to_a(H));H[b(H.length,1)];break}else if(e(e(q=L)?L["$!="]("normal"):q))if(e(p(w,"PARAGRAPH_STYLES")["$include?"](L))){E=
L.$to_sym();W="paragraph";d.$unshift_line(D);break}else if(e(p(w,"ADMONITION_STYLES")["$include?"](L))){E="admonition";W="paragraph";d.$unshift_line(D);break}else if(e(e(q=z)?Ha["$registered_for_block?"](L,"paragraph"):q)){E=L.$to_sym();W="paragraph";d.$unshift_line(D);break}else e(this.$logger()["$debug?"]())&&this.$logger().$debug(this.$message_with_context("unknown style for paragraph: "+L,f(["source_location"],{source_location:d.$cursor_at_mark()}))),L=c;d.$unshift_line(D);if(e(e(q=I)?L["$!"]():
q))K=this.$read_paragraph_lines(d,ja=v["$=="](0)?B["$[]"]("list_type"):c,f(["skip_line_comments"],{skip_line_comments:fa})),this["$adjust_indentation!"](K),U=e(e(q=fa)?q:ja["$=="]("dlist"))?p(w,"Block").$new(h,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:n})):p(w,"Block").$new(h,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",source:K,attributes:n}));else{K=this.$read_paragraph_lines(d,(q=v["$=="](0))?B["$[]"]("list_type"):
v["$=="](0),f(["skip_line_comments"],{skip_line_comments:!0}));if(e(fa)){if(e(e(q=I)?L["$=="]("normal"):q))this["$adjust_indentation!"](K);U=p(w,"Block").$new(h,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:n}))}else if(e(e(q=e(t=p(w,"ADMONITION_STYLE_HEADS")["$include?"](X))?D["$include?"](":"):t)?p(w,"AdmonitionParagraphRx")["$=~"](D):q))H=[0,(q=u["~"])===c?c:q.$post_match()],l(K,"[]=",a.to_a(H)),H[b(H.length,1)],H=["name",ya=(H=["style",(q=u["~"])===
c?c:q["$[]"](1)],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]).$downcase()],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],H=["textlabel",e(q=n.$delete("caption"))?q:C["$[]"](""+ya+"-caption")],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],U=p(w,"Block").$new(h,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:n}));else if(e(e(q=e(t=ia)?X["$=="](">"):t)?D["$start_with?"]("> "):q)){l(K,"map!",[],(x=function(a){null==a&&(a=c);return a["$=="](">")?a.$slice(1,a.$length()):e(a["$start_with?"]("> "))?
a.$slice(2,a.$length()):a},x.$$s=this,x.$$arity=1,x));if(e(K["$[]"](-1)["$start_with?"]("-- "))&&(na=(na=K.$pop()).$slice(3,na.$length()),!e(K["$empty?"]())))for(;e(K["$[]"](-1)["$empty?"]());)K.$pop();H=["style","quote"];l(n,"[]=",a.to_a(H));H[b(H.length,1)];U=this.$build_block("quote","compound",!1,h,p(w,"Reader").$new(K),n);e(na)&&(t=U.$apply_subs(na).$split(", ",2),q=a.to_ary(t),R=null==q[0]?c:q[0],Da=null==q[1]?c:q[1],t,e(R)&&(H=["attribution",R],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),e(Da)&&
(H=["citetitle",Da],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]))}else if(e(e(q=e(t=(y=X["$=="]('"'))?m(K.$size(),1):X["$=="]('"'))?K["$[]"](-1)["$start_with?"]("-- "):t)?K["$[]"](-2)["$end_with?"]('"'):q)){H=[0,D.$slice(1,D.$length())];l(K,"[]=",a.to_a(H));H[b(H.length,1)];for(na=(na=K.$pop()).$slice(3,na.$length());e(K["$[]"](-1)["$empty?"]());)K.$pop();K["$<<"](K.$pop().$chop());H=["style","quote"];l(n,"[]=",a.to_a(H));H[b(H.length,1)];U=p(w,"Block").$new(h,"quote",f(["content_model","source","attributes"],
{content_model:"simple",source:K,attributes:n}));t=U.$apply_subs(na).$split(", ",2);q=a.to_ary(t);R=null==q[0]?c:q[0];Da=null==q[1]?c:q[1];t;e(R)&&(H=["attribution",R],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]);e(Da)&&(H=["citetitle",Da],l(n,"[]=",a.to_a(H)),H[b(H.length,1)])}else{if(e(e(q=I)?L["$=="]("normal"):q))this["$adjust_indentation!"](K);U=p(w,"Block").$new(h,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:n}))}this.$catalog_inline_anchors(K.$join(p(w,
"LF")),U,N,d)}break}if(!e(U))if(aa=E,"listing"["$==="](aa)||"source"["$==="](aa))e(e(r=E["$=="]("source"))?r:e(q=n["$[]"](1)["$!"]())?Ia=e(t=n["$[]"](2))?t:C["$[]"]("source-language"):q)&&(e(Ia)?(H=["style","source"],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],H=["language",Ia],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],p(w,"AttributeList").$rekey(n,[c,c,"linenums"])):(p(w,"AttributeList").$rekey(n,[c,"language","linenums"]),!e(n["$key?"]("language"))&&e(C["$key?"]("source-language"))&&(H=["language",C["$[]"]("source-language")],
l(n,"[]=",a.to_a(H)),H[b(H.length,1)])),!e(n["$key?"]("linenums"))&&e(e(r=n["$[]"]("linenums-option"))?r:C["$[]"]("source-linenums-option"))&&(H=["linenums",""],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),!e(n["$key?"]("indent"))&&e(C["$key?"]("source-indent"))&&(H=["indent",C["$[]"]("source-indent")],l(n,"[]=",a.to_a(H)),H[b(H.length,1)])),U=this.$build_block("listing","verbatim",F,h,d,n);else if("fenced_code"["$==="](aa))H=["style","source"],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],e(m(ka=D.$length(),3))&&
(e(xa=(Ia=D.$slice(3,ka)).$index(","))?e(m(xa,0))?(Ia=Ia.$slice(0,xa).$strip(),e(k(xa,b(ka,4)))&&(H=["linenums",""],l(n,"[]=",a.to_a(H)),H[b(H.length,1)])):e(m(ka,4))&&(H=["linenums",""],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]):Ia=Ia.$lstrip()),e(Ia["$nil_or_empty?"]())?e(C["$key?"]("source-language"))&&(H=["language",C["$[]"]("source-language")],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]):(H=["language",Ia],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),!e(n["$key?"]("linenums"))&&e(e(r=n["$[]"]("linenums-option"))?
r:C["$[]"]("source-linenums-option"))&&(H=["linenums",""],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),!e(n["$key?"]("indent"))&&e(C["$key?"]("source-indent"))&&(H=["indent",C["$[]"]("source-indent")],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),F=F.$slice(0,3),U=this.$build_block("listing","verbatim",F,h,d,n);else if("table"["$==="](aa))ua=d.$cursor(),S=p(w,"Reader").$new(d.$read_lines_until(f(["terminator","skip_line_comments","context","cursor"],{terminator:F,skip_line_comments:!0,context:"table",cursor:"at_mark"})),
ua),e(F["$start_with?"]("|","!"))||(e(r=n["$[]"]("format"))?r:(H=["format",e(F["$start_with?"](","))?"csv":"dsv"],l(n,"[]=",a.to_a(H)),H[b(H.length,1)])),U=this.$parse_table(S,h,n);else if("sidebar"["$==="](aa))U=this.$build_block(E,"compound",F,h,d,n);else if("admonition"["$==="](aa))H=["name",ya=L.$downcase()],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],H=["textlabel",e(r=n.$delete("caption"))?r:C["$[]"](""+ya+"-caption")],l(n,"[]=",a.to_a(H)),H[b(H.length,1)],U=this.$build_block(E,"compound",F,h,d,n);
else if("open"["$==="](aa)||"abstract"["$==="](aa)||"partintro"["$==="](aa))U=this.$build_block("open","compound",F,h,d,n);else if("literal"["$==="](aa))U=this.$build_block(E,"verbatim",F,h,d,n);else if("example"["$==="](aa))U=this.$build_block(E,"compound",F,h,d,n);else if("quote"["$==="](aa)||"verse"["$==="](aa))p(w,"AttributeList").$rekey(n,[c,"attribution","citetitle"]),U=this.$build_block(E,E["$=="]("verse")?"verbatim":"compound",F,h,d,n);else if("stem"["$==="](aa)||"latexmath"["$==="](aa)||
"asciimath"["$==="](aa))E["$=="]("stem")&&(H=["style",p(w,"STEM_TYPE_ALIASES")["$[]"](e(r=n["$[]"](2))?r:C["$[]"]("stem"))],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),U=this.$build_block("stem","raw",F,h,d,n);else if("pass"["$==="](aa))U=this.$build_block(E,"raw",F,h,d,n);else{if("comment"["$==="](aa))return this.$build_block(E,"skip",F,h,d,n),n.$clear(),c;if(e(e(r=z)?oa=Ha["$registered_for_block?"](E,W):r)){if((Ra=(La=oa.$config())["$[]"]("content_model"))["$=="]("skip")||(e((Sa=e(r=La["$[]"]("positional_attrs"))?
r:La["$[]"]("pos_attrs"))["$nil_or_empty?"]())||p(w,"AttributeList").$rekey(n,g([c],Sa)),e(Z=La["$[]"]("default_attrs"))&&l(Z,"each",[],(Q=function(d,f){var g;null==d&&(d=c);null==f&&(f=c);return e(g=n["$[]"](d))?g:(H=[d,f],l(n,"[]=",a.to_a(H)),H[b(H.length,1)])},Q.$$s=this,Q.$$arity=2,Q)),H=["cloaked-context",W],l(n,"[]=",a.to_a(H)),H[b(H.length,1)]),!e(U=this.$build_block(E,Ra,F,h,d,n,f(["extension"],{extension:oa}))))return n.$clear(),c}else this.$raise("Unsupported block type "+E+" at "+d.$cursor())}e(N.$sourcemap())&&
(H=[d.$cursor_at_mark()],l(U,"source_location=",a.to_a(H)),H[b(H.length,1)]);e(n["$[]"]("title"))&&(H=[wa=n.$delete("title")],l(U,"title=",a.to_a(H)),H[b(H.length,1)],e(e(r=Ta=p(w,"CAPTION_ATTR_NAMES")["$[]"](U.$context()))?N.$attributes()["$[]"](Ta):r)&&U.$assign_caption(n.$delete("caption")));H=[n["$[]"]("style")];l(U,"style=",a.to_a(H));H[b(H.length,1)];e(Oa=e(r=U.$id())?r:(H=[n["$[]"]("id")],l(U,"id=",a.to_a(H)),H[b(H.length,1)]))&&(e(e(wa)?wa["$include?"](p(w,"ATTR_REF_HEAD")):U["$title?"]())&&
U.$title(),e(N.$register("refs",[Oa,U]))||this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+Oa,f(["source_location"],{source_location:d.$cursor_at_mark()}))));e(n["$empty?"]())||U.$update_attributes(n);U.$commit_subs();e(U["$sub?"]("callouts"))&&!e(this.$catalog_callouts(U.$source(),N))&&U.$remove_sub("callouts");return U}catch(kb){if(kb===a.returner)return kb.$v;throw kb;}},z.$$arity=-3);a.defs(d,"$read_paragraph_lines",C=function(c,d,g){null==g&&(g=f([],{}));
var h=["break_on_blank_lines",!0];l(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["break_on_list_continuation",!0];l(g,"[]=",a.to_a(h));h[b(h.length,1)];h=["preserve_last_line",!0];l(g,"[]=",a.to_a(h));h[b(h.length,1)];d=e(d)?e(p(w,"Compliance").$block_terminates_paragraph())?p(w,"StartOfBlockOrListProc"):p(w,"StartOfListProc"):e(p(w,"Compliance").$block_terminates_paragraph())?p(w,"StartOfBlockProc"):p(w,"NoOp");return l(c,"read_lines_until",[g],d.$to_proc())},C.$$arity=-3);a.defs(d,"$is_delimited_block?",
L=function(d,f){var g,l;null==f&&(f=c);if(!e(e(g=m(l=d.$length(),1))?p(w,"DELIMITED_BLOCK_HEADS")["$[]"](d.$slice(0,2)):g))return c;if(l["$=="](2)){var h=d;var n=2}else if(e(k(l,5))?(h=d,n=l):h=d.$slice(0,n=4),e(e(g=p(w,"Compliance").$markdown_syntax())?h["$start_with?"]("`"):g))if(n["$=="](4))if(!h["$=="]("````")&&(h=h.$chop())["$=="]("```"))d=h,l=n=3;else return c;else{if(!h["$=="]("```"))return c}else if(n["$=="](3))return c;var B=p(w,"DELIMITED_BLOCKS")["$[]"](h);g=a.to_ary(B);var q=null==g[0]?
c:g[0];var r=null==g[1]?c:g[1];B;return e(e(g=q)?e(B=l["$=="](n))?B:this["$uniform?"](d.$slice(1,l),p(w,"DELIMITED_BLOCK_TAILS")["$[]"](h),b(l,1)):g)?e(f)?p(w,"BlockMatchData").$new(q,r,h,d):!0:c},L.$$arity=-2);a.defs(d,"$build_block",E=function(a,b,d,g,l,h,k){var n,B,q;null==k&&(k=f([],{}));b["$=="]("skip")?(n=[!0,"simple"],B=n[0],q=n[1]):b["$=="]("raw")?(n=[!1,"simple"],B=n[0],q=n[1]):(n=[!1,b],B=n[0],q=n[1]);n;if(e(d["$nil?"]()))q["$=="]("verbatim")?q=l.$read_lines_until(f(["break_on_blank_lines",
"break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),q=this.$read_paragraph_lines(l,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:B}))),d=c;else if(e(q["$!="]("compound")))q=l.$read_lines_until(f(["terminator","skip_processing","context","cursor"],{terminator:d,skip_processing:B,context:a,cursor:"at_mark"})),d=c;else if(d["$=="](!1))q=c,d=l;else{q=c;var r=l.$cursor();d=p(w,"Reader").$new(l.$read_lines_until(f(["terminator",
"skip_processing","context","cursor"],{terminator:d,skip_processing:B,context:a,cursor:"at_mark"})),r)}if(b["$=="]("verbatim"))if(l=(e(n=h["$[]"]("tabsize"))?n:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),e(B=h["$[]"]("indent")))this["$adjust_indentation!"](q,B.$to_i(),l);else{if(e(m(l,0)))this["$adjust_indentation!"](q,-1,l)}else if(b["$=="]("skip"))return c;if(e(k=k["$[]"]("extension")))if(h.$delete("style"),e(a=k.$process_method()["$[]"](g,e(n=d)?n:p(w,"Reader").$new(q),h.$merge())))h.$replace(a.$attributes()),
e(a.$content_model()["$=="]("compound")?(q=a.$lines())["$empty?"]()["$!"]():a.$content_model()["$=="]("compound"))&&(b="compound",d=p(w,"Reader").$new(q));else return c;else a=p(w,"Block").$new(g,a,f(["content_model","source","attributes"],{content_model:b,source:q,attributes:h}));b["$=="]("compound")&&this.$parse_blocks(d,a);return a},E.$$arity=-7);a.defs(d,"$parse_blocks",F=function(a,b,d){var f,g,l=c;null==d&&(d=c);if(e(d))for(;e(e(f=e(g=l=this.$next_block(a,b,d.$merge()))?b.$blocks()["$<<"](l):
g)?f:a["$has_more_lines?"]()););else for(;e(e(f=e(g=l=this.$next_block(a,b))?b.$blocks()["$<<"](l):g)?f:a["$has_more_lines?"]()););return c},F.$$arity=-3);a.defs(d,"$parse_list",T=function(a,b,d,f){var g,l;null==u["~"]&&(u["~"]=c);d=p(w,"List").$new(d,b);for(b=p(w,"ListRxMap")["$[]"](b);e(e(g=a["$has_more_lines?"]())?b["$=~"](a.$peek_line()):g);){if(e(l=this.$parse_list_item(a,d,u["~"],(g=u["~"])===c?c:g["$[]"](1),f)))d.$items()["$<<"](l);if(e(g=a.$skip_blank_lines()))g;else break}return d},T.$$arity=
4);a.defs(d,"$catalog_callouts",I=function(a,b){var d,f=c,h=c;f=!1;h=0;e(a["$include?"]("<"))&&l(a,"scan",[p(w,"CalloutScanRx")],(d=function(){var a;e(((a=u["~"])===c?c:a["$[]"](0))["$start_with?"]("\\"))||b.$callouts().$register(((a=u["~"])===c?c:a["$[]"](2))["$=="](".")?(h=g(h,1)).$to_s():(a=u["~"])===c?c:a["$[]"](2));return f=!0},d.$$s=this,d.$$arity=0,d));return f},I.$$arity=2);a.defs(d,"$catalog_inline_anchor",W=function(a,b,d,g,l){var h;null==l&&(l=d.$document());e(e(h=b)?b["$include?"](p(w,
"ATTR_REF_HEAD")):h)&&(b=l.$sub_attributes(b));e(l.$register("refs",[a,p(w,"Inline").$new(d,"anchor",b,f(["type","id"],{type:"ref",id:a}))]))||(e(p(w,"Reader")["$==="](g))&&(g=g.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+a,f(["source_location"],{source_location:g}))));return c},W.$$arity=-5);a.defs(d,"$catalog_inline_anchors",X=function(a,b,d,h){var k,n;e(e(k=a["$include?"]("[["))?k:a["$include?"]("or:"))&&l(a,"scan",[p(w,"InlineAnchorScanRx")],
(n=function(){var a=n.$$s||this,l,k,B=c,q=c;if(e(k=(l=u["~"])===c?c:l["$[]"](1))){if(e(B=(l=u["~"])===c?c:l["$[]"](2))&&e(e(l=B["$include?"](p(w,"ATTR_REF_HEAD")))?(B=d.$sub_attributes(B))["$empty?"]():l))return c}else if(k=(l=u["~"])===c?c:l["$[]"](3),e(B=(l=u["~"])===c?c:l["$[]"](4))&&(e(B["$include?"]("]"))&&(B=B.$gsub("\\]","]")),e(e(l=B["$include?"](p(w,"ATTR_REF_HEAD")))?(B=d.$sub_attributes(B))["$empty?"]():l)))return c;if(e(d.$register("refs",[k,p(w,"Inline").$new(b,"anchor",B,f(["type","id"],
{type:"ref",id:k}))])))return c;B=h.$cursor_at_mark();e(m(q=g(((l=u["~"])===c?c:l.$pre_match()).$count(p(w,"LF")),e(((l=u["~"])===c?c:l["$[]"](0))["$start_with?"](p(w,"LF")))?1:0),0))&&(B=B.$dup()).$advance(q);return a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+k,f(["source_location"],{source_location:B})))},n.$$s=this,n.$$arity=0,n));return c},X.$$arity=4);a.defs(d,"$catalog_inline_biblio_anchor",J=function(a,b,d,g){e(d.$document().$register("refs",[a,p(w,"Inline").$new(d,
"anchor",e(b)?"["+b+"]":b,f(["type","id"],{type:"bibref",id:a}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+a,f(["source_location"],{source_location:g.$cursor()})));return c},J.$$arity=4);a.defs(d,"$parse_description_list",Y=function(d,f,g){var h;null==u["~"]&&(u["~"]=c);g=p(w,"List").$new(g,"dlist");var k=p(w,"DescriptionListSiblingRx")["$[]"](f["$[]"](2));for(g.$items()["$<<"](f=this.$parse_list_item(d,g,f,k));e(e(h=d["$has_more_lines?"]())?
k["$=~"](d.$peek_line()):h);){var n=this.$parse_list_item(d,g,u["~"],k);if(e(f["$[]"](1)))g.$items()["$<<"](f=n);else f["$[]"](0)["$<<"](n["$[]"](0)["$[]"](0)),n=[1,n["$[]"](1)],l(f,"[]=",a.to_a(n)),n[b(n.length,1)]}return g},Y.$$arity=3);a.defs(d,"$parse_callout_list",V=function(d,h,k,n){var m,B,q,r;k=p(w,"List").$new(k,"colist");var t=1;for(q=0;e(e(m=h)?m:e(B=h=p(w,"CalloutListRx").$match(d.$peek_line()))?d.$mark():B);)(r=h["$[]"](1))["$=="](".")&&(r=(q=g(q,1)).$to_s()),r["$=="](t.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+
t+", got "+r,f(["source_location"],{source_location:d.$cursor_at_mark()}))),e(h=this.$parse_list_item(d,k,h,"<1>"))&&(k.$items()["$<<"](h),e((r=n.$callout_ids(k.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+k.$items().$size()+">",f(["source_location"],{source_location:d.$cursor_at_mark()}))):(r=["coids",r],l(h.$attributes(),"[]=",a.to_a(r)),r[b(r.length,1)])),t=g(t,1),h=c;n.$next_list();return k},V.$$arity=4);a.defs(d,"$parse_list_item",
Z=function(d,g,h,k,n){var m,B,q,r=c,t=c,y,x=c,P=c,v,Q=c,H=c;null==n&&(n=c);if((q=g.$context())["$=="]("dlist")){if(r=!0,t=p(w,"ListItem").$new(g,n=h["$[]"](1)),e(e(m=n["$start_with?"]("[["))?p(w,"LeadingInlineAnchorRx")["$=~"](n):m)&&this.$catalog_inline_anchor((m=u["~"])===c?c:m["$[]"](1),e(m=(B=u["~"])===c?c:B["$[]"](2))?m:((B=u["~"])===c?c:B.$post_match()).$lstrip(),t,d),e(y=h["$[]"](3))&&(x=!0),h=p(w,"ListItem").$new(g,y),e(g.$document().$sourcemap())){var N=[d.$cursor()];l(t,"source_location=",
a.to_a(N));N[b(N.length,1)];e(x)?(N=[t.$source_location()],l(h,"source_location=",a.to_a(N)),N[b(N.length,1)]):P=!0}}else if(x=!0,h=p(w,"ListItem").$new(g,y=h["$[]"](2)),e(g.$document().$sourcemap())&&(N=[d.$cursor()],l(h,"source_location=",a.to_a(N)),N[b(N.length,1)]),q["$=="]("ulist"))N=[k],l(h,"marker=",a.to_a(N)),N[b(N.length,1)],e(y["$start_with?"]("["))&&(e(e(m=n)?n["$=="]("bibliography"):m)?e(p(w,"InlineBiblioAnchorRx")["$=~"](y))&&this.$catalog_inline_biblio_anchor((m=u["~"])===c?c:m["$[]"](1),
(m=u["~"])===c?c:m["$[]"](2),h,d):e(y["$start_with?"]("[["))?e(p(w,"LeadingInlineAnchorRx")["$=~"](y))&&this.$catalog_inline_anchor((m=u["~"])===c?c:m["$[]"](1),(m=u["~"])===c?c:m["$[]"](2),h,d):e(y["$start_with?"]("[ ] ","[x] ","[*] "))&&(g.$set_option("checklist"),N=["checkbox",""],l(h.$attributes(),"[]=",a.to_a(N)),N[b(N.length,1)],e(y["$start_with?"]("[ "))||(N=["checked",""],l(h.$attributes(),"[]=",a.to_a(N)),N[b(N.length,1)]),N=[y.$slice(4,y.$length())],l(h,"text=",a.to_a(N)),N[b(N.length,1)]));
else{if(q["$=="]("olist")){B=this.$resolve_ordered_list_marker(k,v=g.$items().$size(),!0,d);m=a.to_ary(B);k=null==m[0]?c:m[0];var D=null==m[1]?c:m[1];B;N=[k];l(h,"marker=",a.to_a(N));N[b(N.length,1)];e((m=v["$=="](0))?n["$!"]():v["$=="](0))&&(N=[e(m=D)?m:(e(B=p(w,"ORDERED_LIST_STYLES")["$[]"](b(k.$length(),1)))?B:"arabic").$to_s()],l(g,"style=",a.to_a(N)),N[b(N.length,1)])}else N=[k],l(h,"marker=",a.to_a(N)),N[b(N.length,1)];e(e(m=y["$start_with?"]("[["))?p(w,"LeadingInlineAnchorRx")["$=~"](y):m)&&
this.$catalog_inline_anchor((m=u["~"])===c?c:m["$[]"](1),(m=u["~"])===c?c:m["$[]"](2),h,d)}d.$shift();g=d.$cursor();d=p(w,"Reader").$new(this.$read_lines_for_list_item(d,q,k,x),g);if(e(d["$has_more_lines?"]())){e(P)&&(N=[g],l(h,"source_location=",a.to_a(N)),N[b(N.length,1)]);P=d.$skip_line_comments();e(k=d.$peek_line())&&(e(P["$empty?"]())||d.$unshift_lines(P),e(k["$empty?"]())||(Q=!0,e(r)||(x=c)));if(e(x=this.$next_block(d,h,f([],{}),f(["text_only","list_type"],{text_only:e(x)?c:!0,list_type:q}))))h.$blocks()["$<<"](x);
for(;e(d["$has_more_lines?"]());)if(e(x=this.$next_block(d,h,f([],{}),f(["list_type"],{list_type:q}))))h.$blocks()["$<<"](x);e(e(m=e(B=Q)?H=h.$blocks()["$[]"](0):B)?H.$context()["$=="]("paragraph"):m)&&h.$fold_first()}return e(r)?[[t],e(e(m=h["$text?"]())?m:h["$blocks?"]())?h:c]:h},Z.$$arity=-5);a.defs(d,"$read_lines_for_list_item",ka=function(d,g,h,k){var m,n,B,q,r,t,y,x=c,P=c,v=c,Q=c,N=c,H=c,D=c,z=c;P=D=z=c;null==h&&(h=c);null==k&&(k=!0);x=[];P="inactive";v=!1;Q=c;for(N=g["$=="]("dlist");e(d["$has_more_lines?"]());){H=
d.$read_line();if(e(this["$is_sibling_list_item?"](H,g,h)))break;D=e(x["$empty?"]())?c:x["$[]"](-1);if(D["$=="](p(w,"LIST_CONTINUATION"))&&(P["$=="]("inactive")&&(P="active",k=!0,e(v)||(z=[-1,""],l(x,"[]=",a.to_a(z)),z[b(z.length,1)])),H["$=="](p(w,"LIST_CONTINUATION")))){e(P["$!="]("frozen"))&&(P="frozen",x["$<<"](H));H=c;continue}if(e(z=this["$is_delimited_block?"](H,!0)))if(P["$=="]("active"))x["$<<"](H),x.$concat(d.$read_lines_until(f(["terminator","read_last_line","context"],{terminator:z.$terminator(),
read_last_line:!0,context:c}))),P="inactive";else break;else if(e(e(m=e(n=N)?P["$!="]("active"):n)?p(w,"BlockAttributeLineRx")["$match?"](H):m))break;else if(e((m=P["$=="]("active"))?H["$empty?"]()["$!"]():P["$=="]("active")))if(e(p(w,"LiteralParagraphRx")["$match?"](H)))d.$unshift_line(H),e(N)?x.$concat(l(d,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(B=function(a){var b=
B.$$s||this;null==a&&(a=c);return b["$is_sibling_list_item?"](a,g,h)},B.$$s=this,B.$$arity=1,B))):x.$concat(d.$read_lines_until(f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),P="inactive";else if(e(e(m=e(n=p(w,"BlockTitleRx")["$match?"](H))?n:p(w,"BlockAttributeLineRx")["$match?"](H))?m:p(w,"AttributeEntryRx")["$match?"](H)))x["$<<"](H);else e(D=l(e(v)?["dlist"]:p(w,"NESTABLE_LIST_CONTEXTS"),
"find",[],(q=function(a){null==a&&(a=c);return p(w,"ListRxMap")["$[]"](a)["$match?"](H)},q.$$s=this,q.$$arity=1,q)))&&(v=!0,e((m=D["$=="]("dlist"))?((n=u["~"])===c?c:n["$[]"](3))["$nil_or_empty?"]():D["$=="]("dlist"))&&(k=!1)),x["$<<"](H),P="inactive";else if(e(e(m=D)?D["$empty?"]():m)){if(e(H["$empty?"]())){if(!e(H=e(m=d.$skip_blank_lines())?d.$read_line():m))break;if(e(this["$is_sibling_list_item?"](H,g,h)))break}if(H["$=="](p(w,"LIST_CONTINUATION")))Q=x.$size(),x["$<<"](H);else if(e(k))if(e(this["$is_sibling_list_item?"](H,
g,h)))break;else if(e(D=l(p(w,"NESTABLE_LIST_CONTEXTS"),"find",[],(r=function(a){null==a&&(a=c);return p(w,"ListRxMap")["$[]"](a)["$=~"](H)},r.$$s=this,r.$$arity=1,r))))x["$<<"](H),v=!0,e((m=D["$=="]("dlist"))?((n=u["~"])===c?c:n["$[]"](3))["$nil_or_empty?"]():D["$=="]("dlist"))&&(k=!1);else if(e(p(w,"LiteralParagraphRx")["$match?"](H)))d.$unshift_line(H),e(N)?x.$concat(l(d,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,
break_on_list_continuation:!0})],(t=function(a){var b=t.$$s||this;null==a&&(a=c);return b["$is_sibling_list_item?"](a,g,h)},t.$$s=this,t.$$arity=1,t))):x.$concat(d.$read_lines_until(f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break;else e(v)||x.$pop(),x["$<<"](H),k=!0}else e(H["$empty?"]())||(k=!0),e(D=l(e(v)?["dlist"]:p(w,"NESTABLE_LIST_CONTEXTS"),"find",[],(y=function(a){null==
a&&(a=c);return p(w,"ListRxMap")["$[]"](a)["$=~"](H)},y.$$s=this,y.$$arity=1,y)))&&(v=!0,e((m=D["$=="]("dlist"))?((n=u["~"])===c?c:n["$[]"](3))["$nil_or_empty?"]():D["$=="]("dlist"))&&(k=!1)),x["$<<"](H);H=c}e(H)&&d.$unshift_line(H);e(Q)&&(z=[Q,""],l(x,"[]=",a.to_a(z)),z[b(z.length,1)]);for(;!e(x["$empty?"]());)if(e((P=x["$[]"](-1))["$empty?"]()))x.$pop();else{P["$=="](p(w,"LIST_CONTINUATION"))&&x.$pop();break}return x},ka.$$arity=-3);a.defs(d,"$initialize_section",ia=function(d,g,h){var k,n=c,B=
c,q=c,r=c,t=c;null==h&&(h=f([],{}));var y=g.$document();var u=(k=y.$doctype())["$=="]("book");e(y.$sourcemap())&&(n=d.$cursor());var x=h["$[]"](1);var P=this.$parse_section_title(d,y,h["$[]"]("id"));var v=a.to_ary(P);var Q=null==v[0]?c:v[0];var H=null==v[1]?c:v[1];var N=null==v[2]?c:v[2];var D=null==v[3]?c:v[3];var z=null==v[4]?c:v[4];P;if(e(H))B=["reftext",H],l(h,"[]=",a.to_a(B)),B[b(B.length,1)];else h["$[]"]("reftext");e(x)?e(e(v=u)?x["$=="]("abstract"):v)?(v=["chapter",1],x=v[0],D=v[1],v):e(e(v=
x["$start_with?"]("sect"))?p(w,"SectionLevelStyleRx")["$match?"](x):v)?x="section":(v=[x,!0],x=v[0],q=v[1],v,D["$=="](0)&&(D=1),r=x["$=="]("appendix")):e(u)?x=D["$=="](0)?"part":e(m(D,1))?"section":"chapter":e(k["$=="]("manpage")?N.$casecmp("synopsis")["$=="](0):k["$=="]("manpage"))?(v=["synopsis",!0],x=v[0],q=v[1],v):x="section";k=p(w,"Section").$new(g,D);v=[Q,N,x,n];k["$id="](v[0]);k["$title="](v[1]);k["$sectname="](v[2]);k["$source_location="](v[3]);v;e(q)?(B=[!0],l(k,"special=",a.to_a(B)),B[b(B.length,
1)],e(r)?(B=[!0],l(k,"numbered=",a.to_a(B)),B[b(B.length,1)]):y.$attributes()["$[]"]("sectnums")["$=="]("all")&&(B=[e(e(v=u)?D["$=="](1):v)?"chapter":!0],l(k,"numbered=",a.to_a(B)),B[b(B.length,1)])):e(e(v=y.$attributes()["$[]"]("sectnums"))?m(D,0):v)?(B=[e(k.$special())?e(v=g.$numbered())?!0:v:!0],l(k,"numbered=",a.to_a(B)),B[b(B.length,1)]):e(e(v=e(P=u)?D["$=="](0):P)?y.$attributes()["$[]"]("partnums"):v)&&(B=[!0],l(k,"numbered=",a.to_a(B)),B[b(B.length,1)]);e(g=e(v=k.$id())?v:(B=[e(y.$attributes()["$key?"]("sectids"))?
t=p(w,"Section").$generate_id(k.$title(),y):c],l(k,"id=",a.to_a(B)),B[b(B.length,1)]))&&(e(t)||e(N["$include?"](p(w,"ATTR_REF_HEAD")))&&k.$title(),e(y.$register("refs",[g,k]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+g,f(["source_location"],{source_location:d.$cursor_at_line(b(d.$lineno(),e(z)?1:2))}))));k.$update_attributes(h);d.$skip_blank_lines();return k},ia.$$arity=-3);a.defs(d,"$is_next_line_section?",O=function(a,b){var d,f,g=c;return e(e(d=
g=b["$[]"](1))?e(f=g["$=="]("discrete"))?f:g["$=="]("float"):d)?c:e(p(w,"Compliance").$underline_style_section_titles())?(a=a.$peek_lines(2,e(d=g)?g["$=="]("comment"):d),this["$is_section_title?"](e(d=a["$[]"](0))?d:"",a["$[]"](1))):this["$atx_section_title?"](e(d=a.$peek_line())?d:"")},O.$$arity=2);a.defs(d,"$is_next_line_doctitle?",K=function(a,b,d){var f,l=c;return e(d)?e(f=l=this["$is_next_line_section?"](a,b))?g(l,d.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,b)["$=="](0)},K.$$arity=
3);a.defs(d,"$is_section_title?",ja=function(a,b){var d;null==b&&(b=c);return e(d=this["$atx_section_title?"](a))?d:e(b["$nil_or_empty?"]())?c:this["$setext_section_title?"](a,b)},ja.$$arity=-2);a.defs(d,"$atx_section_title?",R=function(a){var d;return e(e(p(w,"Compliance").$markdown_syntax())?e(d=a["$start_with?"]("=","#"))?p(w,"ExtAtxSectionTitleRx")["$=~"](a):d:e(d=a["$start_with?"]("="))?p(w,"AtxSectionTitleRx")["$=~"](a):d)?b(((d=u["~"])===c?c:d["$[]"](1)).$length(),1):c},R.$$arity=1);a.defs(d,
"$setext_section_title?",S=function(a,d){var f,g,l,h,m=c,n=c;return e(e(f=e(g=e(l=h=p(w,"SETEXT_SECTION_LEVELS")["$[]"](m=d.$chr()))?this["$uniform?"](d,m,n=d.$length()):l)?p(w,"SetextSectionTitleRx")["$match?"](a):g)?k(b(a.$length(),n).$abs(),2):f)?h:c},S.$$arity=2);a.defs(d,"$parse_section_title",Pa=function(a,d,f){var l,h,m,n,B,q=c,r=c,t=c,y=c,x=c,v=c;null==f&&(f=c);var P=c;var H=a.$read_line();e(e(p(w,"Compliance").$markdown_syntax())?e(l=H["$start_with?"]("=","#"))?p(w,"ExtAtxSectionTitleRx")["$=~"](H):
l:e(l=H["$start_with?"]("="))?p(w,"AtxSectionTitleRx")["$=~"](H):l)?(l=[b(((h=u["~"])===c?c:h["$[]"](1)).$length(),1),(h=u["~"])===c?c:h["$[]"](2),!0],q=l[0],r=l[1],t=l[2],l,!e(f)&&e(e(l=e(h=r["$end_with?"]("]]"))?p(w,"InlineSectionAnchorRx")["$=~"](r):h)?((h=u["~"])===c?c:h["$[]"](1))["$!"]():l)&&(l=[r.$slice(0,b(r.$length(),((h=u["~"])===c?c:h["$[]"](0)).$length())),(h=u["~"])===c?c:h["$[]"](2),(h=u["~"])===c?c:h["$[]"](3)],r=l[0],f=l[1],P=l[2],l)):e(e(l=e(h=e(m=e(n=e(B=p(w,"Compliance").$underline_style_section_titles())?
y=a.$peek_line(!0):B)?q=p(w,"SETEXT_SECTION_LEVELS")["$[]"](x=y.$chr()):n)?this["$uniform?"](y,x,v=y.$length()):m)?r=e(m=p(w,"SetextSectionTitleRx")["$=~"](H))?(n=u["~"])===c?c:n["$[]"](1):m:h)?k(b(H.$length(),v).$abs(),2):l)?(t=!1,!e(f)&&e(e(l=e(h=r["$end_with?"]("]]"))?p(w,"InlineSectionAnchorRx")["$=~"](r):h)?((h=u["~"])===c?c:h["$[]"](1))["$!"]():l)&&(l=[r.$slice(0,b(r.$length(),((h=u["~"])===c?c:h["$[]"](0)).$length())),(h=u["~"])===c?c:h["$[]"](2),(h=u["~"])===c?c:h["$[]"](3)],r=l[0],f=l[1],
P=l[2],l),a.$shift()):this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());e(d["$attr?"]("leveloffset"))&&(q=g(q,d.$attr("leveloffset").$to_i()),e(k(q,0))&&(q=0));return[f,P,r,q,t]},Pa.$$arity=-3);a.defs(d,"$parse_header_metadata",da=function(d,h){var k,m,n,B,q=c,t=c,y=c,x=c,u=c,v=c,P=c,H=c,N=c,D=c,z=H=c,L=c;N=P=u=x=t=c;null==h&&(h=c);q=e(k=h)?h.$attributes():k;this.$process_attribute_entries(d,h);k=[t=f([],{}),c,c];y=k[0];x=k[1];u=k[2];k;e(e(k=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():
k)?(e((v=this.$process_authors(d.$read_line()))["$empty?"]())||(e(h)&&(l(v,"each",[],(m=function(d,f){null==d&&(d=c);null==f&&(f=c);if(e(q["$key?"](d)))return c;d=[d,e(r("::","String")["$==="](f))?h.$apply_header_subs(f):f];l(q,"[]=",a.to_a(d));return d[b(d.length,1)]},m.$$s=this,m.$$arity=2,m)),x=q["$[]"]("author"),u=q["$[]"]("authorinitials"),t=q["$[]"]("authors")),y=v),this.$process_attribute_entries(d,h),P=f([],{}),e(e(k=d["$has_more_lines?"]())?d["$next_line_empty?"]()["$!"]():k)&&(H=d.$read_line(),
e(N=p(w,"RevisionInfoLineRx").$match(H))?(e(N["$[]"](1))&&(D=["revnumber",N["$[]"](1).$rstrip()],l(P,"[]=",a.to_a(D)),D[b(D.length,1)]),e((H=N["$[]"](2).$strip())["$empty?"]())||(D=e(e(k=N["$[]"](1)["$!"]())?H["$start_with?"]("v"):k)?["revnumber",H.$slice(1,H.$length())]:["revdate",H],l(P,"[]=",a.to_a(D)),D[b(D.length,1)]),e(N["$[]"](3))&&(D=["revremark",N["$[]"](3).$rstrip()],l(P,"[]=",a.to_a(D)),D[b(D.length,1)])):d.$unshift_line(H)),e(P["$empty?"]())||(e(h)&&l(P,"each",[],(n=function(d,f){null==
d&&(d=c);null==f&&(f=c);if(e(q["$key?"](d)))return c;D=[d,h.$apply_header_subs(f)];l(q,"[]=",a.to_a(D));return D[b(D.length,1)]},n.$$s=this,n.$$arity=2,n)),y.$update(P)),this.$process_attribute_entries(d,h),d.$skip_blank_lines()):v=f([],{});if(e(h)){if(e(e(k=q["$key?"]("author"))?(z=q["$[]"]("author"))["$!="](x):k))v=this.$process_authors(z,!0,!1),e(q["$[]"]("authorinitials")["$!="](u))&&v.$delete("authorinitials");else if(e(e(k=q["$key?"]("authors"))?(z=q["$[]"]("authors"))["$!="](t):k))v=this.$process_authors(z,
!0);else{k=[[],1,"author_1",!1,!1];L=k[0];t=k[1];x=k[2];u=k[3];P=k[4];for(k;e(q["$key?"](x));)(N=q["$[]"](x))["$=="](v["$[]"](x))?(L["$<<"](c),P=!0):(L["$<<"](N),u=!0),x="author_"+(t=g(t,1));e(u)?(e(P)&&l(L,"each_with_index",[],(B=function(d,f){var h=B.$$s||this,p,k=c;null==d&&(d=c);null==f&&(f=c);if(e(d))return c;D=[f,l([v["$[]"]("firstname_"+(k=g(f,1))),v["$[]"]("middlename_"+k),v["$[]"]("lastname_"+k)].$compact(),"map",[],(p=function(a){null==a&&(a=c);return a.$tr(" ","_")},p.$$s=h,p.$$arity=1,
p)).$join(" ")];l(L,"[]=",a.to_a(D));return D[b(D.length,1)]},B.$$s=this,B.$$arity=2,B)),v=this.$process_authors(L,!0,!1)):v=f([],{})}e(v["$empty?"]())?e(k=y["$[]"]("authorcount"))?k:(D=["authorcount",(D=["authorcount",0],l(q,"[]=",a.to_a(D)),D[b(D.length,1)])],l(y,"[]=",a.to_a(D)),D[b(D.length,1)]):(q.$update(v),e(e(k=q["$key?"]("email")["$!"]())?q["$key?"]("email_1"):k)&&(D=["email",q["$[]"]("email_1")],l(q,"[]=",a.to_a(D)),D[b(D.length,1)]))}return y},da.$$arity=-2);a.defs(d,"$process_authors",
ra=function(d,h,k){var m,n,B=c,q=c,r=c;null==h&&(h=!1);null==k&&(k=!0);B=f([],{});q=0;l(e(e(m=k)?d["$include?"](";"):m)?d.$split(p(w,"AuthorDelimiterRx")):[].concat(a.to_a(d)),"each",[],(n=function(d){var k=n.$$s||this,m,r,t,y,x=c,u=c,v=c,P=c,G=c,H=c,N=c,D=c;null==d&&(d=c);if(e(d["$empty?"]()))return c;x=f([],{});(q=g(q,1))["$=="](1)?l(p(w,"AuthorKeys"),"each",[],(m=function(e){null==e&&(e=c);e=[e.$to_sym(),e];l(x,"[]=",a.to_a(e));return e[b(e.length,1)]},m.$$s=k,m.$$arity=1,m)):l(p(w,"AuthorKeys"),
"each",[],(r=function(e){null==e&&(e=c);e=[e.$to_sym(),""+e+"_"+q];l(x,"[]=",a.to_a(e));return e[b(e.length,1)]},r.$$s=k,r.$$arity=1,r));if(e(h)){if(e(d["$include?"]("<"))&&(u=[x["$[]"]("author"),d.$tr("_"," ")],l(B,"[]=",a.to_a(u)),u[b(u.length,1)],d=d.$gsub(p(w,"XmlSanitizeRx"),"")),(v=d.$split(c,3)).$size()["$=="](3))v["$<<"](v.$pop().$squeeze(" "))}else e(P=p(w,"AuthorInfoLineRx").$match(d))&&(v=P.$to_a()).$shift();e(v)?(G=(u=[x["$[]"]("firstname"),H=v["$[]"](0).$tr("_"," ")],l(B,"[]=",a.to_a(u)),
u[b(u.length,1)]),u=[x["$[]"]("authorinitials"),H.$chr()],l(B,"[]=",a.to_a(u)),u[b(u.length,1)],e(v["$[]"](1))&&(e(v["$[]"](2))?(u=[x["$[]"]("middlename"),N=v["$[]"](1).$tr("_"," ")],l(B,"[]=",a.to_a(u)),u[b(u.length,1)],u=[x["$[]"]("lastname"),D=v["$[]"](2).$tr("_"," ")],l(B,"[]=",a.to_a(u)),u[b(u.length,1)],G=g(g(g(g(H," "),N)," "),D),u=[x["$[]"]("authorinitials"),""+H.$chr()+N.$chr()+D.$chr()]):(u=[x["$[]"]("lastname"),D=v["$[]"](1).$tr("_"," ")],l(B,"[]=",a.to_a(u)),u[b(u.length,1)],G=g(g(H," "),
D),u=[x["$[]"]("authorinitials"),""+H.$chr()+D.$chr()]),l(B,"[]=",a.to_a(u)),u[b(u.length,1)]),e(t=B["$[]"](x["$[]"]("author")))?t:(u=[x["$[]"]("author"),G],l(B,"[]=",a.to_a(u)),u[b(u.length,1)]),e(e(t=h)?t:v["$[]"](3)["$!"]())||(u=[x["$[]"]("email"),v["$[]"](3)],l(B,"[]=",a.to_a(u)),u[b(u.length,1)])):(u=[x["$[]"]("author"),(u=[x["$[]"]("firstname"),H=d.$squeeze(" ").$strip()],l(B,"[]=",a.to_a(u)),u[b(u.length,1)])],l(B,"[]=",a.to_a(u)),u[b(u.length,1)],u=[x["$[]"]("authorinitials"),H.$chr()],l(B,
"[]=",a.to_a(u)),u[b(u.length,1)]);q["$=="](1)?u=["authors",B["$[]"](x["$[]"]("author"))]:(q["$=="](2)&&l(p(w,"AuthorKeys"),"each",[],(y=function(d){null==d&&(d=c);return e(B["$key?"](d))?(u=[""+d+"_1",B["$[]"](d)],l(B,"[]=",a.to_a(u)),u[b(u.length,1)]):c},y.$$s=k,y.$$arity=1,y)),u=["authors",""+B["$[]"]("authors")+", "+B["$[]"](x["$[]"]("author"))]);l(B,"[]=",a.to_a(u));return u[b(u.length,1)]},n.$$s=this,n.$$arity=1,n));r=["authorcount",q];l(B,"[]=",a.to_a(r));r[b(r.length,1)];return B},ra.$$arity=
-2);a.defs(d,"$parse_block_metadata_lines",ea=function(a,b,c,d){var g;null==c&&(c=f([],{}));for(null==d&&(d=f([],{}));e(this.$parse_block_metadata_line(a,b,c,d));)if(a.$shift(),e(g=a.$skip_blank_lines()))g;else break;return c},ea.$$arity=-3);a.defs(d,"$parse_block_metadata_line",ta=function(d,g,h,k){var m,n,B=c,q=c,r=c;null==u["~"]&&(u["~"]=c);null==k&&(k=f([],{}));if(e(e(m=B=d.$peek_line())?e(k["$[]"]("text_only"))?B["$start_with?"]("[","/"):q=B["$start_with?"]("[",".","/",":"):m))if(e(B["$start_with?"]("[")))if(e(B["$start_with?"]("[["))){if(e(e(m=
B["$end_with?"]("]]"))?p(w,"BlockAnchorRx")["$=~"](B):m))return d=["id",(m=u["~"])===c?c:m["$[]"](1)],l(h,"[]=",a.to_a(d)),d[b(d.length,1)],e(d=(m=u["~"])===c?c:m["$[]"](2))&&(d=["reftext",e(d["$include?"](p(w,"ATTR_REF_HEAD")))?g.$sub_attributes(d):d],l(h,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else{if(e(e(m=B["$end_with?"]("]"))?p(w,"BlockAttributeListRx")["$=~"](B):m))return k=h["$[]"](1),e(g.$parse_attributes((m=u["~"])===c?c:m["$[]"](1),[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,
into:h}))["$[]"](1))&&(d=[1,e(m=this.$parse_style_attribute(h,d))?m:k],l(h,"[]=",a.to_a(d)),d[b(d.length,1)]),!0}else if(e(e(m=q)?B["$start_with?"]("."):m)){if(e(p(w,"BlockTitleRx")["$=~"](B)))return d=["title",(m=u["~"])===c?c:m["$[]"](1)],l(h,"[]=",a.to_a(d)),d[b(d.length,1)],!0}else if(e(e(m=q["$!"]())?m:B["$start_with?"]("/"))){if(e(B["$start_with?"]("//"))){if(B["$=="]("//"))return!0;if(e(e(m=q)?this["$uniform?"](B,"/",r=B.$length()):m)){if(r["$=="](3))return c;d.$read_lines_until(f(["terminator",
"skip_first_line","preserve_last_line","skip_processing","context"],{terminator:B,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"}));return!0}return e(B["$start_with?"]("///"))?c:!0}}else if(e(e(m=e(n=q)?B["$start_with?"](":"):n)?p(w,"AttributeEntryRx")["$=~"](B):m))return this.$process_attribute_entry(d,g,h,u["~"]),!0;return c},ta.$$arity=-4);a.defs(d,"$process_attribute_entries",Aa=function(a,b,d){null==d&&(d=c);for(a.$skip_comment_lines();e(this.$process_attribute_entry(a,
b,d));)a.$shift(),a.$skip_comment_lines()},Aa.$$arity=-3);a.defs(d,"$process_attribute_entry",pa=function(a,d,f,g){var l,h,k,m,n=c;null==f&&(f=c);null==g&&(g=c);if(e(e(l=g)?l:g=e(a["$has_more_lines?"]())?p(w,"AttributeEntryRx").$match(a.$peek_line()):c)){if(e((m=g["$[]"](2))["$nil_or_empty?"]()))m="";else if(e(m["$end_with?"](p(w,"LINE_CONTINUATION"),p(w,"LINE_CONTINUATION_LEGACY")))){l=[m.$slice(b(m.$length(),2),2),m.$slice(0,b(m.$length(),2)).$rstrip()];var B=l[0];m=l[1];for(l;e(e(h=a.$advance())?
(n=e(k=a.$peek_line())?k:"")["$empty?"]()["$!"]():h)&&(n=n.$lstrip(),e(l=n["$end_with?"](B))&&(n=n.$slice(0,b(n.$length(),2)).$rstrip()),m=""+m+(e(m["$end_with?"](p(w,"HARD_LINE_BREAK")))?p(w,"LF"):" ")+n,e(l)););}this.$store_attribute(g["$[]"](1),m,d,f);return!0}return c},pa.$$arity=-3);a.defs(d,"$store_attribute",Ma=function(a,d,f,l){var h;null==f&&(f=c);null==l&&(l=c);e(a["$end_with?"]("!"))?(a=a.$chop(),d=c):e(a["$start_with?"]("!"))&&(a=a.$slice(1,a.$length()),d=c);(a=this.$sanitize_attribute_name(a))["$=="]("numbered")?
a="sectnums":a["$=="]("hardbreaks")&&(a="hardbreaks-option");e(f)?e(d)?(a["$=="]("leveloffset")&&(e(d["$start_with?"]("+"))?d=g(f.$attr("leveloffset",0).$to_i(),d.$slice(1,d.$length()).$to_i()).$to_s():e(d["$start_with?"]("-"))&&(d=b(f.$attr("leveloffset",0).$to_i(),d.$slice(1,d.$length()).$to_i()).$to_s())),e(f=f.$set_attribute(a,d))&&(d=f,e(l)&&r(p(w,"Document"),"AttributeEntry").$new(a,d).$save_to(l))):e(e(h=f.$delete_attribute(a))?l:h)&&r(p(w,"Document"),"AttributeEntry").$new(a,d).$save_to(l):
e(l)&&r(p(w,"Document"),"AttributeEntry").$new(a,d).$save_to(l);return[a,d]},Ma.$$arity=-3);a.defs(d,"$resolve_list_marker",Ga=function(a,b,e,d,f){null==e&&(e=0);null==d&&(d=!1);null==f&&(f=c);return a["$=="]("ulist")?b:a["$=="]("olist")?this.$resolve_ordered_list_marker(b,e,d,f)["$[]"](0):"<1>"},Ga.$$arity=-3);a.defs(d,"$resolve_ordered_list_marker",Na=function(a,b,d,h){var k,m,n=c,B=c,q=c,r=c;null==b&&(b=0);null==d&&(d=!1);null==h&&(h=c);if(e(a["$start_with?"](".")))return[a];n=B=l(p(w,"ORDERED_LIST_STYLES"),
"find",[],(k=function(b){null==b&&(b=c);return p(w,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](a)},k.$$s=this,k.$$arity=1,k));"arabic"["$==="](n)?(e(d)&&(q=g(b,1),r=a.$to_i()),a="1."):"loweralpha"["$==="](n)?(e(d)&&(q=g("a"["$[]"](0).$ord(),b).$chr(),r=a.$chop()),a="a."):"upperalpha"["$==="](n)?(e(d)&&(q=g("A"["$[]"](0).$ord(),b).$chr(),r=a.$chop()),a="A."):"lowerroman"["$==="](n)?(e(d)&&(q=p(w,"Helpers").$int_to_roman(g(b,1)).$downcase(),r=a.$chop()),a="i)"):"upperroman"["$==="](n)&&(e(d)&&(q=
p(w,"Helpers").$int_to_roman(g(b,1)),r=a.$chop()),a="I)");e(e(m=d)?q["$!="](r):m)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+q+", got "+r,f(["source_location"],{source_location:h.$cursor()})));return[a,B]},Na.$$arity=-2);a.defs(d,"$is_sibling_list_item?",La=function(a,b,d){var f,g;return e(r("::","Regexp")["$==="](d))?d["$match?"](a):e(f=p(w,"ListRxMap")["$[]"](b)["$=~"](a))?d["$=="](this.$resolve_list_marker(b,(g=u["~"])===c?c:g["$[]"](1))):f},La.$$arity=3);a.defs(d,
"$parse_table",Ia=function(d,f,h){var k,n,B,q=c,t=c,y=c,u=c,x,v=c,H=B=c;f=p(w,"Table").$new(f,h);e(e(k=h["$key?"]("cols"))?(q=this.$parse_colspecs(h["$[]"]("cols")))["$empty?"]()["$!"]():k)&&(f.$create_columns(q),t=!0);var P=e(k=d.$skip_blank_lines())?k:0;q=r(p(w,"Table"),"ParserContext").$new(d,f,h);k=[q.$format(),-1,c];var N=k[0];var D=k[1];var z=k[2];k;e(e(k=e(n=m(P,0))?n:h["$[]"]("header-option"))?k:h["$[]"]("noheader-option"))||(y=!0);for(k=!1;k||e(u=d.$read_line());){k=!1;if(e(e(n=x=m(D=g(D,
1),0))?u["$empty?"]():n))u=c,e(z)&&(z=g(z,1));else if(N["$=="]("psv"))if(e(q["$starts_with_delimiter?"](u)))u=u.$slice(1,u.$length()),q.$close_open_cell(),e(z)&&(z=c);else{var Q=this.$parse_cellspec(u,"start",q.$delimiter());n=a.to_ary(Q);P=null==n[0]?c:n[0];u=null==n[1]?c:n[1];Q;e(P)?(q.$close_open_cell(P),e(z)&&(z=c)):e(e(n=z)?z["$=="](D):n)&&(n=[!1,c],y=n[0],z=n[1],n)}e(x)||(d.$mark(),e(y)&&(e(e(n=d["$has_more_lines?"]())?d.$peek_line()["$empty?"]():n)?z=1:y=!1));for(n=!1;n||e(!0);)if(n=!1,e(e(Q=
u)?v=q.$match_delimiter(u):Q)){Q=[v.$pre_match(),v.$post_match()];x=Q[0];u=Q[1];Q;P=N;if("csv"["$==="](P)){if(e(q["$buffer_has_unclosed_quotes?"](x))){q.$skip_past_delimiter(x);if(e(u["$empty?"]()))break;n=!0;continue}B=[""+q.$buffer()+x]}else if("dsv"["$==="](P)){if(e(x["$end_with?"]("\\"))){q.$skip_past_escaped_delimiter(x);if(e(u["$empty?"]())){B=[""+q.$buffer()+p(w,"LF")];l(q,"buffer=",a.to_a(B));B[b(B.length,1)];q.$keep_cell_open();break}n=!0;continue}B=[""+q.$buffer()+x]}else{if(e(x["$end_with?"]("\\"))){q.$skip_past_escaped_delimiter(x);
if(e(u["$empty?"]())){B=[""+q.$buffer()+p(w,"LF")];l(q,"buffer=",a.to_a(B));B[b(B.length,1)];q.$keep_cell_open();break}n=!0;continue}B=this.$parse_cellspec(x);Q=a.to_ary(B);P=null==Q[0]?c:Q[0];x=null==Q[1]?c:Q[1];B;q.$push_cellspec(P);B=[""+q.$buffer()+x]}l(q,"buffer=",a.to_a(B));B[b(B.length,1)];e(u["$empty?"]())&&(u=c);q.$close_cell()}else{B=[""+q.$buffer()+u+p(w,"LF")];l(q,"buffer=",a.to_a(B));B[b(B.length,1)];P=N;"csv"["$==="](P)?e(q["$buffer_has_unclosed_quotes?"]())?(e(e(Q=z)?D["$=="](0):Q)&&
(Q=[!1,c],y=Q[0],z=Q[1],Q),q.$keep_cell_open()):q.$close_cell(!0):"dsv"["$==="](P)?q.$close_cell(!0):q.$keep_cell_open();break}if(e(q["$cell_open?"]()))e(d["$has_more_lines?"]())||q.$close_cell(!0);else if(e(n=d.$skip_blank_lines()))n;else break}e(e(k=(H=f.$attributes(),e(n=H["$[]"]("colcount"))?n:(B=["colcount",f.$columns().$size()],l(H,"[]=",a.to_a(B)),B[b(B.length,1)]))["$=="](0))?k:t)||f.$assign_column_widths();e(y)&&(B=[!0],l(f,"has_header_option=",a.to_a(B)),B[b(B.length,1)],B=["header-option",
""],l(h,"[]=",a.to_a(B)),B[b(B.length,1)]);f.$partition_header_footer(h);return f},Ia.$$arity=3);a.defs(d,"$parse_colspecs",Oa=function(d){var g,h,k=c;e(d["$include?"](" "))&&(d=d.$delete(" "));if(d["$=="](d.$to_i().$to_s()))return l(r("::","Array"),"new",[d.$to_i()],(g=function(){return f(["width"],{width:1})},g.$$s=this,g.$$arity=0,g));k=[];l(e(d["$include?"](","))?d.$split(",",-1):d.$split(";",-1),"each",[],(h=function(d){var g=h.$$s||this,m,n=c,B=c,q=c,r=c,t=q=c;null==d&&(d=c);if(e(d["$empty?"]()))return k["$<<"](f(["width"],
{width:1}));if(e(n=p(w,"ColumnSpecRx").$match(d))){B=f([],{});if(e(n["$[]"](2))){d=n["$[]"](2).$split(".");var u=a.to_ary(d);q=null==u[0]?c:u[0];r=null==u[1]?c:u[1];d;e(e(u=q["$nil_or_empty?"]()["$!"]())?p(w,"TableCellHorzAlignments")["$key?"](q):u)&&(q=["halign",p(w,"TableCellHorzAlignments")["$[]"](q)],l(B,"[]=",a.to_a(q)),q[b(q.length,1)]);e(e(u=r["$nil_or_empty?"]()["$!"]())?p(w,"TableCellVertAlignments")["$key?"](r):u)&&(q=["valign",p(w,"TableCellVertAlignments")["$[]"](r)],l(B,"[]=",a.to_a(q)),
q[b(q.length,1)])}q=e(t=n["$[]"](3))?["width",t["$=="]("~")?-1:t.$to_i()]:["width",1];l(B,"[]=",a.to_a(q));q[b(q.length,1)];e(e(u=n["$[]"](4))?p(w,"TableCellStyles")["$key?"](n["$[]"](4)):u)&&(q=["style",p(w,"TableCellStyles")["$[]"](n["$[]"](4))],l(B,"[]=",a.to_a(q)),q[b(q.length,1)]);return e(n["$[]"](1))?l(1,"upto",[n["$[]"](1).$to_i()],(m=function(){return k["$<<"](B.$merge())},m.$$s=g,m.$$arity=0,m)):k["$<<"](B)}return c},h.$$s=this,h.$$arity=1,h));return k},Oa.$$arity=1);a.defs(d,"$parse_cellspec",
Ja=function(d,g,h){null==g&&(g="end");null==h&&(h=c);var k=[c,""];k;if(g["$=="]("start"))if(e(d["$include?"](h))){h=d.$partition(h);k=a.to_ary(h);var n=null==k[0]?c:k[0];g=null==k[2]?c:k[2];h;if(e(n=p(w,"CellSpecStartRx").$match(n))){if(e(n["$[]"](0)["$empty?"]()))return[f([],{}),g]}else return[c,d]}else return[c,d];else if(e(n=p(w,"CellSpecEndRx").$match(d))){if(e(n["$[]"](0).$lstrip()["$empty?"]()))return[f([],{}),d.$rstrip()];g=n.$pre_match()}else return[f([],{}),d];d=f([],{});if(e(n["$[]"](1))){h=
n["$[]"](1).$split(".");k=a.to_ary(h);var m=null==k[0]?c:k[0];var B=null==k[1]?c:k[1];h;m=e(m["$nil_or_empty?"]())?1:m.$to_i();B=e(B["$nil_or_empty?"]())?1:B.$to_i();n["$[]"](2)["$=="]("+")?(m["$=="](1)||(h=["colspan",m],l(d,"[]=",a.to_a(h)),h[b(h.length,1)]),B["$=="](1)||(h=["rowspan",B],l(d,"[]=",a.to_a(h)),h[b(h.length,1)])):n["$[]"](2)["$=="]("*")&&!m["$=="](1)&&(h=["repeatcol",m],l(d,"[]=",a.to_a(h)),h[b(h.length,1)])}e(n["$[]"](3))&&(h=n["$[]"](3).$split("."),k=a.to_ary(h),m=null==k[0]?c:k[0],
B=null==k[1]?c:k[1],h,e(e(k=m["$nil_or_empty?"]()["$!"]())?p(w,"TableCellHorzAlignments")["$key?"](m):k)&&(h=["halign",p(w,"TableCellHorzAlignments")["$[]"](m)],l(d,"[]=",a.to_a(h)),h[b(h.length,1)]),e(e(k=B["$nil_or_empty?"]()["$!"]())?p(w,"TableCellVertAlignments")["$key?"](B):k)&&(h=["valign",p(w,"TableCellVertAlignments")["$[]"](B)],l(d,"[]=",a.to_a(h)),h[b(h.length,1)]));e(e(k=n["$[]"](4))?p(w,"TableCellStyles")["$key?"](n["$[]"](4)):k)&&(h=["style",p(w,"TableCellStyles")["$[]"](n["$[]"](4))],
l(d,"[]=",a.to_a(h)),h[b(h.length,1)]);return[d,g]},Ja.$$arity=-2);a.defs(d,"$parse_style_attribute",Qa=function(d,h){var k,n,m,B,q=c,r=c,t=c,u=c,y=c,x=c,v=c;null==h&&(h=c);if(e(e(k=e(n=q=d["$[]"](1))?q["$include?"](" ")["$!"]():n)?p(w,"Compliance").$shorthand_property_syntax():k)){r=c;t="";u=f([],{});l(q,"each_char",[],(m=function(a){var b=m.$$s||this,e=c;null==a&&(a=c);return function(){e=a;return"."["$==="](e)?(b.$yield_buffered_attribute(u,r,t,h),t="",r="role"):"#"["$==="](e)?(b.$yield_buffered_attribute(u,
r,t,h),t="",r="id"):"%"["$==="](e)?(b.$yield_buffered_attribute(u,r,t,h),t="",r="option"):t=g(t,a)}()},m.$$s=this,m.$$arity=1,m));if(e(r))return this.$yield_buffered_attribute(u,r,t,h),e(y=u["$[]"]("style"))&&(x=["style",y],l(d,"[]=",a.to_a(x)),x[b(x.length,1)]),e(u["$key?"]("id"))&&(x=["id",u["$[]"]("id")],l(d,"[]=",a.to_a(x)),x[b(x.length,1)]),e(u["$key?"]("role"))&&(x=["role",e((v=d["$[]"]("role"))["$nil_or_empty?"]())?u["$[]"]("role").$join(" "):""+v+" "+u["$[]"]("role").$join(" ")],l(d,"[]=",
a.to_a(x)),x[b(x.length,1)]),e(u["$key?"]("option"))&&l(u["$[]"]("option"),"each",[],(B=function(e){null==e&&(e=c);x=[""+e+"-option",""];l(d,"[]=",a.to_a(x));return x[b(x.length,1)]},B.$$s=this,B.$$arity=1,B)),y;x=["style",q];l(d,"[]=",a.to_a(x));return x[b(x.length,1)]}x=["style",q];l(d,"[]=",a.to_a(x));return x[b(x.length,1)]},Qa.$$arity=-2);a.defs(d,"$yield_buffered_attribute",Xa=function(d,g,h,k){var p,n=c;if(e(g))if(e(h["$empty?"]()))e(k)?this.$logger().$warn(this.$message_with_context("invalid empty "+
g+" detected in style attribute",f(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("invalid empty "+g+" detected in style attribute");else if(g["$=="]("id"))e(d["$key?"]("id"))&&(e(k)?this.$logger().$warn(this.$message_with_context("multiple ids detected in style attribute",f(["source_location"],{source_location:k.$cursor_at_prev_line()}))):this.$logger().$warn("multiple ids detected in style attribute")),n=[g,h],l(d,"[]=",a.to_a(n)),n[b(n.length,1)];else(e(p=
d["$[]"](g))?p:(n=[g,[]],l(d,"[]=",a.to_a(n)),n[b(n.length,1)]))["$<<"](h);else e(h["$empty?"]())||(n=["style",h],l(d,"[]=",a.to_a(n)),n[b(n.length,1)]);return c},Xa.$$arity=4);a.defs(d,"$adjust_indentation!",Wa=function(d,f,h){var B,q,r,t,u,y,x,v=this,H=c,N=c,D=c;null==f&&(f=0);null==h&&(h=0);if(e(d["$empty?"]()))return c;e(e(B=m(h,0))?l(d,"any?",[],(q=function(a){null==a&&(a=c);return a["$include?"](p(w,"TAB"))},q.$$s=v,q.$$arity=1,q)):B)&&(H=n(" ",h),function(){var f=a.new_brk();try{return l(d,
"map!",[],(r=function(d){var f=r.$$s||this,k,m,B=c,q=c,t=c,u=c,y=c;null==d&&(d=c);if(e(d["$empty?"]()))return d;if(e(B=d.$index(p(w,"TAB")))){if(B["$=="](0)&&(q=0,function(){var b=a.new_brk();try{return l(d,"each_byte",[],(k=function(e){null==e&&(e=c);e["$=="](9)||a.brk(c,b);return q=g(q,1)},k.$$s=f,k.$$brk=b,k.$$arity=1,k))}catch(jb){if(jb===b)return jb.$v;throw jb;}}(),d=""+n(H,q)+d.$slice(q,d.$length()),!e(d["$include?"](p(w,"TAB")))))return d;u=t=0;y="";l(d,"each_char",[],(m=function(a){var e;
null==a&&(a=c);a["$=="](p(w,"TAB"))?(a=g(u,t))["$%"](h)["$=="](0)?(t=g(t,b(h,1)),y=g(y,H)):((e=b(h,a["$%"](h)))["$=="](1)||(t=g(t,b(e,1))),y=g(y,n(" ",e))):y=g(y,a);return u=g(u,1)},m.$$s=f,m.$$arity=1,m));return y}return d},r.$$s=v,r.$$brk=f,r.$$arity=1,r))}catch($a){if($a===f)return $a.$v;throw $a;}}());if(e(k(f,0)))return c;N=c;(function(){var f=a.new_brk();try{return l(d,"each",[],(t=function(d){var g;null==d&&(d=c);if(e(d["$empty?"]()))return c;(d=b(d.$length(),d.$lstrip().$length()))["$=="](0)&&
(N=c,a.brk(c,f));return e(e(g=N)?k(N,d):g)?c:N=d},t.$$s=v,t.$$brk=f,t.$$arity=1,t))}catch($a){if($a===f)return $a.$v;throw $a;}})();f["$=="](0)?e(N)&&l(d,"map!",[],(u=function(a){null==a&&(a=c);return e(a["$empty?"]())?a:a.$slice(N,a.$length())},u.$$s=v,u.$$arity=1,u)):(D=n(" ",f),e(N)?l(d,"map!",[],(y=function(a){null==a&&(a=c);return e(a["$empty?"]())?a:g(D,a.$slice(N,a.$length()))},y.$$s=v,y.$$arity=1,y)):l(d,"map!",[],(x=function(a){null==a&&(a=c);return e(a["$empty?"]())?a:g(D,a)},x.$$s=v,x.$$arity=
1,x)));return c},Wa.$$arity=-2);a.defs(d,"$uniform?",Ua=function(a,b,c){return a.$count(b)["$=="](c)},Ua.$$arity=3);return(a.defs(d,"$sanitize_attribute_name",B=function(a){return a.$gsub(p(w,"InvalidAttributeNameCharsRx"),"").$downcase()},B.$$arity=1),c)&&"sanitize_attribute_name"})(d[0],null,d)}(h[0],h)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,m=a.const_get_qualified,n=a.const_get_relative,
h=a.module,c=a.klass,q=a.truthy,p=a.hash2,r=a.send,t=a.gvars;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $to_s $relative_path_from $new $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $join $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $extract_uri_prefix $end_with? $gsub $private $=~".split(" "));return function(d,
e){d=[h(d,"Asciidoctor")].concat(e);(function(e,$super,d){e=c(e,$super,"PathResolver");var f=[e].concat(d),g,h,l,w,u,y,x,v,D,z,L,C,A,E;e.$$prototype.file_separator=e.$$prototype._partition_path_web=e.$$prototype._partition_path_sys=e.$$prototype.working_dir=k;e.$include(n(f,"Logging"));a.const_set(f[0],"DOT",".");a.const_set(f[0],"DOT_DOT","..");a.const_set(f[0],"DOT_SLASH","./");a.const_set(f[0],"SLASH","/");a.const_set(f[0],"BACKSLASH","\\");a.const_set(f[0],"DOUBLE_SLASH","//");a.const_set(f[0],
"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/);e.$attr_accessor("file_separator");e.$attr_accessor("working_dir");a.def(e,"$initialize",g=function(a,b){var c,e;null==a&&(a=k);null==b&&(b=k);this.file_separator=q(c=q(e=a)?e:m(m("::","File"),"ALT_SEPARATOR"))?c:m(m("::","File"),"SEPARATOR");this.working_dir=q(b)?q(this["$root?"](b))?this.$posixify(b):m("::","File").$expand_path(b):m("::","Dir").$pwd();this._partition_path_sys=p([],{});return this._partition_path_web=p([],{})},g.$$arity=-1);a.def(e,"$absolute_path?",
h=function(a){var b;return q(b=a["$start_with?"](n(f,"SLASH")))?b:this.file_separator["$=="](n(f,"BACKSLASH"))?n(f,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](n(f,"BACKSLASH"))},h.$$arity=1);q(n(f,"RUBY_ENGINE")["$=="]("opal")?m("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):n(f,"RUBY_ENGINE")["$=="]("opal"))?a.def(e,"$root?",l=function(a){var b;return q(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},l.$$arity=1):a.alias(e,"root?","absolute_path?");
a.def(e,"$unc?",w=function(a){return a["$start_with?"](n(f,"DOUBLE_SLASH"))},w.$$arity=1);a.def(e,"$web_root?",u=function(a){return a["$start_with?"](n(f,"SLASH"))},u.$$arity=1);a.def(e,"$descends_from?",y=function(a,c){var e;return c["$=="](a)?0:c["$=="](n(f,"SLASH"))?q(e=a["$start_with?"](n(f,"SLASH")))?1:e:q(e=a["$start_with?"](b(c,n(f,"SLASH"))))?b(c.$length(),1):e},y.$$arity=2);a.def(e,"$relative_path",x=function(b,c){var e;if(q(this["$root?"](b))){if(q(e=this["$descends_from?"](b,c)))return b.$slice(e,
b.$length());try{return n(f,"Pathname").$new(b).$relative_path_from(n(f,"Pathname").$new(c)).$to_s()}catch(ma){if(a.rescue(ma,[n(f,"StandardError")]))try{return b}finally{a.pop_exception()}else throw ma;}}else return b},x.$$arity=2);a.def(e,"$posixify",v=function(a){return q(a)?q(this.file_separator["$=="](n(f,"BACKSLASH"))?a["$include?"](n(f,"BACKSLASH")):this.file_separator["$=="](n(f,"BACKSLASH")))?a.$tr(n(f,"BACKSLASH"),n(f,"SLASH")):a:""},v.$$arity=1);a.alias(e,"posixfy","posixify");a.def(e,
"$expand_path",D=function(b){var c,e,d=k,g=c=k;var h=this.$partition_path(b);c=a.to_ary(h);d=null==c[0]?k:c[0];c=null==c[1]?k:c[1];h;return q(b["$include?"](n(f,"DOT_DOT")))?(g=[],r(d,"each",[],(e=function(a){null==a&&(a=k);return a["$=="](n(f,"DOT_DOT"))?g.$pop():g["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(g,c)):this.$join_path(d,c)},D.$$arity=1);a.def(e,"$partition_path",z=function(c,e){var d,g,h=k;null==e&&(e=k);if(q(d=(g=q(e)?this._partition_path_web:this._partition_path_sys)["$[]"](c)))return d;
d=this.$posixify(c);q(e)?q(this["$web_root?"](d))?h=n(f,"SLASH"):q(d["$start_with?"](n(f,"DOT_SLASH")))&&(h=n(f,"DOT_SLASH")):q(this["$root?"](d))?h=q(this["$unc?"](d))?n(f,"DOUBLE_SLASH"):q(d["$start_with?"](n(f,"SLASH")))?n(f,"SLASH"):d.$slice(0,b(d.$index(n(f,"SLASH")),1)):q(d["$start_with?"](n(f,"DOT_SLASH")))&&(h=n(f,"DOT_SLASH"));e=(q(h)?d.$slice(h.$length(),d.$length()):d).$split(n(f,"SLASH"));e.$delete(n(f,"DOT"));c=[c,[e,h]];r(g,"[]=",a.to_a(c));g=c.length;g="number"===typeof g?g-1:g["$-"](1);
return c[g]},z.$$arity=-2);a.def(e,"$join_path",L=function(a,b){null==b&&(b=k);return q(b)?""+b+a.$join(n(f,"SLASH")):a.$join(n(f,"SLASH"))},L.$$arity=-2);a.def(e,"$system_path",C=function(c,e,d,g){var h,l,w,t=k,u=k,y=k,x=k,v=t=k,M=k,H=k,N=v=k;null==e&&(e=k);null==d&&(d=k);null==g&&(g=p([],{}));q(d)&&(q(this["$root?"](d))||this.$raise(m("::","SecurityError"),"Jail is not an absolute path: "+d),d=this.$posixify(d));if(q(c)){if(q(this["$root?"](c))){t=this.$expand_path(c);if(q(q(h=d)?this["$descends_from?"](t,
d)["$!"]():h)){if(q(g.$fetch("recover",!0))){this.$logger().$warn(""+(q(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically");var D=this.$partition_path(t);h=a.to_ary(D);u=null==h[0]?k:h[0];D;D=this.$partition_path(d);h=a.to_ary(D);y=null==h[0]?k:h[0];x=null==h[1]?k:h[1];D;return this.$join_path(b(y,u),x)}this.$raise(m("::","SecurityError"),""+(q(h=g["$[]"]("target_name"))?h:"path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)")}return t}D=this.$partition_path(c);
h=a.to_ary(D);u=null==h[0]?k:h[0];D}else u=[];if(q(u["$empty?"]())){if(q(e["$nil_or_empty?"]()))return q(h=d)?h:this.working_dir;if(q(this["$root?"](e)))if(q(d))e=this.$posixify(e);else return this.$expand_path(e);else D=this.$partition_path(e),h=a.to_ary(D),u=null==h[0]?k:h[0],D,e=q(h=d)?h:this.working_dir}else q(e["$nil_or_empty?"]())?e=q(h=d)?h:this.working_dir:q(this["$root?"](e))?q(d)&&(e=this.$posixify(e)):e=""+(q(h=d)?h:this.working_dir).$chomp("/")+"/"+e;q(q(h=q(D=d)?t=this["$descends_from?"](e,
d)["$!"]():D)?this.file_separator["$=="](n(f,"BACKSLASH")):h)?(D=this.$partition_path(e),h=a.to_ary(D),v=null==h[0]?k:h[0],M=null==h[1]?k:h[1],D,D=this.$partition_path(d),h=a.to_ary(D),y=null==h[0]?k:h[0],x=null==h[1]?k:h[1],D,q(M["$!="](x))&&(q(g.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(q(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail root; recovering automatically"),v=y,t=!1):this.$raise(m("::","SecurityError"),"start path for "+(q(h=g["$[]"]("target_name"))?h:"path")+
" "+e+" refers to location outside jail root: "+d+" (disallowed in safe mode)"))):(D=this.$partition_path(e),h=a.to_ary(D),v=null==h[0]?k:h[0],x=null==h[1]?k:h[1],D);q((H=b(v,u))["$include?"](n(f,"DOT_DOT")))&&(h=[H,[]],v=h[0],H=h[1],h,q(d)?(q(y)||(D=this.$partition_path(d),h=a.to_ary(D),y=null==h[0]?k:h[0],D),N=!1,r(v,"each",[],(l=function(a){var b=l.$$s||this,e;null==a&&(a=k);if(a["$=="](n(f,"DOT_DOT"))){a=H.$size();var h=y.$size();a="number"===typeof a&&"number"===typeof h?a>h:a["$>"](h);if(q(a))return H.$pop();
if(q(g.$fetch("recover",!0))){if(q(N))return k;b.$logger().$warn(""+(q(e=g["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically");return N=!0}return b.$raise(m("::","SecurityError"),""+(q(e=g["$[]"]("target_name"))?e:"path")+" "+c+" refers to location outside jail: "+d+" (disallowed in safe mode)")}return H["$<<"](a)},l.$$s=this,l.$$arity=1,l))):r(v,"each",[],(w=function(a){null==a&&(a=k);return a["$=="](n(f,"DOT_DOT"))?H.$pop():H["$<<"](a)},w.$$s=
this,w.$$arity=1,w)));return q(t)?(t=this.$join_path(H,x),q(this["$descends_from?"](t,d))?t:q(g.$fetch("recover",!0))?(this.$logger().$warn(""+(q(h=g["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),q(y)||(D=this.$partition_path(d),h=a.to_ary(D),y=null==h[0]?k:h[0],D),this.$join_path(b(y,u),x)):this.$raise(m("::","SecurityError"),""+(q(h=g["$[]"]("target_name"))?h:"path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)")):this.$join_path(H,x)},C.$$arity=
-2);a.def(e,"$web_path",A=function(b,c){var e,d,g=k,h=k,l=k,p=k,m=k;null==c&&(c=k);b=this.$posixify(b);c=this.$posixify(c);q(q(e=c["$nil_or_empty?"]())?e:this["$web_root?"](b))||(c=this.$extract_uri_prefix(""+c+(q(c["$end_with?"](n(f,"SLASH")))?"":n(f,"SLASH"))+b),e=a.to_ary(c),b=null==e[0]?k:e[0],g=null==e[1]?k:e[1],c);c=this.$partition_path(b,!0);e=a.to_ary(c);h=null==e[0]?k:e[0];l=null==e[1]?k:e[1];c;p=[];r(h,"each",[],(d=function(a){var b;null==a&&(a=k);return a["$=="](n(f,"DOT_DOT"))?q(p["$empty?"]())?
q(q(b=l)?l["$!="](n(f,"DOT_SLASH")):b)?k:p["$<<"](a):p["$[]"](-1)["$=="](n(f,"DOT_DOT"))?p["$<<"](a):p.$pop():p["$<<"](a)},d.$$s=this,d.$$arity=1,d));q((m=this.$join_path(p,l))["$include?"](" "))&&(m=m.$gsub(" ","%20"));return q(g)?""+g+m:m},A.$$arity=-2);e.$private();return(a.def(e,"$extract_uri_prefix",E=function(a){var b;return q(q(b=a["$include?"](":"))?n(f,"UriSniffRx")["$=~"](a):b)?[a.$slice(((b=t["~"])===k?k:b["$[]"](0)).$length(),a.$length()),(b=t["~"])===k?k:b["$[]"](0)]:a},E.$$arity=1),
k)&&"extract_uri_prefix"})(d[0],null,d)}(g[0],g)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var n=[],h=a.nil,c=a.const_get_qualified,q=a.const_get_relative,p=a.module,r=a.klass,t=a.hash2,
l=a.truthy,e=a.send,f=a.gvars,u=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $prepare_lines $drop $empty? $nil_or_empty? $peek_line $> $slice $[] $length $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $join $read_lines $unshift $start_with? $== $* $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $new $tap $each $instance_variables $instance_variable_get $instance_variable_set $class $object_id $inspect $private $prepare_source_array $prepare_source_string $valid_encoding? $to_s $raise $to_i $attributes $catalog $pop_include $parse $path= $dup $end_with? $keys $rindex $rootname $key? $attr $>= $nil? $extensions? $include_processors? $extensions $include_processors $map $skip_front_matter! $pop $adjust_indentation! $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $downcase $error $none? $any? $all? $strip $send $resolve_expr_val $replace_next_line $rstrip $sub_attributes $attribute_missing $info $parse_attributes $find $handles? $instance $process_method $safe $resolve_include_path $method $split_delimited_value $partition $< $/ $to_a $uniq $sort $call $each_line $infinite? $push_include $delete $value? $create_include_cursor $delete_at $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_f".split(" "));
return function(d,n){d=[p(d,"Asciidoctor")].concat(n);(function(d,$super,f){d=r(d,$super,"Reader");var p=[d].concat(f),m,n,u,x,y,v,D,N,z,L,C,A,E,F,I,T,J,Y,V,K,ka,ia,X,O,Z,R,ja,S,da,ra,ea,ta,Aa,pa,Ma,Ga,Na;d.$$prototype.file=d.$$prototype.lines=d.$$prototype.look_ahead=d.$$prototype.unescape_next_line=d.$$prototype.lineno=d.$$prototype.process_lines=d.$$prototype.dir=d.$$prototype.path=d.$$prototype.mark=d.$$prototype.source_lines=d.$$prototype.saved=h;d.$include(q(p,"Logging"));(function(c,$super,
e){c=r(c,$super,"Cursor");[c].concat(e);var d,f,g;c.$$prototype.lineno=c.$$prototype.path=h;c.$attr_reader("file","dir","path","lineno");a.def(c,"$initialize",d=function(a,b,c,e){var d;null==b&&(b=h);null==c&&(c=h);null==e&&(e=1);return d=[a,b,c,e],this.file=d[0],this.dir=d[1],this.path=d[2],this.lineno=d[3],d},d.$$arity=-2);a.def(c,"$advance",f=function(a){return this.lineno=b(this.lineno,a)},f.$$arity=1);a.def(c,"$line_info",g=function(){return""+this.path+": line "+this.lineno},g.$$arity=0);return a.alias(c,
"to_s","line_info")})(p[0],null,p);d.$attr_reader("file");d.$attr_reader("dir");d.$attr_reader("path");d.$attr_reader("lineno");d.$attr_reader("source_lines");d.$attr_accessor("process_lines");d.$attr_accessor("unterminated");a.def(d,"$initialize",m=function(b,e,d){null==b&&(b=h);null==e&&(e=h);null==d&&(d=t([],{}));if(l(e["$!"]()))this.file=h,this.dir=".",this.path="<stdin>",this.lineno=1;else if(l(c("::","String")["$==="](e))){this.file=e;e=c("::","File").$split(this.file);var f=a.to_ary(e);this.dir=
null==f[0]?h:f[0];this.path=null==f[1]?h:f[1];e;this.lineno=1}else l(this.file=e.$file())?(this.dir=l(f=e.$dir())?f:c("::","File").$dirname(this.file),this.path=l(f=e.$path())?f:c("::","File").$basename(this.file)):(this.dir=l(f=e.$dir())?f:".",this.path=l(f=e.$path())?f:"<stdin>"),this.lineno=l(f=e.$lineno())?f:1;this.lines=this.$prepare_lines(b,d);this.source_lines=this.lines.$drop(0);this.mark=h;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.saved=this.unterminated=
h},m.$$arity=-1);a.def(d,"$has_more_lines?",n=function(){return l(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},n.$$arity=0);a.def(d,"$empty?",u=function(){return l(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},u.$$arity=0);a.alias(d,"eof?","empty?");a.def(d,"$next_line_empty?",x=function(){return this.$peek_line()["$nil_or_empty?"]()},x.$$arity=0);a.def(d,"$peek_line",y=function(a){var b,c=h;null==a&&(a=!1);return l(l(b=a)?b:g(this.look_ahead,0))?l(this.unescape_next_line)?(c=this.lines["$[]"](0)).$slice(1,
c.$length()):this.lines["$[]"](0):l(this.lines["$empty?"]())?(this.look_ahead=0,h):l(c=this.$process_line(this.lines["$[]"](0)))?c:this.$peek_line()},y.$$arity=-1);a.def(d,"$peek_lines",v=function(b,c){var d,f,g=this,m=h,n=h;null==b&&(b=h);null==c&&(c=!1);m=g.look_ahead;n=[];(function(){var m=a.new_brk();try{return e(l(d=b)?d:q(p,"MAX_INT"),"times",[],(f=function(){var b=f.$$s||this,e;null==b.lineno&&(b.lineno=h);if(l(e=l(c)?b.$shift():b.$read_line()))return n["$<<"](e);l(c)&&(b.lineno=k(b.lineno,
1));a.brk(h,m)},f.$$s=g,f.$$brk=m,f.$$arity=0,f))}catch(B){if(B===m)return B.$v;throw B;}})();l(n["$empty?"]())||(g.$unshift_all(n),l(c)&&(g.look_ahead=m));return n},v.$$arity=-1);a.def(d,"$read_line",D=function(){var a;return l(l(a=g(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():h},D.$$arity=0);a.def(d,"$read_lines",N=function(){var a;for(a=[];l(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},N.$$arity=0);a.alias(d,"readlines","read_lines");a.def(d,"$read",z=function(){return this.$read_lines().$join(q(p,
"LF"))},z.$$arity=0);a.def(d,"$advance",L=function(){return l(this.$shift())?!0:!1},L.$$arity=0);a.def(d,"$unshift_line",C=function(a){this.$unshift(a);return h},C.$$arity=1);a.alias(d,"restore_line","unshift_line");a.def(d,"$unshift_lines",A=function(a){this.$unshift_all(a);return h},A.$$arity=1);a.alias(d,"restore_lines","unshift_lines");a.def(d,"$replace_next_line",E=function(a){this.$shift();this.$unshift(a);return!0},E.$$arity=1);a.alias(d,"replace_line","replace_next_line");a.def(d,"$skip_blank_lines",
F=function(){var a,c;if(l(this["$empty?"]()))return h;for(a=0;l(c=this.$peek_line());)if(l(c["$empty?"]()))this.$shift(),a=b(a,1);else return a},F.$$arity=0);a.def(d,"$skip_comment_lines",I=function(){var a,b=h,c=h;if(l(this["$empty?"]()))return h;for(;l(l(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(l(b["$start_with?"]("//")))if(l(b["$start_with?"]("///")))if(l(l(a=g(c=b.$length(),3))?b["$=="]("/"["$*"](c)):a))this.$read_lines_until(t(["terminator","skip_first_line","read_last_line","skip_processing",
"context"],{terminator:b,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();else break;return h},I.$$arity=0);a.def(d,"$skip_line_comments",T=function(){var a,b,c=h;if(l(this["$empty?"]()))return[];for(b=[];l(l(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(l(c["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},T.$$arity=0);a.def(d,"$terminate",J=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();
this.look_ahead=0;return h},J.$$arity=0);a.def(d,"$read_lines_until",Y=function(b){var c,d,f,g,m=Y.$$p,n=m||h,r=h,B=h,w=h,u=h,x=h,y=h,v=h,H=h,D=h,N=h,z=h,L=h,C=h;m&&(Y.$$p=null);null==b&&(b=t([],{}));r=[];l(l(c=this.process_lines)?b["$[]"]("skip_processing"):c)&&(this.process_lines=!1,B=!0);l(w=b["$[]"]("terminator"))?(u=l(c=b["$[]"]("cursor"))?c:this.$cursor(),y=x=!1):(x=b["$[]"]("break_on_blank_lines"),y=b["$[]"]("break_on_list_continuation"));v=b["$[]"]("skip_line_comments");H=D=N=h;for(l(b["$[]"]("skip_first_line"))&&
this.$shift();l(l(d=H["$!"]())?z=this.$read_line():d);)H=function(){for(;l(!0);)return l(l(f=w)?z["$=="](w):f)||l(l(f=x)?z["$empty?"]():f)?!0:l(l(f=l(g=y)?D:g)?z["$=="](q(p,"LIST_CONTINUATION")):f)?(L=["preserve_last_line",!0],e(b,"[]=",a.to_a(L)),L[k(L.length,1)],!0):l((f=n!==h)?a.yield1(n,z):n!==h)?!0:!1;return h}(),l(H)?(l(b["$[]"]("read_last_line"))&&(r["$<<"](z),D=!0),l(b["$[]"]("preserve_last_line"))&&(this.$unshift(z),N=!0)):l(l(d=l(f=v)?z["$start_with?"]("//"):f)?z["$start_with?"]("///")["$!"]():
d)||(r["$<<"](z),D=!0);l(B)&&(this.process_lines=!0,l(l(c=N)?w["$!"]():c)&&(this.look_ahead=k(this.look_ahead,1)));l(l(c=l(d=w)?w["$!="](z):d)?C=b.$fetch("context",w):c)&&(u["$=="]("at_mark")&&(u=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+C+" block",t(["source_location"],{source_location:u}))),this.unterminated=!0);return r},Y.$$arity=-1);a.def(d,"$shift",V=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=k(this.look_ahead,
1));return this.lines.$shift()},V.$$arity=0);a.def(d,"$unshift",K=function(a){this.lineno=k(this.lineno,1);this.look_ahead=b(this.look_ahead,1);return this.lines.$unshift(a)},K.$$arity=1);a.def(d,"$unshift_all",ka=function(c){this.lineno=k(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());return e(this.lines,"unshift",a.to_a(c))},ka.$$arity=1);a.def(d,"$cursor",ia=function(){return q(p,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},ia.$$arity=0);a.def(d,"$cursor_at_line",
X=function(a){return q(p,"Cursor").$new(this.file,this.dir,this.path,a)},X.$$arity=1);a.def(d,"$cursor_at_mark",O=function(){return l(this.mark)?e(q(p,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},O.$$arity=0);a.def(d,"$cursor_before_mark",Z=function(){if(l(this.mark)){var b=this.mark;var c=a.to_ary(b);var e=null==c[0]?h:c[0];var d=null==c[1]?h:c[1];var f=null==c[2]?h:c[2];c=null==c[3]?h:c[3];b;return q(p,"Cursor").$new(e,d,f,k(c,1))}return q(p,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,
1))},Z.$$arity=0);a.def(d,"$cursor_at_prev_line",R=function(){return q(p,"Cursor").$new(this.file,this.dir,this.path,k(this.lineno,1))},R.$$arity=0);a.def(d,"$mark",ja=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},ja.$$arity=0);a.def(d,"$line_info",S=function(){return""+this.path+": line "+this.lineno},S.$$arity=0);a.def(d,"$lines",da=function(){return this.lines.$drop(0)},da.$$arity=0);a.def(d,"$string",ra=function(){return this.lines.$join(q(p,"LF"))},ra.$$arity=0);a.def(d,
"$source",ea=function(){return this.source_lines.$join(q(p,"LF"))},ea.$$arity=0);a.def(d,"$save",ta=function(){var b;this.saved=e(t([],{}),"tap",[],(b=function(d){var f=b.$$s||this,g;null==d&&(d=h);return e(f.$instance_variables(),"each",[],(g=function(b){var f=g.$$s||this,p,m=h;null==b&&(b=h);if(l(l(p=b["$=="]("@saved"))?p:b["$=="]("@source_lines")))return h;b=[b,l(c("::","Array")["$==="](m=f.$instance_variable_get(b)))?m.$drop(0):m];e(d,"[]=",a.to_a(b));return b[k(b.length,1)]},g.$$s=f,g.$$arity=
1,g))},b.$$s=this,b.$$arity=1,b));return h},ta.$$arity=0);a.def(d,"$restore_save",Aa=function(){var a;return l(this.saved)?(e(this.saved,"each",[],(a=function(b,c){var e=a.$$s||this;null==b&&(b=h);null==c&&(c=h);return e.$instance_variable_set(b,c)},a.$$s=this,a.$$arity=2,a)),this.saved=h):h},Aa.$$arity=0);a.def(d,"$discard_save",pa=function(){return this.saved=h},pa.$$arity=0);a.def(d,"$to_s",Ma=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+
this.lineno+"}>"},Ma.$$arity=0);d.$private();a.def(d,"$prepare_lines",Ga=function(b,e){null==e&&(e=t([],{}));try{return l(e["$[]"]("normalize"))?l(c("::","Array")["$==="](b))?q(p,"Helpers").$prepare_source_array(b):q(p,"Helpers").$prepare_source_string(b):l(c("::","Array")["$==="](b))?b.$drop(0):l(b)?b.$split(q(p,"LF"),-1):[]}catch(Oa){if(a.rescue(Oa,[q(p,"StandardError")]))try{return l((l(c("::","Array")["$==="](b))?b.$join():b.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(c("::","ArgumentError"),
"source is either binary or contains invalid Unicode data")}finally{a.pop_exception()}else throw Oa;}},Ga.$$arity=-2);return(a.def(d,"$process_line",Na=function(a){l(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},Na.$$arity=1),h)&&"process_line"})(d[0],null,d);(function(d,$super,p){d=r(d,$super,"PreprocessorReader");var n=[d].concat(p),x,y,v,D,z,N,L,C,A,E,F,I,T,J,Y,aa,V,K,X,O;d.$$prototype.include_stack=d.$$prototype.lines=d.$$prototype.file=d.$$prototype.dir=d.$$prototype.path=
d.$$prototype.lineno=d.$$prototype.maxdepth=d.$$prototype.process_lines=d.$$prototype.includes=d.$$prototype.document=d.$$prototype.unescape_next_line=d.$$prototype.include_processor_extensions=d.$$prototype.look_ahead=d.$$prototype.skipping=d.$$prototype.conditional_stack=h;d.$attr_reader("include_stack");a.def(d,"$initialize",x=function(b,c,d,f){var k,p;x.$$p&&(x.$$p=null);null==c&&(c=h);null==d&&(d=h);null==f&&(f=t([],{}));this.document=b;e(this,a.find_super_dispatcher(this,"initialize",x,!1),
[c,d,f],null);l(g(p=(l(k=b.$attributes()["$[]"]("max-include-depth"))?k:64).$to_i(),0))?this.maxdepth=t(["abs","curr","rel"],{abs:p,curr:p,rel:p}):this.maxdepth=h;this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=h},x.$$arity=-2);a.def(d,"$has_more_lines?",y=function(){return l(this.$peek_line())?!0:!1},y.$$arity=0);a.def(d,"$empty?",v=function(){return l(this.$peek_line())?!1:!0},v.$$arity=0);a.alias(d,
"eof?","empty?");a.def(d,"$peek_line",D=function(b){var c=D.$$p,d;c&&(D.$$p=null);var f=0;var g=arguments.length;for(d=Array(g);f<g;f++)d[f]=arguments[f];null==b&&(b=!1);if(l(c=e(this,a.find_super_dispatcher(this,"peek_line",D,!1),d,c)))return c;if(l(this.include_stack["$empty?"]()))return h;this.$pop_include();return this.$peek_line(b)},D.$$arity=-1);a.def(d,"$push_include",z=function(d,f,p,m,r){var w,u=h,x=h;null==f&&(f=h);null==p&&(p=h);null==m&&(m=1);null==r&&(r=t([],{}));this.include_stack["$<<"]([this.lines,
this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);if(l(this.file=f)){if(l(c("::","String")["$==="](f)))this.dir=c("::","File").$dirname(f);else if(l(q(n,"RUBY_ENGINE_OPAL")))this.dir=c("::","URI").$parse(c("::","File").$dirname(f=f.$to_s()));else{var y=[(u=c("::","File").$dirname(f.$path()))["$=="]("/")?"":u];e(this.dir=f.$dup(),"path=",a.to_a(y));y[k(y.length,1)];f=f.$to_s()}this.path=p=l(w=p)?w:c("::","File").$basename(f);l(this.process_lines=e(f,"end_with?",a.to_a(q(n,
"ASCIIDOC_EXTENSIONS").$keys())))&&(y=[p.$slice(0,p.$rindex(".")),l(r["$[]"]("partial-option"))?h:!0],e(this.includes,"[]=",a.to_a(y)),y[k(y.length,1)])}else this.dir=".",this.process_lines=!0,l(this.path=p)?(y=[q(n,"Helpers").$rootname(p),l(r["$[]"]("partial-option"))?h:!0],e(this.includes,"[]=",a.to_a(y)),y[k(y.length,1)]):this.path="<stdin>";this.lineno=m;l(l(w=this.maxdepth)?r["$key?"]("depth"):w)&&(l(g(f=r["$[]"]("depth").$to_i(),0))?(l(g(p=b(this.include_stack.$size(),f),x=this.maxdepth["$[]"]("abs")))&&
(p=f=x),this.maxdepth=t(["abs","curr","rel"],{abs:x,curr:p,rel:f})):this.maxdepth=t(["abs","curr","rel"],{abs:this.maxdepth["$[]"]("abs"),curr:this.include_stack.$size(),rel:0}));if(l((this.lines=this.$prepare_lines(d,t(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:r["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(l(r["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+r["$[]"]("leveloffset"));this.lines["$<<"]("");if(l(d=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+
d);else this.lines["$<<"](":leveloffset!:");this.lineno=k(this.lineno,2)}this.look_ahead=0}return this},z.$$arity=-2);a.def(d,"$include_depth",N=function(){return this.include_stack.$size()},N.$$arity=0);a.def(d,"$exceeds_max_depth?",L=function(){var a,b;return l(a=l(b=this.maxdepth)?m(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):b)?this.maxdepth["$[]"]("rel"):a},L.$$arity=0);a.alias(d,"exceeded_max_depth?","exceeds_max_depth?");a.def(d,"$shift",C=function(){var b=C.$$p,c=h,d;b&&(C.$$p=
null);var f=0;var g=arguments.length;for(d=Array(g);f<g;f++)d[f]=arguments[f];return l(this.unescape_next_line)?(this.unescape_next_line=!1,(c=e(this,a.find_super_dispatcher(this,"shift",C,!1),d,b)).$slice(1,c.$length())):e(this,a.find_super_dispatcher(this,"shift",C,!1),d,b)},C.$$arity=0);a.def(d,"$include_processors?",A=function(){var a;return l(this.include_processor_extensions["$nil?"]())?l(l(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=
this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},A.$$arity=0);a.def(d,"$create_include_cursor",E=function(a,b,e){var d=h;l(c("::","String")["$==="](a))?d=c("::","File").$dirname(a):l(q(n,"RUBY_ENGINE_OPAL"))?d=c("::","File").$dirname(a=a.$to_s()):(d=(d=c("::","File").$dirname(a.$path()))["$=="]("")?"/":d,a=a.$to_s());return q(n,"Cursor").$new(a,d,b,e)},E.$$arity=3);a.def(d,"$to_s",F=function(){var a;
return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+e(this.include_stack,"map",[],(a=function(a){null==a&&(a=h);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},F.$$arity=0);d.$private();a.def(d,"$prepare_lines",I=function(c,d){var f,g,p=I.$$p,m,r=h,w=h,u;p&&(I.$$p=null);var x=0;var y=arguments.length;for(u=Array(y);x<y;x++)u[x]=arguments[x];null==d&&(d=t([],{}));p=
e(this,a.find_super_dispatcher(this,"prepare_lines",I,!1),u,p);l(l(f=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):f)&&l(m=this["$skip_front_matter!"](p))&&(f=["front-matter",m.$join(q(n,"LF"))],e(this.document.$attributes(),"[]=",a.to_a(f)),f[k(f.length,1)]);if(l(d.$fetch("condense",!0))){for(;l(l(g=r=p["$[]"](0))?r["$empty?"]():g);)l(g=p.$shift())?this.lineno=b(this.lineno,1):g;for(;l(l(g=w=p["$[]"](-1))?w["$empty?"]():g);)p.$pop()}if(l(d["$[]"]("indent")))q(n,"Parser")["$adjust_indentation!"](p,
d["$[]"]("indent").$to_i(),this.document.$attr("tabsize").$to_i());return p},I.$$arity=-2);a.def(d,"$process_line",T=function(a){var c,e;if(!l(this.process_lines))return a;if(l(a["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),a;if(l(l(c=l(e=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():e)?a["$include?"]("::"):c)){if(l(l(c=a["$include?"]("if"))?q(n,"ConditionalDirectiveRx")["$=~"](a):c)){if(((c=f["~"])===h?h:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=
b(this.look_ahead,1),a.$slice(1,a.$length());if(l(this.$preprocess_conditional_directive((c=f["~"])===h?h:c["$[]"](2),(c=f["~"])===h?h:c["$[]"](3),(c=f["~"])===h?h:c["$[]"](4),(c=f["~"])===h?h:c["$[]"](5))))return this.$shift(),h;this.look_ahead=b(this.look_ahead,1);return a}if(l(this.skipping))return this.$shift(),h;if(l(l(c=a["$start_with?"]("inc","\\inc"))?q(n,"IncludeDirectiveRx")["$=~"](a):c)){if(((c=f["~"])===h?h:c["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,
1),a.$slice(1,a.$length());if(l(this.$preprocess_include_directive((c=f["~"])===h?h:c["$[]"](2),(c=f["~"])===h?h:c["$[]"](3))))return h;this.look_ahead=b(this.look_ahead,1);return a}this.look_ahead=b(this.look_ahead,1);return a}if(l(this.skipping))return this.$shift(),h;this.look_ahead=b(this.look_ahead,1);return a},T.$$arity=1);a.def(d,"$preprocess_conditional_directive",J=function(a,b,c,d){var g,p,m,r,w,u=h,x=h,y=h,v=h,H=v=u=h;l(u=b["$empty?"]())||(b=b.$downcase());if(a["$=="]("endif"))return l(d)?
this.$logger().$error(this.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+b+"["+d+"]",t(["source_location"],{source_location:this.$cursor()}))):l(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched preprocessor directive: endif::"+b+"[]",t(["source_location"],{source_location:this.$cursor()}))):l(l(g=u)?g:b["$=="]((x=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=
l(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$logger().$error(this.$message_with_context("mismatched preprocessor directive: endif::"+b+"[], expected endif::"+x["$[]"]("target")+"[]",t(["source_location"],{source_location:this.$cursor()}))),!0;if(l(this.skipping))y=!1;else if(v=a,"ifdef"["$==="](v)){if(l(u))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+d+"]",t(["source_location"],
{source_location:this.$cursor()}))),!0;v=c;y=","["$==="](v)?e(b.$split(",",-1),"none?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},p.$$s=this,p.$$arity=1,p)):"+"["$==="](v)?e(b.$split("+",-1),"any?",[],(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)["$!"]()},m.$$s=this,m.$$arity=1,m)):this.document.$attributes()["$key?"](b)["$!"]()}else if("ifndef"["$==="](v)){if(l(u))return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+
d+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;v=c;y=","["$==="](v)?e(b.$split(",",-1),"any?",[],(r=function(a){var b=r.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},r.$$s=this,r.$$arity=1,r)):"+"["$==="](v)?e(b.$split("+",-1),"all?",[],(w=function(a){var b=w.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$key?"](a)},w.$$s=this,w.$$arity=1,w)):this.document.$attributes()["$key?"](b)}else if("ifeval"["$==="](v))if(l(u))if(l(l(g=
d)?q(n,"EvalExpressionRx")["$=~"](d.$strip()):g))u=(g=f["~"])===h?h:g["$[]"](1),v=(g=f["~"])===h?h:g["$[]"](2),H=(g=f["~"])===h?h:g["$[]"](3),y=l(this.$resolve_expr_val(u).$send(v,this.$resolve_expr_val(H)))?!1:!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - "+(l(d)?"invalid expression":"missing expression")+": ifeval::["+d+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;else return this.$logger().$error(this.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+
b+"["+d+"]",t(["source_location"],{source_location:this.$cursor()}))),!0;l(l(g=a["$=="]("ifeval"))?g:d["$!"]())?(l(y)&&(this.skipping=!0),this.conditional_stack["$<<"](t(["target","skip","skipping"],{target:b,skip:y,skipping:this.skipping}))):l(l(g=this.skipping)?g:y)||(this.$replace_next_line(d.$rstrip()),this.$unshift(""),l(d["$start_with?"]("include::"))&&(this.look_ahead=k(this.look_ahead,1)));return!0},J.$$arity=4);a.def(d,"$preprocess_include_directive",Y=function(d,p){var r,w,x,y,v,H,D,z,N,
C,L,A=this,U=h,E=h,F=h,I=h,T=h,J=h,ca=h,aa=h,Y=h,Ca=h,ha=h,B=h,P=h,fa=h,Q=h,V=h,ba=h,G=h,wa=h,K=h,W=h,X=h,O=h,va=ba=h;U=A.document;if(l(l(r=(E=d)["$include?"](q(n,"ATTR_REF_HEAD")))?(E=U.$sub_attributes(d,t(["attribute_missing"],{attribute_missing:(F=l(w=U.$attributes()["$[]"]("attribute-missing"))?w:q(n,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":F})))["$empty?"]():r)){if(l((r=F["$=="]("drop-line"))?U.$sub_attributes(b(d," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",
drop_line_severity:"ignore"}))["$empty?"]():F["$=="]("drop-line")))return e(A.$logger(),"info",[],(x=function(){var a=x.$$s||this;return a.$message_with_context("include dropped due to missing attribute: include::"+d+"["+p+"]",t(["source_location"],{source_location:a.$cursor()}))},x.$$s=A,x.$$arity=0,x)),A.$shift(),!0;if(l(U.$parse_attributes(p,[],t(["sub_input"],{sub_input:!0}))["$[]"]("optional-option")))return e(A.$logger(),"info",[],(y=function(){var a=y.$$s||this;return a.$message_with_context("optional include dropped "+
(l(F["$=="]("warn")?U.$sub_attributes(b(d," "),t(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():F["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+p+"]",t(["source_location"],{source_location:a.$cursor()}))},y.$$s=A,y.$$arity=0,y)),A.$shift(),!0;A.$logger().$warn(A.$message_with_context("include dropped "+(l((r=F["$=="]("warn"))?U.$sub_attributes(b(d," "),t(["attribute_missing",
"drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():F["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+d+"["+p+"]",t(["source_location"],{source_location:A.$cursor()})));return A.$replace_next_line("Unresolved directive in "+A.path+" - include::"+d+"["+p+"]")}if(l(l(r=A["$include_processors?"]())?I=e(A.include_processor_extensions,"find",[],(v=function(a){null==a&&(a=h);return a.$instance()["$handles?"](E)},v.$$s=
A,v.$$arity=1,v)):r))return A.$shift(),I.$process_method()["$[]"](U,A,E,U.$parse_attributes(p,[],t(["sub_input"],{sub_input:!0}))),!0;if(l(m(U.$safe(),c(q(n,"SafeMode"),"SECURE"))))return A.$replace_next_line("link:"+E+"[]");if(l(A.maxdepth)){if(l(m(A.include_stack.$size(),A.maxdepth["$[]"]("curr"))))return A.$logger().$error(A.$message_with_context("maximum include depth of "+A.maxdepth["$[]"]("rel")+" exceeded",t(["source_location"],{source_location:A.$cursor()}))),h;T=U.$parse_attributes(p,[],
t(["sub_input"],{sub_input:!0}));w=A.$resolve_include_path(E,p,T);r=a.to_ary(w);J=null==r[0]?h:r[0];ca=null==r[1]?h:r[1];aa=null==r[2]?h:r[2];w;if(ca["$=="]("file"))Y=c("::","File").$method("open"),Ca=q(n,"FILE_READ_MODE");else if(ca["$=="]("uri"))Y=c("::","OpenURI").$method("open_uri"),Ca=q(n,"URI_READ_MODE");else return J;ha=B=h;l(p)&&(l(T["$key?"]("lines"))?(ha=[],e(A.$split_delimited_value(T["$[]"]("lines")),"each",[],(H=function(c){null==c&&(c=h);if(l(c["$include?"](".."))){var e=c.$partition("..");
var d=a.to_ary(e);c=null==d[0]?h:d[0];var f=null==d[2]?h:d[2];e;e=ha;l(d=f["$empty?"]())||(d=f=f.$to_i(),d="number"===typeof d?0>d:d["$<"](0));c=l(d)?[c.$to_i(),1/0]:a.Range.$new(c.$to_i(),f,!1).$to_a();return ha=b(e,c)}return ha["$<<"](c.$to_i())},H.$$s=A,H.$$arity=1,H)),ha=l(ha["$empty?"]())?h:ha.$sort().$uniq()):l(T["$key?"]("tag"))?l(l(r=(P=T["$[]"]("tag"))["$empty?"]())?r:P["$=="]("!"))||(B=l(P["$start_with?"]("!"))?u(P.$slice(1,P.$length()),!1):u(P,!0)):l(T["$key?"]("tags"))&&(B=t([],{}),e(A.$split_delimited_value(T["$[]"]("tags")),
"each",[],(D=function(b){var c;null==b&&(b=h);if(l(l(c=b["$empty?"]())?c:b["$=="]("!")))return h;b=l(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:[b,!0];e(B,"[]=",a.to_a(b));return b[k(b.length,1)]},D.$$s=A,D.$$arity=1,D)),l(B["$empty?"]())&&(B=h)));if(l(ha)){r=[[],h,0];fa=r[0];Q=r[1];V=r[2];r;try{(function(){var d=a.new_brk();try{return e(Y,"call",[J,Ca],(z=function(d){var f=z.$$s||this,g,k=h;null==d&&(d=h);k=h;return function(){var p=a.new_brk();try{return e(d,"each_line",[],(g=function(e){var d,
f,g=h;null==e&&(e=h);V=b(V,1);if(l(l(d=k)?d:l(f=c("::","Float")["$==="](g=ha["$[]"](0)))?k=g["$infinite?"]():f))return Q=l(d=Q)?d:V,fa["$<<"](e);g["$=="](V)&&(Q=l(d=Q)?d:V,fa["$<<"](e),ha.$shift());if(l(ha["$empty?"]()))a.brk(h,p);else return h},g.$$s=f,g.$$brk=p,g.$$arity=1,g))}catch(bb){if(bb===p)return bb.$v;throw bb;}}()},z.$$s=A,z.$$brk=d,z.$$arity=1,z))}catch(Ya){if(Ya===d)return Ya.$v;throw Ya;}})()}catch(Za){if(a.rescue(Za,[q(n,"StandardError")]))try{return A.$logger().$error(A.$message_with_context("include "+
ca+" not readable: "+J,t(["source_location"],{source_location:A.$cursor()}))),A.$replace_next_line("Unresolved directive in "+A.path+" - include::"+E+"["+p+"]")}finally{a.pop_exception()}else throw Za;}A.$shift();l(Q)&&(ba=["partial-option",""],e(T,"[]=",a.to_a(ba)),ba[k(ba.length,1)],A.$push_include(fa,J,aa,Q,T))}else if(l(B)){r=[[],h,0,[],c("::","Set").$new(),h];fa=r[0];Q=r[1];V=r[2];G=r[3];wa=r[4];K=r[5];r;l(B["$key?"]("**"))?l(B["$key?"]("*"))?(W=X=B.$delete("**"),O=B.$delete("*")):W=X=O=B.$delete("**"):
(W=X=B["$value?"](!0)["$!"](),O=B.$delete("*"));try{e(Y,"call",[J,Ca],(N=function(c){var d=N.$$s||this,g,k=h,p=h;null==c&&(c=h);var m=["::","[]"];k=m[0];p=m[1];m;return e(c,"each_line",[],(g=function(c){var d=g.$$s||this,m,r,w,u=h,x=h,y=h;null==c&&(c=h);V=b(V,1);return l(l(m=l(r=c["$include?"](k))?c["$include?"](p):r)?q(n,"TagDirectiveRx")["$=~"](c):m)?(u=(m=f["~"])===h?h:m["$[]"](2),l((m=f["~"])===h?h:m["$[]"](1))?u["$=="](K)?(G.$pop(),r=l(G["$empty?"]())?[h,X]:G["$[]"](-1),m=a.to_ary(r),K=null==
m[0]?h:m[0],W=null==m[1]?h:m[1],r):l(B["$key?"](u))?(x=d.$create_include_cursor(J,E,V),l(y=e(G,"rindex",[],(w=function(a,b){null==a&&(a=h);return a["$=="](u)},w.$$s=d,w.$$arity=2,w)))?(y["$=="](0)?G.$shift():G.$delete_at(y),d.$logger().$warn(d.$message_with_context("mismatched end tag (expected '"+K+"' but found '"+u+"') at line "+V+" of include "+ca+": "+J,t(["source_location","include_location"],{source_location:d.$cursor(),include_location:x})))):d.$logger().$warn(d.$message_with_context("unexpected end tag '"+
u+"' at line "+V+" of include "+ca+": "+J,t(["source_location","include_location"],{source_location:d.$cursor(),include_location:x})))):h:l(B["$key?"](u))?(wa["$<<"](u),G["$<<"]([K=u,W=B["$[]"](u),V])):l(O["$nil?"]()["$!"]())?(W=l(l(m=K)?W["$!"]():m)?!1:O,G["$<<"]([K=u,W,V])):h):l(W)?(Q=l(m=Q)?m:V,fa["$<<"](c)):h},g.$$s=d,g.$$arity=1,g))},N.$$s=A,N.$$arity=1,N))}catch(Za){if(a.rescue(Za,[q(n,"StandardError")]))try{return A.$logger().$error(A.$message_with_context("include "+ca+" not readable: "+J,
t(["source_location"],{source_location:A.$cursor()}))),A.$replace_next_line("Unresolved directive in "+A.path+" - include::"+E+"["+p+"]")}finally{a.pop_exception()}else throw Za;}l(G["$empty?"]())||e(G,"each",[],(C=function(a,b,c){b=C.$$s||this;null==a&&(a=h);null==c&&(c=h);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+a+"' starting at line "+c+" of include "+ca+": "+J,t(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(J,
E,c)})))},C.$$s=A,C.$$arity=3,C));l((ba=k(B.$keys(),wa.$to_a()))["$empty?"]())||A.$logger().$warn(A.$message_with_context("tag"+(l(g(ba.$size(),1))?"s":"")+" '"+ba.$join(", ")+"' not found in include "+ca+": "+J,t(["source_location"],{source_location:A.$cursor()})));A.$shift();l(Q)&&(l(l(r=l(w=X)?O:w)?B["$empty?"]():r)||(ba=["partial-option",""],e(T,"[]=",a.to_a(ba)),ba[k(ba.length,1)]),A.$push_include(fa,J,aa,Q,T))}else try{va=e(Y,"call",[J,Ca],(L=function(a){null==a&&(a=h);return a.$read()},L.$$s=
A,L.$$arity=1,L)),A.$shift(),A.$push_include(va,J,aa,1,T)}catch(Za){if(a.rescue(Za,[q(n,"StandardError")]))try{return A.$logger().$error(A.$message_with_context("include "+ca+" not readable: "+J,t(["source_location"],{source_location:A.$cursor()}))),A.$replace_next_line("Unresolved directive in "+A.path+" - include::"+E+"["+p+"]")}finally{a.pop_exception()}else throw Za;}return!0}return h},Y.$$arity=2);a.def(d,"$resolve_include_path",aa=function(a,b,d){var f,g,k,p=h,m=h;p=h;p=this.document;if(l(l(f=
q(n,"Helpers")["$uriish?"](a))?f:l(c("::","String")["$==="](this.dir))?h:a=""+this.dir+"/"+a)){if(!l(p["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");l(p["$attr?"]("cache-uri"))?l((g=c("::","OpenURI","skip_raise"))&&(f=c(g,"Cache","skip_raise"))?"constant":h)||q(n,"Helpers").$require_library("open-uri/cached","open-uri-cached"):l(q(n,"RUBY_ENGINE_OPAL")["$!"]())&&c("::","OpenURI");return[c("::","URI").$parse(a),"uri",a]}m=p.$normalize_system_path(a,this.dir,h,t(["target_name"],
{target_name:"include file"}));if(!l(c("::","File")["$file?"](m))){if(l(d["$[]"]("optional-option")))return e(this.$logger(),"info",[],(k=function(){var a=k.$$s||this;return a.$message_with_context("optional include dropped because include file not found: "+m,t(["source_location"],{source_location:a.$cursor()}))},k.$$s=this,k.$$arity=0,k)),this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+m,t(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+
this.path+" - include::"+a+"["+b+"]")}p=p.$path_resolver().$relative_path(m,p.$base_dir());return[m,"file",p]},aa.$$arity=3);a.def(d,"$pop_include",V=function(){if(l(g(this.include_stack.$size(),0))){var b=this.include_stack.$pop();var c=a.to_ary(b);this.lines=null==c[0]?h:c[0];this.file=null==c[1]?h:c[1];this.dir=null==c[2]?h:c[2];this.path=null==c[3]?h:c[3];this.lineno=null==c[4]?h:c[4];this.maxdepth=null==c[5]?h:c[5];this.process_lines=null==c[6]?h:c[6];b;this.look_ahead=0}return h},V.$$arity=
0);a.def(d,"$split_delimited_value",K=function(a){return l(a["$include?"](","))?a.$split(","):a.$split(";")},K.$$arity=1);a.def(d,"$skip_front_matter!",X=function(c,d){var f;null==d&&(d=!0);var g=h;if(c["$[]"](0)["$=="]("---")){var k=c.$drop(0);c.$shift();g=[];l(d)&&(this.lineno=b(this.lineno,1));for(;l(l(f=c["$empty?"]()["$!"]())?c["$[]"](0)["$!="]("---"):f);)g["$<<"](c.$shift()),l(d)&&(this.lineno=b(this.lineno,1));l(c["$empty?"]())?(e(c,"unshift",a.to_a(k)),l(d)&&(this.lineno=0),g=h):(c.$shift(),
l(d)&&(this.lineno=b(this.lineno,1)))}return g},X.$$arity=-2);return(a.def(d,"$resolve_expr_val",O=function(a){var b,c;l(l(b=l(c=a["$start_with?"]('"'))?a["$end_with?"]('"'):c)?b:l(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):c)?(b=!0,a=a.$slice(1,k(a.$length(),1))):b=!1;l(a["$include?"](q(n,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,t(["attribute_missing"],{attribute_missing:"drop"})));return l(b)?a:l(a["$empty?"]())?h:a["$=="]("true")?!0:a["$=="]("false")?!1:l(a.$rstrip()["$empty?"]())?
" ":l(a["$include?"]("."))?a.$to_f():a.$to_i()},O.$$arity=1),h)&&"resolve_expr_val"})(d[0],q(d,"Reader"),d)}(n[0],n)};Opal.modules["asciidoctor/section"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,m=a.const_get_relative,n=a.module,h=a.klass,c=a.hash2,q=a.send,p=a.truthy;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $== $> $sectnum $reftext $! $empty? $sub_placeholder $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(d,g){d=[n(d,"Asciidoctor")].concat(g);(function(d,$super,f){d=h(d,$super,"Section");var g=[d].concat(f),l,n,r,t,u,w,y;d.$$prototype.document=d.$$prototype.level=d.$$prototype.parent=d.$$prototype.numeral=d.$$prototype.numbered=d.$$prototype.sectname=d.$$prototype.title=d.$$prototype.blocks=k;d.$attr_accessor("index");d.$attr_accessor("sectname");d.$attr_accessor("special");d.$attr_accessor("numbered");d.$attr_reader("caption");a.def(d,"$initialize",l=function(d,f,h,n){var r,w;l.$$p&&
(l.$$p=null);null==d&&(d=k);null==f&&(f=k);null==h&&(h=!1);null==n&&(n=c([],{}));q(this,a.find_super_dispatcher(this,"initialize",l,!1),[d,"section",n],null);p(m(g,"Section")["$==="](d))?(r=[p(w=f)?w:b(d.$level(),1),d.$special()],this.level=r[0],this.special=r[1]):(r=[p(w=f)?w:1,!1],this.level=r[0],this.special=r[1]);r;this.numbered=h;return this.index=0},l.$$arity=-1);a.alias(d,"name","title");a.def(d,"$generate_id",n=function(){return m(g,"Section").$generate_id(this.$title(),this.document)},n.$$arity=
0);a.def(d,"$sectnum",r=function(a,b){var c;null==a&&(a=".");null==b&&(b=k);b=p(c=b)?c:b["$=="](!1)?"":a;var d=this.level;d="number"===typeof d?1<d:d["$>"](1);return p(p(c=d)?m(g,"Section")["$==="](this.parent):c)?""+this.parent.$sectnum(a,a)+this.numeral+b:""+this.numeral+b},r.$$arity=-1);a.def(d,"$xreftext",t=function(a){var b,c=k,d=k,f=k;null==a&&(a=k);p(p(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:p(a)?(p(this.numbered)?"full"["$==="](a)?(a=p(p(b=(d=this.sectname)["$=="]("chapter"))?b:
d["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$sub_placeholder(this.$sub_quotes(p(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=p(f=this.document.$attributes()["$[]"](""+d+"-refsig"))?""+f+" "+this.$sectnum(".",",")+" "+a:""+this.$sectnum(".",",")+" "+a):a="short"["$==="](a)?p(f=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+f+" "+this.$sectnum(".",""):this.$sectnum(".",""):p(p(b=(d=this.sectname)["$=="]("chapter"))?
b:d["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title():a=p(p(b=(d=this.sectname)["$=="]("chapter"))?b:d["$=="]("appendix"))?this.$sub_placeholder(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},t.$$arity=-1);a.def(d,"$<<",u=function(b){var c=u.$$p,d;c&&(u.$$p=null);var f=0;var g=arguments.length;for(d=Array(g);f<g;f++)d[f]=arguments[f];b.$context()["$=="]("section")&&this.$assign_numeral(b);return q(this,a.find_super_dispatcher(this,
"<<",u,!1),d,c)},u.$$arity=1);a.def(d,"$to_s",w=function(){var b=w.$$p,c;b&&(w.$$p=null);var d=0;var f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];return p(this.title)?(b=p(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+b.$inspect()+", blocks: "+this.blocks.$size()+"}>"):q(this,a.find_super_dispatcher(this,"to_s",w,!1),c,b)},w.$$arity=0);return(a.defs(d,"$generate_id",y=function(c,d){var f,h,l,n=
k,r=h=k;var w=d.$attributes();var t=p(f=w["$[]"]("idprefix"))?f:"_";p(l=w["$[]"]("idseparator"))?(p(f=l.$length()["$=="](1))?w=f:p(h=(n=l["$empty?"]())["$!"]())?(h=["idseparator",l.$chr()],q(w,"[]=",a.to_a(h)),l=h,w=h.length,w="number"===typeof w?w-1:w["$-"](1),w=l=l[w]):w=h,p(w)&&(r=p(p(f=l["$=="]("-"))?f:l["$=="]("."))?" .-":" "+l+".-")):(f=["_"," _.-"],l=f[0],r=f[1],f);c=""+t+c.$downcase().$gsub(m(g,"InvalidSectionIdCharsRx"),"");p(n)?c=c.$delete(" "):(c=c.$tr_s(r,l),p(c["$end_with?"](l))&&(c=
c.$chop()),p(p(f=t["$empty?"]())?c["$start_with?"](l):f)&&(c=c.$slice(1,c.$length())));if(p(d.$catalog()["$[]"]("refs")["$key?"](c))){d=d.$catalog()["$[]"]("refs");for(f=m(g,"Compliance").$unique_id_start_index();p(d["$[]"](t=""+c+l+f));)f=b(f,1);return t}return c},y.$$arity=2),k)&&"generate_id"})(d[0],m(d,"AbstractBlock"),d)}(g[0],g)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,m=a.const_get_relative,n=a.module,h=a.klass,c=a.truthy,q=a.hash2;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $stylesheet_basename $for $read_stylesheet $coderay_stylesheet_data $coderay_stylesheet_name $pygments_stylesheet_data $pygments_stylesheet_name".split(" "));
return function(b,d){b=[n(b,"Asciidoctor")].concat(d);(function(b,$super,e){b=h(b,$super,"Stylesheets");var d=[b].concat(e),p,n,r,t,u,y,w,x,v,D,z,A,C;b.$$prototype.primary_stylesheet_data=g;a.const_set(d[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(d[0],"STYLESHEETS_DIR",k("::","File").$join(m(d,"DATA_DIR"),"stylesheets"));b.__instance__=b.$new();a.defs(b,"$instance",p=function(){null==this.__instance__&&(this.__instance__=g);return this.__instance__},p.$$arity=0);a.def(b,"$primary_stylesheet_name",
n=function(){return m(d,"DEFAULT_STYLESHEET_NAME")},n.$$arity=0);a.def(b,"$primary_stylesheet_data",r=function(){var a;return this.primary_stylesheet_data=c(a=this.primary_stylesheet_data)?a:k("::","File").$read(k("::","File").$join(m(d,"STYLESHEETS_DIR"),"asciidoctor-default.css"),q(["mode"],{mode:m(d,"FILE_READ_MODE")})).$rstrip()},r.$$arity=0);a.def(b,"$embed_primary_stylesheet",t=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},t.$$arity=0);a.def(b,"$write_primary_stylesheet",
u=function(a){null==a&&(a=".");return k("::","File").$write(k("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),q(["mode"],{mode:m(d,"FILE_WRITE_MODE")}))},u.$$arity=-1);a.def(b,"$coderay_stylesheet_name",y=function(){return m(d,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},y.$$arity=0);a.def(b,"$coderay_stylesheet_data",w=function(){return m(d,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},w.$$arity=0);a.def(b,"$embed_coderay_stylesheet",
x=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},x.$$arity=0);a.def(b,"$write_coderay_stylesheet",v=function(a){null==a&&(a=".");return k("::","File").$write(k("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),q(["mode"],{mode:m(d,"FILE_WRITE_MODE")}))},v.$$arity=-1);a.def(b,"$pygments_stylesheet_name",D=function(a){null==a&&(a=g);return m(d,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(a)},D.$$arity=-1);a.def(b,"$pygments_stylesheet_data",
z=function(a){null==a&&(a=g);return m(d,"SyntaxHighlighter").$for("pygments").$read_stylesheet(a)},z.$$arity=-1);a.def(b,"$embed_pygments_stylesheet",A=function(a){null==a&&(a=g);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},A.$$arity=-1);return(a.def(b,"$write_pygments_stylesheet",C=function(a,b){null==a&&(a=".");null==b&&(b=g);return k("::","File").$write(k("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b),q(["mode"],{mode:m(d,"FILE_WRITE_MODE")}))},
C.$$arity=-1),g)&&"write_pygments_stylesheet"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}
function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],q=a.nil,p=a.const_get_qualified,r=a.const_get_relative,t=a.module,l=a.klass,e=a.hash2,f=a.send,u=a.truthy,v=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $[] $> $to_i $< $== $[]= $- $attributes $truncate $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $round $shift $style= $head= $pop $foot= $parent $sourcemap $dup $header_row? $table $delete $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $unshift $nil? $=~ $catalog_inline_anchor $apply_subs $convert $map $text $!= $file $lineno $to_s $include $to_set $mark $key? $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $! $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $close_row $private $rows $effective_column_visits".split(" "));
return function(c,d){c=[t(c,"Asciidoctor")].concat(d);(function(c,$super,d){c=l(c,$super,"Table");var p=[c].concat(d),w,t,v,x,y;c.$$prototype.attributes=c.$$prototype.document=c.$$prototype.has_header_option=c.$$prototype.rows=c.$$prototype.columns=q;a.const_set(p[0],"DEFAULT_PRECISION",4);(function(b,$super,c){b=l(b,$super,"Rows");[b].concat(c);var d,f,g;b.$$prototype.head=b.$$prototype.body=b.$$prototype.foot=q;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",d=function(a,b,c){null==
a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},d.$$arity=-1);a.alias(b,"[]","send");a.def(b,"$by_section",f=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},f.$$arity=0);return(a.def(b,"$to_h",g=function(){return e(["head","body","foot"],{head:this.head,body:this.body,foot:this.foot})},g.$$arity=0),q)&&"to_h"})(p[0],null,p);c.$attr_accessor("columns");c.$attr_accessor("rows");c.$attr_accessor("has_header_option");c.$attr_reader("caption");
a.def(c,"$initialize",w=function(c,e){var d,h,l=q,t=q,v=q;w.$$p&&(w.$$p=null);f(this,a.find_super_dispatcher(this,"initialize",w,!1),[c,"table"],null);this.rows=r(p,"Rows").$new();this.columns=[];this.has_header_option=u(e["$[]"]("header-option"))?!0:!1;u(l=e["$[]"]("width"))?u(u(d=b(t=l.$to_i(),100))?d:g(t,1))&&!u(t["$=="](0)?u(h=l["$=="]("0"))?h:l["$=="]("0%"):t["$=="](0))&&(t=100):t=100;c=["tablepcwidth",t];f(this.attributes,"[]=",a.to_a(c));c[k(c.length,1)];u(this.document.$attributes()["$[]"]("pagewidth"))&&
(c=["tableabswidth",(v=m(n(t,100),this.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(r(p,"DEFAULT_PRECISION")))["$=="](v.$to_i())?v.$to_i():v],f(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]);return u(e["$[]"]("rotate-option"))?(c=["orientation","landscape"],f(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]):q},w.$$arity=2);a.def(c,"$header_row?",t=function(){var a;return u(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},t.$$arity=0);a.def(c,"$create_columns",v=function(c){var e,
d,l=q,m=q,n=q,w=q;w=q;l=[];m=q;n=0;f(c,"each",[],(e=function(a){var b=e.$$s||this,c;null==a&&(a=q);var d=a["$[]"]("width");l["$<<"](r(p,"Column").$new(b,l.$size(),a));return u(g(d,0))?(m=u(c=m)?c:[])["$<<"](l["$[]"](-1)):n=h(n,d)},e.$$s=this,e.$$arity=1,e));u(b(w=(this.columns=l).$size(),0))&&(w=["colcount",w],f(this.attributes,"[]=",a.to_a(w)),w[k(w.length,1)],u(u(d=b(n,0))?d:m)||(n=q),this.$assign_column_widths(n,m));return q},v.$$arity=1);a.def(c,"$assign_column_widths",x=function(a,c){var d,g,
l,m=q,w=q,t=q,v=q,x=q;null==a&&(a=q);null==c&&(c=q);m=r(p,"DEFAULT_PRECISION");w=t=0;u(a)?(u(c)&&(u(b(a,100))?(v=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(v=n(k(100,a),c.$size()).$truncate(m),v.$to_i()["$=="](v)&&(v=v.$to_i()),a=100),x=e(["width","autowidth-option"],{width:v,"autowidth-option":""}),f(c,"each",[],(d=function(a){null==a&&(a=q);return a.$update_attributes(x)},d.$$s=this,d.$$arity=1,d))),f(this.columns,"each",[],(g=function(b){null==
b&&(b=q);return w=h(w,t=b.$assign_width(q,a,m))},g.$$s=this,g.$$arity=1,g))):(t=n(100,this.columns.$size()).$truncate(m),t.$to_i()["$=="](t)&&(t=t.$to_i()),f(this.columns,"each",[],(l=function(a){null==a&&(a=q);return w=h(w,a.$assign_width(t,q,m))},l.$$s=this,l.$$arity=1,l)));w["$=="](100)||this.columns["$[]"](-1).$assign_width(h(k(100,w),t).$round(m),q,m);return q},x.$$arity=-1);return(a.def(c,"$partition_header_footer",y=function(c){var e,d,g=q,h=q,l=q;g=["rowcount",this.rows.$body().$size()];f(this.attributes,
"[]=",a.to_a(g));g[k(g.length,1)];h=this.rows.$body().$size();u(u(e=b(h,0))?this.has_header_option:e)&&(l=this.rows.$body().$shift(),h=k(h,1),f(l,"each",[],(d=function(b){null==b&&(b=q);g=[q];f(b,"style=",a.to_a(g));return g[k(g.length,1)]},d.$$s=this,d.$$arity=1,d)),g=[[l]],f(this.rows,"head=",a.to_a(g)),g[k(g.length,1)]);u(u(e=b(h,0))?c["$[]"]("footer-option"):e)&&(g=[[this.rows.$body().$pop()]],f(this.rows,"foot=",a.to_a(g)),g[k(g.length,1)]);return q},y.$$arity=1),q)&&"partition_header_footer"})(c[0],
r(c,"AbstractBlock"),c);(function(b,$super,c){b=l(b,$super,"Column");[b].concat(c);var d,g,p,r;b.$$prototype.attributes=q;b.$attr_accessor("style");a.def(b,"$initialize",d=function(b,c,g){var l;d.$$p&&(d.$$p=null);null==g&&(g=e([],{}));f(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,"table_column"],null);this.style=g["$[]"]("style");b=["colnumber",h(c,1)];f(g,"[]=",a.to_a(b));b[k(b.length,1)];u(l=g["$[]"]("width"))?l:(b=["width",1],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);u(l=g["$[]"]("halign"))?
l:(b=["halign","left"],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);u(l=g["$[]"]("valign"))?l:(b=["valign","top"],f(g,"[]=",a.to_a(b)),b[k(b.length,1)]);return this.$update_attributes(g)},d.$$arity=-3);a.alias(b,"table","parent");a.def(b,"$assign_width",g=function(b,c,e){var d=q;u(c)&&(b=n(m(this.attributes["$[]"]("width").$to_f(),100),c).$truncate(e),b.$to_i()["$=="](b)&&(b=b.$to_i()));u(this.$parent().$attributes()["$[]"]("tableabswidth"))&&(c=["colabswidth",(d=m(n(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(e))["$=="](d.$to_i())?
d.$to_i():d],f(this.attributes,"[]=",a.to_a(c)),c[k(c.length,1)]);c=["colpcwidth",b];f(this.attributes,"[]=",a.to_a(c));return c[k(c.length,1)]},g.$$arity=3);a.def(b,"$block?",p=function(){return!1},p.$$arity=0);return(a.def(b,"$inline?",r=function(){return!1},r.$$arity=0),q)&&"inline?"})(r(c,"Table"),r(c,"AbstractNode"),c);(function(b,$super,c){b=l(b,$super,"Cell");var d=[b].concat(c),p,n,w,t,x,y,M,D,z;b.$$prototype.document=b.$$prototype.text=b.$$prototype.subs=b.$$prototype.style=b.$$prototype.inner_document=
b.$$prototype.source_location=b.$$prototype.colspan=b.$$prototype.rowspan=b.$$prototype.attributes=q;a.const_set(d[0],"DOUBLE_LF",m(r(d,"LF"),2));b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",p=function(b,c,l,m){var n=q,w=q,t=q,x=q,y=q,M=q,H=q;p.$$p&&(p.$$p=null);null==l&&(l=e([],{}));null==m&&(m=e([],{}));f(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"table_cell"],null);u(this.document.$sourcemap())&&
(this.source_location=m["$[]"]("cursor").$dup());u(b)&&(u(n=b.$table()["$header_row?"]())||(w=b.$attributes()["$[]"]("style")),this.$update_attributes(b.$attributes()));if(u(l)){if(u(l["$empty?"]()))this.colspan=this.rowspan=q;else{var D=[l.$delete("colspan"),l.$delete("rowspan")];this.colspan=D[0];this.rowspan=D[1];D;u(n)||(w=u(D=l["$[]"]("style"))?D:w);this.$update_attributes(l)}if(w["$=="]("asciidoc"))if(t=!0,x=m["$[]"]("cursor"),u((c=c.$rstrip())["$start_with?"](r(d,"LF")))){for(b=1;u((c=c.$slice(1,
c.$length()))["$start_with?"](r(d,"LF")));)b=h(b,1);x.$advance(b)}else c=c.$lstrip();else if(w["$=="]("literal"))for(y=!0,c=c.$rstrip();u(c["$start_with?"](r(d,"LF")));)c=c.$slice(1,c.$length());else M=!0,c=u(c)?c.$strip():""}else this.colspan=this.rowspan=q,w["$=="]("asciidoc")&&(t=!0,x=m["$[]"]("cursor"));if(u(t)){m=this.document.$attributes().$delete("doctitle");D=c.$split(r(d,"LF"),-1);if(!u(D["$empty?"]())&&u((H=D["$[]"](0))["$include?"]("::"))){var z=r(d,"PreprocessorReader").$new(this.document,
[H]).$readlines();u(H["$=="](z["$[]"](0))?g(z.$size(),2):H["$=="](z["$[]"](0)))||(D.$shift(),u(z["$empty?"]())||f(D,"unshift",a.to_a(z)))}this.inner_document=r(d,"Document").$new(D,e(["standalone","parent","cursor"],{standalone:!1,parent:this.document,cursor:x}));u(m["$nil?"]())||(x=["doctitle",m],f(this.document.$attributes(),"[]=",a.to_a(x)),x[k(x.length,1)]);this.subs=q}else u(y)?(this.content_model="verbatim",this.subs=r(d,"BASIC_SUBS")):(u(u(D=u(z=M)?c["$start_with?"]("[["):z)?r(d,"LeadingInlineAnchorRx")["$=~"](c):
D)&&r(d,"Parser").$catalog_inline_anchor((D=v["~"])===q?q:D["$[]"](1),(D=v["~"])===q?q:D["$[]"](2),this,m["$[]"]("cursor"),this.document),this.content_model="simple",this.subs=r(d,"NORMAL_SUBS"));this.text=c;return this.style=w},p.$$arity=-3);a.def(b,"$text",n=function(){return this.$apply_subs(this.text,this.subs)},n.$$arity=0);a.def(b,"$text=",w=function(a){return this.text=a},w.$$arity=1);a.def(b,"$content",t=function(){var a,b,c=q,g=q;return(c=this.style)["$=="]("asciidoc")?this.inner_document.$convert():
u(this.text["$include?"](r(d,"DOUBLE_LF")))?f(this.$text().$split(r(d,"BlankLineRx")),"map",[],(a=function(b){var f=a.$$s||this,g;null==b&&(b=q);return u(u(g=c)?c["$!="]("header"):g)?r(d,"Inline").$new(f.$parent(),"quoted",b,e(["type"],{type:c})).$convert():b},a.$$s=this,a.$$arity=1,a)):u((g=this.$text())["$empty?"]())?[]:u(u(b=c)?c["$!="]("header"):b)?[r(d,"Inline").$new(this.$parent(),"quoted",g,e(["type"],{type:c})).$convert()]:[g]},t.$$arity=0);a.def(b,"$lines",x=function(){return this.text.$split(r(d,
"LF"))},x.$$arity=0);a.def(b,"$source",y=function(){return this.text},y.$$arity=0);a.def(b,"$file",M=function(){var a;return u(a=this.source_location)?this.source_location.$file():a},M.$$arity=0);a.def(b,"$lineno",D=function(){var a;return u(a=this.source_location)?this.source_location.$lineno():a},D.$$arity=0);return(a.def(b,"$to_s",z=function(){var b,c=z.$$p,e;c&&(z.$$p=null);var d=0;var g=arguments.length;for(e=Array(g);d<g;d++)e[d]=arguments[d];return""+f(this,a.find_super_dispatcher(this,"to_s",
z,!1),e,c).$to_s()+" - [text: "+this.text+", colspan: "+(u(b=this.colspan)?b:1)+", rowspan: "+(u(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},z.$$arity=0),q)&&"to_s"})(r(c,"Table"),r(c,"AbstractBlock"),c);(function(c,$super,d){c=l(c,$super,"ParserContext");var g=[c].concat(d),m,n,w,t,v,x,y,M,D,z,A,C,N,L,E,F,I,J,T;c.$$prototype.delimiter=c.$$prototype.delimiter_rx=c.$$prototype.buffer=c.$$prototype.cellspecs=c.$$prototype.cell_open=c.$$prototype.format=c.$$prototype.start_cursor_data=
c.$$prototype.reader=c.$$prototype.table=c.$$prototype.current_row=c.$$prototype.colcount=c.$$prototype.column_visits=c.$$prototype.active_rowspans=c.$$prototype.linenum=q;c.$include(r(g,"Logging"));a.const_set(g[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(g[0],"DELIMITERS",e(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));c.$attr_accessor("table");c.$attr_accessor("format");c.$attr_reader("colcount");c.$attr_accessor("buffer");
c.$attr_reader("delimiter");c.$attr_reader("delimiter_re");a.def(c,"$initialize",m=function(b,c,d){var f;null==d&&(d=e([],{}));this.start_cursor_data=(this.reader=b).$mark();this.table=c;u(d["$key?"]("format"))?u(r(g,"FORMATS")["$include?"](f=d["$[]"]("format")))?f["$=="]("tsv")?this.format="csv":u((this.format=f)["$=="]("psv")?c.$document()["$nested?"]():(this.format=f)["$=="]("psv"))&&(f="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+f,e(["source_location"],{source_location:b.$cursor_at_prev_line()}))),
b=["psv",u(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b):(b=["psv",u(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b);u(d["$key?"]("separator"))?u((d=d["$[]"]("separator"))["$nil_or_empty?"]())?(f=r(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?q:b[0],this.delimiter_rx=null==b[1]?q:b[1],f):d["$=="]("\\t")?(f=r(g,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(f),this.delimiter=null==b[0]?q:b[0],this.delimiter_rx=null==b[1]?q:b[1],f):(b=[d,new RegExp(p("::",
"Regexp").$escape(d))],this.delimiter=b[0],this.delimiter_rx=b[1],b):(f=r(g,"DELIMITERS")["$[]"](f),b=a.to_ary(f),this.delimiter=null==b[0]?q:b[0],this.delimiter_rx=null==b[1]?q:b[1],f);this.colcount=u(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},m.$$arity=-3);a.def(c,"$starts_with_delimiter?",n=function(a){return a["$start_with?"](this.delimiter)},n.$$arity=
1);a.def(c,"$match_delimiter",w=function(a){return this.delimiter_rx.$match(a)},w.$$arity=1);a.def(c,"$skip_past_delimiter",t=function(a){this.buffer=""+this.buffer+a+this.delimiter;return q},t.$$arity=1);a.def(c,"$skip_past_escaped_delimiter",v=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return q},v.$$arity=1);a.def(c,"$buffer_has_unclosed_quotes?",x=function(a){var b,c,e=q,d=q;null==a&&(a=q);return(e=u(a)?h(this.buffer,a).$strip():this.buffer.$strip())["$=="]('"')?!0:u(e["$start_with?"]('"'))?
u(u(b=u(c=d=e["$end_with?"]('"'))?e["$end_with?"]('""'):c)?b:e["$start_with?"]('""'))?u(b=(e=e.$gsub('""',""))["$start_with?"]('"'))?e["$end_with?"]('"')["$!"]():b:d["$!"]():!1},x.$$arity=-1);a.def(c,"$take_cellspec",y=function(){return this.cellspecs.$shift()},y.$$arity=0);a.def(c,"$push_cellspec",M=function(a){var b;null==a&&(a=e([],{}));this.cellspecs["$<<"](u(b=a)?b:e([],{}));return q},M.$$arity=-1);a.def(c,"$keep_cell_open",D=function(){this.cell_open=!0;return q},D.$$arity=0);a.def(c,"$mark_cell_closed",
z=function(){this.cell_open=!1;return q},z.$$arity=0);a.def(c,"$cell_open?",A=function(){return this.cell_open},A.$$arity=0);a.def(c,"$cell_closed?",C=function(){return this.cell_open["$!"]()},C.$$arity=0);a.def(c,"$close_open_cell",N=function(a){null==a&&(a=e([],{}));this.$push_cellspec(a);u(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return q},N.$$arity=-1);a.def(c,"$close_cell",L=function(c){try{var d,l,m=q,n=q,w=q;null==c&&(c=!1);this.format["$=="]("psv")?(m=this.buffer,this.buffer=
"",u(n=this.$take_cellspec())?w=u(d=n.$delete("repeatcol"))?d:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",e(["source_location"],{source_location:f(p(r(g,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),n=e([],{}),w=1)):(m=this.buffer.$strip(),this.buffer="",n=q,w=1,u(u(d=this.format["$=="]("csv")?m["$empty?"]()["$!"]():this.format["$=="]("csv"))?m["$include?"]('"'):d)&&(u(u(d=m["$start_with?"]('"'))?m["$end_with?"]('"'):
d)?u(m=m.$slice(1,k(m.$length(),2)))?m=m.$strip().$squeeze('"'):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",e(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),m=""):m=m.$squeeze('"')));f(1,"upto",[w],(l=function(d){var t=l.$$s||this,v,x,y,M,D=q,H=q,z=q;D=q;null==t.colcount&&(t.colcount=q);null==t.table&&(t.table=q);null==t.current_row&&(t.current_row=q);null==t.reader&&(t.reader=q);null==t.column_visits&&(t.column_visits=
q);null==t.linenum&&(t.linenum=q);null==d&&(d=q);t.colcount["$=="](-1)?(t.table.$columns()["$<<"](D=p(r(g,"Table"),"Column").$new(t.table,k(h(t.table.$columns().$size(),d),1))),u(u(v=u(x=n)?n["$key?"]("colspan"):x)?b(H=k(n["$[]"]("colspan").$to_i(),1),0):v)&&(z=t.table.$columns().$size(),f(H,"times",[],(y=function(a){var b=y.$$s||this;null==b.table&&(b.table=q);null==a&&(a=q);return b.table.$columns()["$<<"](p(r(g,"Table"),"Column").$new(b.table,h(z,a)))},y.$$s=t,y.$$arity=1,y)))):u(D=t.table.$columns()["$[]"](t.current_row.$size()))||
(t.$logger().$error(t.$message_with_context("dropping cell because it exceeds specified number of columns",e(["source_location"],{source_location:t.reader.$cursor_before_mark()}))),a.ret(q));D=p(r(g,"Table"),"Cell").$new(D,m,n,e(["cursor"],{cursor:t.reader.$cursor_before_mark()}));t.reader.$mark();u(u(v=D.$rowspan()["$!"]())?v:D.$rowspan()["$=="](1))||t.$activate_rowspan(D.$rowspan(),u(v=D.$colspan())?v:1);t.column_visits=h(t.column_visits,u(v=D.$colspan())?v:1);t.current_row["$<<"](D);return u(u(v=
t["$end_of_row?"]())?u(x=u(M=t.colcount["$!="](-1))?M:b(t.linenum,0))?x:u(M=c)?d["$=="](w):M:v)?t.$close_row():q},l.$$s=this,l.$$arity=1,l));this.cell_open=!1;return q}catch(Fa){if(Fa===a.returner)return Fa.$v;throw Fa;}},L.$$arity=-1);c.$private();a.def(c,"$close_row",E=function(){var b,c=q;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();u(b=this.active_rowspans["$[]"](0))?
b:(c=[0,0],f(this.active_rowspans,"[]=",a.to_a(c)),c[k(c.length,1)]);return q},E.$$arity=0);a.def(c,"$activate_rowspan",F=function(b,c){var d;f(1,"upto",[k(b,1)],(d=function(b){var e=d.$$s||this,g;null==e.active_rowspans&&(e.active_rowspans=q);null==b&&(b=q);b=[b,h(u(g=e.active_rowspans["$[]"](b))?g:0,c)];f(e.active_rowspans,"[]=",a.to_a(b));return b[k(b.length,1)]},d.$$s=this,d.$$arity=1,d));return q},F.$$arity=2);a.def(c,"$end_of_row?",I=function(){var a;return u(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},
I.$$arity=0);a.def(c,"$effective_column_visits",J=function(){return h(this.column_visits,this.active_rowspans["$[]"](0))},J.$$arity=0);return(a.def(c,"$advance",T=function(){return this.linenum=h(this.linenum,1)},T.$$arity=0),q)&&"advance"})(r(c,"Table"),null,c)}(c[0],c)};Opal.modules["asciidoctor/writer"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var g=[],k=a.nil,m=a.const_get_qualified,n=a.const_get_relative,h=a.module,c=a.truthy,q=a.hash2;a.add_stubs(["$respond_to?",
"$write","$+","$chomp","$include"]);return function(d,g){d=[h(d,"Asciidoctor")].concat(g);(function(d,g){d=h(d,"Writer");var e=[d].concat(g),f;a.def(d,"$write",f=function(a,d){c(d["$respond_to?"]("write"))?d.$write(b(a.$chomp(),n(e,"LF"))):m("::","File").$write(d,a,q(["mode"],{mode:n(e,"FILE_WRITE_MODE")}));return k},f.$$arity=2)})(d[0],d);(function(b,c){b=h(b,"VoidWriter");c=[b].concat(c);var d;b.$include(n(c,"Writer"));a.def(b,"$write",d=function(a,b){return k},d.$$arity=2)})(d[0],d)}(g[0],g)};
Opal.modules["asciidoctor/load"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],m=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,q=a.hash2,p=a.truthy,r=a.send;a.add_stubs("$module_function $merge $[] $start $!= $logger $logger= $- $! $=== $dup $tap $each $partition $[]= $split $gsub $+ $respond_to? $keys $raise $join $ancestors $class $mtime $absolute_path $path $dirname $basename $extname $read $rewind $drop $record $== $new $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load".split(" "));
return function(d,l){d=c(d,"Asciidoctor");var e=[d].concat(l),f,k;d.$module_function();a.def(d,"$load",f=function(c,d){var f,l,k,w,t,u,v=m,x=m,y=m,D=m,z=m,A=m,C=m,L=m,E=m,F=m;null==d&&(d=q([],{}));try{d=d.$merge();p(v=d["$[]"]("timings"))&&v.$start("read");p(p(f=x=d["$[]"]("logger"))?x["$!="](h(e,"LoggerManager").$logger()):f)&&(y=[x],r(h(e,"LoggerManager"),"logger=",a.to_a(y)),y[b(y.length,1)]);p((D=d["$[]"]("attributes"))["$!"]())?D=q([],{}):p(n("::","Hash")["$==="](D))?D=D.$merge():p(p(f=(k=n("::",
"Java","skip_raise"))&&(l=n(k,"JavaUtil","skip_raise"))&&n(l,"Map","skip_raise")?"constant":m)?n(n(n("::","Java"),"JavaUtil"),"Map")["$==="](D):f)?D=D.$dup():p(n("::","Array")["$==="](D))?D=r(q([],{}),"tap",[],(w=function(c){var d=w.$$s||this,e;null==c&&(c=m);return r(D,"each",[],(e=function(d){null==d&&(d=m);d=d.$partition("=");var e=a.to_ary(d);var f=null==e[0]?m:e[0];e=null==e[2]?m:e[2];d;y=[f,e];r(c,"[]=",a.to_a(y));return y[b(y.length,1)]},e.$$s=d,e.$$arity=1,e))},w.$$s=this,w.$$arity=1,w)):
p(n("::","String")["$==="](D))?D=r(q([],{}),"tap",[],(t=function(c){var d=t.$$s||this,f;null==c&&(c=m);return r(D.$gsub(h(e,"SpaceDelimiterRx"),g("\\1",h(e,"NULL"))).$gsub(h(e,"EscapedSpaceRx"),"\\1").$split(h(e,"NULL")),"each",[],(f=function(d){null==d&&(d=m);d=d.$partition("=");var e=a.to_ary(d);var f=null==e[0]?m:e[0];e=null==e[2]?m:e[2];d;y=[f,e];r(c,"[]=",a.to_a(y));return y[b(y.length,1)]},f.$$s=d,f.$$arity=1,f))},t.$$s=this,t.$$arity=1,t)):p(p(f=D["$respond_to?"]("keys"))?D["$respond_to?"]("[]"):
f)?D=r(q([],{}),"tap",[],(u=function(c){var d=u.$$s||this,e;null==c&&(c=m);return r(D.$keys(),"each",[],(e=function(d){null==d&&(d=m);y=[d,D["$[]"](d)];r(c,"[]=",a.to_a(y));return y[b(y.length,1)]},e.$$s=d,e.$$arity=1,e))},u.$$s=this,u.$$arity=1,u)):this.$raise(n("::","ArgumentError"),"illegal type for attributes option: "+D.$class().$ancestors().$join(" < "));if(p(n("::","File")["$==="](c)))y=["input_mtime",c.$mtime()],r(d,"[]=",a.to_a(y)),y[b(y.length,1)],y=["docfile",z=n("::","File").$absolute_path(c.$path())],
r(D,"[]=",a.to_a(y)),y[b(y.length,1)],y=["docdir",n("::","File").$dirname(z)],r(D,"[]=",a.to_a(y)),y[b(y.length,1)],y=["docname",h(e,"Helpers").$basename(z,(y=["docfilesuffix",h(e,"Helpers").$extname(z)],r(D,"[]=",a.to_a(y)),y[b(y.length,1)]))],r(D,"[]=",a.to_a(y)),y[b(y.length,1)],A=c.$read();else if(p(c["$respond_to?"]("read"))){try{c.$rewind()}catch(oa){if(a.rescue(oa,[h(e,"StandardError")]))try{m}finally{a.pop_exception()}else throw oa;}A=c.$read()}else p(n("::","String")["$==="](c))?A=c:p(n("::",
"Array")["$==="](c))?A=c.$drop(0):p(c)&&this.$raise(n("::","ArgumentError"),"unsupported input type: "+c.$class());p(v)&&(v.$record("read"),v.$start("parse"));y=["attributes",D];r(d,"[]=",a.to_a(y));y[b(y.length,1)];C=d["$[]"]("parse")["$=="](!1)?h(e,"Document").$new(A,d):h(e,"Document").$new(A,d).$parse();p(v)&&v.$record("parse");return C}catch(oa){if(a.rescue(oa,[h(e,"StandardError")])){L=oa;try{try{E="asciidoctor: FAILED: "+(p(f=D["$[]"]("docfile"))?f:"<stdin>")+": Failed to load AsciiDoc document",
p(L["$respond_to?"]("exception"))?(F=L.$exception(""+E+" - "+L.$message()),F.$set_backtrace(L.$backtrace()),F.stack=L.stack):(F=L.$class().$new(E,L),y=[L.$stack_trace()],r(F,"stack_trace=",a.to_a(y)),y[b(y.length,1)])}catch(ma){if(a.rescue(ma,[h(e,"StandardError")]))try{F=L}finally{a.pop_exception()}else throw ma;}return this.$raise(F)}finally{a.pop_exception()}}else throw oa;}},f.$$arity=-2);a.def(d,"$load_file",k=function(a,b){var c;null==b&&(b=q([],{}));return r(n("::","File"),"open",[a,h(e,"FILE_READ_MODE")],
(c=function(a){var d=c.$$s||this;null==a&&(a=m);return d.$load(a,b)},c.$$s=this,c.$$arity=1,c))},k.$$arity=-2)}(k[0],k)};Opal.modules["asciidoctor/convert"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var k=[],m=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,q=a.hash2,p=a.truthy,r=a.send;a.add_stubs("$module_function $delete $merge $=== $absolute_path $path $load $respond_to? $[]= $- $key? $[] $dirname $expand_path $join $attributes $outfilesuffix $== $raise $pwd $>= $safe $normalize_system_path $mkdir_p $directory? $! $convert $write $< $attr? $basebackend? $attr $uriish? $include? $syntax_highlighter $write_stylesheet? $write_primary_stylesheet $instance $empty? $!= $read_asset $file? $write_stylesheet $open".split(" "));
return function(d,l){d=c(d,"Asciidoctor");var e=[d].concat(l),f,k;d.$module_function();a.def(d,"$convert",f=function(c,d){var f,l,k,w,t,u,v=m,x=m,y=t=m,D=m,z=m,A=m,C=m,L=m,E=m,F=m,I=m;null==d&&(d=q([],{}));(d=d.$merge()).$delete("parse");var J=d.$delete("to_dir");var T=d.$delete("mkdirs");var K=u=d.$delete("to_file");if((!0)["$==="](K)||m["$==="](K))p(v=J)||p(n("::","File")["$==="](c))&&(x=n("::","File").$absolute_path(c.$path())),u=m;else if((!1)["$==="](K))u=m;else{if("/dev/null"["$==="](K))return this.$load(c,
d);p(t=u["$respond_to?"]("write"))||(K=["to_file",v=u],r(d,"[]=",a.to_a(K)),K[b(K.length,1)])}p(d["$key?"]("standalone"))||(p(p(f=x)?f:v)?(K=["standalone",!0],r(d,"[]=",a.to_a(K)),K[b(K.length,1)]):p(d["$key?"]("header_footer"))&&(K=["standalone",d["$[]"]("header_footer")],r(d,"[]=",a.to_a(K)),K[b(K.length,1)]));p(x)?(K=["to_dir",y=n("::","File").$dirname(x)],r(d,"[]=",a.to_a(K)),K[b(K.length,1)]):p(v)&&(p(J)?(K=p(u)?["to_dir",n("::","File").$dirname(n("::","File").$expand_path(n("::","File").$join(J,
u)))]:["to_dir",n("::","File").$expand_path(J)],r(d,"[]=",a.to_a(K)),K[b(K.length,1)]):p(u)&&(K=["to_dir",n("::","File").$dirname(n("::","File").$expand_path(u))],r(d,"[]=",a.to_a(K)),K[b(K.length,1)]));K=this.$load(c,d);p(x)?(D=n("::","File").$join(y,""+K.$attributes()["$[]"]("docname")+K.$outfilesuffix()),D["$=="](x)&&this.$raise(n("::","IOError"),"input file and output file cannot be the same: "+D)):p(v)?(d=p(d["$key?"]("base_dir"))?n("::","File").$expand_path(d["$[]"]("base_dir")):n("::","Dir").$pwd(),
v=p(g(K.$safe(),n(h(e,"SafeMode"),"SAFE")))?d:m,p(J)?(y=K.$normalize_system_path(J,d,v,q(["target_name","recover"],{target_name:"to_dir",recover:!1})),p(u)?(D=K.$normalize_system_path(u,y,m,q(["target_name","recover"],{target_name:"to_dir",recover:!1})),y=n("::","File").$dirname(D)):D=n("::","File").$join(y,""+K.$attributes()["$[]"]("docname")+K.$outfilesuffix())):p(u)&&(D=K.$normalize_system_path(u,d,v,q(["target_name","recover"],{target_name:"to_dir",recover:!1})),y=n("::","File").$dirname(D)),
p(p(f=n("::","File")["$==="](c))?D["$=="](n("::","File").$absolute_path(c.$path())):f)&&this.$raise(n("::","IOError"),"input file and output file cannot be the same: "+D),p(T)?h(e,"Helpers").$mkdir_p(y):p(n("::","File")["$directory?"](y))||this.$raise(n("::","IOError"),"target directory does not exist: "+J+" (hint: set :mkdirs option)")):(D=u,y=m);c=p(p(f=D)?t["$!"]():f)?K.$convert(q(["outfile","outdir"],{outfile:D,outdir:y})):K.$convert();return p(D)?(K.$write(c,D),p(t=t["$!"]())&&(t=K.$safe(),D=
n(h(e,"SafeMode"),"SECURE"),t="number"===typeof t&&"number"===typeof D?t<D:t["$<"](D)),p(p(f=p(l=p(k=p(w=t)?K["$attr?"]("linkcss"):w)?K["$attr?"]("copycss"):k)?K["$basebackend?"]("html"):l)?(p(l=z=K.$attr("stylesdir"))?h(e,"Helpers")["$uriish?"](z):l)["$!"]():f)&&(p(A=K.$attr("stylesheet"))&&(p(h(e,"DEFAULT_STYLESHEET_KEYS")["$include?"](A))?C=!0:p(h(e,"Helpers")["$uriish?"](A)["$!"]())&&(L=!0)),k=p(f=E=K.$syntax_highlighter())?E["$write_stylesheet?"](K):f,p(p(f=p(l=C)?l:L)?f:k)&&(l=K.$normalize_system_path(z,
y,p(g(K.$safe(),n(h(e,"SafeMode"),"SAFE")))?y:m),p(T)?h(e,"Helpers").$mkdir_p(l):p(n("::","File")["$directory?"](l))||this.$raise(n("::","IOError"),"target stylesheet directory does not exist: "+l+" (hint: set :mkdirs option)"),p(C)?h(e,"Stylesheets").$instance().$write_primary_stylesheet(l):p(L)&&(F=p((F=K.$attr("copycss"))["$empty?"]())?K.$normalize_system_path(A):K.$normalize_system_path(F),T=K.$normalize_system_path(A,l,p(g(K.$safe(),n(h(e,"SafeMode"),"SAFE")))?y:m),p(p(f=F["$!="](T))?I=K.$read_asset(F,
q(["warn_on_failure","label"],{warn_on_failure:n("::","File")["$file?"](T)["$!"](),label:"stylesheet"})):f)&&n("::","File").$write(T,I,q(["mode"],{mode:h(e,"FILE_WRITE_MODE")}))),p(k)&&E.$write_stylesheet(K,l))),K):c},f.$$arity=-2);a.def(d,"$convert_file",k=function(a,b){var c;null==b&&(b=q([],{}));return r(n("::","File"),"open",[a,h(e,"FILE_READ_MODE")],(c=function(a){var d=c.$$s||this;null==a&&(a=m);return d.$convert(a,b)},c.$$s=this,c.$$arity=1,c))},k.$$arity=-2);a.alias(d,"render","convert");
d.$module_function("render");a.alias(d,"render_file","convert_file");d.$module_function("render_file")}(k[0],k)};Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,m=a.const_get_relative,n=a.module,h=a.klass,c=a.send,q=a.hash2,p=a.truthy;a.add_stubs("$register_for $merge $proc $[]= $- $== $attr $[] $attr? $join $map $split $lstrip".split(" "));return function(b,d){b=[n(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=h(b,$super,"HighlightJsAdapter");
var f=[b].concat(d),l,k,n,r;b.$register_for("highlightjs","highlight.js");a.def(b,"$initialize",l=function(b){var d=l.$$p,f;d&&(l.$$p=null);var g=0;var h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];a.slice.call(arguments,0,arguments.length);c(this,a.find_super_dispatcher(this,"initialize",l,!1),f,d);return this.name=this.pre_class="highlightjs"},l.$$arity=-1);a.def(b,"$format",k=function(b,d,f){var h;k.$$p&&(k.$$p=null);return c(this,a.find_super_dispatcher(this,"format",k,!1),[b,d,
f.$merge(q(["transform"],{transform:c(this,"proc",[],(h=function(b,f){null==f&&(f=g);b=["class","language-"+(p(d)?d:"none")+" hljs"];c(f,"[]=",a.to_a(b));f=b.length;f="number"===typeof f?f-1:f["$-"](1);return b[f]},h.$$s=this,h.$$arity=2,h))}))],null)},k.$$arity=3);a.def(b,"$docinfo?",n=function(a){return a["$=="]("footer")},n.$$arity=1);return(a.def(b,"$docinfo",r=function(a,b,d){var h,l=this,k=g;k=b.$attr("highlightjsdir",""+d["$[]"]("cdn_base_url")+"/highlight.js/"+m(f,"HIGHLIGHT_JS_VERSION"));
return'<link rel="stylesheet" href="'+k+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+d["$[]"]("self_closing_tag_slash")+'>\n<script src="'+k+'/highlight.min.js">\x3c/script>\n'+function(){return p(b["$attr?"]("highlightjs-languages"))?c(b.$attr("highlightjs-languages").$split(","),"map",[],(h=function(a){null==a&&(a=g);return'<script src="'+k+"/languages/"+a.$lstrip()+'.min.js">\x3c/script>\n'},h.$$s=l,h.$$arity=1,h)).$join():""}()+"<script>hljs.initHighlighting()\x3c/script>"},r.$$arity=
3),g)&&"docinfo"})(m(b,"SyntaxHighlighter"),k(m(b,"SyntaxHighlighter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/syntax_highlighter"]=function(a){var b=a.top,g=[],k=a.nil,m=a.const_get_qualified,n=a.const_get_relative,h=a.module,c=a.hash2,q=a.truthy,p=a.send,r=a.klass;a.add_stubs("$attr_reader $raise $class $private_class_method $extend $register $map $to_s $each $[]= $registry $- $[] $for $=== $new $name $private $include $== $join $content".split(" "));(function(b,d){b=[h(b,"Asciidoctor")].concat(d);
(function(b,d){b=h(b,"SyntaxHighlighter");var e=[b].concat(d),f,g,l,t,u,w,v,x,y,D;b.$attr_reader("name");a.def(b,"$initialize",f=function(a,b,d){null==d&&c([],{});return this.name=this.pre_class=a},f.$$arity=-2);a.def(b,"$docinfo?",g=function(a){return k},g.$$arity=1);a.def(b,"$docinfo",l=function(a){return this.$raise(m("::","NotImplementedError"),""+n(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},l.$$arity=1);a.def(b,"$highlight?",
t=function(){return k},t.$$arity=0);a.def(b,"$highlight",u=function(a,b,c,d){return this.$raise(m("::","NotImplementedError"),""+n(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},u.$$arity=4);a.def(b,"$format",w=function(a,b,c){return this.$raise(m("::","NotImplementedError"),""+n(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},w.$$arity=3);a.def(b,"$write_stylesheet?",v=function(a){return k},
v.$$arity=1);a.def(b,"$write_stylesheet",x=function(a,b){return this.$raise(m("::","NotImplementedError"),""+n(e,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},x.$$arity=2);b.$private_class_method(q(y=(a.defs(b,"$included",D=function(a){return a.$extend(n(e,"Config"))},D.$$arity=1),k)&&"included")?y:"included");(function(b,c){b=h(b,"Config");var d=[b].concat(c),e;a.def(b,"$register_for",e=function(b){var c;var e=
a.slice.call(arguments,0,arguments.length);return p(n(d,"SyntaxHighlighter"),"register",[this].concat(a.to_a(p(e,"map",[],(c=function(a){null==a&&(a=k);return a.$to_s()},c.$$s=this,c.$$arity=1,c)))))},e.$$arity=-1)})(e[0],e);(function(b,d){b=h(b,"Factory");var e=[b].concat(d),f,g,l,r;a.def(b,"$register",f=function(b,c){var d;var e=a.slice.call(arguments,1,arguments.length);return p(e,"each",[],(d=function(c){var e=d.$$s||this;null==c&&(c=k);c=[c,b];p(e.$registry(),"[]=",a.to_a(c));e=c.length;e="number"===
typeof e?e-1:e["$-"](1);return c[e]},d.$$s=this,d.$$arity=1,d))},f.$$arity=-2);a.def(b,"$for",g=function(a){return this.$registry()["$[]"](a)},g.$$arity=1);a.def(b,"$create",l=function(a,b,d){var e;null==b&&(b="html5");null==d&&(d=c([],{}));return q(e=this.$for(a))?(q(m("::","Class")["$==="](e))&&(e=e.$new(a,b,d)),q(e.$name())||this.$raise(m("::","NameError"),""+e.$class()+" must specify a value for `name'"),e):k},l.$$arity=-2);b.$private();a.def(b,"$registry",r=function(){return this.$raise(m("::",
"NotImplementedError"),""+n(e,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},r.$$arity=0)})(e[0],e);(function(b,$super,d){b=r(b,$super,"CustomFactory");d=[b].concat(d);var e,f;b.$$prototype.registry=k;b.$include(n(d,"Factory"));a.def(b,"$initialize",e=function(a){var b;null==a&&(a=k);return this.registry=q(b=a)?b:c([],{})},e.$$arity=-1);b.$private();return(a.def(b,"$registry",f=function(){return this.registry},f.$$arity=0),k)&&"registry"})(e[0],null,e);(function(b,
d){b=h(b,"DefaultFactory");var e=[b].concat(d),f;b.$include(n(e,"Factory"));b.$private();a.class_variable_set(e[0],"@@registry",c([],{}));a.def(b,"$registry",f=function(){var a;return null==(a=e[0].$$cvars["@@registry"])?k:a},f.$$arity=0);n(e,"RUBY_ENGINE")["$=="]("opal")||k})(e[0],e);(function(a,$super,b){a=r(a,$super,"DefaultFactoryProxy");b=[a].concat(b);a.$include(n(b,"DefaultFactory"));n(b,"RUBY_ENGINE")["$=="]("opal");return k})(e[0],n(e,"CustomFactory"),e);(function(b,$super,d){b=r(b,$super,
"Base");d=[b].concat(d);var e;b.$$prototype.pre_class=k;b.$include(n(d,"SyntaxHighlighter"));return(a.def(b,"$format",e=function(a,b,d){var e,f,g=k,h=k,l=g=k;g=q(d["$[]"]("nowrap"))?""+this.pre_class+" highlight nowrap":""+this.pre_class+" highlight";return q(h=d["$[]"]("transform"))?(g=c(["class"],{"class":g}),l=q(b)?c(["data-lang"],{"data-lang":b}):c([],{}),h["$[]"](g,l),"<pre"+p(g,"map",[],(e=function(a,b){null==a&&(a=k);null==b&&(b=k);return" "+a+'="'+b+'"'},e.$$s=this,e.$$arity=2,e)).$join()+
"><code"+p(l,"map",[],(f=function(a,b){null==a&&(a=k);null==b&&(b=k);return" "+a+'="'+b+'"'},f.$$s=this,f.$$arity=2,f)).$join()+">"+a.$content()+"</code></pre>"):'<pre class="'+g+'"><code'+(q(b)?' data-lang="'+b+'"':"")+">"+a.$content()+"</code></pre>"},e.$$arity=3),k)&&"format"})(e[0],null,e);b.$extend(n(e,"DefaultFactory"))})(b[0],b)})(g[0],g);b.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs");n(g,"RUBY_ENGINE")["$=="]("opal");return k};Opal.modules["asciidoctor/timings"]=
function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=[],k=a.nil,m=a.const_get_qualified,n=a.const_get_relative,h=a.module,c=a.klass,q=a.hash2,p=a.send,r=a.truthy,t=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $% $to_f $read_parse $convert $read_parse_convert $private $const_defined? $== $clock_gettime".split(" "));return function(d,e){d=[h(d,"Asciidoctor")].concat(e);(function(d,$super,e){d=c(d,$super,"Timings");var f=[d].concat(e),
g,h,l,w,u,v,x,y,D,z,A,C,L,E,F,I,J,K,T;d.$$prototype.timers=d.$$prototype.log=k;a.def(d,"$initialize",g=function(){this.log=q([],{});return this.timers=q([],{})},g.$$arity=0);a.def(d,"$start",h=function(c){c=[c,this.$now()];p(this.timers,"[]=",a.to_a(c));return c[b(c.length,1)]},h.$$arity=1);a.def(d,"$record",l=function(c){c=[c,b(this.$now(),this.timers.$delete(c))];p(this.log,"[]=",a.to_a(c));return c[b(c.length,1)]},l.$$arity=1);a.def(d,"$time",w=function(b){var c;var d=k;d=a.slice.call(arguments,
0,arguments.length);d=p(d,"reduce",[0],(c=function(a,b){var d=c.$$s||this,e;null==d.log&&(d.log=k);null==a&&(a=k);null==b&&(b=k);b=r(e=d.log["$[]"](b))?e:0;return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)},c.$$s=this,c.$$arity=2,c));return r("number"===typeof d?0<d:d["$>"](0))?d:k},w.$$arity=-1);a.def(d,"$read",u=function(){return this.$time("read")},u.$$arity=0);a.def(d,"$parse",v=function(){return this.$time("parse")},v.$$arity=0);a.def(d,"$read_parse",x=function(){return this.$time("read",
"parse")},x.$$arity=0);a.def(d,"$convert",y=function(){return this.$time("convert")},y.$$arity=0);a.def(d,"$read_parse_convert",D=function(){return this.$time("read","parse","convert")},D.$$arity=0);a.def(d,"$write",z=function(){return this.$time("write")},z.$$arity=0);a.def(d,"$total",A=function(){return this.$time("read","parse","convert","write")},A.$$arity=0);a.def(d,"$print_report",C=function(a,b){null==t.stdout&&(t.stdout=k);null==a&&(a=t.stdout);null==b&&(b=k);r(b)&&a.$puts("Input file: "+
b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},C.$$arity=-1);d.$private();return r(r(L=m("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((E=m("::","Process","skip_raise"))&&(F=E,F)&&(I=F)&&((J=I.$clock_gettime)&&!J.$$stub||I["$respond_to_missing?"]("clock_gettime"))?
"method":k)["$=="]("method"):L)?(a.const_set(f[0],"CLOCK_ID",m(m("::","Process"),"CLOCK_MONOTONIC")),(a.def(d,"$now",K=function(){return m("::","Process").$clock_gettime(n(f,"CLOCK_ID"))},K.$$arity=0),k)&&"now"):(a.def(d,"$now",T=function(){return m("::","Time").$now()},T.$$arity=0),k)&&"now"})(d[0],null,d)}(g[0],g)};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,m=a.const_get_relative,n=a.module,h=a.klass,c=a.hash2,q=a.send,p=a.truthy;a.add_stubs("$attr_reader $each $respond_to? $composed $init_backend_traits $backend_traits $new $find_converter $[]= $- $convert $converter_for $node_name $[] $handles? $raise".split(" "));
return function(b,d){b=[n(b,"Asciidoctor")].concat(d);(function(b,$super,d){b=h(b,$super,"CompositeConverter");[b].concat(d);var f,l,m,n;b.$$prototype.converter_cache=b.$$prototype.converters=g;b.$attr_reader("converters");a.def(b,"$initialize",f=function(b,d,f){var h,l;var m=a.slice.call(arguments,1,arguments.length);var n=a.extract_kwargs(m);if(null==n)n=c([],{});else if(!n.$$is_hash)throw a.ArgumentError.$new("expected kwargs");n=n.$$smap.backend_traits_source;null==n&&(n=g);this.backend=b;q(this.converters=
m,"each",[],(h=function(a){var b=h.$$s||this;null==a&&(a=g);return p(a["$respond_to?"]("composed"))?a.$composed(b):g},h.$$s=this,h.$$arity=1,h));p(n)&&this.$init_backend_traits(n.$backend_traits());return this.converter_cache=q(k("::","Hash"),"new",[],(l=function(b,c){var d=l.$$s||this;null==b&&(b=g);null==c&&(c=g);c=[c,d.$find_converter(c)];q(b,"[]=",a.to_a(c));b=c.length;b="number"===typeof b?b-1:b["$-"](1);return c[b]},l.$$s=this,l.$$arity=2,l))},f.$$arity=-2);a.def(b,"$convert",l=function(a,b,
c){var d;null==b&&(b=g);null==c&&(c=g);return this.$converter_for(b=p(d=b)?d:a.$node_name()).$convert(a,b,c)},l.$$arity=-2);a.def(b,"$converter_for",m=function(a){return this.converter_cache["$[]"](a)},m.$$arity=1);return(a.def(b,"$find_converter",n=function(b){try{var c;q(this.converters,"each",[],(c=function(c){null==c&&(c=g);if(p(c["$handles?"](b)))a.ret(c);else return g},c.$$s=this,c.$$arity=1,c));return this.$raise("Could not find a converter to handle transform: "+b)}catch(w){if(w===a.returner)return w.$v;
throw w;}},n.$$arity=1),g)&&"find_converter"})(m(b,"Converter"),k(m(b,"Converter"),"Base"),b)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function n(a,b){return"number"===
typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],c=a.nil,q=a.const_get_qualified,p=a.const_get_relative,r=a.module,t=a.klass,l=a.send,e=a.hash2,f=a.truthy,u=a.gvars;a.add_stubs("$register_for $default= $- $== $[] $init_backend_traits $node_name $convert_inline_quoted $convert_paragraph $convert_inline_anchor $convert_section $convert_listing $convert_literal $convert_ulist $convert_olist $convert_dlist $convert_admonition $convert_colist $convert_embedded $convert_example $convert_floating_title $convert_image $convert_inline_break $convert_inline_button $convert_inline_callout $convert_inline_footnote $convert_inline_image $convert_inline_indexterm $convert_inline_kbd $convert_inline_menu $convert_open $convert_page_break $convert_preamble $convert_quote $convert_sidebar $convert_stem $convert_table $convert_thematic_break $convert_verse $convert_video $convert_document $convert_toc $convert_pass $convert_audio $empty? $attr $attr? $<< $include? $sub_replacements $gsub $extname $slice $length $doctitle $normalize_web_path $primary_stylesheet_data $instance $read_asset $normalize_system_path $syntax_highlighter $docinfo? $docinfo $id $sections? $doctype $role? $role $join $noheader $convert_outline $generate_manname_section $header? $notitle $title $header $each $authors $> $name $email $sub_macros $+ $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $to_i $attributes $document $sections $level $caption $captioned_title $numbered $<= $< $sectname $sectnum $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $=== $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_attribute_value $append_link_constraint_attrs $highlight? $to_sym $[]= $format $* $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $size $columns $to_h $rows $colspan $rowspan $unshift $shift $pop $split $nil_or_empty? $type $catalog $xreftext $target $reftext $map $chop $read_contents $sub $match $private $upcase $to_s $handles? $send".split(" "));
return function(d,h){d=[r(d,"Asciidoctor")].concat(h);(function(d,$super,h){d=t(d,$super,"Html5Converter");var r=[d].concat(h),v,x,y,D,z,A,C,L,E,F,I,N,J,K,T,O,R,S,V,ja,Y,Z,X,na,la,Ka,Fa,Pa,da,ra,ea,ta,Aa,pa,Ma,Ga,Na,La,Ia,Oa,Ja,Qa,Xa,Wa,Ua;h=c;d.$$prototype.void_element_slash=d.$$prototype.xml_mode=d.$$prototype.refs=c;d.$register_for("html5");h=[["",""]];l(a.const_set(r[0],"QUOTE_TAGS",e("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),{monospaced:["<code>",
"</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",a.to_a(h));h[b(h.length,1)];a.const_set(r[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/);a.const_set(r[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);p(r,"RUBY_ENGINE")["$=="]("opal")?(a.const_set(r[0],"SvgPreambleRx",
new RegExp("^"+p(r,"CC_ALL")+"*?(?=<svg\\b)")),a.const_set(r[0],"SvgStartTagRx",/^<svg[^>]*>/)):c;a.const_set(r[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+p(r,"CC_ANY")+"*?\\1"));a.def(d,"$initialize",v=function(a,b){null==b&&(b=e([],{}));this.backend=a;b["$[]"]("htmlsyntax")["$=="]("xml")?(a="xml",this.xml_mode=!0,this.void_element_slash="/"):(a="html",this.xml_mode=c,this.void_element_slash="");return this.$init_backend_traits(e(["basebackend","filetype","htmlsyntax",
"outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:a,outfilesuffix:".html",supports_templates:!0}))},v.$$arity=-2);a.def(d,"$convert",x=function(b,d,e){var f=x.$$p,g;f&&(x.$$p=null);var h=0;var k=arguments.length;for(g=Array(k);h<k;h++)g[h]=arguments[h];null==d&&(d=b.$node_name());null==e&&(e=c);return d["$=="]("inline_quoted")?this.$convert_inline_quoted(b):d["$=="]("paragraph")?this.$convert_paragraph(b):d["$=="]("inline_anchor")?this.$convert_inline_anchor(b):
d["$=="]("section")?this.$convert_section(b):d["$=="]("listing")?this.$convert_listing(b):d["$=="]("literal")?this.$convert_literal(b):d["$=="]("ulist")?this.$convert_ulist(b):d["$=="]("olist")?this.$convert_olist(b):d["$=="]("dlist")?this.$convert_dlist(b):d["$=="]("admonition")?this.$convert_admonition(b):d["$=="]("colist")?this.$convert_colist(b):d["$=="]("embedded")?this.$convert_embedded(b):d["$=="]("example")?this.$convert_example(b):d["$=="]("floating_title")?this.$convert_floating_title(b):
d["$=="]("image")?this.$convert_image(b):d["$=="]("inline_break")?this.$convert_inline_break(b):d["$=="]("inline_button")?this.$convert_inline_button(b):d["$=="]("inline_callout")?this.$convert_inline_callout(b):d["$=="]("inline_footnote")?this.$convert_inline_footnote(b):d["$=="]("inline_image")?this.$convert_inline_image(b):d["$=="]("inline_indexterm")?this.$convert_inline_indexterm(b):d["$=="]("inline_kbd")?this.$convert_inline_kbd(b):d["$=="]("inline_menu")?this.$convert_inline_menu(b):d["$=="]("open")?
this.$convert_open(b):d["$=="]("page_break")?this.$convert_page_break(b):d["$=="]("preamble")?this.$convert_preamble(b):d["$=="]("quote")?this.$convert_quote(b):d["$=="]("sidebar")?this.$convert_sidebar(b):d["$=="]("stem")?this.$convert_stem(b):d["$=="]("table")?this.$convert_table(b):d["$=="]("thematic_break")?this.$convert_thematic_break(b):d["$=="]("verse")?this.$convert_verse(b):d["$=="]("video")?this.$convert_video(b):d["$=="]("document")?this.$convert_document(b):d["$=="]("toc")?this.$convert_toc(b):
d["$=="]("pass")?this.$convert_pass(b):d["$=="]("audio")?this.$convert_audio(b):l(this,a.find_super_dispatcher(this,"convert",x,!1),g,f)},x.$$arity=-2);a.def(d,"$convert_document",y=function(a){var b,d,h,m,n,q=c,t=c,B=c,u=c,w=c,v=c,x=c,y=c,D=x=c,z=c,A=x=x=c,H=x=D=D=c,C=c,L=c;t=t=c;q="<br"+(t=this.void_element_slash)+">";f((B=a.$attr("asset-uri-scheme","https"))["$empty?"]())||(B=""+B+":");u=""+B+"//cdnjs.cloudflare.com/ajax/libs";w=a["$attr?"]("linkcss");v=["<!DOCTYPE html>"];x=f(a["$attr?"]("nolang"))?
"":' lang="'+a.$attr("lang","en")+'"';v["$<<"]("<html"+(f(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+x+">");v["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+t+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+t+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+t+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+t+">");if(f(a["$attr?"]("app-name")))v["$<<"]('<meta name="application-name" content="'+
a.$attr("app-name")+'"'+t+">");if(f(a["$attr?"]("description")))v["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+t+">");if(f(a["$attr?"]("keywords")))v["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+t+">");if(f(a["$attr?"]("authors")))v["$<<"]('<meta name="author" content="'+(f((y=a.$sub_replacements(a.$attr("authors")))["$include?"]("<"))?y.$gsub(p(r,"XmlSanitizeRx"),""):y)+'"'+t+">");if(f(a["$attr?"]("copyright")))v["$<<"]('<meta name="copyright" content="'+
a.$attr("copyright")+'"'+t+">");f(a["$attr?"]("favicon"))&&(f((x=a.$attr("favicon"))["$empty?"]())?(x="favicon.ico",D="image/x-icon"):D=f(z=p(r,"Helpers").$extname(x,c))?z["$=="](".ico")?"image/x-icon":"image/"+z.$slice(1,z.$length()):"image/x-icon",v["$<<"]('<link rel="icon" type="'+D+'" href="'+x+'"'+t+">"));v["$<<"]("<title>"+a.$doctitle(e(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if(f(p(r,"DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))){if(f(x=a.$attr("webfonts")))v["$<<"]('<link rel="stylesheet" href="'+
B+"//fonts.googleapis.com/css?family="+(f(x["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":x)+'"'+t+">");if(f(w))v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(p(r,"DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+t+">");else v["$<<"]("<style>\n"+p(r,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")}else if(f(a["$attr?"]("stylesheet")))if(f(w))v["$<<"]('<link rel="stylesheet" href="'+
a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+t+">");else v["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),e(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(f(a["$attr?"]("icons","font")))if(f(a["$attr?"]("iconfont-remote")))v["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+u+"/font-awesome/"+p(r,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+t+">");
else x=""+a.$attr("iconfont-name","font-awesome")+".css",v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(x,a.$attr("stylesdir",""),!1)+'"'+t+">");if(f(f(b=A=a.$syntax_highlighter())?A["$docinfo?"]("head"):b))v["$<<"](A.$docinfo("head",a,e(["linkcss"],{linkcss:w})));if(!f((D=a.$docinfo())["$empty?"]()))v["$<<"](D);v["$<<"]("</head>");D=f(a.$id())?['id="'+a.$id()+'"']:[];H=f(f(b=f(d=f(h=x=a["$sections?"]())?a["$attr?"]("toc-class"):h)?a["$attr?"]("toc"):d)?a["$attr?"]("toc-placement",
"auto"):b)?[a.$doctype(),a.$attr("toc-class"),"toc-"+a.$attr("toc-position","header")]:[a.$doctype()];if(f(a["$role?"]()))H["$<<"](a.$role());D["$<<"]('class="'+H.$join(" ")+'"');if(f(a["$attr?"]("max-width")))D["$<<"]('style="max-width: '+a.$attr("max-width")+';"');v["$<<"]("<body "+D.$join(" ")+">");if(!f((D=a.$docinfo("header"))["$empty?"]()))v["$<<"](D);if(!f(a.$noheader())){v["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){v["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if(f(f(b=
f(d=x)?a["$attr?"]("toc"):d)?a["$attr?"]("toc-placement","auto"):b))v["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$convert_outline(a)+"\n</div>");if(f(a["$attr?"]("manpurpose")))v["$<<"](this.$generate_manname_section(a))}else{if(f(a["$header?"]())){if(!f(a.$notitle()))v["$<<"]("<h1>"+a.$header().$title()+"</h1>");C=[];L=1;l(a.$authors(),"each",[],(m=function(b){null==b&&(b=c);C["$<<"]('<span id="author'+(f(g(L,1))?L:"")+
'" class="author">'+a.$sub_replacements(b.$name())+"</span>"+q);if(f(b.$email()))C["$<<"]('<span id="email'+(f(g(L,1))?L:"")+'" class="email">'+a.$sub_macros(b.$email())+"</span>"+q);return L=k(L,1)},m.$$s=this,m.$$arity=1,m));if(f(a["$attr?"]("revnumber")))C["$<<"]('<span id="revnumber">'+(f(b=a.$attr("version-label"))?b:"").$downcase()+" "+a.$attr("revnumber")+(f(a["$attr?"]("revdate"))?",":"")+"</span>");if(f(a["$attr?"]("revdate")))C["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");
if(f(a["$attr?"]("revremark")))C["$<<"](""+q+'<span id="revremark">'+a.$attr("revremark")+"</span>");f(C["$empty?"]())||(v["$<<"]('<div class="details">'),v.$concat(C),v["$<<"]("</div>"))}if(f(f(b=f(d=x)?a["$attr?"]("toc"):d)?a["$attr?"]("toc-placement","auto"):b))v["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$convert_outline(a)+"\n</div>")}v["$<<"]("</div>")}v["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");f(f(b=
a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(v["$<<"]('<div id="footnotes">\n<hr'+t+">"),l(a.$footnotes(),"each",[],(n=function(a){null==a&&(a=c);return v["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},n.$$s=this,n.$$arity=1,n)),v["$<<"]("</div>"));if(!f(a.$nofooter())){v["$<<"]('<div id="footer">');v["$<<"]('<div id="footer-text">');if(f(a["$attr?"]("revnumber")))v["$<<"](""+a.$attr("version-label")+
" "+a.$attr("revnumber")+q);if(f(f(b=a["$attr?"]("last-update-label"))?a["$attr?"]("reproducible")["$!"]():b))v["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));v["$<<"]("</div>");v["$<<"]("</div>")}if(f(f(b=A)?A["$docinfo?"]("footer"):b))v["$<<"](A.$docinfo("footer",a,e(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:u,linkcss:w,self_closing_tag_slash:t})));f(a["$attr?"]("stem"))&&(t=a.$attr("eqnums","none"),f(t["$empty?"]())&&(t="AMS"),t=' equationNumbers: { autoNumber: "'+
t+'" } ',v["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+p(r,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+p(r,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+p(r,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+t+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains(\'stemblock\')) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n\x3c/script>\n<script src="'+
u+"/mathjax/"+p(r,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));if(!f((D=a.$docinfo("footer"))["$empty?"]()))v["$<<"](D);v["$<<"]("</body>");v["$<<"]("</html>");return v.$join(p(r,"LF"))},y.$$arity=1);a.def(d,"$convert_embedded",D=function(a){var b,d,e,g,h=c,k=c,m=c;h=[];if(a.$doctype()["$=="]("manpage")){if(f(a.$notitle())||(k=f(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$doctitle()+" Manual Page</h1>")),f(a["$attr?"]("manpurpose")))h["$<<"](this.$generate_manname_section(a))}else f(f(b=
a["$header?"]())?a.$notitle()["$!"]():b)&&(k=f(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if(f(f(b=f(d=f(e=a["$sections?"]())?a["$attr?"]("toc"):e)?(m=a.$attr("toc-placement"))["$!="]("macro"):d)?m["$!="]("preamble"):b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$convert_outline(a)+"\n</div>");h["$<<"](a.$content());f(f(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(h["$<<"]('<div id="footnotes">\n<hr'+
this.void_element_slash+">"),l(a.$footnotes(),"each",[],(g=function(a){null==a&&(a=c);return h["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</div>"));return h.$join(p(r,"LF"))},D.$$arity=1);a.def(d,"$convert_outline",z=function(a,b){var d,g,h,k=c,q=c,t=c,u=c;null==b&&(b=e([],{}));if(!f(a["$sections?"]()))return c;k=f(d=b["$[]"]("sectnumlevels"))?d:(f(g=a.$document().$attributes()["$[]"]("sectnumlevels"))?
g:3).$to_i();q=f(d=b["$[]"]("toclevels"))?d:(f(g=a.$document().$attributes()["$[]"]("toclevels"))?g:2).$to_i();t=a.$sections();u=['<ul class="sectlevel'+t["$[]"](0).$level()+'">'];l(t,"each",[],(h=function(b){var d=h.$$s||this,g,l=c,t=c;null==b&&(b=c);var B=b.$level();var w=f(b.$caption())?b.$captioned_title():f(f(g=b.$numbered())?m(B,k):g)?f(f(g=n(B,2))?a.$document().$doctype()["$=="]("book"):g)?b.$sectname()["$=="]("chapter")?(f(l=a.$document().$attributes()["$[]"]("chapter-signifier"))?""+l+" ":
"")+b.$sectnum()+" "+b.$title():b.$sectname()["$=="]("part")?(f(l=a.$document().$attributes()["$[]"]("part-signifier"))?""+l+" ":"")+b.$sectnum(c,":")+" "+b.$title():""+b.$sectnum()+" "+b.$title():""+b.$sectnum()+" "+b.$title():b.$title();f(w["$include?"]("<a"))&&(w=w.$gsub(p(r,"DropAnchorRx"),""));return f(f(g=n(B,q))?t=d.$convert_outline(b,e(["toclevels","sectnumlevels"],{toclevels:q,sectnumlevels:k})):g)?(u["$<<"]('<li><a href="#'+b.$id()+'">'+w+"</a>"),u["$<<"](t),u["$<<"]("</li>")):u["$<<"]('<li><a href="#'+
b.$id()+'">'+w+"</a></li>")},h.$$s=this,h.$$arity=1,h));u["$<<"]("</ul>");return u.$join(p(r,"LF"))},z.$$arity=-2);a.def(d,"$convert_section",A=function(a){var b,d,e=c,g=c;var h=a.$document().$attributes();var l=a.$level();var p=f(a.$caption())?a.$captioned_title():f(f(b=a.$numbered())?m(l,(f(d=h["$[]"]("sectnumlevels"))?d:3).$to_i()):b)?f(f(b=n(l,2))?a.$document().$doctype()["$=="]("book"):b)?a.$sectname()["$=="]("chapter")?(f(e=h["$[]"]("chapter-signifier"))?""+e+" ":"")+a.$sectnum()+" "+a.$title():
a.$sectname()["$=="]("part")?(f(e=h["$[]"]("part-signifier"))?""+e+" ":"")+a.$sectnum(c,":")+" "+a.$title():""+a.$sectnum()+" "+a.$title():""+a.$sectnum()+" "+a.$title():a.$title();f(a.$id())?(b=' id="'+(d=a.$id())+'"',f(h["$[]"]("sectlinks"))&&(p='<a class="link" href="#'+d+'">'+p+"</a>"),f(h["$[]"]("sectanchors"))&&(p=h["$[]"]("sectanchors")["$=="]("after")?""+p+'<a class="anchor" href="#'+d+'"></a>':'<a class="anchor" href="#'+d+'"></a>'+p)):b="";return l["$=="](0)?"<h1"+b+' class="sect0'+(f(g=
a.$role())?" "+g:"")+'">'+p+"</h1>\n"+a.$content():'<div class="sect'+l+(f(g=a.$role())?" "+g:"")+'">\n<h'+k(l,1)+b+">"+p+"</h"+k(l,1)+">\n"+(l["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},A.$$arity=1);a.def(d,"$convert_admonition",C=function(a){var b,d=c;var e=f(a.$id())?' id="'+a.$id()+'"':"";var g=a.$attr("name");var h=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var l=f(a.$document()["$attr?"]("icons"))?f(f(b=a.$document()["$attr?"]("icons",
"font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+g+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(g)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+e+' class="admonitionblock '+g+(f(d=a.$role())?" "+d:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+l+'\n</td>\n<td class="content">\n'+h+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},C.$$arity=1);a.def(d,"$convert_audio",L=function(a){var b;
var c=this.xml_mode;var d=f(a.$id())?' id="'+a.$id()+'"':"";var e=' class="'+["audioblock",a.$role()].$compact().$join(" ")+'"';var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=a.$attr("start");var l=a.$attr("end");h=f(f(b=h)?b:l)?"#t="+(f(b=h)?b:"")+(f(l)?","+l:""):"";return"<div"+d+e+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+h+'"'+(f(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",c):"")+(f(a["$option?"]("nocontrols"))?
"":this.$append_boolean_attribute("controls",c))+(f(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},L.$$arity=1);a.def(d,"$convert_colist",E=function(a){var b,d=c,e=c,g=c,h=g=c,m=c;d=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["colist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';d["$<<"]("<div"+e+g+">");if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");if(f(a.$document()["$attr?"]("icons"))){d["$<<"]("<table>");
var n=[a.$document()["$attr?"]("icons","font"),0];h=n[0];m=n[1];n;l(a.$items(),"each",[],(b=function(e){var g=b.$$s||this;null==g.void_element_slash&&(g.void_element_slash=c);null==e&&(e=c);m=k(m,1);g=f(h)?'<i class="conum" data-value="'+m+'"></i><b>'+m+"</b>":'<img src="'+a.$icon_uri("callouts/"+m)+'" alt="'+m+'"'+g.void_element_slash+">";return d["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+e.$text()+(f(e["$blocks?"]())?k(p(r,"LF"),e.$content()):"")+"</td>\n</tr>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</table>")}else d["$<<"]("<ol>"),
l(a.$items(),"each",[],(n=function(a){null==a&&(a=c);return d["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(f(a["$blocks?"]())?k(p(r,"LF"),a.$content()):"")+"\n</li>")},n.$$s=this,n.$$arity=1,n)),d["$<<"]("</ol>");d["$<<"]("</div>");return d.$join(p(r,"LF"))},E.$$arity=1);a.def(d,"$convert_dlist",F=function(a){var b,d,e,g,h=c,k=c,m=c,n=m=m=c,q=k=c;h=[];k=f(a.$id())?' id="'+a.$id()+'"':"";m=a.$style();m=("qanda"["$==="](m)?["qlist","qanda",a.$role()]:"horizontal"["$==="](m)?["hdlist",a.$role()]:["dlist",a.$style(),
a.$role()]).$compact();m=' class="'+m.$join(" ")+'"';h["$<<"]("<div"+k+m+">");if(f(a["$title?"]()))h["$<<"]('<div class="title">'+a.$title()+"</div>");m=a.$style();"qanda"["$==="](m)?(h["$<<"]("<ol>"),l(a.$items(),"each",[],(b=function(a,d){var e=b.$$s||this,g;null==a&&(a=c);null==d&&(d=c);h["$<<"]("<li>");l(a,"each",[],(g=function(a){null==a&&(a=c);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=e,g.$$arity=1,g));if(f(d)){if(f(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(f(d["$blocks?"]()))h["$<<"](d.$content())}return h["$<<"]("</li>")},
b.$$s=this,b.$$arity=2,b)),h["$<<"]("</ol>")):"horizontal"["$==="](m)?(n=this.void_element_slash,h["$<<"]("<table>"),f(f(d=a["$attr?"]("labelwidth"))?d:a["$attr?"]("itemwidth"))&&(h["$<<"]("<colgroup>"),k=f(a["$attr?"]("labelwidth"))?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+n+">"),k=f(a["$attr?"]("itemwidth"))?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':"",h["$<<"]("<col"+k+n+">"),h["$<<"]("</colgroup>")),l(a.$items(),"each",[],(e=function(b,d){var g=
e.$$s||this,k,m=c;null==b&&(b=c);null==d&&(d=c);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+(f(a["$option?"]("strong"))?" strong":"")+'">');m=!0;l(b,"each",[],(k=function(a){null==a&&(a=c);if(!f(m))h["$<<"]("<br"+n+">");h["$<<"](a.$text());return m=c},k.$$s=g,k.$$arity=1,k));h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');if(f(d)){if(f(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(f(d["$blocks?"]()))h["$<<"](d.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},e.$$s=this,e.$$arity=
2,e)),h["$<<"]("</table>")):(h["$<<"]("<dl>"),q=f(a.$style())?"":' class="hdlist1"',l(a.$items(),"each",[],(g=function(a,b){var d=g.$$s||this,e;null==a&&(a=c);null==b&&(b=c);l(a,"each",[],(e=function(a){null==a&&(a=c);return h["$<<"]("<dt"+q+">"+a.$text()+"</dt>")},e.$$s=d,e.$$arity=1,e));if(f(b)){h["$<<"]("<dd>");if(f(b["$text?"]()))h["$<<"]("<p>"+b.$text()+"</p>");if(f(b["$blocks?"]()))h["$<<"](b.$content());return h["$<<"]("</dd>")}return c},g.$$s=this,g.$$arity=2,g)),h["$<<"]("</dl>"));h["$<<"]("</div>");
return h.$join(p(r,"LF"))},F.$$arity=1);a.def(d,"$convert_example",I=function(a){var b=c;var d=f(a.$id())?' id="'+a.$id()+'"':"";if(f(a["$option?"]("collapsible"))){var e=f(a.$role())?' class="'+a.$role()+'"':"";b=f(a["$title?"]())?'<summary class="title">'+a.$title()+"</summary>":'<summary class="title">Details</summary>';return"<details"+d+e+(f(a["$option?"]("open"))?" open":"")+">\n"+b+'\n<div class="content">\n'+a.$content()+"\n</div>\n</details>"}e=f(a["$title?"]())?'<div class="title">'+a.$captioned_title()+
"</div>\n":"";return"<div"+d+' class="exampleblock'+(f(b=a.$role())?" "+b:"")+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},I.$$arity=1);a.def(d,"$convert_floating_title",N=function(a){var b="h"+k(a.$level(),1);var c=f(a.$id())?' id="'+a.$id()+'"':"";var d=[a.$style(),a.$role()].$compact();return"<"+b+c+' class="'+d.$join(" ")+'">'+a.$title()+"</"+b+">"},N.$$arity=1);a.def(d,"$convert_image",J=function(a){var b,d,e,g=c,h=c,l=c;var k=a.$attr("target");var m=f(a["$attr?"]("width"))?
' width="'+a.$attr("width")+'"':"";var t=f(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";f(f(b=f(d=f(e=a["$attr?"]("format","svg"))?e:k["$include?"](".svg"))?n(a.$document().$safe(),q(p(r,"SafeMode"),"SECURE")):d)?f(d=g=a["$option?"]("inline"))?d:h=a["$option?"]("interactive"):b)&&(f(g)?l=f(b=this.$read_svg_contents(a,k))?b:'<span class="alt">'+a.$alt()+"</span>":f(h)&&(l=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+
'"'+m+t+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",l='<object type="image/svg+xml" data="'+a.$image_uri(k)+'"'+m+t+">"+l+"</object>"));l=f(b=l)?b:'<img src="'+a.$image_uri(k)+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+m+t+this.void_element_slash+">";f(a["$attr?"]("link"))&&(l='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+l+"</a>");b=f(a.$id())?' id="'+a.$id()+'"':"";k=["imageblock"];if(f(a["$attr?"]("float")))k["$<<"](a.$attr("float"));
if(f(a["$attr?"]("align")))k["$<<"]("text-"+a.$attr("align"));if(f(a.$role()))k["$<<"](a.$role());k=' class="'+k.$join(" ")+'"';a=f(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+b+k+'>\n<div class="content">\n'+l+"\n</div>"+a+"\n</div>"},J.$$arity=1);a.def(d,"$convert_listing",K=function(d){var g,h=c,m=c,p=c,n=c,q=c,r=c,t=c;var u=f(g=d["$option?"]("nowrap"))?g:d.$document()["$attr?"]("prewrap")["$!"]();d.$style()["$=="]("source")?(h=d.$attr("language"),f(m=
d.$document().$syntax_highlighter())?(p=f(m["$highlight?"]())?e(["css_mode","style"],{css_mode:(f(g=(n=d.$document().$attributes())["$[]"](""+m.$name()+"-css"))?g:"class").$to_sym(),style:n["$[]"](""+m.$name()+"-style")}):e([],{}),u=["nowrap",u],l(p,"[]=",a.to_a(u)),u[b(u.length,1)]):(q='<pre class="highlight'+(f(u)?" nowrap":"")+'"><code'+(f(h)?' class="language-'+h+'" data-lang="'+h+'"':"")+">",r="</code></pre>")):(q="<pre"+(f(u)?' class="nowrap"':"")+">",r="</pre>");u=f(d.$id())?' id="'+d.$id()+
'"':"";n=f(d["$title?"]())?'<div class="title">'+d.$captioned_title()+"</div>\n":"";return"<div"+u+' class="listingblock'+(f(t=d.$role())?" "+t:"")+'">\n'+n+'<div class="content">\n'+(f(m)?m.$format(d,h,p):k(k(q,f(g=d.$content())?g:""),r))+"\n</div>\n</div>"},K.$$arity=1);a.def(d,"$convert_literal",T=function(a){var b,d=c;var e=f(a.$id())?' id="'+a.$id()+'"':"";var g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";var h=f(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");
return"<div"+e+' class="literalblock'+(f(d=a.$role())?" "+d:"")+'">\n'+g+'<div class="content">\n<pre'+(f(h)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},T.$$arity=1);a.def(d,"$convert_stem",O=function(b){var d,e,g=c,h=c,k=c,m=c,n=c,q=d=c,t=c;g=f(b.$id())?' id="'+b.$id()+'"':"";h=f(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":"";d=p(r,"BLOCK_MATH_DELIMITERS")["$[]"](k=b.$style().$to_sym());var w=a.to_ary(d);m=null==w[0]?c:w[0];n=null==w[1]?c:w[1];d;f(d=b.$content())?
(f((w=k["$=="]("asciimath"))?d["$include?"](p(r,"LF")):k["$=="]("asciimath"))&&(q="<br"+this.void_element_slash+">"+p(r,"LF"),d=l(d,"gsub",[p(r,"StemBreakRx")],(e=function(){var a,b=""+n,d=((a=u["~"])===c?c:a["$[]"](0)).$count(p(r,"LF"));a="number"===typeof q&&"number"===typeof d?q*d:q["$*"](d);return b+a+m},e.$$s=this,e.$$arity=0,e))),f(f(w=d["$start_with?"](m))?d["$end_with?"](n):w)||(d=""+m+d+n)):d="";return"<div"+g+' class="stemblock'+(f(t=b.$role())?" "+t:"")+'">\n'+h+'<div class="content">\n'+
d+"\n</div>\n</div>"},O.$$arity=1);a.def(d,"$convert_olist",R=function(a){var b,d=c,e=c,g=c,h=e=g=c,k=g=c;d=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["olist",a.$style(),a.$role()].$compact();g=' class="'+g.$join(" ")+'"';d["$<<"]("<div"+e+g+">");if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");e=f(h=a.$list_marker_keyword())?' type="'+h+'"':"";g=f(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";k=f(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",
this.xml_mode):"";d["$<<"]('<ol class="'+a.$style()+'"'+e+g+k+">");l(a.$items(),"each",[],(b=function(a){null==a&&(a=c);if(f(a.$id()))d["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))d["$<<"]('<li class="'+a.$role()+'">');else d["$<<"]("<li>");d["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</ol>");d["$<<"]("</div>");return d.$join(p(r,"LF"))},R.$$arity=
1);a.def(d,"$convert_open",S=function(a){var b,d,e=c;if((d=a.$style())["$=="]("abstract")){if(f(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";var h=f(a.$id())?' id="'+a.$id()+'"':"";var l=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+h+' class="quoteblock abstract'+
(f(e=a.$role())?" "+e:"")+'">\n'+l+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(f((b=d["$=="]("partintro"))?f(h=f(l=g(a.$level(),0))?l:a.$parent().$context()["$!="]("section"))?h:a.$document().$doctype()["$!="]("book"):d["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),"";h=f(a.$id())?' id="'+a.$id()+'"':"";l=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":
"";return"<div"+h+' class="openblock'+(f(f(b=d)?d["$!="]("open"):b)?" "+d:"")+(f(e=a.$role())?" "+e:"")+'">\n'+l+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},S.$$arity=1);a.def(d,"$convert_page_break",V=function(a){return'<div style="page-break-after: always;"></div>'},V.$$arity=1);a.def(d,"$convert_paragraph",ja=function(a){var b=f(a.$role())?(f(a.$id())?' id="'+a.$id()+'"':"")+' class="paragraph '+a.$role()+'"':f(a.$id())?' id="'+a.$id()+'" class="paragraph"':' class="paragraph"';
return f(a["$title?"]())?"<div"+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div"+b+">\n<p>"+a.$content()+"</p>\n</div>"},ja.$$arity=1);a.alias(d,"convert_pass","content_only");a.def(d,"$convert_preamble",Y=function(a){var b,d,e=c;var g=f(f(b=f(d=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():d)?e["$attr?"]("toc"):b)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$convert_outline(e)+
"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},Y.$$arity=1);a.def(d,"$convert_quote",Z=function(a){var b=f(a.$id())?' id="'+a.$id()+'"':"";var d=' class="'+["quoteblock",a.$role()].$compact().$join(" ")+'"';var e=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):c;var h=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):c;if(f(f(g)?g:h)){var l=f(h)?"<cite>"+h+"</cite>":
"";g=f(g)?"&#8212; "+g+(f(h)?"<br"+this.void_element_slash+">\n":""):"";l='\n<div class="attribution">\n'+g+l+"\n</div>"}else l="";return"<div"+b+d+">"+e+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+l+"\n</div>"},Z.$$arity=1);a.def(d,"$convert_thematic_break",X=function(a){return"<hr"+this.void_element_slash+">"},X.$$arity=1);a.def(d,"$convert_sidebar",na=function(a){var b=c;var d=f(a.$id())?' id="'+a.$id()+'"':"";var e=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+
d+' class="sidebarblock'+(f(b=a.$role())?" "+b:"")+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},na.$$arity=1);a.def(d,"$convert_table",la=function(a){var b,d,e,h=c,m=c,n=c,q=c,t=c,u=q=c,w=t=n=u=c;h=[];m=f(a.$id())?' id="'+a.$id()+'"':"";n=["tableblock","frame-"+a.$attr("frame","all","table-frame"),"grid-"+a.$attr("grid","all","table-grid")];if(f(q=a.$attr("stripes",c,"table-stripes")))n["$<<"]("stripes-"+q);t=[];if(f(f(b=q=a["$option?"]("autowidth"))?a["$attr?"]("width")["$!"]():
b))n["$<<"]("fit-content");else if((u=a.$attr("tablepcwidth"))["$=="](100))n["$<<"]("stretch");else t["$<<"]("width: "+u+"%;");if(f(a["$attr?"]("float")))n["$<<"](a.$attr("float"));if(f(u=a.$role()))n["$<<"](u);n=' class="'+n.$join(" ")+'"';t=f(t["$empty?"]())?"":' style="'+t.$join(" ")+'"';h["$<<"]("<table"+m+n+t+">");if(f(a["$title?"]()))h["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");f(g(a.$attr("rowcount"),0))&&(w=this.void_element_slash,h["$<<"]("<colgroup>"),f(q)?h=k(h,
p(r,"Array").$new(a.$columns().$size(),"<col"+w+">")):l(a.$columns(),"each",[],(d=function(a){null==a&&(a=c);return h["$<<"](f(a["$option?"]("autowidth"))?"<col"+w+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+w+">")},d.$$s=this,d.$$arity=1,d)),h["$<<"]("</colgroup>"),l(a.$rows().$to_h(),"each",[],(e=function(b,d){var g=e.$$s||this,k;null==b&&(b=c);null==d&&(d=c);if(f(d["$empty?"]()))return c;h["$<<"]("<t"+b+">");l(d,"each",[],(k=function(d){var e=k.$$s||this,g;null==d&&(d=c);h["$<<"]("<tr>");
l(d,"each",[],(g=function(d){var e,g=c;null==d&&(d=c);if(b["$=="]("head"))g=d.$text();else{var l=d.$style();g="asciidoc"["$==="](l)?'<div class="content">'+d.$content()+"</div>":"literal"["$==="](l)?'<div class="literal"><pre>'+d.$text()+"</pre></div>":f((g=d.$content())["$empty?"]())?"":'<p class="tableblock">'+g.$join('</p>\n<p class="tableblock">')+"</p>"}l=f(f(e=b["$=="]("head"))?e:d.$style()["$=="]("header"))?"th":"td";e=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+
'"';var k=f(d.$colspan())?' colspan="'+d.$colspan()+'"':"";d=f(d.$rowspan())?' rowspan="'+d.$rowspan()+'"':"";var m=f(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return h["$<<"]("<"+l+e+k+d+m+">"+g+"</"+l+">")},g.$$s=e,g.$$arity=1,g));return h["$<<"]("</tr>")},k.$$s=g,k.$$arity=1,k));return h["$<<"]("</t"+b+">")},e.$$s=this,e.$$arity=2,e)));h["$<<"]("</table>");return h.$join(p(r,"LF"))},la.$$arity=1);a.def(d,"$convert_toc",Ka=function(a){var b,
d,g=c;if(!f(f(b=f(d=(g=a.$document())["$attr?"]("toc-placement","macro"))?g["$sections?"]():d)?g["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";f(a.$id())?(b=' id="'+a.$id()+'"',d=' id="'+a.$id()+'title"'):(b=' id="toc"',d=' id="toctitle"');var h=f(a["$title?"]())?a.$title():g.$attr("toc-title");var l=f(a["$attr?"]("levels"))?a.$attr("levels").$to_i():c;a=f(a["$role?"]())?a.$role():g.$attr("toc-class","toc");return"<div"+b+' class="'+a+'">\n<div'+d+' class="title">'+h+"</div>\n"+this.$convert_outline(g,
e(["toclevels"],{toclevels:l}))+"\n</div>"},Ka.$$arity=1);a.def(d,"$convert_ulist",Fa=function(a){var b,d=c,e=c,g=c,h=c,k=c,m=c,n=c;d=[];e=f(a.$id())?' id="'+a.$id()+'"':"";g=["ulist",a.$style(),a.$role()].$compact();h=k="";f(m=a["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),n=' class="checklist"',f(a["$option?"]("interactive"))?f(this.xml_mode)?(h='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '):(h='<input type="checkbox" data-item-complete="1" checked> ',
k='<input type="checkbox" data-item-complete="0"> '):f(a.$document()["$attr?"]("icons","font"))?(h='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(h="&#10003; ",k="&#10063; ")):n=f(a.$style())?' class="'+a.$style()+'"':"";d["$<<"]("<div"+e+' class="'+g.$join(" ")+'">');if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");d["$<<"]("<ul"+n+">");l(a.$items(),"each",[],(b=function(a){var b;null==a&&(a=c);if(f(a.$id()))d["$<<"]('<li id="'+a.$id()+'"'+(f(a.$role())?
' class="'+a.$role()+'"':"")+">");else if(f(a.$role()))d["$<<"]('<li class="'+a.$role()+'">');else d["$<<"]("<li>");if(f(f(b=m)?a["$attr?"]("checkbox"):b))d["$<<"]("<p>"+(f(a["$attr?"]("checked"))?h:k)+a.$text()+"</p>");else d["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));d["$<<"]("</ul>");d["$<<"]("</div>");return d.$join(p(r,"LF"))},Fa.$$arity=1);a.def(d,"$convert_verse",Pa=function(a){var b=f(a.$id())?' id="'+a.$id()+
'"':"";var d=' class="'+["verseblock",a.$role()].$compact().$join(" ")+'"';var e=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"";var g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):c;var h=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):c;if(f(f(g)?g:h)){var l=f(h)?"<cite>"+h+"</cite>":"";g=f(g)?"&#8212; "+g+(f(h)?"<br"+this.void_element_slash+">\n":""):"";l='\n<div class="attribution">\n'+g+l+"\n</div>"}else l="";return"<div"+b+d+">"+e+'\n<pre class="content">'+a.$content()+
"</pre>"+l+"\n</div>"},Pa.$$arity=1);a.def(d,"$convert_video",da=function(b){var d,e,g=this,h=c,l=c,k=c,m=c,p=c,n=c,q=c,r=c,t=c,u=c,w=c,v=c,x=c,y=c,B=c,D=c,z=c,A=c,H=c,C=c,L=c,E=c,F=c,I=c,N=c,J=c,K=c,T=c,O=c,U=c,R=c,ca=c,S=c,W=c,ha=c;h=g.xml_mode;l=f(b.$id())?' id="'+b.$id()+'"':"";k=["videoblock"];if(f(b["$attr?"]("float")))k["$<<"](b.$attr("float"));if(f(b["$attr?"]("align")))k["$<<"]("text-"+b.$attr("align"));if(f(b.$role()))k["$<<"](b.$role());m=' class="'+k.$join(" ")+'"';p=f(b["$title?"]())?
'\n<div class="title">'+b.$title()+"</div>":"";n=f(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"";q=f(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){r=b.$attr("poster");if("vimeo"["$==="](r))return f((t=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(t=""+t+":"),u=f(b["$attr?"]("start"))?"#at="+b.$attr("start"):"",w=["?"],v=f(b["$option?"]("autoplay"))?""+(f(d=w.$pop())?d:"&amp;")+"autoplay=1":"",x=f(b["$option?"]("loop"))?""+(f(d=w.$pop())?
d:"&amp;")+"loop=1":"",y=f(b["$option?"]("muted"))?""+(f(d=w.$pop())?d:"&amp;")+"muted=1":"","<div"+l+m+">"+p+'\n<div class="content">\n<iframe'+n+q+' src="'+t+"//player.vimeo.com/video/"+b.$attr("target")+v+x+y+u+'" frameborder="0"'+(f(b["$option?"]("nofullscreen"))?"":g.$append_boolean_attribute("allowfullscreen",h))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](r))return f((t=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(t=""+t+":"),B=f(b["$option?"]("related"))?1:0,D=f(b["$attr?"]("start"))?
"&amp;start="+b.$attr("start"):"",z=f(b["$attr?"]("end"))?"&amp;end="+b.$attr("end"):"",v=f(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",x=f(A=b["$option?"]("loop"))?"&amp;loop=1":"",H=f(b["$option?"]("muted"))?"&amp;mute=1":"",C=f(b["$option?"]("nocontrols"))?"&amp;controls=0":"",f(b["$option?"]("nofullscreen"))?(L="&amp;fs=0",E=""):(L="",E=g.$append_boolean_attribute("allowfullscreen",h)),F=f(b["$option?"]("modest"))?"&amp;modestbranding=1":"",I=f(b["$attr?"]("theme"))?"&amp;theme="+b.$attr("theme"):
"",N=f(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",e=b.$attr("target").$split("/",2),d=a.to_ary(e),J=null==d[0]?c:d[0],K=null==d[1]?c:d[1],e,f(K=f(d=K)?d:b.$attr("list"))?T="&amp;list="+K:(e=J.$split(",",2),d=a.to_ary(e),J=null==d[0]?c:d[0],O=null==d[1]?c:d[1],e,T=f(O=f(d=O)?d:b.$attr("playlist"))?"&amp;playlist="+O:f(A)?"&amp;playlist="+J:""),"<div"+l+m+">"+p+'\n<div class="content">\n<iframe'+n+q+' src="'+t+"//www.youtube.com/embed/"+J+"?rel="+B+D+z+v+x+H+C+T+L+F+I+N+'" frameborder="0"'+
E+"></iframe>\n</div>\n</div>";U=f((R=b.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(R)+'"';ca=f((R=b.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+R+'"';S=b.$attr("start");W=b.$attr("end");ha=f(f(d=S)?d:W)?"#t="+(f(d=S)?d:"")+(f(W)?","+W:""):"";return"<div"+l+m+">"+p+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+ha+'"'+n+q+U+(f(b["$option?"]("autoplay"))?g.$append_boolean_attribute("autoplay",h):"")+(f(b["$option?"]("nocontrols"))?"":g.$append_boolean_attribute("controls",
h))+(f(b["$option?"]("loop"))?g.$append_boolean_attribute("loop",h):"")+ca+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},da.$$arity=1);a.def(d,"$convert_inline_anchor",ra=function(a){var b,d=this,e=c,g=c,h=c,l=c,k=c,m=c;return function(){e=a.$type();if("xref"["$==="](e))return f(g=a.$attributes()["$[]"]("path"))?(h=d.$append_link_constraint_attrs(a,f(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),l=f(b=a.$text())?b:g):(h=f(a.$role())?' class="'+a.$role()+'"':"",
f(l=a.$text())||(k=a.$attributes()["$[]"]("refid"),l=f(p(r,"AbstractNode")["$==="](m=(d.refs=f(b=d.refs)?b:a.$document().$catalog()["$[]"]("refs"))["$[]"](k)))?f(b=m.$xreftext(a.$attr("xrefstyle",c,!0)))?b:"["+k+"]":"["+k+"]")),'<a href="'+a.$target()+'"'+h+">"+l+"</a>";if("ref"["$==="](e))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](e)){h=f(a.$id())?[' id="'+a.$id()+'"']:[];if(f(a.$role()))h["$<<"](' class="'+a.$role()+'"');if(f(a["$attr?"]("title")))h["$<<"](' title="'+a.$attr("title")+'"');
return'<a href="'+a.$target()+'"'+d.$append_link_constraint_attrs(a,h).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](e))return'<a id="'+a.$id()+'"></a>['+(f(b=a.$reftext())?b:a.$id())+"]";d.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return c}()},ra.$$arity=1);a.def(d,"$convert_inline_break",ea=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},ea.$$arity=1);a.def(d,"$convert_inline_button",ta=function(a){return'<b class="button">'+a.$text()+"</b>"},ta.$$arity=
1);a.def(d,"$convert_inline_callout",Aa=function(a){if(f(a.$document()["$attr?"]("icons","font")))return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>";if(f(a.$document()["$attr?"]("icons"))){var b=a.$icon_uri("callouts/"+a.$text());return'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return""+a.$attributes()["$[]"]("guard")+'<b class="conum">('+a.$text()+")</b>"},Aa.$$arity=1);a.def(d,"$convert_inline_footnote",pa=function(a){var b;if(f(b=a.$attr("index"))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+
b+'" title="View footnote.">'+b+"</a>]</sup>";a=f(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+a+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c},pa.$$arity=1);a.def(d,"$convert_inline_image",Ma=function(a){var b,d,g,h,k,m,t=c,u=c,w=b=c,v=c,x=c,y=c,B=c,D=c,z=c;f((b=(t=f(d=a.$type())?
d:"image")["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(t=f(d=a.$type())?d:"image")["$=="]("icon"))?(u="fa fa-"+a.$target(),l(e(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(g=function(b,d){null==b&&(b=c);null==d&&(d=c);return f(a["$attr?"](b))?u=""+u+" "+d+a.$attr(b):c},g.$$s=this,g.$$arity=2,g)),b=f(a["$attr?"]("title"))?' title="'+a.$attr("title")+'"':"",w='<i class="'+u+'"'+b+"></i>"):f((b=t["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():
t["$=="]("icon"))?w="["+a.$alt()+"]":(v=a.$target(),x=l(["width","height","title"],"map",[],(h=function(b){null==b&&(b=c);return f(a["$attr?"](b))?" "+b+'="'+a.$attr(b)+'"':""},h.$$s=this,h.$$arity=1,h)).$join(),f(f(b=f(d=f(k=t["$!="]("icon"))?f(m=a["$attr?"]("format","svg"))?m:v["$include?"](".svg"):k)?n(a.$document().$safe(),q(p(r,"SafeMode"),"SECURE")):d)?f(d=y=a["$option?"]("inline"))?d:B=a["$option?"]("interactive"):b)&&(f(y)?w=f(b=this.$read_svg_contents(a,v))?b:'<span class="alt">'+a.$alt()+
"</span>":f(B)&&(D=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+x+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",w='<object type="image/svg+xml" data="'+a.$image_uri(v)+'"'+x+">"+D+"</object>")),w=f(b=w)?b:'<img src="'+(t["$=="]("icon")?a.$icon_uri(v):a.$image_uri(v))+'" alt="'+this.$encode_attribute_value(a.$alt())+'"'+x+this.void_element_slash+">");f(a["$attr?"]("link"))&&(w='<a class="image" href="'+
a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+w+"</a>");u=f(z=a.$role())?f(a["$attr?"]("float"))?""+t+" "+a.$attr("float")+" "+z:""+t+" "+z:f(a["$attr?"]("float"))?""+t+" "+a.$attr("float"):t;return'<span class="'+u+'">'+w+"</span>"},Ma.$$arity=1);a.def(d,"$convert_inline_indexterm",Ga=function(a){return a.$type()["$=="]("visible")?a.$text():""},Ga.$$arity=1);a.def(d,"$convert_inline_kbd",Na=function(a){var b;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+
"</kbd>":'<span class="keyseq"><kbd>'+b.$join("</kbd>+<kbd>")+"</kbd></span>"},Na.$$arity=1);a.def(d,"$convert_inline_menu",La=function(a){var b=c,d=c;var e=f(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ';var g="</b>"+e+'<b class="submenu">';var h=a.$attr("menu");return f((b=a.$attr("submenus"))["$empty?"]())?f(d=a.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+h+"</b>"+e+'<b class="menuitem">'+d+"</b></span>":
'<b class="menuref">'+h+"</b>":'<span class="menuseq"><b class="menu">'+h+"</b>"+e+'<b class="submenu">'+b.$join(g)+"</b>"+e+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},La.$$arity=1);a.def(d,"$convert_inline_quoted",Ia=function(b){var d=p(r,"QUOTE_TAGS")["$[]"](b.$type());var e=a.to_ary(d);var g=null==e[0]?c:e[0];var h=null==e[1]?c:e[1];e=null==e[2]?c:e[2];d;return f(b.$id())?(d=f(b.$role())?' class="'+b.$role()+'"':"",f(e)?""+g.$chop()+' id="'+b.$id()+'"'+d+">"+b.$text()+h:'<span id="'+
b.$id()+'"'+d+">"+g+b.$text()+h+"</span>"):f(b.$role())?f(e)?""+g.$chop()+' class="'+b.$role()+'">'+b.$text()+h:'<span class="'+b.$role()+'">'+g+b.$text()+h+"</span>":""+g+b.$text()+h},Ia.$$arity=1);a.def(d,"$read_svg_contents",Oa=function(b,d){var g,h=c,k=c,m=c;f(h=b.$read_contents(d,e(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(f(h["$start_with?"]("<svg"))||(h=h.$sub(p(r,"SvgPreambleRx"),"")),k=m=c,l(["width","height"],"each",[],(g=function(a){null==
a&&(a=c);return f(b["$attr?"](a))?(f(m)||(m=(k=h.$match(p(r,"SvgStartTagRx"))["$[]"](0)).$gsub(p(r,"DimensionAttributeRx"),"")),m=""+m.$chop()+" "+a+'="'+b.$attr(a)+'px">'):c},g.$$s=this,g.$$arity=1,g)),f(m)&&(h=""+m+h["$[]"](a.Range.$new(k.$length(),-1,!1))));return h},Oa.$$arity=2);d.$private();a.def(d,"$append_boolean_attribute",Ja=function(a,b){return f(b)?" "+a+'="'+a+'"':" "+a},Ja.$$arity=2);a.def(d,"$append_link_constraint_attrs",Qa=function(a,b){var d,e=c,g;null==b&&(b=[]);f(a["$option?"]("nofollow"))&&
(e="nofollow");if(f(g=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+g+'"'),f(f(d=g["$=="]("_blank"))?d:a["$option?"]("noopener")))b["$<<"](f(e)?' rel="'+e+' noopener"':' rel="noopener"')}else if(f(e))b["$<<"](' rel="'+e+'"');return b},Qa.$$arity=-2);a.def(d,"$encode_attribute_value",Xa=function(a){return f(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},Xa.$$arity=1);a.def(d,"$generate_manname_section",Wa=function(a){var b,d=c,e=c,g=c;var h=a.$attr("manname-title","Name");f(f(b=d=a.$sections()["$[]"](0))?
(e=d.$title())["$=="](e.$upcase()):b)&&(h=h.$upcase());return"<h2"+(f(g=a.$attr("manname-id"))?' id="'+g+'"':"")+">"+h+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Wa.$$arity=1);return(a.def(d,"$method_missing",Ua=function(b,d){var e,g=Ua.$$p,h=c,k;g&&(Ua.$$p=null);var m=0;var p=arguments.length;for(k=Array(p);m<p;m++)k[m]=arguments[m];m=a.slice.call(arguments,1,arguments.length);return f(f(e=(h=b.$to_s())["$start_with?"]("convert_")["$!"]())?
this["$handles?"](h):e)?l(this,"send",["convert_"+h].concat(a.to_a(m))):l(this,a.find_super_dispatcher(this,"method_missing",Ua,!1),k,g)},Ua.$$arity=-2),c)&&"method_missing"})(p(d,"Converter"),q(p(d,"Converter"),"Base"),d)}(h[0],h)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?
a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var n=[],h=a.nil,c=a.const_get_qualified,q=a.const_get_relative,p=a.module,r=a.klass,t=a.truthy,l=a.hash2,e=a.send,f=a.hash;a.add_stubs("$== $[]= $config $- $const_defined? $singleton_class? $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $assign_caption $=== $parse_blocks $empty? $include? $sub_attributes $parse $each $define_method $unshift $shift $send $size $binding $receiver $define_singleton_method $instance_exec $to_proc $call $option $flatten $respond_to? $to_s $partition $to_i $<< $compact $inspect $attr_accessor $to_set $match? $resolve_regexp $method $register $values $groups $arity $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $instance_variable_get $kind $private $join $map $split $capitalize $instance_variable_set $resolve_args $enable_dsl $singleton_class $process_block_given? $source_location $freeze $resolve_class $< $update_config $as_symbol $name $name= $pop $-@ $next_auto_id $generate_name".split(" "));
q(n,"RUBY_ENGINE")["$=="]("opal")||h;return function(d,n){d=[p(d,"Asciidoctor")].concat(n);(function(d,n){d=p(d,"Extensions");n=[d].concat(n);(function(d,$super,f){d=r(d,$super,"Processor");var m=[d].concat(f),n,p,u,w,v,x,y,z,A,M,C,D;d.$$prototype.config=h;(function(c,d){[c].concat(d);var f,g,k;a.def(c,"$config",f=function(){var a;null==this.config&&(this.config=h);return this.config=t(a=this.config)?a:l([],{})},f.$$arity=0);a.def(c,"$option",g=function(c,d){c=[c,d];e(this.$config(),"[]=",a.to_a(c));
return c[b(c.length,1)]},g.$$arity=2);a.def(c,"$enable_dsl",k=function(){return t(this["$const_defined?"]("DSL"))?t(this["$singleton_class?"]())?this.$include(this.$const_get("DSL")):this.$extend(this.$const_get("DSL")):h},k.$$arity=0);return a.alias(c,"use_dsl","enable_dsl")})(a.get_singleton_class(d),m);d.$attr_reader("config");a.def(d,"$initialize",n=function(a){null==a&&(a=l([],{}));return this.config=this.$class().$config().$merge(a)},n.$$arity=-1);a.def(d,"$update_config",p=function(a){return this.config.$update(a)},
p.$$arity=1);a.def(d,"$process",u=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(c("::","NotImplementedError"),""+q(m,"Processor")+" subclass "+this.$class()+" must implement the #process method")},u.$$arity=-1);a.def(d,"$create_section",w=function(c,d,f,n){var p,r,u,w=h,v=h;null==n&&(n=l([],{}));var x=c.$document();var y=(r=x.$doctype())["$=="]("book");var z=t(p=n["$[]"]("level"))?p:g(c.$level(),1);if(t(u=f.$delete("style")))if(t(t(p=y)?u["$=="]("abstract"):p)){p=["chapter",
1];var A=p[0];z=p[1];p}else p=[u,!0],A=p[0],w=p[1],p,z["$=="](0)&&(z=1);else t(y)?A=z["$=="](0)?"part":t(k(z,1))?"section":"chapter":t(r["$=="]("manpage")?d.$casecmp("synopsis")["$=="](0):r["$=="]("manpage"))?(p=["synopsis",!0],A=p[0],w=p[1],p):A="section";r=q(m,"Section").$new(c,z);p=[d,A];r["$title="](p[0]);r["$sectname="](p[1]);p;t(w)?(v=[!0],e(r,"special=",a.to_a(v)),v[b(v.length,1)],t(n.$fetch("numbered",u["$=="]("appendix")))?(v=[!0],e(r,"numbered=",a.to_a(v)),v[b(v.length,1)]):t(t(p=n["$key?"]("numbered")["$!"]())?
x["$attr?"]("sectnums","all"):p)&&(v=[t(t(p=y)?z["$=="](1):p)?"chapter":!0],e(r,"numbered=",a.to_a(v)),v[b(v.length,1)])):t(k(z,0))?t(n.$fetch("numbered",x["$attr?"]("sectnums")))&&(v=[t(r.$special())?t(p=c.$numbered())?!0:p:!0],e(r,"numbered=",a.to_a(v)),v[b(v.length,1)]):t(n.$fetch("numbered",t(p=y)?x["$attr?"]("partnums"):p))&&(v=[!0],e(r,"numbered=",a.to_a(v)),v[b(v.length,1)]);(c=f["$[]"]("id"))["$=="](!1)?f.$delete("id"):(v=[(v=["id",t(p=c)?p:t(x["$attr?"]("sectids"))?q(m,"Section").$generate_id(r.$title(),
x):h],e(f,"[]=",a.to_a(v)),v[b(v.length,1)])],e(r,"id=",a.to_a(v)),v[b(v.length,1)]);r.$update_attributes(f);return r},w.$$arity=-4);a.def(d,"$create_block",v=function(a,b,c,d,e){null==e&&(e=l([],{}));return q(m,"Block").$new(a,b,l(["source","attributes"],{source:c,attributes:d}).$merge(e))},v.$$arity=-5);a.def(d,"$create_list",x=function(a,b,c){null==c&&(c=h);a=q(m,"List").$new(a,b);t(c)&&a.$update_attributes(c);return a},x.$$arity=-3);a.def(d,"$create_list_item",y=function(a,b){null==b&&(b=h);return q(m,
"ListItem").$new(a,b)},y.$$arity=-2);a.def(d,"$create_image_block",z=function(d,f,g){var k,n,p=h;null==g&&(g=l([],{}));t(n=f["$[]"]("target"))||this.$raise(c("::","ArgumentError"),"Unable to create an image block, target attribute is required");t(k=f["$[]"]("alt"))?k:(p=["alt",(p=["default-alt",q(m,"Helpers").$basename(n,!0).$tr("_-"," ")],e(f,"[]=",a.to_a(p)),p[b(p.length,1)])],e(f,"[]=",a.to_a(p)),p[b(p.length,1)]);p=t(f["$key?"]("title"))?f.$delete("title"):h;d=this.$create_block(d,"image",h,f,
g);t(p)&&(p=[p],e(d,"title=",a.to_a(p)),p[b(p.length,1)],d.$assign_caption(f.$delete("caption"),"figure"));return d},z.$$arity=-3);a.def(d,"$create_inline",A=function(a,b,c,d){null==d&&(d=l([],{}));return q(m,"Inline").$new(a,b,c,b["$=="]("quoted")?l(["type"],{type:"unquoted"}).$merge(d):d)},A.$$arity=-4);a.def(d,"$parse_content",M=function(a,b,c){null==c&&(c=h);b=t(q(m,"Reader")["$==="](b))?b:q(m,"Reader").$new(b);q(m,"Parser").$parse_blocks(b,a,c);return a},M.$$arity=-3);a.def(d,"$parse_attributes",
C=function(a,b,c){var d;null==c&&(c=l([],{}));if(t(t(b)?b["$empty?"]():!0))return l([],{});t(t(d=c["$[]"]("sub_attributes"))?b["$include?"](q(m,"ATTR_REF_HEAD")):d)&&(b=a.$sub_attributes(b));return q(m,"AttributeList").$new(b).$parse(t(d=c["$[]"]("positional_attributes"))?d:[])},C.$$arity=-3);return e([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block",
"create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],(D=function(b,c,d){var f=D.$$s||this,g;null==b&&(b=h);null==c&&(c=h);null==d&&(d=h);return e(f,"define_method",[b],(g=function(b){var f=g.$$s||this;var h=a.slice.call(arguments,0,arguments.length);h.$unshift(h.$shift(),d);return e(f,"send",[c].concat(a.to_a(h)))},g.$$s=f,g.$$arity=-1,g))},D.$$s=d,D.$$arity=3,D))})(n[0],null,
n);(function(d,f){d=p(d,"ProcessorDsl");[d].concat(f);var g,l,k;a.def(d,"$option",g=function(c,d){c=[c,d];e(this.$config(),"[]=",a.to_a(c));return c[b(c.length,1)]},g.$$arity=2);a.def(d,"$process",l=function(b){var d=l.$$p,f=d||h,g,k,m=h;null==this.process_block&&(this.process_block=h);d&&(l.$$p=null);d&&(l.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f!==h?(t(d["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),t(t(g=
f.$binding())?this["$=="](f.$binding().$receiver()):g)||(m=this,e(f,"define_singleton_method",["call"],(k=function(b){var c=a.slice.call(arguments,0,arguments.length);return e(m,"instance_exec",a.to_a(c),f.$to_proc())},k.$$s=this,k.$$arity=-1,k))),this.process_block=f):t((g=this.process_block,null!=g&&g!==h)?"instance-variable":h)?e(this.process_block,"call",a.to_a(d)):this.$raise(c("::","NotImplementedError"),""+this.$class()+" #process method called before being registered")},l.$$arity=-1);a.def(d,
"$process_block_given?",k=function(){var a;return(a=this.process_block,null!=a&&a!==h)?"instance-variable":h},k.$$arity=0)})(n[0],n);(function(b,c){b=p(b,"DocumentProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"ProcessorDsl"));a.def(b,"$prefer",d=function(){return this.$option("position",">>")},d.$$arity=0)})(n[0],n);(function(d,f){d=p(d,"SyntaxProcessorDsl");var g=[d].concat(f),m,n,r,u,v;d.$include(q(g,"ProcessorDsl"));a.def(d,"$named",m=function(a){return t(q(g,"Processor")["$==="](this))?
this.name=a:this.$option("name",a)},m.$$arity=1);a.def(d,"$content_model",n=function(a){return this.$option("content_model",a)},n.$$arity=1);a.alias(d,"parse_content_as","content_model");a.def(d,"$positional_attributes",r=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("positional_attrs",c.$flatten())},r.$$arity=-1);a.alias(d,"name_positional_attributes","positional_attributes");a.alias(d,"positional_attrs","positional_attributes");a.def(d,"$default_attributes",u=
function(a){return this.$option("default_attrs",a)},u.$$arity=1);a.alias(d,"default_attrs","default_attributes");a.def(d,"$resolve_attributes",v=function(d){var f,g,m,n=this,p=h,q=h,r=h;var u=a.slice.call(arguments,0,arguments.length);t(k(u.$size(),1))||t((u=u.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(u=[u]);return function(){p=u;return(!0)["$==="](p)?(n.$option("positional_attrs",[]),n.$option("default_attrs",l([],{}))):c("::","Array")["$==="](p)?(f=[[],l([],{})],q=f[0],r=f[1],f,e(u,"each",[],(g=
function(c){null==c&&(c=h);if(t((c=c.$to_s())["$include?"]("="))){var d=c.$partition("=");var f=a.to_ary(d);c=null==f[0]?h:f[0];var g=null==f[2]?h:f[2];d;if(t(c["$include?"](":"))){d=c.$partition(":");f=a.to_ary(d);var l=null==f[0]?h:f[0];c=null==f[2]?h:f[2];d;l=l["$=="]("@")?q.$size():l.$to_i();f=[l,c];e(q,"[]=",a.to_a(f));f[b(f.length,1)]}f=[c,g];e(r,"[]=",a.to_a(f));return f[b(f.length,1)]}return t(c["$include?"](":"))?(d=c.$partition(":"),f=a.to_ary(d),l=null==f[0]?h:f[0],c=null==f[2]?h:f[2],
d,l=l["$=="]("@")?q.$size():l.$to_i(),f=[l,c],e(q,"[]=",a.to_a(f)),f[b(f.length,1)]):q["$<<"](c)},g.$$s=n,g.$$arity=1,g)),n.$option("positional_attrs",q.$compact()),n.$option("default_attrs",r)):c("::","Hash")["$==="](p)?(f=[[],l([],{})],q=f[0],r=f[1],f,e(u,"each",[],(m=function(c,d){var f;null==c&&(c=h);null==d&&(d=h);if(t((f=c.$to_s())["$include?"](":"))){c=f.$partition(":");f=a.to_ary(c);var g=null==f[0]?h:f[0];f=null==f[2]?h:f[2];c;g=g["$=="]("@")?q.$size():g.$to_i();c=[g,f];e(q,"[]=",a.to_a(c));
c[b(c.length,1)]}return t(d)?(c=[f,d],e(r,"[]=",a.to_a(c)),c[b(c.length,1)]):h},m.$$s=n,m.$$arity=2,m)),n.$option("positional_attrs",q.$compact()),n.$option("default_attrs",r)):n.$raise(c("::","ArgumentError"),"unsupported attributes specification for macro: "+u.$inspect())}()},v.$$arity=-1);a.alias(d,"resolves_attributes","resolve_attributes")})(n[0],n);(function(b,$super,d){b=r(b,$super,"Preprocessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(c("::","NotImplementedError"),
""+q(e,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),h)&&"process"})(n[0],q(n,"Processor"),n);a.const_set(q(n,"Preprocessor"),"DSL",q(n,"DocumentProcessorDsl"));(function(b,$super,d){b=r(b,$super,"TreeProcessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a){return this.$raise(c("::","NotImplementedError"),""+q(e,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=1),h)&&"process"})(n[0],q(n,
"Processor"),n);a.const_set(q(n,"TreeProcessor"),"DSL",q(n,"DocumentProcessorDsl"));a.const_set(n[0],"Treeprocessor",q(n,"TreeProcessor"));(function(b,$super,d){b=r(b,$super,"Postprocessor");var e=[b].concat(d),f;return(a.def(b,"$process",f=function(a,b){return this.$raise(c("::","NotImplementedError"),""+q(e,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=2),h)&&"process"})(n[0],q(n,"Processor"),n);a.const_set(q(n,"Postprocessor"),"DSL",q(n,"DocumentProcessorDsl"));
(function(b,$super,d){b=r(b,$super,"IncludeProcessor");var e=[b].concat(d),f,g;a.def(b,"$process",f=function(a,b,d,f){return this.$raise(c("::","NotImplementedError"),""+q(e,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=4);return(a.def(b,"$handles?",g=function(a){return!0},g.$$arity=1),h)&&"handles?"})(n[0],q(n,"Processor"),n);(function(b,d){b=p(b,"IncludeProcessorDsl");d=[b].concat(d);var e;b.$include(q(d,"DocumentProcessorDsl"));a.def(b,"$handles?",
e=function(b){var d=e.$$p,f=d||h,g;null==this.handles_block&&(this.handles_block=h);d&&(e.$$p=null);d&&(e.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f!==h?(t(d["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.handles_block=f):t((g=this.handles_block,null!=g&&g!==h)?"instance-variable":h)?this.handles_block.$call(d["$[]"](0)):!0},e.$$arity=-1)})(n[0],n);a.const_set(q(n,"IncludeProcessor"),"DSL",q(n,"IncludeProcessorDsl"));
(function(d,$super,f){d=r(d,$super,"DocinfoProcessor");var g=[d].concat(f),k,m;d.$$prototype.config=h;a.def(d,"$initialize",k=function(c){var d,f=h;k.$$p&&(k.$$p=null);null==c&&(c=l([],{}));e(this,a.find_super_dispatcher(this,"initialize",k,!1),[c],null);return t(d=this.config["$[]"]("location"))?d:(f=["location","head"],e(this.config,"[]=",a.to_a(f)),f[b(f.length,1)])},k.$$arity=-1);return(a.def(d,"$process",m=function(a){return this.$raise(c("::","NotImplementedError"),""+q(g,"DocinfoProcessor")+
" subclass "+this.$class()+" must implement the #process method")},m.$$arity=1),h)&&"process"})(n[0],q(n,"Processor"),n);(function(b,c){b=p(b,"DocinfoProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"DocumentProcessorDsl"));a.def(b,"$at_location",d=function(a){return this.$option("location",a)},d.$$arity=1)})(n[0],n);a.const_set(q(n,"DocinfoProcessor"),"DSL",q(n,"DocinfoProcessorDsl"));(function(d,$super,f){d=r(d,$super,"BlockProcessor");var g=[d].concat(f),k,m;d.$$prototype.config=h;d.$attr_accessor("name");
a.def(d,"$initialize",k=function(d,f){var g,m=h;k.$$p&&(k.$$p=null);null==d&&(d=h);null==f&&(f=l([],{}));e(this,a.find_super_dispatcher(this,"initialize",k,!1),[f],null);this.name=t(g=d)?g:this.config["$[]"]("name");d=this.config["$[]"]("contexts");c("::","NilClass")["$==="](d)?t(g=this.config["$[]"]("contexts"))?g:(m=["contexts",["open","paragraph"].$to_set()],e(this.config,"[]=",a.to_a(m)),m[b(m.length,1)]):(m=c("::","Symbol")["$==="](d)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",
this.config["$[]"]("contexts").$to_set()],e(this.config,"[]=",a.to_a(m)),m[b(m.length,1)]);return t(g=this.config["$[]"]("content_model"))?g:(m=["content_model","compound"],e(this.config,"[]=",a.to_a(m)),m[b(m.length,1)])},k.$$arity=-1);return(a.def(d,"$process",m=function(a,b,d){return this.$raise(c("::","NotImplementedError"),""+q(g,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},m.$$arity=3),h)&&"process"})(n[0],q(n,"Processor"),n);(function(b,c){b=p(b,"BlockProcessorDsl");
c=[b].concat(c);var d;b.$include(q(c,"SyntaxProcessorDsl"));a.def(b,"$contexts",d=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$option("contexts",c.$flatten().$to_set())},d.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.alias(b,"bind_to","contexts")})(n[0],n);a.const_set(q(n,"BlockProcessor"),"DSL",q(n,"BlockProcessorDsl"));(function(d,$super,f){d=r(d,$super,"MacroProcessor");var g=[d].concat(f),k,m;d.$$prototype.config=h;d.$attr_accessor("name");
a.def(d,"$initialize",k=function(c,d){var f,g=h;k.$$p&&(k.$$p=null);null==c&&(c=h);null==d&&(d=l([],{}));e(this,a.find_super_dispatcher(this,"initialize",k,!1),[d],null);this.name=t(f=c)?f:this.config["$[]"]("name");return t(f=this.config["$[]"]("content_model"))?f:(g=["content_model","attributes"],e(this.config,"[]=",a.to_a(g)),g[b(g.length,1)])},k.$$arity=-1);return(a.def(d,"$process",m=function(a,b,d){return this.$raise(c("::","NotImplementedError"),""+q(g,"MacroProcessor")+" subclass "+this.$class()+
" must implement the #process method")},m.$$arity=3),h)&&"process"})(n[0],q(n,"Processor"),n);(function(b,c){b=p(b,"MacroProcessorDsl");c=[b].concat(c);var d;b.$include(q(c,"SyntaxProcessorDsl"));a.def(b,"$resolve_attributes",d=function(b){var c=d.$$p,f;c&&(d.$$p=null);var g=0;var h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];g=a.slice.call(arguments,0,arguments.length);if(t(g.$size()["$=="](1)?g["$[]"](0)["$!"]():g.$size()["$=="](1)))return this.$option("content_model","text");e(this,
a.find_super_dispatcher(this,"resolve_attributes",d,!1),f,c);return this.$option("content_model","attributes")},d.$$arity=-1);a.alias(b,"resolves_attributes","resolve_attributes")})(n[0],n);(function(b,$super,d){b=r(b,$super,"BlockMacroProcessor");var e=[b].concat(d),f;b.$$prototype.name=h;return(a.def(b,"$name",f=function(){t(q(e,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(c("::","ArgumentError"),"invalid name for block macro: "+this.name);return this.name},f.$$arity=0),h)&&"name"})(n[0],
q(n,"MacroProcessor"),n);a.const_set(q(n,"BlockMacroProcessor"),"DSL",q(n,"MacroProcessorDsl"));(function(d,$super,f){d=r(d,$super,"InlineMacroProcessor");var g=[d].concat(f),k,m;d.$$prototype.config=d.$$prototype.name=h;a.class_variable_set(g[0],"@@rx_cache",l([],{}));a.def(d,"$regexp",k=function(){var c,d=h;return t(c=this.config["$[]"]("regexp"))?c:(d=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],e(this.config,"[]=",a.to_a(d)),d[b(d.length,1)])},k.$$arity=0);return(a.def(d,
"$resolve_regexp",m=function(d,f){var l,k,m=h;t(q(g,"MacroNameRx")["$match?"](d))||this.$raise(c("::","ArgumentError"),"invalid name for inline macro: "+d);return t(l=(null==(k=g[0].$$cvars["@@rx_cache"])?h:k)["$[]"]([d,f]))?l:(m=[[d,f],new RegExp("\\\\?"+d+":"+(f["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+q(g,"CC_ANY")+"*?[^\\\\])\\]")],e(null==(k=g[0].$$cvars["@@rx_cache"])?h:k,"[]=",a.to_a(m)),m[b(m.length,1)])},m.$$arity=2),h)&&"resolve_regexp"})(n[0],q(n,"MacroProcessor"),n);(function(b,c){b=
p(b,"InlineMacroProcessorDsl");c=[b].concat(c);var d,e;b.$include(q(c,"MacroProcessorDsl"));a.def(b,"$format",d=function(a){return this.$option("format",a)},d.$$arity=1);a.alias(b,"match_format","format");a.alias(b,"using_format","format");a.def(b,"$match",e=function(a){return this.$option("regexp",a)},e.$$arity=1)})(n[0],n);a.const_set(q(n,"InlineMacroProcessor"),"DSL",q(n,"InlineMacroProcessorDsl"));(function(b,$super,c){b=r(b,$super,"Extension");[b].concat(c);var d;b.$attr_reader("kind");b.$attr_reader("config");
b.$attr_reader("instance");return(a.def(b,"$initialize",d=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},d.$$arity=3),h)&&"initialize"})(n[0],null,n);(function(b,$super,c){b=r(b,$super,"ProcessorExtension");[b].concat(c);var d;b.$attr_reader("process_method");return(a.def(b,"$initialize",d=function(b,c,f){var g;d.$$p&&(d.$$p=null);null==f&&(f=h);e(this,a.find_super_dispatcher(this,"initialize",d,!1),[b,c,c.$config()],null);return this.process_method=t(g=f)?g:c.$method("process")},
d.$$arity=-3),h)&&"initialize"})(n[0],q(n,"Extension"),n);(function(b,$super,d){b=r(b,$super,"Group");d=[b].concat(d);var e;(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$register",e=function(a){null==a&&(a=h);return q(d,"Extensions").$register(a,this)},e.$$arity=-1),h)&&"register"})(a.get_singleton_class(b),d);return(a.def(b,"$activate",e=function(a){return this.$raise(c("::","NotImplementedError"))},e.$$arity=1),h)&&"activate"})(n[0],null,n);(function(d,$super,f){d=r(d,$super,"Registry");
var n=[d].concat(f),p,u,w,v,x,y,z,A,C,D,L,E,F,I,J,K,M,N,O,T,R,S,V,Z,X,Y,la,da,ra,ea,ta,Aa,pa,Ma,Ga;d.$$prototype.groups=d.$$prototype.preprocessor_extensions=d.$$prototype.tree_processor_extensions=d.$$prototype.postprocessor_extensions=d.$$prototype.include_processor_extensions=d.$$prototype.docinfo_processor_extensions=d.$$prototype.block_extensions=d.$$prototype.block_macro_extensions=d.$$prototype.inline_macro_extensions=h;d.$attr_reader("document");d.$attr_reader("groups");a.def(d,"$initialize",
p=function(a){null==a&&(a=l([],{}));this.groups=a;return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=h},p.$$arity=-1);a.def(d,"$activate",u=function(a){var b,d=h;this.document=a;t((d=g(q(n,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||e(d,"each",[],(b=function(a){var d=
b.$$s||this;null==a&&(a=h);var f=a;c("::","Proc")["$==="](f)?(f=a.$arity(),a=0["$==="](f)||-1["$==="](f)?e(d,"instance_exec",[],a.$to_proc()):1["$==="](f)?a.$call(d):h):a=c("::","Class")["$==="](f)?a.$new().$activate(d):a.$activate(d);return a},b.$$s=this,b.$$arity=1,b));return this},u.$$arity=1);a.def(d,"$preprocessor",w=function(b){var c=w.$$p,d=c||h;c&&(w.$$p=null);c&&(w.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["preprocessor",c],d.$to_proc())},
w.$$arity=-1);a.def(d,"$preprocessors?",v=function(){return this.preprocessor_extensions["$!"]()["$!"]()},v.$$arity=0);a.def(d,"$preprocessors",x=function(){return this.preprocessor_extensions},x.$$arity=0);a.def(d,"$tree_processor",y=function(b){var c=y.$$p,d=c||h;c&&(y.$$p=null);c&&(y.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["tree_processor",c],d.$to_proc())},y.$$arity=-1);a.def(d,"$tree_processors?",z=function(){return this.tree_processor_extensions["$!"]()["$!"]()},
z.$$arity=0);a.def(d,"$tree_processors",A=function(){return this.tree_processor_extensions},A.$$arity=0);a.alias(d,"treeprocessor","tree_processor");a.alias(d,"treeprocessors?","tree_processors?");a.alias(d,"treeprocessors","tree_processors");a.def(d,"$postprocessor",C=function(b){var c=C.$$p,d=c||h;c&&(C.$$p=null);c&&(C.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["postprocessor",c],d.$to_proc())},C.$$arity=-1);a.def(d,"$postprocessors?",D=function(){return this.postprocessor_extensions["$!"]()["$!"]()},
D.$$arity=0);a.def(d,"$postprocessors",L=function(){return this.postprocessor_extensions},L.$$arity=0);a.def(d,"$include_processor",E=function(b){var c=E.$$p,d=c||h;c&&(E.$$p=null);c&&(E.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["include_processor",c],d.$to_proc())},E.$$arity=-1);a.def(d,"$include_processors?",F=function(){return this.include_processor_extensions["$!"]()["$!"]()},F.$$arity=0);a.def(d,"$include_processors",I=function(){return this.include_processor_extensions},
I.$$arity=0);a.def(d,"$docinfo_processor",J=function(b){var c=J.$$p,d=c||h;c&&(J.$$p=null);c&&(J.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_document_processor",["docinfo_processor",c],d.$to_proc())},J.$$arity=-1);a.def(d,"$docinfo_processors?",K=function(a){var b;null==a&&(a=h);return t(this.docinfo_processor_extensions)?t(a)?e(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=
1,b)):!0:!1},K.$$arity=-1);a.def(d,"$docinfo_processors",M=function(a){var b;null==a&&(a=h);return t(this.docinfo_processor_extensions)?t(a)?e(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:h},M.$$arity=-1);a.def(d,"$block",N=function(b){var c=N.$$p,d=c||h;c&&(N.$$p=null);c&&(N.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",
["block",c],d.$to_proc())},N.$$arity=-1);a.def(d,"$blocks?",O=function(){return this.block_extensions["$!"]()["$!"]()},O.$$arity=0);a.def(d,"$registered_for_block?",T=function(a,b){var c;return t(c=this.block_extensions["$[]"](a.$to_sym()))?t(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},T.$$arity=2);a.def(d,"$find_block_extension",R=function(a){return this.block_extensions["$[]"](a.$to_sym())},R.$$arity=1);a.def(d,"$block_macro",S=function(b){var c=S.$$p,d=c||h;c&&(S.$$p=null);c&&(S.$$p=
null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",["block_macro",c],d.$to_proc())},S.$$arity=-1);a.def(d,"$block_macros?",V=function(){return this.block_macro_extensions["$!"]()["$!"]()},V.$$arity=0);a.def(d,"$registered_for_block_macro?",Z=function(a){var b;return t(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},Z.$$arity=1);a.def(d,"$find_block_macro_extension",X=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},X.$$arity=1);a.def(d,
"$inline_macro",Y=function(b){var c=Y.$$p,d=c||h;c&&(Y.$$p=null);c&&(Y.$$p=null);c=a.slice.call(arguments,0,arguments.length);return e(this,"add_syntax_processor",["inline_macro",c],d.$to_proc())},Y.$$arity=-1);a.def(d,"$inline_macros?",la=function(){return this.inline_macro_extensions["$!"]()["$!"]()},la.$$arity=0);a.def(d,"$registered_for_inline_macro?",da=function(a){var b;return t(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},da.$$arity=1);a.def(d,"$find_inline_macro_extension",ra=
function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},ra.$$arity=1);a.def(d,"$inline_macros",ea=function(){return this.inline_macro_extensions.$values()},ea.$$arity=0);a.def(d,"$prefer",ta=function(b){var c=ta.$$p,d=c||h,f=h;c&&(ta.$$p=null);c&&(ta.$$p=null);c=a.slice.call(arguments,0,arguments.length);d=t(q(n,"ProcessorExtension")["$==="](f=c.$shift()))?f:e(this,"send",[f].concat(a.to_a(c)),d.$to_proc());f=this.$instance_variable_get(("@"+d.$kind()+"_extensions").$to_sym());f.$unshift(f.$delete(d));
return d},ta.$$arity=-1);d.$private();a.def(d,"$add_document_processor",Aa=function(b,d){var f=Aa.$$p,g=f||h,l,k,p,r=this,u=h,w=h,v=h,x=h,y=w=h,z=h,A=h,C=h,D=h;f&&(Aa.$$p=null);f&&(Aa.$$p=null);u=b.$to_s().$tr("_"," ");w=e(u.$split(),"map",[],(l=function(a){null==a&&(a=h);return a.$capitalize()},l.$$s=r,l.$$arity=1,l)).$join().$to_sym();v=q(n,"Extensions").$const_get(w,!1);x=t(c("::","AsciidoctorJ","skip_raise")?"constant":h)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(w,!1):h;w=t(k=r.$instance_variable_get(("@"+
b+"_extensions").$to_sym()))?k:r.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);y=function(){if(g!==h)return z=r.$resolve_args(d,1),(A=v.$new(z)).$singleton_class().$enable_dsl(),g.$arity()["$=="](0)?e(A,"instance_exec",[],g.$to_proc()):a.yield1(g,A),t(A["$process_block_given?"]())||r.$raise(c("::","ArgumentError"),"No block specified to process "+u+" extension at "+g.$source_location()),A.$freeze(),q(n,"ProcessorExtension").$new(b,A);p=r.$resolve_args(d,2);k=a.to_ary(p);A=null==k[0]?
h:k[0];z=null==k[1]?h:k[1];p;return t(C=q(n,"Helpers").$resolve_class(A))?(t(t(k=m(C,v))?k:t(p=x)?m(C,x):p)||r.$raise(c("::","ArgumentError"),"Invalid type for "+u+" extension: "+A),D=C.$new(z),D.$freeze(),q(n,"ProcessorExtension").$new(b,D)):t(t(k=v["$==="](A))?k:t(p=x)?x["$==="](A):p)?(A.$update_config(z),A.$freeze(),q(n,"ProcessorExtension").$new(b,A)):r.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+u+" extension: "+d)}();if(y.$config()["$[]"]("position")["$=="](">>"))w.$unshift(y);
else w["$<<"](y);return y},Aa.$$arity=2);a.def(d,"$add_syntax_processor",pa=function(d,f){var g=pa.$$p,k=g||h,p,r,u=h,w=h,v=h,x=h,y=w=h,z=h,A=h,C=v=h;v=h;g&&(pa.$$p=null);g&&(pa.$$p=null);u=d.$to_s().$tr("_"," ");w=e(u.$split(),"map",[],(p=function(a){null==a&&(a=h);return a.$capitalize()},p.$$s=this,p.$$arity=1,p))["$<<"]("Processor").$join().$to_sym();v=q(n,"Extensions").$const_get(w,!1);x=t(c("::","AsciidoctorJ","skip_raise")?"constant":h)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(w,!1):
h;w=t(r=this.$instance_variable_get(("@"+d+"_extensions").$to_sym()))?r:this.$instance_variable_set(("@"+d+"_extensions").$to_sym(),l([],{}));if(k!==h)return g=this.$resolve_args(f,2),r=a.to_ary(g),y=null==r[0]?h:r[0],z=null==r[1]?h:r[1],g,(A=v.$new(this.$as_symbol(y),z)).$singleton_class().$enable_dsl(),k.$arity()["$=="](0)?e(A,"instance_exec",[],k.$to_proc()):a.yield1(k,A),t(y=this.$as_symbol(A.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+u+" extension at "+k.$source_location()),
t(A["$process_block_given?"]())||this.$raise(c("::","NoMethodError"),"No block specified to process "+u+" extension at "+k.$source_location()),A.$freeze(),v=[y,q(n,"ProcessorExtension").$new(d,A)],e(w,"[]=",a.to_a(v)),v[b(v.length,1)];g=this.$resolve_args(f,3);r=a.to_ary(g);A=null==r[0]?h:r[0];y=null==r[1]?h:r[1];z=null==r[2]?h:r[2];g;return t(C=q(n,"Helpers").$resolve_class(A))?(t(t(r=m(C,v))?r:t(g=x)?m(C,x):g)||this.$raise(c("::","ArgumentError"),"Class specified for "+u+" extension does not inherit from "+
v+": "+A),v=C.$new(this.$as_symbol(y),z),t(y=this.$as_symbol(v.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+u+" extension: "+A),v.$freeze(),v=[y,q(n,"ProcessorExtension").$new(d,v)],e(w,"[]=",a.to_a(v)),v[b(v.length,1)]):t(t(r=v["$==="](A))?r:t(g=x)?x["$==="](A):g)?(A.$update_config(z),t(y)?(v=[this.$as_symbol(y)],e(A,"name=",a.to_a(v)),f=v[b(v.length,1)]):f=this.$as_symbol(A.$name()),t(y=f)||this.$raise(c("::","ArgumentError"),"No name specified for "+u+" extension: "+
A),A.$freeze(),v=[y,q(n,"ProcessorExtension").$new(d,A)],e(w,"[]=",a.to_a(v)),v[b(v.length,1)]):this.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+u+" extension: "+f)},pa.$$arity=2);a.def(d,"$resolve_args",Ma=function(a,d){var e=h;var f=t(c("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():l([],{});if(d["$=="](1))return f;t(k(e=b(b(d,1),a.$size()),0))?a=g(a,c("::","Array").$new(e)):t(m(e,0))&&a.$pop(e["$-@"]());a["$<<"](f);return a},Ma.$$arity=2);return(a.def(d,"$as_symbol",
Ga=function(a){return t(a)?a.$to_sym():h},Ga.$$arity=1),h)&&"as_symbol"})(n[0],null,n);(function(d,k){var m=[d].concat(k),n,p,r,u,v,x,y;a.def(d,"$generate_name",n=function(){return"extgrp"+this.$next_auto_id()},n.$$arity=0);a.def(d,"$next_auto_id",p=function(){var a;null==this.auto_id&&(this.auto_id=h);this.auto_id=t(a=this.auto_id)?a:-1;return this.auto_id=g(this.auto_id,1)},p.$$arity=0);a.def(d,"$groups",r=function(){var a;null==this.groups&&(this.groups=h);return this.groups=t(a=this.groups)?a:
l([],{})},r.$$arity=0);a.def(d,"$create",u=function(a){var b=u.$$p,c=b||h,d;b&&(u.$$p=null);b&&(u.$$p=null);null==a&&(a=h);return c!==h?q(m,"Registry").$new(f(t(d=a)?d:this.$generate_name(),c)):q(m,"Registry").$new()},u.$$arity=-1);a.def(d,"$register",v=function(d){var f=v.$$p,g=f||h,l,k=h,n;f&&(v.$$p=null);f&&(v.$$p=null);f=a.slice.call(arguments,0,arguments.length);var p=f.$size();g!==h?k=g:t(n=f.$pop())?k=t(l=q(m,"Helpers").$resolve_class(n))?l:n:this.$raise(c("::","ArgumentError"),"Extension group to register not specified");
g=t(l=f.$pop())?l:this.$generate_name();t(f["$empty?"]())||this.$raise(c("::","ArgumentError"),"Wrong number of arguments ("+p+" for 1..2)");l=[g.$to_sym(),k];e(this.$groups(),"[]=",a.to_a(l));return l[b(l.length,1)]},v.$$arity=-1);a.def(d,"$unregister_all",x=function(){this.groups=l([],{});return h},x.$$arity=0);return(a.def(d,"$unregister",y=function(b){var c;var d=a.slice.call(arguments,0,arguments.length);e(d,"each",[],(c=function(a){var b=c.$$s||this;null==b.groups&&(b.groups=h);null==a&&(a=
h);return b.groups.$delete(a.$to_sym())},c.$$s=this,c.$$arity=1,c));return h},y.$$arity=-1),h)&&"unregister"})(a.get_singleton_class(d),n)})(d[0],d)}(n[0],n)};Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(a){var b=[],g=a.nil,k=a.const_get_qualified,m=a.module,n=a.klass,h=a.truthy;a.add_stubs(["$rstrip","$read","$join"]);return function(b,d){b=[m(b,"Asciidoctor")].concat(d);(function(b,$super,c){b=n(b,$super,"Stylesheets");[b].concat(c);var d;b.$$prototype.primary_stylesheet_data=
g;return(a.def(b,"$primary_stylesheet_data",d=function(){var a;return this.primary_stylesheet_data=h(a=this.primary_stylesheet_data)?a:k("::","IO").$read(k("::","File").$join("css","asciidoctor.css")).$rstrip()},d.$$arity=0),g)&&"primary_stylesheet_data"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,m=a.module,n=a.klass;return function(b,c){b=[m(b,"Asciidoctor")].concat(c);(function(b,$super,c){b=n(b,$super,"Document");
[b].concat(c);var d;return(a.def(b,"$fill_datetime_attributes",d=function(b,c){var d=a.truthy,e=a.falsy,g=a.nil,h=function(a,b){return 0===b?a.getUTCFullYear():a.getFullYear()},l=function(a,b){return 0===b?a.getUTCMonth():a.getMonth()},k=function(a,b){return 0===b?a.getUTCDate():a.getDate()},m=function(a,b){return 0===b?a.getUTCHours():a.getHours()},n=new Date;if(a.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")){n.setTime(1E3*parseInt(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH")));
var q=n;var r=0}else r=-n.getTimezoneOffset()/60;if(d(localdate=b["$[]"]("localdate")))e(localyear=b["$[]"]("localyear"))&&(localyear=4===localdate.indexOf("-")?localdate.substring(0,4):g,b["$[]="]("localyear",localyear));else{var t=h(n,r).toString(),u=("0"+(l(n,r)+1)).slice(-2),v=("0"+k(n,r)).slice(-2);localdate=t+"-"+u+"-"+v;b["$[]="]("localdate",localdate);localyear=t;b["$[]="]("localyear",t)}if(e(localtime=b["$[]"]("localtime"))){u=("0"+m(n,r)).slice(-2);v=("0"+n.getMinutes()).slice(-2);var x=
("0"+n.getSeconds()).slice(-2);t=0===r?"UTC":0<r?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5);localtime=u+":"+v+":"+x+" "+t;b["$[]="]("localtime",localtime)}e(localdatetime=b["$[]"]("localdatetime"))&&(localdatetime=localdate+" "+localtime,b["$[]="]("localdatetime",localdatetime));d(q)?c=q:d(c)?r=-c.getTimezoneOffset()/60:c=n;if(d(docdate=b["$[]"]("docdate")))b["$[]="]("docyear",4===docdate.indexOf("-")?docdate.substring(0,4):g);else if(d=h(c,r).toString(),l=("0"+(l(c,r)+1)).slice(-2),k=("0"+k(c,
r)).slice(-2),docdate=d+"-"+l+"-"+k,b["$[]="]("docdate",docdate),e(b["$[]"]("docyear")))b["$[]="]("docyear",d);e(doctime=b["$[]"]("doctime"))&&(m=("0"+m(c,r)).slice(-2),k=("0"+c.getMinutes()).slice(-2),c=("0"+c.getSeconds()).slice(-2),t=0===r?"UTC":0<r?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5),doctime=m+":"+k+":"+c+" "+t,b["$[]="]("doctime",doctime));if(e(b["$[]"]("docdatetime")))b["$[]="]("docdatetime",docdate+" "+doctime);return g},d.$$arity=2),g)&&"fill_datetime_attributes"})(b[0],k(b,"AbstractBlock"),
b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(a){var b=[],g=a.module;return function(b,d){b=[g(b,"Asciidoctor")].concat(d);(function(b,d){b=g(b,"Substitutors");[b].concat(d);var c;a.def(b,"$sub_placeholder",c=function(a,b){return a.replace("%s",b)},c.$$arity=2)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(a){var b=[],g=a.nil,k=a.module,m=a.klass,n=a.truthy;return function(b,c){b=[k(b,"Asciidoctor")].concat(c);(function(b,$super,
c){b=m(b,$super,"Parser");[b].concat(c);var d,h;return n(String.prototype.repeat)?(a.defs(b,"$uniform?",d=function(a,b,c){return b.repeat(c)===a},d.$$arity=3),g)&&"uniform?":(a.defs(b,"$uniform?",h=function(a,b,c){return Array.apply(null,{length:c}).map(function(){return b}).join("")===a},h.$$arity=3),g)&&"uniform?"})(b[0],null,b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,m=a.module,n=a.truthy;a.add_stubs("$key? $registry $[] $include? $include $empty? $debug $logger $join $keys".split(" "));
return function(b,c){b=[m(b,"Asciidoctor")].concat(c);(function(b,c){b=[m(b,"SyntaxHighlighter")].concat(c);(function(b,c){b=m(b,"Factory");var d=[b].concat(c),e;a.def(b,"$for",e=function(a){if(n(this.$registry()["$key?"](a)))return this.$registry()["$[]"](a);n(this["$include?"](k(d,"Logging")))||this.$include(k(d,"Logging"));n(this.$registry()["$empty?"]())?this.$logger().$debug("no syntax highlighter available, functionality disabled."):this.$logger().$debug("syntax highlighter named '"+a+"' is not available, must be one of: '"+
this.$registry().$keys().$join("', '")+"'.");return g},e.$$arity=1)})(b[0],b)})(b[0],b)}(b[0],b)};Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/asciidoctor_ext/stylesheet");b.$require("asciidoctor/js/asciidoctor_ext/document");b.$require("asciidoctor/js/asciidoctor_ext/substitutors");b.$require("asciidoctor/js/asciidoctor_ext/parser");b.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter");b.$require("asciidoctor/js/asciidoctor_ext/browser")};
Opal.modules["asciidoctor/js/opal_ext/logger"]=function(a){var b=[],g=a.nil,k=a.const_get_relative,m=a.klass,n=a.truthy;a.add_stubs("$chr $rjust $message_as_string $< $write $call $[]".split(" "));return function(b,$super,d){b=m(b,$super,"Logger");var h=[b].concat(d),q;b.$$prototype.level=b.$$prototype.progname=b.$$prototype.pipe=b.$$prototype.formatter=g;(function(b,$super,d){b=m(b,$super,"Formatter");[b].concat(d);var e;return(a.def(b,"$call",e=function(a,b,d,e){b=b.getFullYear()+"-"+("0"+(b.getMonth()+
1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+"T"+("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+1E3*(new Date).getMilliseconds()).slice(-6);return""+a.$chr()+", ["+b+"] "+a.$rjust(5)+" -- "+d+": "+this.$message_as_string(e)},e.$$arity=4),g)&&"call"})(h[0],null,h);return(a.def(b,"$add",q=function(b,d,e){var f=q.$$p,l=f||g,m;f&&(q.$$p=null);f&&(q.$$p=null);null==d&&(d=g);null==e&&(e=g);f=b=n(m=b)?m:k(h,"UNKNOWN");var p=this.level;f="number"===
typeof f&&"number"===typeof p?f<p:f["$<"](p);if(n(f))return!0;e=n(m=e)?m:this.progname;n(d)||(l!==g?d=a.yieldX(l,[]):(d=e,e=this.progname));this.pipe.$write(this.formatter.$call(n(m=k(h,"SEVERITY_LABELS")["$[]"](b))?m:"ANY",new Date,e,d));return!0},q.$$arity=-2),g)&&"add"}(b[0],null,b)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");
b.$require("asciidoctor/js/asciidoctor_ext");return b.$require("asciidoctor/js/opal_ext/logger")};(function(a){function b(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.top,k=[],m=a.nil,n=a.const_get_qualified,h=a.const_get_relative,c=a.module,q=a.send,p=a.hash2,r=a.truthy;a.add_stubs("$require $== $tap $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $singleton_class $<< $define $dirname $absolute_path $__dir__ $join $home $pwd $to_set $chr $each_key $slice $length $merge $default= $drop $insert".split(" "));
g.$require("set");h(k,"RUBY_ENGINE")["$=="]("opal")?g.$require("asciidoctor/js"):m;(function(d,g){d=c(d,"Asciidoctor");var e=[d].concat(g),f,l,k,t,u,v=m;a.const_set(e[0],"RUBY_ENGINE_OPAL",a.const_set(e[0],"RUBY_ENGINE",n("::","RUBY_ENGINE"))["$=="]("opal"));(function(d,e){d=c(d,"SafeMode");e=[d].concat(e);var f,g,h,l;a.const_set(e[0],"UNSAFE",0);a.const_set(e[0],"SAFE",1);a.const_set(e[0],"SERVER",10);a.const_set(e[0],"SECURE",20);d.names_by_value=q(p([],{}),"tap",[],(f=function(c){var d=f.$$s||
this,e;null==c&&(c=m);return q(d.$constants(!1),"each",[],(e=function(d){var f=e.$$s||this;null==d&&(d=m);d=[f.$const_get(d,!1),d.$to_s().$downcase()];q(c,"[]=",a.to_a(d));return d[b(d.length,1)]},e.$$s=d,e.$$arity=1,e))},f.$$s=d,f.$$arity=1,f));a.defs(d,"$value_for_name",g=function(a){return this.$const_get(a.$upcase(),!1)},g.$$arity=1);a.defs(d,"$name_for_value",h=function(a){null==this.names_by_value&&(this.names_by_value=m);return this.names_by_value["$[]"](a)},h.$$arity=1);a.defs(d,"$names",
l=function(){null==this.names_by_value&&(this.names_by_value=m);return this.names_by_value.$values()},l.$$arity=0)})(e[0],e);(function(b,d){b=c(b,"Compliance");d=[b].concat(d);b.keys=n("::","Set").$new();(function(b,c){[b].concat(c);var d;b.$attr_reader("keys");return(a.def(b,"$define",d=function(a,b){null==this.keys&&(this.keys=m);this.$instance_variable_set("@"+a,b);this.$singleton_class().$send("attr_accessor",a);this.keys["$<<"](a);return m},d.$$arity=2),m)&&"define"})(a.get_singleton_class(b),
d);b.$define("block_terminates_paragraph",!0);b.$define("strict_verbatim_paragraphs",!0);b.$define("underline_style_section_titles",!0);b.$define("unwrap_standalone_preamble",!0);b.$define("attribute_missing","skip");b.$define("attribute_undefined","drop-line");b.$define("shorthand_property_syntax",!0);b.$define("natural_xrefs",!0);b.$define("unique_id_start_index",2);b.$define("markdown_syntax",!0)})(e[0],e);r(h(e,"ROOT_DIR","skip_raise")?"constant":m)||a.const_set(e[0],"ROOT_DIR",n("::","File").$dirname(n("::",
"File").$absolute_path(d.$__dir__())));a.const_set(e[0],"LIB_DIR",n("::","File").$join(h(e,"ROOT_DIR"),"lib"));a.const_set(e[0],"DATA_DIR",n("::","File").$join(h(e,"ROOT_DIR"),"data"));a.const_set(e[0],"USER_HOME",function(){try{return n("::","Dir").$home()}catch(ja){if(a.rescue(ja,[h(e,"StandardError")]))try{return r(f=n("::","ENV")["$[]"]("HOME"))?f:n("::","Dir").$pwd()}finally{a.pop_exception()}else throw ja;}}());a.const_set(e[0],"LF","\n");a.const_set(e[0],"NULL","\x00");a.const_set(e[0],"TAB",
"\t");a.const_set(e[0],"MAX_INT",9007199254740991);a.const_set(e[0],"UTF_8",n(n("::","Encoding"),"UTF_8"));a.const_set(e[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(e[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(e[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(e[0],"FILE_READ_MODE",r(h(e,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8");a.const_set(e[0],"URI_READ_MODE",h(e,"FILE_READ_MODE"));a.const_set(e[0],"FILE_WRITE_MODE",r(h(e,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8");a.const_set(e[0],"DEFAULT_DOCTYPE",
"article");a.const_set(e[0],"DEFAULT_BACKEND","html5");a.const_set(e[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(e[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(e[0],"BACKEND_ALIASES",p(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(e[0],"DEFAULT_PAGE_WIDTHS",p(["docbook"],{docbook:425}));a.const_set(e[0],"DEFAULT_EXTENSIONS",p("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",
asciidoc:".adoc"}));a.const_set(e[0],"ASCIIDOC_EXTENSIONS",p([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0}));a.const_set(e[0],"SETEXT_SECTION_LEVELS",p(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(e[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(e[0],"ADMONITION_STYLE_HEADS",q(n("::","Set").$new(),"tap",[],(l=function(a){var b=l.$$s||this,c;null==a&&(a=m);return q(h(e,"ADMONITION_STYLES"),
"each",[],(c=function(b){null==b&&(b=m);return a["$<<"](b.$chr())},c.$$s=b,c.$$arity=1,c))},l.$$s=d,l.$$arity=1,l)));a.const_set(e[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(e[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(e[0],"DELIMITED_BLOCKS",p("-- ---- .... ==== **** ____ ++++ |=== ,=== :=== !=== //// ```".split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],
"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",n("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",n("::","Set").$new()],",===":["table",n("::","Set").$new()],":===":["table",n("::","Set").$new()],"!===":["table",n("::","Set").$new()],"////":["comment",n("::","Set").$new()],"```":["fenced_code",n("::","Set").$new()]}));
a.const_set(e[0],"DELIMITED_BLOCK_HEADS",q(p([],{}),"tap",[],(k=function(c){var d=k.$$s||this,f;null==c&&(c=m);return q(h(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(d){null==d&&(d=m);d=[d.$slice(0,2),!0];q(c,"[]=",a.to_a(d));return d[b(d.length,1)]},f.$$s=d,f.$$arity=1,f))},k.$$s=d,k.$$arity=1,k)));a.const_set(e[0],"DELIMITED_BLOCK_TAILS",q(p([],{}),"tap",[],(t=function(c){var d=t.$$s||this,f;null==c&&(c=m);return q(h(e,"DELIMITED_BLOCKS"),"each_key",[],(f=function(d){null==d&&(d=m);return d.$length()["$=="](4)?
(d=[d,d["$[]"](b(d.$length(),1))],q(c,"[]=",a.to_a(d)),d[b(d.length,1)]):m},f.$$s=d,f.$$arity=1,f))},t.$$s=d,t.$$arity=1,t)));a.const_set(e[0],"CAPTION_ATTR_NAMES",p(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"}));a.const_set(e[0],"LAYOUT_BREAK_CHARS",p(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(e[0],"MARKDOWN_THEMATIC_BREAK_CHARS",p(["-","*","_"],{"-":"thematic_break","*":"thematic_break",
_:"thematic_break"}));a.const_set(e[0],"HYBRID_LAYOUT_BREAK_CHARS",h(e,"LAYOUT_BREAK_CHARS").$merge(h(e,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(e[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(e[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(e[0],"ORDERED_LIST_KEYWORDS",p(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(e[0],"ATTR_REF_HEAD",
"{");a.const_set(e[0],"LIST_CONTINUATION","+");a.const_set(e[0],"HARD_LINE_BREAK"," +");a.const_set(e[0],"LINE_CONTINUATION"," \\");a.const_set(e[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(e[0],"BLOCK_MATH_DELIMITERS",p(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(e[0],"INLINE_MATH_DELIMITERS",p(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));v=["asciimath"];q(a.const_set(e[0],"STEM_TYPE_ALIASES",p(["latexmath","latex",
"tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(v));v[b(v.length,1)];a.const_set(e[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(e[0],"HIGHLIGHT_JS_VERSION","9.15.6");a.const_set(e[0],"MATHJAX_VERSION","2.7.5");a.const_set(e[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_set(e[0],"INTRINSIC_ATTRIBUTES",p("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar pp cpp amp lt gt".split(" "),
{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"}));h(e,"RUBY_ENGINE")["$=="]("opal")||m;a.const_set(e[0],"QUOTE_SUBS",q(p([],{}),"tap",[],(u=function(c){var d;null==
c&&(c=m);v=[!1,d=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+h(e,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)\\*(?!"+h(e,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+h(e,"CC_ALL")+'*?\\S)`"(?!'+h(e,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+
h(e,"CC_ALL")+"*?\\S)`'(?!"+h(e,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+h(e,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)`(?!["+h(e,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+h(e,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+
h(e,"CC_ALL")+"*?\\S)_(?!"+h(e,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+h(e,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)#(?!"+h(e,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]];q(c,"[]=",a.to_a(v));v[b(v.length,1)];v=[!0,d=d.$drop(0)];q(c,"[]=",a.to_a(v));v[b(v.length,
1)];v=[2,["double","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)''(?!"+h(e,"CG_WORD")+")","m")]];q(d,"[]=",a.to_a(v));v[b(v.length,1)];v=[3,["single","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)'(?!"+h(e,"CG_WORD")+")","m")]];q(d,"[]=",a.to_a(v));v[b(v.length,1)];v=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+h(e,"CC_ALL")+"+?)\\+\\+","m")]];
q(d,"[]=",a.to_a(v));v[b(v.length,1)];v=[5,["monospaced","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)\\+(?!"+h(e,"CG_WORD")+")","m")]];q(d,"[]=",a.to_a(v));v[b(v.length,1)];return d.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+h(e,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+h(e,"CC_ALL")+"*?\\S)'(?!"+h(e,"CG_WORD")+")","m")])},u.$$s=d,u.$$arity=1,u)));a.const_set(e[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,
"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+h(e,"CG_WORD")+")\\\\?--(?="+h(e,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+h(e,"CG_ALNUM")+")\\\\?'(?="+h(e,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,
"","bounding"]]);h(e,"RUBY_ENGINE")["$=="]("opal")||m;h(e,"RUBY_ENGINE")["$=="]("opal")||m})(k[0],k);g.$require("asciidoctor.rb/../asciidoctor/core_ext");g.$require("asciidoctor.rb/../asciidoctor/helpers");g.$require("asciidoctor.rb/../asciidoctor/logging");g.$require("asciidoctor.rb/../asciidoctor/rx");g.$require("asciidoctor.rb/../asciidoctor/substitutors");g.$require("asciidoctor.rb/../asciidoctor/version");g.$require("asciidoctor.rb/../asciidoctor/abstract_node");g.$require("asciidoctor.rb/../asciidoctor/abstract_block");
g.$require("asciidoctor.rb/../asciidoctor/attribute_list");g.$require("asciidoctor.rb/../asciidoctor/block");g.$require("asciidoctor.rb/../asciidoctor/callouts");g.$require("asciidoctor.rb/../asciidoctor/converter");g.$require("asciidoctor.rb/../asciidoctor/document");g.$require("asciidoctor.rb/../asciidoctor/inline");g.$require("asciidoctor.rb/../asciidoctor/list");g.$require("asciidoctor.rb/../asciidoctor/parser");g.$require("asciidoctor.rb/../asciidoctor/path_resolver");g.$require("asciidoctor.rb/../asciidoctor/reader");
g.$require("asciidoctor.rb/../asciidoctor/section");g.$require("asciidoctor.rb/../asciidoctor/stylesheets");g.$require("asciidoctor.rb/../asciidoctor/table");g.$require("asciidoctor.rb/../asciidoctor/writer");g.$require("asciidoctor.rb/../asciidoctor/load");g.$require("asciidoctor.rb/../asciidoctor/convert");return h(k,"RUBY_ENGINE")["$=="]("opal")?(g.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),g.$require("asciidoctor.rb/../asciidoctor/timings"),g.$require("asciidoctor/js/postscript")):
m})(Opal);var q=function(a){return a&&!a.$$is_hash?Opal.hash2(Object.keys(a),a):a},g=function(a){var b={};a=a.$$smap;for(var g in a)b[g]=a[g];return b},F=function(a){if(a=q(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",q(b)))}return a},k=Opal.Asciidoctor.$$class;k.prototype.getCoreVersion=function(){return this.$$const.VERSION};k.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),
platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}};k.prototype.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));a=this.$convert(a,F(b));return a===Opal.nil?"":a};k.prototype.convertFile=function(a,b){return this.$convert_file(a,F(b))};k.prototype.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&
(a=a.toString("utf8"));return this.$load(a,F(b))};k.prototype.loadFile=function(a,b){return this.$load_file(a,F(b))};k=Opal.Asciidoctor.AbstractBlock;k.prototype.append=function(a){this.$append(a);return this};k.prototype.applySubstitutions=function(a,b){return this.$apply_subs(a,b)};k.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};k.prototype.getCaptionedTitle=function(){return this.$captioned_title()};k.prototype.getStyle=function(){return this.style};k.prototype.getCaption=
function(){return this.$caption()};k.prototype.setCaption=function(a){this.caption=a};k.prototype.getLevel=function(){return this.level};k.prototype.getSubstitutions=function(){return this.subs};k.prototype.hasSubstitution=function(a){return this["$sub?"](a)};k.prototype.removeSubstitution=function(a){this.$remove_sub(a)};k.prototype.hasBlocks=function(){return 0<this.blocks.length};k.prototype.getBlocks=function(){return this.blocks};k.prototype.getContent=function(){return this.$content()};k.prototype.convert=
function(){return this.$convert()};k.prototype.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[q(a)],b):this.$find_by(q(a))};k.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};k.prototype.hasSections=function(){return this["$sections?"]()};k.prototype.getSections=function(){return this.$sections()};k.prototype.getNumeral=function(){return this.$numeral()};
k.prototype.setNumeral=function(a){return this["$numeral="](a)};k.prototype.hasTitle=function(){return this["$title?"]()};k=Opal.Asciidoctor.Section;k.prototype.getIndex=function(){return this.index};k.prototype.setIndex=function(a){this.index=a};k.prototype.getSectionName=function(){return this.sectname};k.prototype.setSectionName=function(a){this.sectname=a};k.prototype.isSpecial=function(){return this.special};k.prototype.setSpecial=function(a){this.special=a};k.prototype.isNumbered=function(){return this.numbered};
k.prototype.getCaption=function(){var a=this.caption;return a===Opal.nil?void 0:a};k.prototype.getName=function(){return this.getTitle()};k=Opal.Asciidoctor.Block;k.prototype.getSource=function(){return this.$source()};k.prototype.getSourceLines=function(){return this.lines};k=Opal.Asciidoctor.AbstractNode;k.prototype.getNodeName=function(){return this.node_name};k.prototype.getAttributes=function(){return g(this.attributes)};k.prototype.getAttribute=function(a,b,g){a=this.$attr(a,b,g);return a===
Opal.nil?void 0:a};k.prototype.hasAttribute=function(a){return a in this.attributes.$$smap};k.prototype.isAttribute=function(a,b,g){a=this["$attr?"](a,b,g);return a===Opal.nil?!1:a};k.prototype.setAttribute=function(a,b,g){"undefined"===typeof g&&(g=!0);return this.$set_attr(a,b,g)};k.prototype.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};k.prototype.getDocument=function(){return this.document};k.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?
void 0:a};k.prototype.isInline=function(){return this["$inline?"]()};k.prototype.isBlock=function(){return this["$block?"]()};k.prototype.isRole=function(a){return this["$role?"](a)};k.prototype.getRole=function(){return this.$role()};k.prototype.hasRole=function(a){return this["$has_role?"](a)};k.prototype.getRoles=function(){return this.$roles()};k.prototype.addRole=function(a){return this.$add_role(a)};k.prototype.removeRole=function(a){return this.$remove_role(a)};k.prototype.isReftext=function(){return this["$reftext?"]()};
k.prototype.getReftext=function(){return this.$reftext()};k.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};k.prototype.getId=function(){var a=this.id;return a===Opal.nil?void 0:a};k.prototype.isOption=function(a){return this["$option?"](a)};k.prototype.setOption=function(a){return this.$set_option(a)};k.prototype.getIconUri=function(a){return this.$icon_uri(a)};k.prototype.getMediaUri=function(a,b){return this.$media_uri(a,b)};k.prototype.getImageUri=
function(a,b){return this.$image_uri(a,b)};k.prototype.getConverter=function(){return this.$converter()};k.prototype.readContents=function(a,b){return this.$read_contents(a,q(b))};k.prototype.readAsset=function(a,b){a=this.$read_asset(a,q(b));return a===Opal.nil?void 0:a};k.prototype.normalizeWebPath=function(a,b,g){return this.$normalize_web_path(a,b,g)};k.prototype.normalizeSystemPath=function(a,b,g,k){return this.$normalize_system_path(a,b,g,q(k))};k.prototype.normalizeAssetPath=function(a,b,g){return this.$normalize_asset_path(a,
b,g)};var E=Opal.Asciidoctor.Document;E.prototype.getRefs=function(){return g(this.catalog.$$smap.refs)};E.prototype.getImages=function(){return this.catalog.$$smap.images};E.prototype.getLinks=function(){return this.catalog.$$smap.links};E.prototype.hasFootnotes=function(){return this["$footnotes?"]()};E.prototype.getFootnotes=function(){return this.$footnotes()};E.prototype.getHeader=function(){return this.header};E.prototype.setAttribute=function(a,b){return this.$set_attribute(a,b)};E.prototype.removeAttribute=
function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};E.prototype.convert=function(a){a=this.$convert(q(a));return a===Opal.nil?"":a};E.prototype.write=function(a,b){return this.$write(a,b)};E.prototype.getAuthor=function(){return this.$author()};E.prototype.getSource=function(){return this.$source()};E.prototype.getSourceLines=function(){return this.$source_lines()};E.prototype.isNested=function(){return this["$nested?"]()};E.prototype.isEmbedded=function(){return this["$embedded?"]()};
E.prototype.hasExtensions=function(){return this["$extensions?"]()};E.prototype.getDoctype=function(){return this.doctype};E.prototype.getBackend=function(){return this.backend};E.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};E.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};E.prototype.setTitle=function(a){return this["$title="](a)};E.prototype.getDocumentTitle=function(a){a=this.$doctitle(q(a));return a===Opal.nil?void 0:a};E.prototype.getDoctitle=
E.prototype.getDocumentTitle;E.prototype.getCatalog=function(){return g(this.catalog)};E.prototype.getReferences=E.prototype.getCatalog;E.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};E.prototype.getRevdate=function(){return this.getRevisionDate()};E.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")};E.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};E.prototype.setHeaderAttribute=function(a,b,g){"undefined"===typeof g&&
(g=!0);"undefined"===typeof b&&(b="");return this.$set_header_attribute(a,b,g)};E.prototype.getAuthors=function(){return this.$authors()};var t=E.Footnote;t.prototype.getIndex=function(){var a=this.$$data.index;return a===Opal.nil?void 0:a};t.prototype.getId=function(){var a=this.$$data.id;return a===Opal.nil?void 0:a};t.prototype.getText=function(){var a=this.$$data.text;return a===Opal.nil?void 0:a};t=E.ImageReference;t.prototype.getTarget=function(){return this.$$data.target};t.prototype.getImagesDirectory=
function(){var a=this.$$data.imagesdir;return a===Opal.nil?void 0:a};t=E.Author;t.prototype.getName=function(){var a=this.$$data.name;return a===Opal.nil?void 0:a};t.prototype.getFirstName=function(){var a=this.$$data.firstname;return a===Opal.nil?void 0:a};t.prototype.getMiddleName=function(){var a=this.$$data.middlename;return a===Opal.nil?void 0:a};t.prototype.getLastName=function(){var a=this.$$data.lastname;return a===Opal.nil?void 0:a};t.prototype.getInitials=function(){var a=this.$$data.initials;
return a===Opal.nil?void 0:a};t.prototype.getEmail=function(){var a=this.$$data.email;return a===Opal.nil?void 0:a};E.RevisionInfo=function(a,b,g){this.date=a;this.number=b;this.remark=g};t=E.RevisionInfo;t.prototype.getDate=function(){return this.date};t.prototype.getNumber=function(){return this.number};t.prototype.getRemark=function(){return this.remark};t.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};E.prototype.getRevisionInfo=function(){return new E.RevisionInfo(this.getRevisionDate(),
this.getRevisionNumber(),this.getRevisionRemark())};E.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};E.prototype.getNotitle=function(){return this.$notitle()};E.prototype.getNoheader=function(){return this.$noheader()};E.prototype.getNofooter=function(){return this.$nofooter()};E.prototype.hasHeader=function(){return this["$header?"]()};E.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};E.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};
E.prototype.parse=function(a){return this.$parse(a)};E.prototype.getDocinfo=function(a,b){return this.$docinfo(a,b)};E.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};E.prototype.counterIncrement=function(a,b){return this.$counter_increment(a,b)};E.prototype.counter=function(a,b){return this.$counter(a,b)};E.prototype.getSafe=function(){return this.safe};E.prototype.getCompatMode=function(){return this.compat_mode};E.prototype.getSourcemap=function(){var a=this.sourcemap;
return a===Opal.nil?!1:a};E.prototype.getCounters=function(){return g(this.counters)};E.prototype.getCallouts=function(){return this.$callouts()};E.prototype.getBaseDir=function(){return this.base_dir};E.prototype.getOptions=function(){return g(this.options)};E.prototype.getOutfilesuffix=function(){return this.outfilesuffix};E.prototype.getParentDocument=function(){var a=this.parent_document;return a===Opal.nil?void 0:a};E.prototype.getReader=function(){return this.reader};E.prototype.getConverter=
function(){return this.converter};E.prototype.getExtensions=function(){var a=this.extensions;return a===Opal.nil?void 0:a};t=E.Title;t.prototype.getMain=function(){return this.main};t.prototype.getCombined=function(){return this.combined};t.prototype.getSubtitle=function(){var a=this.subtitle;return a===Opal.nil?void 0:a};t.prototype.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};t.prototype.hasSubtitle=function(){return this["$subtitle?"]()};t=Opal.Asciidoctor.Inline;
t.create=function(a,b,g,k){return this.$new(a,b,g,q(k))};t.prototype.convert=function(){return this.$convert()};t.prototype.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};t.prototype.getType=function(){return this.$type()};t.prototype.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};t=Opal.Asciidoctor.List;t.prototype.hasItems=function(){return this["$items?"]()};t.prototype.getItems=function(){return this.blocks};t=Opal.Asciidoctor.ListItem;t.prototype.getText=
function(){return this.$text()};t.prototype.setText=function(a){return this["$text="](a)};t.prototype.hasText=function(){return this["$text?"]()};t.prototype.getMarker=function(){return this.marker};t.prototype.setMarker=function(a){this.marker=a};t.prototype.getList=function(){return this.$list()};t.prototype.getParent=t.prototype.getList;t=Opal.Asciidoctor.Reader;t.prototype.pushInclude=function(a,b,g,k,m){return this.$push_include(a,b,g,k,q(m))};t.prototype.getCursor=function(){return this.$cursor()};
t.prototype.getLines=function(){return this.$lines()};t.prototype.getString=function(){return this.$string()};t.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()};t.prototype.isEmpty=function(){return this["$empty?"]()};t.prototype.peekLine=function(a){a=this.$peek_line(a||!1);return a===Opal.nil?void 0:a};t.prototype.readLine=function(){var a=this.$read_line();return a===Opal.nil?void 0:a};t.prototype.readLines=function(){return this.$read_lines()};t.prototype.read=function(){return this.$read()};
var r=Opal.Asciidoctor.Reader.Cursor;r.prototype.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a};r.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};r.prototype.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};r.prototype.getLineNumber=function(){return this.lineno};var K=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=K;K.getLogger=function(){return this.$logger()};K.setLogger=function(a){this.logger=
a};K.newLogger=function(a,b){return C(a,b).$new()};K.newFormatter=function(a,b){return z(a,b).$new()};var R=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=R;R.get=function(a){return R.$constants()[a]};r=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=r;r.prototype.call=function(a,b,g,k){return this.$call(R.get(a),b,g,k)};r=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=r;r.create=
function(){return this.$new()};r.prototype.getMessages=function(){for(var a=this.messages,b=[],k=0;k<a.length;k++){var m=g(a[k]);"string"===typeof m.message?m.getText=function(){return this.message}:(m.message=g(m.message),m.getText=function(){return this.message.text});m.getSeverity=function(){return this.severity.toString()};m.getSourceLocation=function(){return this.message.source_location};b.push(m)}return b};var O=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=
O;O.getLogger=function(){return K.$logger()};O.createLogMessage=function(a,b){return O.prototype.$message_with_context(a,q(b))};t.prototype.getLogger=O.getLogger;t.prototype.createLogMessage=O.createLogMessage;k.prototype.getLogger=O.getLogger;k.prototype.createLogMessage=O.createLogMessage;k=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=k;k.prototype.getMaxSeverity=function(){var a=this.max_severity;return a===Opal.nil?void 0:a};k.prototype.getFormatter=function(){return this.formatter};
k.prototype.setFormatter=function(a){this.formatter=a};k.prototype.getLevel=function(){return this.level};k.prototype.setLevel=function(a){this.level=a};k.prototype.getProgramName=function(){return this.progname};k.prototype.setProgramName=function(a){this.progname=a};k=Opal.const_get_qualified("::","Logger");k.prototype.add=function(a,b,g){a="string"===typeof a?R[a.toUpperCase()]:a;this.$add(a,b,g)};k.prototype.log=k.prototype.add;k.prototype.debug=function(a){this.$debug(a)};k.prototype.info=function(a){this.$info(a)};
k.prototype.warn=function(a){this.$warn(a)};k.prototype.error=function(a){this.$error(a)};k.prototype.fatal=function(a){this.$fatal(a)};k.prototype.isDebugEnabled=function(){return this["$debug?"]()};k.prototype.isInfoEnabled=function(){return this["$info?"]()};k.prototype.isWarnEnabled=function(){return this["$warn?"]()};k.prototype.isErrorEnabled=function(){return this["$error?"]()};k.prototype.isFatalEnabled=function(){return this["$fatal?"]()};k=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",
!0);Opal.Asciidoctor.NullLogger=k;k.create=function(){return this.$new()};k.prototype.getMaxSeverity=function(){return this.max_severity};Opal.Asciidoctor.StopIteration=Opal.StopIteration;k=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=k;k.create=function(){return this.$new()};k.prototype.printReport=function(a,b){if(a)if("function"===typeof a.$add)var d=function(b){a.$add(1,b)};else if("function"===typeof a.log)d=a.log;else if("function"===typeof a.write)d=function(b){a.write(b,
"utf-8")};else throw Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else d=function(a){Opal.gvars.stdout.$write(a)};b&&d("Input file: "+b);d(" Time to read and parse source: "+this.$read_parse().toFixed(2));d(" Time to convert document: "+this.$convert().toFixed(2));d(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var I=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",
!0);Opal.Asciidoctor.SyntaxHighlighter=I;I.register=function(a,b){var d="string"===typeof a?a:a[0];if("function"===typeof b){var k=b.prototype,q=Object.getOwnPropertyNames(k);b={};for(var n in q){var h=q[n];b[h]=k[h]}}var c=u(m,d,b,{},{format:function(a){2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]&&(a[2]=g(a[2]));1<=a.length&&(a[1]=a[1]===Opal.nil?void 0:a[1]);return a},highlight:function(a){if(3<=a.length&&"object"===typeof a[3]&&"$$smap"in a[3]){var b=a[3];b=g(b);for(var c in b){var d=
b[c];if("callouts"===c){var e=void 0;var f={};d=d.$$keys;for(e in d)f[e.toString()]=d[e].value;e=f;for(var h in e)for(f=e[h],d=0;d<f.length;d++)for(var k=f[d],m=0;m<k.length;m++)k[m]=k[m]===Opal.nil?void 0:k[m];b[c]=e}else b[c]=d===Opal.nil?void 0:d}a[3]=b}2<=a.length&&(a[2]=a[2]===Opal.nil?void 0:a[2]);return a}}),r;for(r in b)b.hasOwnProperty(r)&&function(a){var d=b[a];"handlesHighlighting"===a?Opal.def(c,"$highlight?",function(){return d.call()}):"hasDocinfo"===a&&Opal.def(c,"$docinfo?",function(a){return d.apply(this,
[a])})}(r);Opal.def(c,"$name",function(){return d});I.$register(c,a);return c};I.for=function(a){a=I.$for(a);return a===Opal.nil?void 0:a};var m=Opal.const_get_qualified(I,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=m;m.prototype.registerFor=function(a){I.$register(this,a)};var la=function(a){a.$$arity=a.length;return a},S=function(a,b,g,k){return"object"===typeof g||g.$$is_class?a["$"+b](g,k):Opal.send(a,b,k&&[k],la(g))},A=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=
A;A.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"create",null,la(a)):"function"===typeof b?Opal.send(this,"create",[a],la(b)):this.$create()};A.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,la(a)):Opal.send(this,"register",[a],la(b))};A.getGroups=function(){return g(this.$groups())};A.unregisterAll=function(){this.$unregister_all()};A.unregister=function(){for(var a=Array.prototype.concat.apply([],
arguments),b=this.$groups(),g={},k=0,m=b.$$keys;k<m.length;k++){var n=m[k];g[n.toString()]=n}for(k=0;k<a.length;k++)m=a[k],m in g&&Opal.hash_delete(b,g[m])};k=A.Registry;k.prototype.getGroups=A.getGroups;k.prototype.unregisterAll=function(){this.groups=Opal.hash()};k.prototype.unregister=A.unregister;k.prototype.prefer=function(a,b){1===arguments.length&&(b=a,a=null);return"object"===typeof b||b.$$is_class?this.$prefer(a,b):Opal.send(this,"prefer",a&&[a],la(b))};k.prototype.block=function(a,b){1===
arguments.length&&(b=a,a=null);return S(this,"block",b,a)};k.prototype.inlineMacro=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"inline_macro",b,a)};k.prototype.includeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"include_processor",b,a)};k.prototype.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"block_macro",b,a)};k.prototype.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"tree_processor",b,a)};
k.prototype.postprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"postprocessor",b,a)};k.prototype.preprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"preprocessor",b,a)};k.prototype.docinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return S(this,"docinfo_processor",b,a)};k.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()};k.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()};k.prototype.hasIncludeProcessors=
function(){return this["$include_processors?"]()};k.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()};k.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};k.prototype.hasBlocks=function(){return this["$blocks?"]()};k.prototype.hasBlockMacros=function(){return this["$block_macros?"]()};k.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()};k.prototype.getPreprocessors=function(){return this.$preprocessors()};k.prototype.getTreeProcessors=
function(){return this.$tree_processors()};k.prototype.getIncludeProcessors=function(){return this.$include_processors()};k.prototype.getPostprocessors=function(){return this.$postprocessors()};k.prototype.getDocinfoProcessors=function(a){return this.$docinfo_processors(a)};k.prototype.getBlocks=function(){return this.block_extensions.$values()};k.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()};k.prototype.getInlineMacros=function(){return this.$inline_macros()};
k.prototype.getInlineMacroFor=function(a){a=this["$registered_for_inline_macro?"](a);return!1===a?void 0:a};k.prototype.getBlockFor=function(a,b){if("undefined"===typeof b)return a=this.$find_block_extension(a),a===Opal.nil?void 0:a;a=this["$registered_for_block?"](a,b);return!1===a?void 0:a};k.prototype.getBlockMacroFor=function(a){a=this["$registered_for_block_macro?"](a);return!1===a?void 0:a};k=A.Processor;k.prototype.prepend=function(){this.$option("position",">>")};k.prototype.process=function(a){a=
new Proxy(a,{apply:function(a,b,k){for(var d=0;d<k.length;d++)"object"===typeof k[d]&&"$$smap"in k[d]&&(k[d]=g(k[d]));return a.apply(b,k)}});return Opal.send(this,"process",null,la(a))};k.prototype.named=function(a){return this.$named(a)};k.prototype.createBlock=function(a,b,g,k,m){return this.$create_block(a,b,g,q(k),q(m))};k.prototype.createList=function(a,b,g){return this.$create_list(a,b,q(g))};k.prototype.createListItem=function(a,b){return this.$create_list_item(a,b)};k.prototype.createImageBlock=
function(a,b,g){return this.$create_image_block(a,q(b),q(g))};k.prototype.createInline=function(a,b,g,k){k&&k.attributes&&(k.attributes=q(k.attributes));return this.$create_inline(a,b,g,q(k))};k.prototype.parseContent=function(a,b,g){return this.$parse_content(a,b,g)};k.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};k.prototype.resolvesAttributes=function(a){return this.$resolves_attributes(a)};k=A.BlockProcessor;k.prototype.onContext=function(a){return this.$on_context(a)};
k.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};k.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};k.prototype.parseContentAs=function(a){this.$parse_content_as(a)};k=A.BlockMacroProcessor;k.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};k.prototype.parseContentAs=function(a){this.$parse_content_as(a)};k=A.InlineMacroProcessor;k.prototype.getName=function(){var a=this.name;return a===Opal.nil?
void 0:a};k.prototype.parseContentAs=function(a){this.$parse_content_as(a)};k.prototype.matchFormat=function(a){this.$match_format(a)};k=A.IncludeProcessor;k.prototype.handles=function(a){return Opal.send(this,"handles?",null,la(a))};k.prototype.prefer=function(){this.$prefer()};A.TreeProcessor.prototype.prefer=function(){this.$prefer()};A.Postprocessor.prototype.prefer=function(){this.$prefer()};A.Preprocessor.prototype.prefer=function(){this.$prefer()};k=A.DocinfoProcessor;k.prototype.prefer=function(){this.$prefer()};
k.prototype.atLocation=function(a){this.$at_location(a)};A.createPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("Postprocessor",a,b)};A.newPostprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPostprocessor(a,b).$new()};A.createPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("Preprocessor",a,b)};A.newPreprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createPreprocessor(a,b).$new()};A.createTreeProcessor=
function(a,b){1===arguments.length&&(b=a,a=null);return v("TreeProcessor",a,b)};A.newTreeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createTreeProcessor(a,b).$new()};A.createIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("IncludeProcessor",a,b)};A.newIncludeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createIncludeProcessor(a,b).$new()};A.createDocinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("DocinfoProcessor",
a,b)};A.newDocinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createDocinfoProcessor(a,b).$new()};A.createBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("BlockProcessor",a,b)};A.newBlockProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockProcessor(a,b).$new()};A.createInlineMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("InlineMacroProcessor",a,b)};A.newInlineMacroProcessor=function(a,b){1===
arguments.length&&(b=a,a=null);return this.createInlineMacroProcessor(a,b).$new()};A.createBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return v("BlockMacroProcessor",a,b)};A.newBlockMacroProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return this.createBlockMacroProcessor(a,b).$new()};var J=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=J;J.prototype.convert=function(a,b,g){return this.$convert(a,b,q(g))};J.create=function(a,b){return this.$create(a,
q(b))};k=Opal.Asciidoctor.Converter.Factory;Opal.Asciidoctor.ConverterFactory=k;k.register=function(a,b){"object"===typeof a&&"undefined"===typeof a.$convert&&"function"===typeof a.convert&&Opal.def(a,"$convert",a.convert);a=[a].concat(b);return J.$register.apply(J,a)};k.getDefault=function(a){return this.$default(a)};k.prototype.create=function(a,b){return this.$create(a,q(b))};k=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=k;k.create=function(){return this.$new()};k.prototype.convert=
function(a,b,g){return this.$convert(a,b,g)};Opal.Asciidoctor.prototype.getVersion=function(){return"2.0.3"};return Opal.Asciidoctor});
