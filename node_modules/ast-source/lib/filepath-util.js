// LICENSE : MIT
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.adjustFilePath = adjustFilePath;
exports.hasExistDirectory = hasExistDirectory;

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

var _fs = require("fs");

var _fs2 = _interopRequireDefault(_fs);

var _pathIsAbsolute = require("path-is-absolute");

var _pathIsAbsolute2 = _interopRequireDefault(_pathIsAbsolute);

// code from https://github.com/power-assert-js/espower-source

function adjustFilePath(filepath, sourceRoot) {
    if (!sourceRoot || !(0, _pathIsAbsolute2["default"])(filepath)) {
        return filepath;
    }
    var relativePath = _path.relative(sourceRoot, filepath);
    if (relativePath.split(_path.sep).indexOf("..") !== -1) {
        // if absolute filePath conflicts with sourceRoot, use filepath only.
        return filepath;
    }
    return relativePath;
}

function hasExistDirectory(dirPath) {
    try {
        // Query the entry
        var stats = _fs2["default"].lstatSync(dirPath);

        // Is it a directory?
        if (stats.isDirectory()) {
            return true;
        }
    } catch (e) {
        return false;
    }
    return false;
}
//# sourceMappingURL=filepath-util.js.map
