{"version":3,"sources":["../src/package-util.js"],"names":[],"mappings":";AACA,YAAY,CAAC;;;;;;;;;oBACI,MAAM;;;;sBACJ,QAAQ;;;;4BACK,iBAAiB;;AACjD,IAAI,WAAW,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC;;AAE3C,SAAS,cAAc,CAAC,KAAK,EAAE;AAClC,QAAI,CAAC,KAAK,EAAE;AACR,eAAO,IAAI,CAAC;KACf;AACD,SAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AACnC,YAAI,gBAAgB,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AAChC,YAAI,CAAC,kBATL,iBAAiB,EASM,gBAAgB,CAAC,EAAE;AACtC,qBAAS;SACZ;AACD,YAAI,GAAG,GAAG,kBAAK,OAAO,CAAC,gBAAgB,CAAC,CAAC;AACzC,YAAI,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,kBAAK,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;AACxC,YAAI,OAAO,KAAK,WAAW,EAAE;AACzB,mBAAO,GAAG,CAAC;SACd;KACJ;CACJ;;;;;;;;;AAOM,SAAS,cAAc,CAAC,KAAK,EAAE;AAClC,QAAI,GAAG,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;AAChC,QAAI,GAAG,EAAE;AACL,eAAO,OAAO,CAAC,kBAAK,OAAO,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,CAAC;KACrD,MAAM;AACH,eAAO,IAAI,CAAC;KACf;CACJ","file":"package-util.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nimport path from \"path\"\nimport assert from \"assert\"\nimport {hasExistDirectory} from \"./filepath-util\"\nvar packageName = require(\"../package.json\").name;\n\nexport function findPackageDir(paths) {\n    if (!paths) {\n        return null;\n    }\n    for (var i = 0; i < paths.length; ++i) {\n        var node_modulesPath = paths[i];\n        if (!hasExistDirectory(node_modulesPath)) {\n            continue;\n        }\n        var dir = path.dirname(node_modulesPath);\n        var dirName = dir.split(path.sep).pop();\n        if (dirName !== packageName) {\n            return dir;\n        }\n    }\n}\n/**\n * find package.json directory and return package json.\n * You should pass `module.paths` to `paths`.\n * @param {string[]} paths the paths for look-up\n * @returns {object|null}\n */\nexport function getPackageJSON(paths) {\n    var dir = findPackageDir(paths);\n    if (dir) {\n        return require(path.resolve(dir, \"package.json\"));\n    } else {\n        return null;\n    }\n}"]}