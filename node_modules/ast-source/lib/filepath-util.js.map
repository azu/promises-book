{"version":3,"sources":["../src/filepath-util.js"],"names":[],"mappings":";AACA,YAAY,CAAC;;;;;;;;;kBACE,IAAI;;;;8BACI,kBAAkB;;;;;;AAElC,SAAS,cAAc,CAAC,QAAQ,EAAE,UAAU,EAAE;AACjD,QAAI,CAAC,UAAU,IAAI,CAAC,iCAAW,QAAQ,CAAC,EAAE;AACtC,eAAO,QAAQ,CAAC;KACnB;AACD,QAAI,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;AACxD,QAAI,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;;AAEpD,eAAO,QAAQ,CAAC;KACnB;AACD,WAAO,YAAY,CAAC;CACvB;;AACM,SAAS,iBAAiB,CAAC,OAAO,EAAE;AACvC,QAAI;;AAEA,YAAI,KAAK,GAAG,gBAAG,SAAS,CAAC,OAAO,CAAC,CAAC;;;AAGlC,YAAI,KAAK,CAAC,WAAW,EAAE,EAAE;AACrB,mBAAO,IAAI,CAAA;SACd;KACJ,CAAC,OAAO,CAAC,EAAE;AACR,eAAO,KAAK,CAAC;KAChB;AACD,WAAO,KAAK,CAAC;CAChB","file":"filepath-util.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nimport fs from \"fs\"\nimport isAbsolute from \"path-is-absolute\"\n// code from https://github.com/power-assert-js/espower-source\nexport function adjustFilePath(filepath, sourceRoot) {\n    if (!sourceRoot || !isAbsolute(filepath)) {\n        return filepath;\n    }\n    var relativePath = _path.relative(sourceRoot, filepath);\n    if (relativePath.split(_path.sep).indexOf('..') !== -1) {\n        // if absolute filePath conflicts with sourceRoot, use filepath only.\n        return filepath;\n    }\n    return relativePath;\n}\nexport function hasExistDirectory(dirPath) {\n    try {\n        // Query the entry\n        var stats = fs.lstatSync(dirPath);\n\n        // Is it a directory?\n        if (stats.isDirectory()) {\n            return true\n        }\n    } catch (e) {\n        return false;\n    }\n    return false;\n}"]}