{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;AAAA,0CAA6C;AAC7C,+BAA8B;AAGV,eAHX,WAAI,CAGW;AAFxB,yCAAwC;AAE/B,oBAFA,qBAAS,CAEA;AAElB,uBAA8B,QAAgB,EAAE,OAAe,EAAE,OAAe,EAAE,QAAiB;IAC/F,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;IACtB,IAAM,UAAU,GAAG,mBAAU,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAChD,IAAM,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,UAAA,OAAO,IAAI,OAAA,IAAI,WAAI,CAAC,EAAE,OAAO,SAAA,EAAE,QAAQ,UAAA,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,OAAO,SAAA,EAAE,CAAC,EAA9D,CAA8D,CAAC,CAAC;IACxG,MAAM,CAAC,IAAI,qBAAS,CAAC,EAAE,QAAQ,UAAA,EAAE,OAAO,SAAA,EAAE,KAAK,OAAA,EAAE,CAAC,CAAC;AACvD,CAAC;AALD,sCAKC","sourcesContent":["import { collectAll } from \"../utils/regexp\";\nimport { Diff } from \"./diff\";\nimport { ChangeSet } from \"./changeset\";\n\nexport { ChangeSet, Diff };\n\nexport function makeChangeSet(filePath: string, content: string, pattern: RegExp, expected?: string): ChangeSet {\n    pattern.lastIndex = 0;\n    const resultList = collectAll(pattern, content);\n    const diffs = resultList.map(matches => new Diff({ pattern, expected, index: matches.index, matches }));\n    return new ChangeSet({ filePath, content, diffs });\n}\n"]}