"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
if("undefined"===typeof Opal){var fundamentalObjects=[Function,Boolean,Error,Number,Date,String,RegExp,Array],backup={},index;for(index in fundamentalObjects){var fundamentalObject=fundamentalObjects[index];backup[fundamentalObject.name]={call:fundamentalObject.call,apply:fundamentalObject.apply,bind:fundamentalObject.bind}}(function(c){function u(a,b,c){"string"===typeof a?a[b]=c:Object.defineProperty(a,b,{value:c,enumerable:!1,configurable:!0,writable:!0})}function D(a,b){if(a)return a.$$const[b]}
function r(a,b){var c,e,g;if(null!=a)for(g=k.ancestors(a),c=0,e=g.length;c<e;c++)if(g[c].$$const&&q.call(g[c].$$const,b))return g[c].$$const[b]}function y(b,c,e){if(!e)return(b||a).$const_missing(c)}function l(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function h(a){var b=A(a);a.$$is_module&&a.$$iclasses.push(b);return b}function A(a){var b={},c=a.prototype;c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on);var e=Object.getOwnPropertyNames(c),g=e.length,d;for(d=0;d<g;d++){var f=
e[d];u(b,f,c[f])}u(b,"$$iclass",!0);u(b,"$$module",a);return b}function x(a){var b=a.length,c=a[0];u(c,"$$root",!0);if(1===b)return{first:c,last:c};for(var e=1;e<b;e++){var z=a[e];g(c,z);c=z}return{first:a[0],last:a[b-1]}}function n(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;if(a.hasOwnProperty("$$class"))return a.$$class}}function m(a){return"function"===typeof a&&!a.$$stub}var w=this,H;"undefined"!==typeof global&&(w=global);"undefined"!==typeof window&&
(w=window);H="object"===typeof w.console?w.console:null==w.console?w.console={}:{};"log"in H||(H.log=function(){});"warn"in H||(H.warn=H.log);if("undefined"!==typeof this.Opal)return H.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var M,Q,a,e,k=this.Opal={};k.global=w;w.Opal=k;k.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var q=Object.hasOwnProperty,v=Function.prototype.bind,g=Object.setPrototypeOf,
B=Array.prototype.slice,b=4;k.uid=function(){return b+=2};k.id=function(a){if(a.$$is_number)return 2*a+1;if(null!=a.$$id)return a.$$id;u(a,"$$id",k.uid());return a.$$id};k.gvars={};k.exit=function(a){k.gvars.DEBUG&&H.log("Exited with status "+a)};k.exceptions=[];k.pop_exception=function(){k.gvars["!"]=k.exceptions.pop()||M};k.inspect=function(a){return a===c?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};k.defineProperty=u;k.slice=B;k.truthy=function(a){return a!==M&&null!=a&&(!a.$$is_boolean||
1==a)};k.falsy=function(a){return a===M||null==a||a.$$is_boolean&&0==a};k.const_get_local=function(b,c,e){var g;if(null!=b){"::"===b&&(b=a);if(!b.$$is_module&&!b.$$is_class)throw new k.TypeError(b.toString()+" is not a class/module");g=D(b,c);if(null!=g)return g;g=y(b,c,e);if(null!=g)return g}};k.const_get_qualified=function(b,c,e){var g,z,d=k.const_cache_version;if(null!=b){"::"===b&&(b=a);if(!b.$$is_module&&!b.$$is_class)throw new k.TypeError(b.toString()+" is not a class/module");null==(z=b.$$const_cache)&&
(u(b,"$$const_cache",Object.create(null)),z=b.$$const_cache);g=z[c];null==g||g[0]!==d?(null!=(g=D(b,c))||null!=(g=r(b,c)),z[c]=[d,g]):g=g[1];return null!=g?g:y(b,c,e)}};k.const_cache_version=1;k.const_get_relative=function(b,c,e){var g=b[0],z,d=k.const_cache_version,f;null==(f=b.$$const_cache)&&(u(b,"$$const_cache",Object.create(null)),f=b.$$const_cache);z=f[c];if(null==z||z[0]!==d){var q;if(!(q=null!=(z=D(g,c)))){a:{var v;if(0!==b.length)for(z=0,q=b.length;z<q;z++)if(v=b[z].$$const[c],null!=v){b=
v;break a}b=void 0}q=null!=(z=b)}q||null!=(z=r(g,c))||(b=null==g||g.$$is_module?r(a,c):void 0,null!=(z=b));f[c]=[d,z]}else z=z[1];return null!=z?z:y(g,c,e)};k.const_set=function(b,c,e){if(null==b||"::"===b)b=a;if(e.$$is_a_module){if(null==e.$$name||e.$$name===M)e.$$name=c;null==e.$$base_module&&(e.$$base_module=b)}b.$$const=b.$$const||Object.create(null);b.$$const[c]=e;b.$$=b.$$const;k.const_cache_version++;b===a&&(k[c]=e);u(b,c,e);return e};k.constants=function(b,c){null==c&&(c=!0);var e,g=[b],z,
d,f={},q;c&&(g=g.concat(k.ancestors(b)));c&&b.$$is_module&&(g=g.concat([k.Object]).concat(k.ancestors(k.Object)));z=0;for(d=g.length;z<d;z++){e=g[z];if(b!==a&&e==a)break;for(q in e.$$const)f[q]=!0}return Object.keys(f)};k.const_remove=function(a,b){k.const_cache_version++;if(null!=a.$$const[b]){var c=a.$$const[b];delete a.$$const[b];return c}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],M;throw k.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};k.allocate_class=
function(a,b,c){var e=c;null!=b&&b.$$bridge&&(e=function(){var a=B.call(arguments),a=new (v.apply(b,[null].concat(a)));g(a,e.prototype);return a});u(e,"$$name",a);u(e,"$$const",{});u(e,"$$is_class",!0);u(e,"$$is_a_module",!0);u(e,"$$super",b);u(e,"$$cvars",{});u(e,"$$own_included_modules",[]);u(e,"$$own_prepended_modules",[]);u(e,"$$ancestors",[]);u(e,"$$ancestors_cache_version",null);u(e.prototype,"$$class",e);k.Class&&g(e,k.Class.prototype);null!=b&&(g(e.prototype,b.prototype),b!==k.Module&&b.$$meta&&
k.build_class_singleton_class(e));return e};k.klass=function(b,c,e,g){var z;null==b?b=a:b.$$is_class||b.$$is_module||(b=b.$$class);null==c||c.hasOwnProperty("$$is_class")||(z=c,c=a);var d;if(d=D(b,e)){if(!d.$$is_class)throw k.TypeError.$new(e+" is not a class");}else d=void 0;if(d){if(c&&d.$$super!==c)throw k.TypeError.$new("superclass mismatch for class "+d.$$name);return d}null==c&&(c=a);z?(k.bridge(z),d=z,k.const_set(b,e,d)):(d=k.allocate_class(e,c,g),k.const_set(b,e,d),c.$inherited&&c.$inherited(d));
return d};k.allocate_module=function(a,b){u(b,"$$name",a);u(b,"$$const",{});u(b,"$$is_module",!0);u(b,"$$is_a_module",!0);u(b,"$$cvars",{});u(b,"$$iclasses",[]);u(b,"$$own_included_modules",[]);u(b,"$$own_prepended_modules",[]);u(b,"$$ancestors",[b]);u(b,"$$ancestors_cache_version",null);g(b,k.Module.prototype);return b};k.module=function(b,c,e){var g;null==b?b=a:b.$$is_class||b.$$is_module||(b=b.$$class);g=b;var z=D(g,c);null==z&&g===a&&(z=r(a,c));if(z&&!z.$$is_module&&z!==a)throw k.TypeError.$new(c+
" is not a module");if(g=z)return g;g=k.allocate_module(c,e);k.const_set(b,c,g);return g};k.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?k.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?k.build_module_singletin_class(a):k.build_object_singleton_class(a)};k.build_class_singleton_class=function(a){var b;if(a.$$meta)return a.$$meta;b=a===Q?e:k.get_singleton_class(a.$$super);b=k.allocate_class(null,b,function(){});u(b,"$$is_singleton",!0);u(b,
"$$singleton_of",a);u(a,"$$meta",b);g(a,b.prototype);u(a,"$$class",k.Class);return b};k.build_module_singletin_class=function(a){if(a.$$meta)return a.$$meta;var b=k.allocate_class(null,k.Module,function(){});u(b,"$$is_singleton",!0);u(b,"$$singleton_of",a);u(a,"$$meta",b);g(a,b.prototype);u(a,"$$class",k.Module);return b};k.build_object_singleton_class=function(a){var b=k.allocate_class(M,a.$$class,function(){});u(b,"$$is_singleton",!0);u(b,"$$singleton_of",a);delete b.prototype.$$class;u(a,"$$meta",
b);g(a,a.$$meta.prototype);return b};k.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};k.instance_methods=function(a){var b=[],c=[];a=k.ancestors(a);for(var e=0,g=a.length;e<g;e++){var d=a[e].prototype;d.hasOwnProperty("$$dummy")&&(d=d.$$define_methods_on);for(var f=Object.getOwnPropertyNames(d),q=0,v=f.length;q<v;q++){var B=f[q];if(k.is_method(B)){var E=B.slice(1),B=d[B];B.$$stub&&-1===b.indexOf(E)&&b.push(E);B.$$stub||-1!==c.indexOf(E)||-1!==b.indexOf(E)||c.push(E)}}}return c};k.own_instance_methods=
function(a){var b=[];a=a.prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var c=Object.getOwnPropertyNames(a),e=0,g=c.length;e<g;e++){var d=c[e];k.is_method(d)&&!a[d].$$stub&&(d=d.slice(1),b.push(d))}return b};k.methods=function(a){return k.instance_methods(k.get_singleton_class(a))};k.own_methods=function(a){return k.own_instance_methods(k.get_singleton_class(a))};k.receiver_methods=function(a){var b=k.get_singleton_class(a);a=k.own_instance_methods(b);b=k.own_instance_methods(b.$$super);
return a.concat(b)};k.class_variables=function(a){a=k.ancestors(a);var b,c={};for(b=a.length-1;0<=b;b--){var e=a[b],g;for(g in e.$$cvars)c[g]=e.$$cvars[g]}return c};k.class_variable_set=function(a,b,c){var e=k.ancestors(a),g;for(g=e.length-2;0<=g;g--){var d=e[g];if(q.call(d.$$cvars,b))return d.$$cvars[b]=c}return a.$$cvars[b]=c};k.append_features=function(a,b){var c=k.ancestors(a),e=[];if(-1!==c.indexOf(b))throw k.ArgumentError.$new("cyclic include detected");for(var z=0,d=c.length;z<d;z++){var f=
h(c[z]);u(f,"$$included",!0);e.push(f)}c=k.ancestors(b);e=x(e);if(-1===c.indexOf(a))c=b.prototype,z=Object.getPrototypeOf(b.prototype);else{c=b.prototype;for(z=Object.getPrototypeOf(c);null!=z&&(!l(z)||z.$$module!==a);)c=z,z=Object.getPrototypeOf(z);for(z=Object.getPrototypeOf(z);z.hasOwnProperty("$$iclass")&&!l(z);)z=Object.getPrototypeOf(z)}g(c,e.first);g(e.last,z);e=[];for(z=Object.getPrototypeOf(b.prototype);z&&!z.hasOwnProperty("$$class");)(c=n(z))&&e.push(c),z=Object.getPrototypeOf(z);b.$$own_included_modules=
e;k.const_cache_version++};k.prepend_features=function(a,b){var c=k.ancestors(a),e=[];if(-1!==c.indexOf(b))throw k.ArgumentError.$new("cyclic prepend detected");for(var z=0,d=c.length;z<d;z++){var f=h(c[z]);u(f,"$$prepended",!0);e.push(f)}c=x(e);z=b.prototype;d=Object.getPrototypeOf(z);if(z.hasOwnProperty("$$dummy"))e=z.$$define_methods_on;else{for(var e=A(b),f=b.prototype,q=Object.getOwnPropertyNames(f),v=0;v<q.length;v++){var B=q[v];k.is_method(B)&&delete f[B]}u(z,"$$dummy",!0);u(z,"$$define_methods_on",
e);g(z,e);g(e,d)}if(-1===k.ancestors(b).indexOf(a))for(d=z,z=Object.getPrototypeOf(z);null!=z&&!z.hasOwnProperty("$$root")&&z!==e&&z.hasOwnProperty("$$iclass");)z=Object.getPrototypeOf(z);else throw k.RuntimeError.$new("Prepending a module multiple times is not supported");g(d,c.first);g(c.last,z);c=[];z=Object.getPrototypeOf(b.prototype);if(b.prototype.hasOwnProperty("$$dummy"))for(;z&&z!==b.prototype.$$define_methods_on;)(e=n(z))&&c.push(e),z=Object.getPrototypeOf(z);b.$$own_prepended_modules=c;
k.const_cache_version++};k.bridge=function(a,b){if(a.hasOwnProperty("$$bridge"))throw k.ArgumentError.$new("already bridged");var c,e;null==b?(c=k.Object,e=a):e=c=b;g(a.prototype,c.prototype);u(a.prototype,"$$class",e);u(a,"$$bridge",!0);u(a,"$$is_class",!0);u(a,"$$is_a_module",!0);u(a,"$$super",c);u(a,"$$const",{});u(a,"$$own_included_modules",[]);u(a,"$$own_prepended_modules",[]);u(a,"$$ancestors",[]);u(a,"$$ancestors_cache_version",null);g(a,k.Class.prototype)};k.ancestors=function(a){if(!a)return[];
if(a.$$ancestors_cache_version===k.const_cache_version)return a.$$ancestors;var b=[],c,e,g;c=0;e=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(g=e.length;c<g;c++)b.push(e[c]);if(a.$$super)for(c=0,e=k.ancestors(a.$$super),g=e.length;c<g;c++)b.push(e[c]);a.$$ancestors_cache_version=k.const_cache_version;return a.$$ancestors=b};k.included_modules=function(a){var b=[],c=null;for(a=Object.getPrototypeOf(a.prototype);a&&Object.getPrototypeOf(a);a=Object.getPrototypeOf(a))(c=
n(a))&&c.$$is_module&&a.$$iclass&&a.$$included&&b.push(c);return b};k.add_stubs=function(a){for(var b=k.BasicObject.prototype,c=0,e=a.length;c<e;c++){var g=a[c],d=b[g];(null==d||d.$$stub)&&k.add_stub_for(b,g)}};k.add_stub_for=function(a,b){var c=k.stub_for(b);u(a,b,c)};k.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;b.$$p=null;for(var c=Array(arguments.length),e=0,g=c.length;e<g;e++)c[e]=arguments[e];return this.$method_missing.apply(this,[a.slice(1)].concat(c))}b.$$stub=!0;return b};
k.ac=function(a,b,c,e){var g="",g=c.$$is_a_module?g+(c.$$name+"."):g+(c.$$class.$$name+"#");throw k.ArgumentError.$new("["+(g+e)+"] wrong number of arguments("+a+" for "+b+")");};k.block_ac=function(a,b,c){throw k.ArgumentError.$new("`block in "+c+"': wrong number of arguments ("+a+" for "+b+")");};k.find_super_dispatcher=function(a,b,c,e,g){g="$"+b;var d,f;d=a.hasOwnProperty("$$meta")?k.ancestors(a.$$meta):k.ancestors(a.$$class);for(c=d.indexOf(c.$$owner)+1;c<d.length;c++){var q=d[c].prototype;q.hasOwnProperty("$$dummy")&&
(q=q.$$define_methods_on);if(q.hasOwnProperty(g)){g=q[g];g.$$stub||(f=g);break}}if(!e&&null==f&&k.Kernel.$method_missing===a.$method_missing)throw k.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return f};k.find_iter_super_dispatcher=function(a,b,c,e,g){if(!c)throw k.RuntimeError.$new("super called outside of method");if(g&&c.$$define_meth)throw k.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");
c.$$def&&(b=c.$$jsid);return k.find_super_dispatcher(a,b,c,e)};k.ret=function(a){k.returner.$v=a;throw k.returner;};k.brk=function(a,b){b.$v=a;throw b;};k.new_brk=function(){return Error("unexpected break")};k.yield1=function(a,b){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");var c=a.$$has_top_level_mlhs_arg,e=a.$$has_trailing_comma_in_args;if(1<a.length||(c||e)&&1===a.length)b=k.to_ary(b);return(1<a.length||e&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};k.yieldX=function(a,
b){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var c=Array(b.length),e=0,g=c.length;e<g;e++)c[e]=b[e];return a.apply(null,c)}return a.apply(null,b)};k.rescue=function(a,b){for(var c=0;c<b.length;c++){var e=b[c];if(e.$$is_array){if(e=k.rescue(a,e))return e}else if(e===k.JS.Error||e["$==="](a))return e}return null};k.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&
b.$$is_number_class)return!0;var c,e,g=k.ancestors(a.$$is_class?k.get_singleton_class(a):a.$$meta||a.$$class);c=0;for(e=g.length;c<e;c++)if(g[c]===b)return!0;return!1};k.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw k.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw k.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};k.to_ary=function(a){if(a.$$is_array)return a;
if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===M)return[a];if(b.$$is_array)return b;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};k.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();if(b===M)return[a];if(b.$$is_array)return b;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};k.extract_kwargs=function(a){var b=
a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),b.$to_hash()):k.hash2([],{})};k.kwrestargs=function(a,b){var c=[],e={},g=null,d=a.$$smap;for(g in d)b[g]||(c.push(g),e[g]=d[g]);return k.hash2(c,e)};k.send=function(a,b,c,e){var g="string"===typeof b?a["$"+b]:b;return null!=g?("function"===typeof e&&(g.$$p=e),g.apply(a,c)):a.$method_missing.apply(a,[b].concat(c))};k.lambda=function(a){a.$$is_lambda=!0;return a};k.def=function(a,b,c){a===k.top?
k.defn(k.Object,b,c):!a.$$eval&&a.$$is_a_module?k.defn(a,b,c):k.defs(a,b,c)};k.defn=function(a,b,c){c.$$owner=a;var e=a.prototype;e.hasOwnProperty("$$dummy")&&(e=e.$$define_methods_on);u(e,b,c);if(a.$$is_module){a.$$module_function&&k.defs(a,b,c);for(var e=0,g=a.$$iclasses,d=g.length;e<d;e++)u(g[e],b,c)}c=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||c?c&&c.$singleton_method_added&&!c.$singleton_method_added.$$stub&&c.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1))};
k.defs=function(a,b,c){a.$$is_string||a.$$is_number||k.defn(k.get_singleton_class(a),b,c)};k.rdef=function(a,b){if(!q.call(a.prototype,b))throw k.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.prototype[b];a.$$is_singleton?a.prototype.$singleton_method_removed&&!a.prototype.$singleton_method_removed.$$stub&&a.prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};k.udef=function(a,b){if(!a.prototype[b]||
a.prototype[b].$$stub)throw k.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());k.add_stub_for(a.prototype,b);a.$$is_singleton?a.prototype.$singleton_method_undefined&&!a.prototype.$singleton_method_undefined.$$stub&&a.prototype.$singleton_method_undefined(b.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};k.alias=function(a,b,c){var e="$"+b,g="$"+c,d=a.prototype["$"+c],f;if(a.$$eval)return k.alias(k.get_singleton_class(a),b,c);if(!m(d)){for(var q=
a.$$super;"function"!==typeof d&&q;)d=q[g],q=q.$$super;!m(d)&&a.$$is_module&&(d=k.Object.prototype[g]);if(!m(d))throw k.NameError.$new("undefined method `"+c+"' for class `"+a.$name()+"'");}d.$$alias_of&&(d=d.$$alias_of);f=function(){var a=f.$$p,b,c,e;b=Array(arguments.length);c=0;for(e=arguments.length;c<e;c++)b[c]=arguments[c];null!=a&&(f.$$p=null);return k.send(this,d,b,a)};f.displayName=b;f.length=d.length;f.$$arity=d.$$arity;f.$$parameters=d.$$parameters;f.$$source_location=d.$$source_location;
f.$$alias_of=d;f.$$alias_name=b;k.defn(a,e,f);return a};k.alias_native=function(a,b,c){b="$"+b;var e=a.prototype[c];if("function"!==typeof e||e.$$stub)throw k.NameError.$new("undefined native method `"+c+"' for class `"+a.$name()+"'");k.defn(a,b,e);return a};k.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};k.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;for(var c=0,e=a.$$keys,g=a.$$smap,d=e.length,f,q;c<d;c++)f=e[c],f.$$is_string?q=g[f]:
(q=f.value,f=f.key),k.hash_put(b,f,q)};k.hash_put=function(a,b,e){if(b.$$is_string)q.call(a.$$smap,b)||a.$$keys.push(b),a.$$smap[b]=e;else{var g,z,d;g=a.$$by_identity?k.id(b):b.$hash();if(q.call(a.$$map,g)){for(z=a.$$map[g];z;){if(b===z.key||b["$eql?"](z.key)){d=c;z.value=e;break}d=z;z=z.next}d&&(z={key:b,key_hash:g,value:e},a.$$keys.push(z),d.next=z)}else z={key:b,key_hash:g,value:e},a.$$keys.push(z),a.$$map[g]=z}};k.hash_get=function(a,b){if(b.$$is_string){if(q.call(a.$$smap,b))return a.$$smap[b]}else{var c;
c=a.$$by_identity?k.id(b):b.$hash();if(q.call(a.$$map,c))for(c=a.$$map[c];c;){if(b===c.key||b["$eql?"](c.key))return c.value;c=c.next}}};k.hash_delete=function(a,b){var c,e=a.$$keys,g=e.length,d;if(b.$$is_string){if(!q.call(a.$$smap,b))return;for(c=0;c<g;c++)if(e[c]===b){e.splice(c,1);break}d=a.$$smap[b];delete a.$$smap[b];return d}var f=b.$hash();if(q.call(a.$$map,f))for(var k=a.$$map[f],v;k;){if(b===k.key||b["$eql?"](k.key)){d=k.value;for(c=0;c<g;c++)if(e[c]===k){e.splice(c,1);break}v&&k.next?v.next=
k.next:v?delete v.next:k.next?a.$$map[f]=k.next:delete a.$$map[f];return d}v=k;k=k.next}};k.hash_rehash=function(a){for(var b=0,e=a.$$keys.length,g,k,d;b<e;b++)if(!a.$$keys[b].$$is_string&&(g=a.$$keys[b].key.$hash(),g!==a.$$keys[b].key_hash)){k=a.$$map[a.$$keys[b].key_hash];for(d=c;k;){if(k===a.$$keys[b]){d&&k.next?d.next=k.next:d?delete d.next:k.next?a.$$map[a.$$keys[b].key_hash]=k.next:delete a.$$map[a.$$keys[b].key_hash];break}d=k;k=k.next}a.$$keys[b].key_hash=g;if(q.call(a.$$map,g)){k=a.$$map[g];
for(d=c;k;){if(k===a.$$keys[b]){d=c;break}d=k;k=k.next}d&&(d.next=a.$$keys[b])}else a.$$map[g]=a.$$keys[b]}};k.hash=function(){var a=arguments.length,b,c,e,g,d;if(1===a&&arguments[0].$$is_hash)return arguments[0];b=new k.Hash;k.hash_init(b);if(1===a&&arguments[0].$$is_array){a=arguments[0];e=a.length;for(c=0;c<e;c++){if(2!==a[c].length)throw k.ArgumentError.$new("value not of length 2: "+a[c].$inspect());g=a[c][0];d=a[c][1];k.hash_put(b,g,d)}return b}if(1===a){a=arguments[0];for(g in a)q.call(a,g)&&
(d=a[g],k.hash_put(b,g,d));return b}if(0!==a%2)throw k.ArgumentError.$new("odd number of arguments for Hash");for(c=0;c<a;c+=2)g=arguments[c],d=arguments[c+1],k.hash_put(b,g,d);return b};k.hash2=function(a,b){var c=new k.Hash;c.$$smap=b;c.$$map=Object.create(null);c.$$keys=a;return c};k.range=function(a,b,c){var e=new k.Range;e.begin=a;e.end=b;e.excl=c;return e};k.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===
a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};k.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};k.global_regexp=function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};k.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,
"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};k.modules={};k.loaded_features=["corelib/runtime"];k.current_dir=".";k.require_table={"corelib/runtime":!0};k.normalize=function(a){var b,c=[];"."!==k.current_dir&&(a=k.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var e=0,g=a.length;e<g;e++)b=a[e],""!==b&&(".."===b?c.pop():c.push(b));return c.join("/")};
k.loaded=function(a){var b,c,e;b=0;for(c=a.length;b<c;b++)e=k.normalize(a[b]),k.require_table[e]||(k.loaded_features.push(e),k.require_table[e]=!0)};k.load=function(a){a=k.normalize(a);k.loaded([a]);var b=k.modules[a];if(b)b(k);else{b=k.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(k.LoadError)throw k.LoadError.$new(a);throw a;}"warning"===b&&H.warn("WARNING: LoadError: "+a)}return!0};k.require=function(a){a=k.normalize(a);return k.require_table[a]?!1:k.load(a)};
k.BasicObject=Q=k.allocate_class("BasicObject",null,function(){});k.Object=a=k.allocate_class("Object",k.BasicObject,function(){});k.Module=w=k.allocate_class("Module",k.Object,function(){});k.Class=e=k.allocate_class("Class",k.Module,function(){});g(k.BasicObject,k.Class.prototype);g(k.Object,k.Class.prototype);g(k.Module,k.Class.prototype);g(k.Class,k.Class.prototype);Q.$$const.BasicObject=Q;k.const_set(a,"BasicObject",Q);k.const_set(a,"Object",a);k.const_set(a,"Module",w);k.const_set(a,"Class",
e);Q.$$class=e;a.$$class=e;w.$$class=e;e.$$class=e;u(a.prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});u(a.prototype,"$require",k.require);k.$$=a.$$;k.top=new a;k.top.$to_s=k.top.$inspect=function(){return"main"};k.NilClass=k.allocate_class("NilClass",k.Object,function(){});k.const_set(a,"NilClass",k.NilClass);M=k.nil=new k.NilClass;M.$$id=4;M.call=M.apply=function(){throw k.LocalJumpError.$new("no block given");};k.breaker=Error("unexpected break (old)");
k.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.module,l=c.truthy;c.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(h,A){function x(){}var n=x=y(h,"Opal",x),m=[n].concat(A),w,H,M,u,a,e,k,q,v,g,B,b,F,p;c.defs(n,"$bridge",w=function(a,b){return c.bridge(a,
b)},w.$$arity=2);c.defs(n,"$type_error",H=function(a,b,c,e){var f;null==c&&(c=D);null==e&&(e=D);return l(l(f=c)?e:f)?r(m,"TypeError").$new("can't convert "+a.$class()+" into "+b+" ("+a.$class()+"#"+c+" gives "+e.$class()+")"):r(m,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},H.$$arity=-3);c.defs(n,"$coerce_to",M=function(a,b,c){if(l(b["$==="](a)))return a;l(a["$respond_to?"](c))||this.$raise(this.$type_error(a,b));return a.$__send__(c)},M.$$arity=3);c.defs(n,"$coerce_to!",
u=function(a,b,c){var e=D,e=this.$coerce_to(a,b,c);l(b["$==="](e))||this.$raise(this.$type_error(a,b,c,e));return e},u.$$arity=3);c.defs(n,"$coerce_to?",a=function(a,b,c){var e=D;if(!l(a["$respond_to?"](c)))return D;e=this.$coerce_to(a,b,c);if(l(e["$nil?"]()))return D;l(b["$==="](e))||this.$raise(this.$type_error(a,b,c,e));return e},a.$$arity=3);c.defs(n,"$try_convert",e=function(a,b,c){return l(b["$==="](a))?a:l(a["$respond_to?"](c))?a.$__send__(c):D},e.$$arity=3);c.defs(n,"$compare",k=function(a,
b){var c=D,c=a["$<=>"](b);l(c===D)&&this.$raise(r(m,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return c},k.$$arity=2);c.defs(n,"$destructure",q=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),c=0,e=b.length;c<e;c++)b[c]=a[c];return b},q.$$arity=1);c.defs(n,"$respond_to?",v=function(a,b,c){null==c&&(c=!1);return null!=a&&a.$$class?a["$respond_to?"](b,c):!1},v.$$arity=-3);c.defs(n,"$inspect_obj",g=function(a){return c.inspect(a)},
g.$$arity=1);c.defs(n,"$instance_variable_name!",B=function(a){a=r(m,"Opal")["$coerce_to!"](a,r(m,"String"),"to_str");l(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(r(m,"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},B.$$arity=1);c.defs(n,"$class_variable_name!",b=function(a){a=r(m,"Opal")["$coerce_to!"](a,r(m,"String"),"to_str");l(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(r(m,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},
b.$$arity=1);c.defs(n,"$const_name!",F=function(a){a=r(m,"Opal")["$coerce_to!"](a,r(m,"String"),"to_str");l(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(r(m,"NameError"),"wrong constant name "+a);return a},F.$$arity=1);c.defs(n,"$pristine",p=function(a,b){var e;e=c.slice.call(arguments,1,arguments.length);for(var d,f=e.length-1;0<=f;f--)d=e[f],(d=a.prototype["$"+d])&&!d.$$stub&&(d.$$pristine=!0);return D},p.$$arity=-2)}(u[0],u)};Opal.modules["corelib/module"]=function(c){function u(c,h){return"number"===
typeof c&&"number"===typeof h?c<h:c["$<"](h)}var D=[],r=c.nil,y=c.const_get_qualified,l=c.const_get_relative,h=c.klass,A=c.send,x=c.truthy,n=c.lambda,m=c.range,w=c.hash2;c.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(H,$super,Q){function a(){}H=a=h(H,$super,"Module",a);var e=[H].concat(Q),k,q,v,g,B,b,F,p,N,P,z,d,f,ya,ja,Z,E,D,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Ua,Qa,xa,La,Ma,Ca;c.defs(H,"$allocate",k=function(){return c.allocate_module(r,function(){})},k.$$arity=0);c.defs(H,"$inherited",q=function(a){a.$allocate=function(){var b=c.allocate_module(r,function(){});Object.setPrototypeOf(b,a.prototype);return b}},q.$$arity=1);c.def(H,"$initialize",
v=function(){var a=v.$$p,b=a||r;a&&(v.$$p=null);a&&(v.$$p=null);return b!==r?A(this,"module_eval",[],b.$to_proc()):r},v.$$arity=0);c.def(H,"$===",g=function(a){return x(null==a)?!1:c.is_a(a,this)},g.$$arity=1);c.def(H,"$<",B=function(a){x(l(e,"Module")["$==="](a))||this.$raise(l(e,"TypeError"),"compared with non class/module");var b,d,f;if(this===a)return!1;d=0;b=c.ancestors(this);for(f=b.length;d<f;d++)if(b[d]===a)return!0;d=0;b=c.ancestors(a);for(f=b.length;d<f;d++)if(b[d]===this)return!1;return r},
B.$$arity=1);c.def(H,"$<=",b=function(a){var b;return x(b=this["$equal?"](a))?b:u(this,a)},b.$$arity=1);c.def(H,"$>",F=function(a){x(l(e,"Module")["$==="](a))||this.$raise(l(e,"TypeError"),"compared with non class/module");return u(a,this)},F.$$arity=1);c.def(H,"$>=",p=function(a){var b;return x(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},p.$$arity=1);c.def(H,"$<=>",N=function(a){var b=r;if(this===a)return 0;if(!x(l(e,"Module")["$==="](a)))return r;b=
u(this,a);return x(b["$nil?"]())?r:x(b)?-1:1},N.$$arity=1);c.def(H,"$alias_method",P=function(a,b){c.alias(this,a,b);return this},P.$$arity=2);c.def(H,"$alias_native",z=function(a,b){null==b&&(b=a);c.alias_native(this,a,b);return this},z.$$arity=-2);c.def(H,"$ancestors",d=function(){return c.ancestors(this)},d.$$arity=0);c.def(H,"$append_features",f=function(a){c.append_features(this,a);return this},f.$$arity=1);c.def(H,"$attr_accessor",ya=function(a){var b;b=c.slice.call(arguments,0,arguments.length);
A(this,"attr_reader",c.to_a(b));return A(this,"attr_writer",c.to_a(b))},ya.$$arity=-1);c.alias(H,"attr","attr_accessor");c.def(H,"$attr_reader",ja=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var e=this.prototype,d=b.length-1;0<=d;d--){var f=b[d],g="$"+f,f=c.ivar(f),k=function(a){return function(){return null==this[a]?r:this[a]}}(f);c.defineProperty(e,f,r);k.$$parameters=[];k.$$arity=0;c.defn(this,g,k)}return r},ja.$$arity=-1);c.def(H,"$attr_writer",Z=function(a){var b;b=c.slice.call(arguments,
0,arguments.length);for(var e=this.prototype,d=b.length-1;0<=d;d--){var f=b[d],g="$"+f+"=",f=c.ivar(f),k=function(a){return function(b){return this[a]=b}}(f);k.$$parameters=[["req"]];k.$$arity=1;c.defineProperty(e,f,r);c.defn(this,g,k)}return r},Z.$$arity=-1);c.def(H,"$autoload",E=function(a,b){null==this.$$autoload&&(this.$$autoload={});c.const_cache_version++;this.$$autoload[a]=b;return r},E.$$arity=2);c.def(H,"$class_variables",D=function(){return Object.keys(c.class_variables(this))},D.$$arity=
0);c.def(H,"$class_variable_get",ha=function(a){a=l(e,"Opal")["$class_variable_name!"](a);var b=c.class_variables(this)[a];null==b&&this.$raise(l(e,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return b},ha.$$arity=1);c.def(H,"$class_variable_set",ra=function(a,b){a=l(e,"Opal")["$class_variable_name!"](a);return c.class_variable_set(this,a,b)},ra.$$arity=2);c.def(H,"$class_variable_defined?",va=function(a){a=l(e,"Opal")["$class_variable_name!"](a);return c.class_variables(this).hasOwnProperty(a)},
va.$$arity=1);c.def(H,"$remove_class_variable",pa=function(a){a=l(e,"Opal")["$class_variable_name!"](a);if(c.hasOwnProperty.call(this.$$cvars,a)){var b=this.$$cvars[a];delete this.$$cvars[a];return b}this.$raise(l(e,"NameError"),"cannot remove "+a+" for "+this)},pa.$$arity=1);c.def(H,"$constants",L=function(a){null==a&&(a=!0);return c.constants(this,a)},L.$$arity=-1);c.defs(H,"$constants",t=function(a){if(null==a){a=(this.$$nesting||[]).concat(c.Object);var b,e={},d,f;d=0;for(f=a.length;d<f;d++)for(b in a[d].$$const)e[b]=
!0;return Object.keys(e)}return c.constants(this,a)},t.$$arity=-1);c.defs(H,"$nesting",za=function(){return this.$$nesting||[]},za.$$arity=0);c.def(H,"$const_defined?",ca=function(a,b){null==b&&(b=!0);a=l(e,"Opal")["$const_name!"](a);x(a["$=~"](y(l(e,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(l(e,"NameError").$new("wrong constant name "+a,a));var d,f=[this],g,k;b&&(f=f.concat(c.ancestors(this)),this.$$is_module&&(f=f.concat([c.Object]).concat(c.ancestors(c.Object))));g=0;for(k=f.length;g<k;g++)if(d=
f[g],null!=d.$$const[a])return!0;return!1},ca.$$arity=-2);c.def(H,"$const_get",X=function(a,b){var d;null==b&&(b=!0);a=l(e,"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(x(-1!=a.indexOf("::")&&"::"!=a))return A(a.$split("::"),"inject",[this],(d=function(a,b){null==a&&(a=r);null==b&&(b=r);return a.$const_get(b)},d.$$s=this,d.$$arity=2,d));x(a["$=~"](y(l(e,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(l(e,"NameError").$new("wrong constant name "+a,a));return b?l([this],a):
c.const_get_local(this,a)},X.$$arity=-2);c.def(H,"$const_missing",na=function(a){var b=r;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),this.$const_get(a);b=this["$=="](l(e,"Object"))?a:""+this+"::"+a;return this.$raise(l(e,"NameError").$new("uninitialized constant "+b,a))},na.$$arity=1);c.def(H,"$const_set",S=function(a,b){var d;a=l(e,"Opal")["$const_name!"](a);x(x(d=a["$!~"](y(l(e,"Opal"),"CONST_NAME_REGEXP")))?d:a["$start_with?"]("::"))&&this.$raise(l(e,"NameError").$new("wrong constant name "+
a,a));c.const_set(this,a,b);return b},S.$$arity=2);c.def(H,"$public_constant",Y=function(a){return r},Y.$$arity=1);c.def(H,"$define_method",U=function(a,b){var d=U.$$p,f=d||r,g,k,t=this,p=r;d&&(U.$$p=null);d&&(U.$$p=null);x(void 0===b&&f===r)&&t.$raise(l(e,"ArgumentError"),"tried to create a Proc object without a block");f=x(g=f)?g:function(){p=b;return l(e,"Proc")["$==="](p)?b:l(e,"Method")["$==="](p)?b.$to_proc().$$unbound:l(e,"UnboundMethod")["$==="](p)?n((k=function(a){var e=k.$$s||this,d,f=r;
d=c.slice.call(arguments,0,arguments.length);f=b.$bind(e);return A(f,"call",c.to_a(d))},k.$$s=t,k.$$arity=-1,k)):t.$raise(l(e,"TypeError"),"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=a;f.$$s=null;f.$$def=f;f.$$define_meth=!0;c.defn(t,"$"+a,f);return a},U.$$arity=-2);c.def(H,"$remove_method",fa=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var e=0,d=b.length;e<d;e++)c.rdef(this,"$"+b[e]);return this},fa.$$arity=-1);c.def(H,"$singleton_class?",V=function(){return!!this.$$is_singleton},
V.$$arity=0);c.def(H,"$include",K=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var d=b.length-1;0<=d;d--){var f=b[d];f.$$is_module||this.$raise(l(e,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(this);f.$included(this)}return this},K.$$arity=-1);c.def(H,"$included_modules",J=function(){return c.included_modules(this)},J.$$arity=0);c.def(H,"$include?",Ka=function(a){a.$$is_module||this.$raise(l(e,"TypeError"),"wrong argument type "+a.$class()+
" (expected Module)");var b,d,f,g=c.ancestors(this);b=0;for(d=g.length;b<d;b++)if(f=g[b],f===a&&f!==this)return!0;return!1},Ka.$$arity=1);c.def(H,"$instance_method",G=function(a){var b=this.prototype["$"+a];b&&!b.$$stub||this.$raise(l(e,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return l(e,"UnboundMethod").$new(this,b.$$owner||this,b,a)},G.$$arity=1);c.def(H,"$instance_methods",qa=function(a){null==a&&(a=!0);return x(a)?c.instance_methods(this):c.own_instance_methods(this)},
qa.$$arity=-1);c.def(H,"$included",la=function(a){return r},la.$$arity=1);c.def(H,"$extended",Da=function(a){return r},Da.$$arity=1);c.def(H,"$extend_object",aa=function(a){return r},aa.$$arity=1);c.def(H,"$method_added",ba=function(a){c.slice.call(arguments,0,arguments.length);return r},ba.$$arity=-1);c.def(H,"$method_removed",ma=function(a){c.slice.call(arguments,0,arguments.length);return r},ma.$$arity=-1);c.def(H,"$method_undefined",sa=function(a){c.slice.call(arguments,0,arguments.length);return r},
sa.$$arity=-1);c.def(H,"$module_eval",da=function(a){var b=da.$$p,d=b||r,f,g,k=r,t=r,p=t=t=r;b&&(da.$$p=null);b&&(da.$$p=null);b=c.slice.call(arguments,0,arguments.length);x(x(f=d["$nil?"]())?!!c.compile:f)?(x(m(1,3,!1)["$cover?"](b.$size()))||l(e,"Kernel").$raise(l(e,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=[].concat(c.to_a(b)),k=null==f[0]?r:f[0],t=null==f[1]?r:f[1],f,t=w(["file","eval"],{file:x(f=t)?f:"(eval)",eval:!0}),t=c.hash({arity_check:!1}).$merge(t),p=l(e,"Opal").$compile(k,
t),d=A(l(e,"Kernel"),"proc",[],(g=function(){return function(a){return eval(p)}(g.$$s||this)},g.$$s=this,g.$$arity=0,g))):x(b["$any?"]())&&l(e,"Kernel").$raise(l(e,"ArgumentError"),""+("wrong number of arguments ("+b.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");f=d.$$s;d.$$s=null;b=d.apply(this,[this]);d.$$s=f;return b},da.$$arity=-1);c.alias(H,"class_eval","module_eval");c.def(H,"$module_exec",ea=function(a){var b=
ea.$$p,d=b||r,f;b&&(ea.$$p=null);b&&(ea.$$p=null);f=c.slice.call(arguments,0,arguments.length);d===r&&this.$raise(l(e,"LocalJumpError"),"no block given");b=d.$$s;d.$$s=null;f=d.apply(this,f);d.$$s=b;return f},ea.$$arity=-1);c.alias(H,"class_exec","module_exec");c.def(H,"$method_defined?",R=function(a){a=this.prototype["$"+a];return!!a&&!a.$$stub},R.$$arity=1);c.def(H,"$module_function",Ea=function(a){var b;b=c.slice.call(arguments,0,arguments.length);if(0===b.length)this.$$module_function=!0;else for(var e=
0,d=b.length;e<d;e++){var f="$"+b[e];c.defs(this,f,this.prototype[f])}return this},Ea.$$arity=-1);c.def(H,"$name",Aa=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],b=this;b;){if(b.$$name===r||null==b.$$name)return r;a.unshift(b.$$name);b=b.$$base_module;if(b===c.Object)break}return 0===a.length?r:this.$$full_name=a.join("::")},Aa.$$arity=0);c.def(H,"$prepend",Ba=function(a){var b;b=c.slice.call(arguments,0,arguments.length);0===b.length&&this.$raise(l(e,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");
for(var d=b.length-1;0<=d;d--){var f=b[d];f.$$is_module||this.$raise(l(e,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);f.$prepended(this)}return this},Ba.$$arity=-1);c.def(H,"$prepend_features",wa=function(a){this.$$is_module||this.$raise(l(e,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");c.prepend_features(this,a);return this},wa.$$arity=1);c.def(H,"$prepended",oa=function(a){return r},oa.$$arity=1);c.def(H,"$remove_const",
Fa=function(a){return c.const_remove(this,a)},Fa.$$arity=1);c.def(H,"$to_s",Ua=function(){var a;return x(a=c.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ua.$$arity=0);c.def(H,"$undef_method",Qa=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var e=0,d=b.length;e<d;e++)c.udef(this,"$"+b[e]);return this},Qa.$$arity=-1);c.def(H,"$instance_variables",xa=function(){var a=r,a=(c.Module.$$nesting=e,this.$constants()),b=[],d;for(d in this)this.hasOwnProperty(d)&&
"$"!==d.charAt(0)&&"constructor"!==d&&!a["$include?"](d)&&b.push("@"+d);return b},xa.$$arity=0);c.def(H,"$dup",La=function(){var a=La.$$p,b=r,e=b=r,d=r;a&&(La.$$p=null);e=0;d=arguments.length;for(b=Array(d);e<d;e++)b[e]=arguments[e];b=A(this,c.find_super_dispatcher(this,"dup",La,!1),b,a);b.$copy_class_variables(this);b.$copy_constants(this);return b},La.$$arity=0);c.def(H,"$copy_class_variables",Ma=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},Ma.$$arity=1);return(c.def(H,"$copy_constants",
Ca=function(a){var b;a=a.$$const;for(b in a)c.const_set(this,b,a[b])},Ca.$$arity=1),r)&&"copy_constants"}(D[0],null,D)};Opal.modules["corelib/class"]=function(c){var u=c.top,D=[],r=c.nil,y=c.const_get_relative,l=c.klass,h=c.send;c.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));u.$require("corelib/module");return function(A,$super,n){function m(){}A=m=l(A,$super,"Class",m);var w=[A].concat(n),H,M,u,a,e,k,q;c.defs(A,"$new",H=function(a){var e=H.$$p,k=e||
r;e&&(H.$$p=null);e&&(H.$$p=null);null==a&&(a=y(w,"Object"));if(!a.$$is_class)throw c.TypeError.$new("superclass must be a Class");e=c.allocate_class(r,a,function(){});a.$inherited(e);k!==r&&h(e,"class_eval",[],k.$to_proc());return e},H.$$arity=-1);c.def(A,"$allocate",M=function(){var a=new this;a.$$id=c.uid();return a},M.$$arity=0);c.def(A,"$inherited",u=function(a){return r},u.$$arity=1);c.def(A,"$initialize_dup",a=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},a.$$arity=
1);c.def(A,"$new",e=function(a){var g=e.$$p,k=g||r;g&&(e.$$p=null);g&&(e.$$p=null);var g=c.slice.call(arguments,0,arguments.length),b=this.$allocate();c.send(b,b.$initialize,g,k);return b},e.$$arity=-1);c.def(A,"$superclass",k=function(){return this.$$super||r},k.$$arity=0);return(c.def(A,"$to_s",q=function(){q.$$p&&(q.$$p=null);var a=this.$$singleton_of;return a&&a.$$is_a_module?"#<Class:"+a.$name()+">":a?"#<Class:#<"+a.$$class.$name()+":0x"+c.id(a).$to_s(16)+">>":h(this,c.find_super_dispatcher(this,
"to_s",q,!1),[],null)},q.$$arity=0),r)&&"to_s"}(D[0],null,D)};Opal.modules["corelib/basic_object"]=function(c){var u=[],D=c.nil,r=c.const_get_qualified,y=c.klass,l=c.truthy,h=c.range,A=c.hash2,x=c.send;c.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(n,$super,w){function H(){}n=H=y(n,$super,"BasicObject",H);[n].concat(w);var M,u,a,e,k,q,v,g,B,b,F,p,N,P;c.def(n,"$initialize",M=function(a){c.slice.call(arguments,0,arguments.length);
return D},M.$$arity=-1);c.def(n,"$==",u=function(a){return this===a},u.$$arity=1);c.def(n,"$eql?",a=function(a){return this["$=="](a)},a.$$arity=1);c.alias(n,"equal?","==");c.def(n,"$__id__",e=function(){if(null!=this.$$id)return this.$$id;c.defineProperty(this,"$$id",c.uid());return this.$$id},e.$$arity=0);c.def(n,"$__send__",k=function(a,b){var e=k.$$p,g=e||D;e&&(k.$$p=null);e&&(k.$$p=null);var e=c.slice.call(arguments,1,arguments.length),p=this["$"+a];if(p)return g!==D&&(p.$$p=g),p.apply(this,
e);g!==D&&(this.$method_missing.$$p=g);return this.$method_missing.apply(this,[a].concat(e))},k.$$arity=-2);c.def(n,"$!",q=function(){return!1},q.$$arity=0);c.def(n,"$!=",v=function(a){return this["$=="](a)["$!"]()},v.$$arity=1);c.def(n,"$instance_eval",g=function(a){var b=g.$$p,e=b||D,k,p,q=D,v=D,N=v=v=D;b&&(g.$$p=null);b&&(g.$$p=null);b=c.slice.call(arguments,0,arguments.length);l(l(k=e["$nil?"]())?!!c.compile:k)?(l(h(1,3,!1)["$cover?"](b.$size()))||r("::","Kernel").$raise(r("::","ArgumentError"),
"wrong number of arguments (0 for 1..3)"),k=[].concat(c.to_a(b)),q=null==k[0]?D:k[0],v=null==k[1]?D:k[1],k,v=A(["file","eval"],{file:l(k=v)?k:"(eval)",eval:!0}),v=c.hash({arity_check:!1}).$merge(v),N=r("::","Opal").$compile(q,v),e=x(r("::","Kernel"),"proc",[],(p=function(){return function(a){return eval(N)}(p.$$s||this)},p.$$s=this,p.$$arity=0,p))):l(b["$any?"]())&&r("::","Kernel").$raise(r("::","ArgumentError"),"wrong number of arguments ("+b.$size()+" for 0)");k=e.$$s;var F;e.$$s=null;if(this.$$is_a_module){this.$$eval=
!0;try{F=e.call(this,this)}finally{this.$$eval=!1}}else F=e.call(this,this);e.$$s=k;return F},g.$$arity=-1);c.def(n,"$instance_exec",B=function(a){var b=B.$$p,e=b||D;b&&(B.$$p=null);b&&(B.$$p=null);b=c.slice.call(arguments,0,arguments.length);l(e)||r("::","Kernel").$raise(r("::","ArgumentError"),"no block given");var g=e.$$s,k;e.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{k=e.apply(this,b)}finally{this.$$eval=!1}}else k=e.apply(this,b);e.$$s=g;return k},B.$$arity=-1);c.def(n,"$singleton_method_added",
b=function(a){c.slice.call(arguments,0,arguments.length);return D},b.$$arity=-1);c.def(n,"$singleton_method_removed",F=function(a){c.slice.call(arguments,0,arguments.length);return D},F.$$arity=-1);c.def(n,"$singleton_method_undefined",p=function(a){c.slice.call(arguments,0,arguments.length);return D},p.$$arity=-1);c.def(n,"$class",N=function(){return this.$$class},N.$$arity=0);return(c.def(n,"$method_missing",P=function(a,b){var e=P.$$p,g=D;e&&(P.$$p=null);e&&(P.$$p=null);c.slice.call(arguments,
1,arguments.length);g=l(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return r("::","Kernel").$raise(r("::","NoMethodError").$new(g,a))},P.$$arity=-2),D)&&"method_missing"}(u[0],null,u)};Opal.modules["corelib/kernel"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c<=h:c["$<="](h)}var D=[],r=c.nil,y=c.const_get_qualified,l=c.const_get_relative,h=c.module,A=c.truthy,x=c.gvars,
n=c.hash2,m=c.send,w=c.klass;c.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $coerce_to $append_features $extend_object $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $any? $print $format $puts $each $<= $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));
(function(w,M){function Q(){}var a=Q=h(w,"Kernel",Q),e=[a].concat(M),k,q,v,g,B,b,F,p,N,P,z,d,f,ya,ja,Z,E,D,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Ua,Qa,xa,La,Ma,Ca,Ga,Ha,Ia,Pa,Ra,Na,Oa;c.def(a,"$method_missing",k=function(a,b){var d=k.$$p;d&&(k.$$p=null);d&&(k.$$p=null);d=c.slice.call(arguments,1,arguments.length);return this.$raise(l(e,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,d))},k.$$arity=-2);c.def(a,"$=~",q=
function(a){return!1},q.$$arity=1);c.def(a,"$!~",v=function(a){return this["$=~"](a)["$!"]()},v.$$arity=1);c.def(a,"$===",g=function(a){var b;return A(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},g.$$arity=1);c.def(a,"$<=>",B=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==r?0:r},B.$$arity=1);c.def(a,"$method",b=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(l(e,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return l(e,"Method").$new(this,
b.$$owner||this.$class(),b,a)},b.$$arity=1);c.def(a,"$methods",F=function(a){null==a&&(a=!0);return A(a)?c.methods(this):c.own_methods(this)},F.$$arity=-1);c.def(a,"$public_methods",p=function(a){null==a&&(a=!0);return A(a)?c.methods(this):c.receiver_methods(this)},p.$$arity=-1);c.def(a,"$Array",N=function(a){var b;if(a===r)return[];if(a.$$is_array)return a;b=l(e,"Opal")["$coerce_to?"](a,l(e,"Array"),"to_ary");if(b!==r)return b;b=l(e,"Opal")["$coerce_to?"](a,l(e,"Array"),"to_a");return b!==r?b:[a]},
N.$$arity=1);c.def(a,"$at_exit",P=function(){var a=P.$$p,b=a||r,c;null==x.__at_exit__&&(x.__at_exit__=r);a&&(P.$$p=null);a&&(P.$$p=null);x.__at_exit__=A(c=x.__at_exit__)?c:[];return x.__at_exit__["$<<"](b)},P.$$arity=0);c.def(a,"$caller",z=function(a){c.slice.call(arguments,0,arguments.length);return[]},z.$$arity=-1);c.def(a,"$class",d=function(){return this.$$class},d.$$arity=0);c.def(a,"$copy_instance_variables",f=function(a){var b=Object.keys(a),c,e,d;c=0;for(e=b.length;c<e;c++)d=b[c],"$"!==d.charAt(0)&&
a.hasOwnProperty(d)&&(this[d]=a[d])},f.$$arity=1);c.def(a,"$copy_singleton_methods",ya=function(a){var b,e,d,f;if(a.hasOwnProperty("$$meta")){var g=c.get_singleton_class(a),k=c.get_singleton_class(this);d=Object.getOwnPropertyNames(g.prototype);b=0;for(f=d.length;b<f;b++)e=d[b],c.is_method(e)&&(k.prototype[e]=g.prototype[e]);k.$$const=Object.assign({},g.$$const);Object.setPrototypeOf(k.prototype,Object.getPrototypeOf(g.prototype))}b=0;d=Object.getOwnPropertyNames(a);for(f=d.length;b<f;b++)e=d[b],
"$"===e.charAt(0)&&"$"!==e.charAt(1)&&a.hasOwnProperty(e)&&(this[e]=a[e])},ya.$$arity=1);c.def(a,"$clone",ja=function(a){var b=r;if(null==a)n([],{});else if(!a.$$is_hash)throw c.ArgumentError.$new("expected kwargs");b=this.$class().$allocate();b.$copy_instance_variables(this);b.$copy_singleton_methods(this);b.$initialize_clone(this);return b},ja.$$arity=-1);c.def(a,"$initialize_clone",Z=function(a){return this.$initialize_copy(a)},Z.$$arity=1);c.def(a,"$define_singleton_method",E=function(a,b){var c=
E.$$p,e=c||r;c&&(E.$$p=null);c&&(E.$$p=null);return m(this.$singleton_class(),"define_method",[a,b],e.$to_proc())},E.$$arity=-2);c.def(a,"$dup",D=function(){var a=r,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},D.$$arity=0);c.def(a,"$initialize_dup",ha=function(a){return this.$initialize_copy(a)},ha.$$arity=1);c.def(a,"$enum_for",ra=function(a,b){var d=ra.$$p,f=d||r,g;d&&(ra.$$p=null);d&&(ra.$$p=null);d=c.slice.call(arguments,0,arguments.length);0<
d.length&&(g=d[0],d.splice(0,1));null==g&&(g="each");return m(l(e,"Enumerator"),"for",[this,g].concat(c.to_a(d)),f.$to_proc())},ra.$$arity=-1);c.alias(a,"to_enum","enum_for");c.def(a,"$equal?",va=function(a){return this===a},va.$$arity=1);c.def(a,"$exit",pa=function(a){var b,d=r;null==x.__at_exit__&&(x.__at_exit__=r);null==a&&(a=!0);for(x.__at_exit__=A(b=x.__at_exit__)?b:[];!A(x.__at_exit__["$empty?"]());)d=x.__at_exit__.$pop(),d.$call();a=a.$$is_boolean?a?0:1:l(e,"Opal").$coerce_to(a,l(e,"Integer"),
"to_int");c.exit(a);return r},pa.$$arity=-1);c.def(a,"$extend",L=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var d=this.$singleton_class(),f=b.length-1;0<=f;f--){var g=b[f];g.$$is_module||this.$raise(l(e,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");g.$append_features(d);g.$extend_object(this);g.$extended(this)}return this},L.$$arity=-1);c.def(a,"$format",t=function(a,b){function d(){J&32&&ka.$raise(l(e,"ArgumentError"),"flag after width");J&128&&ka.$raise(l(e,
"ArgumentError"),"flag after precision")}function f(){J&32&&ka.$raise(l(e,"ArgumentError"),"width given twice");J&128&&ka.$raise(l(e,"ArgumentError"),"width after precision")}function g(a){a>=T.length&&ka.$raise(l(e,"ArgumentError"),"too few arguments");return T[a]}function k(){switch(U){case -1:ka.$raise(l(e,"ArgumentError"),"unnumbered("+Fa+") mixed with numbered");case -2:ka.$raise(l(e,"ArgumentError"),"unnumbered("+Fa+") mixed with named")}U=Fa++;return g(U-1)}function t(a){0<U&&ka.$raise(l(e,
"ArgumentError"),"numbered("+a+") after unnumbered("+U+")");-2===U&&ka.$raise(l(e,"ArgumentError"),"numbered("+a+") after named");1>a&&ka.$raise(l(e,"ArgumentError"),"invalid index - "+a+"$");U=-1;return g(a-1)}function p(){return void 0===Ca?k():Ca}function q(b){var c;for(c="";;F++){F===E&&ka.$raise(l(e,"ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(F)||57<a.charCodeAt(F))return F--,c=parseInt(c,10)||0,2147483647<c&&ka.$raise(l(e,"ArgumentError"),""+b+" too big"),c;c+=a.charAt(F)}}
function z(b){b=q(b);"$"===a.charAt(F+1)?(F++,b=t(b)):b=k();return b.$to_int()}var T,ka=this,v=r;null==x.DEBUG&&(x.DEBUG=r);T=c.slice.call(arguments,1,arguments.length);A(T.$length()["$=="](1)?T["$[]"](0)["$respond_to?"]("to_ary"):T.$length()["$=="](1))&&(v=l(e,"Opal")["$coerce_to?"](T["$[]"](0),l(e,"Array"),"to_ary"),A(v["$nil?"]())||(T=v.$to_a()));var v="",N=0,I,F,E=a.length,B,h,P,K,L,n,Y,w,m,Ca,Fa=1,U=0,J;for(F=a.indexOf("%");-1!==F;F=a.indexOf("%",F)){h=void 0;J=0;L=K=-1;Ca=void 0;I=F;F++;switch(a.charAt(F)){case "%":N=
F;case "":case "\n":case "\x00":F++;continue}a:for(;F<E;F++)switch(a.charAt(F)){case " ":d();J|=16;continue a;case "#":d();J|=1;continue a;case "+":d();J|=4;continue a;case "-":d();J|=2;continue a;case "0":d();J|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":B=q("width");if("$"===a.charAt(F+1)){if(F+2===E){h="%";F++;break a}void 0!==Ca&&ka.$raise(l(e,"ArgumentError"),"value given twice - %"+B+"$");Ca=t(B);F++}else f(),J|=32,K=B;continue a;case "<":case "{":for(P=
"<"===a.charAt(F)?">":"}",B="",F++;;F++){F===E&&ka.$raise(l(e,"ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(F)===P)if(0<U&&ka.$raise(l(e,"ArgumentError"),"named "+B+" after unnumbered("+U+")"),-1===U&&ka.$raise(l(e,"ArgumentError"),"named "+B+" after numbered"),U=-2,void 0!==T[0]&&T[0].$$is_hash||ka.$raise(l(e,"ArgumentError"),"one hash required"),Ca=T[0].$fetch(B),">"===P)continue a;else{h=Ca.toString();-1!==L&&(h=h.slice(0,L));if(J&2)for(;h.length<K;)h+=" ";else for(;h.length<
K;)h=" "+h;break a}B+=a.charAt(F)}case "*":F++;f();J|=32;K=z("width");0>K&&(J|=2,K=-K);continue a;case ".":J&128&&ka.$raise(l(e,"ArgumentError"),"precision given twice");J|=192;L=0;F++;if("*"===a.charAt(F)){F++;L=z("precision");0>L&&(J&=-65);continue a}L=q("precision");continue a;case "d":case "i":case "u":B=ka.$Integer(p());if(0<=B){for(h=B.toString();h.length<L;)h="0"+h;if(J&2){if(J&4||J&16)h=(J&4?"+":" ")+h;for(;h.length<K;)h+=" "}else if(J&8&&-1===L){for(;h.length<K-(J&4||J&16?1:0);)h="0"+h;if(J&
4||J&16)h=(J&4?"+":" ")+h}else{if(J&4||J&16)h=(J&4?"+":" ")+h;for(;h.length<K;)h=" "+h}}else{for(h=(-B).toString();h.length<L;)h="0"+h;if(J&2)for(h="-"+h;h.length<K;)h+=" ";else if(J&8&&-1===L){for(;h.length<K-1;)h="0"+h;h="-"+h}else for(h="-"+h;h.length<K;)h=" "+h}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(F)){case "b":case "B":n=2;Y="0b";w=/^1+/;m="1";break;case "o":n=8;Y="0";w=/^3?7+/;m="7";break;case "x":case "X":n=16,Y="0x",w=/^f+/,m="f"}B=ka.$Integer(p());if(0<=B){for(h=
B.toString(n);h.length<L;)h="0"+h;if(J&2){if(J&4||J&16)h=(J&4?"+":" ")+h;for(J&1&&0!==B&&(h=Y+h);h.length<K;)h+=" "}else if(J&8&&-1===L){for(;h.length<K-(J&4||J&16?1:0)-(J&1&&0!==B?Y.length:0);)h="0"+h;J&1&&0!==B&&(h=Y+h);if(J&4||J&16)h=(J&4?"+":" ")+h}else{J&1&&0!==B&&(h=Y+h);if(J&4||J&16)h=(J&4?"+":" ")+h;for(;h.length<K;)h=" "+h}}else if(J&4||J&16){for(h=(-B).toString(n);h.length<L;)h="0"+h;if(J&2)for(J&1&&(h=Y+h),h="-"+h;h.length<K;)h+=" ";else if(J&8&&-1===L){for(;h.length<K-1-(J&1?2:0);)h="0"+
h;J&1&&(h=Y+h);h="-"+h}else for(J&1&&(h=Y+h),h="-"+h;h.length<K;)h=" "+h}else{for(h=(B>>>0).toString(n).replace(w,m);h.length<L-2;)h=m+h;if(J&2)for(h=".."+h,J&1&&(h=Y+h);h.length<K;)h+=" ";else if(J&8&&-1===L){for(;h.length<K-2-(J&1?Y.length:0);)h=m+h;h=".."+h;J&1&&(h=Y+h)}else for(h=".."+h,J&1&&(h=Y+h);h.length<K;)h=" "+h}a.charAt(F)===a.charAt(F).toUpperCase()&&(h=h.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":B=ka.$Float(p());if(0<=B||isNaN(B)){if(Infinity===B)h="Inf";else switch(a.charAt(F)){case "f":h=
B.toFixed(-1===L?6:L);break;case "e":case "E":h=B.toExponential(-1===L?6:L);break;case "g":case "G":h=B.toExponential(),P=parseInt(h.split("e")[1],10),-4>P||P>=(-1===L?6:L)||(h=B.toPrecision(-1===L?J&1?6:void 0:L))}if(J&2){if(J&4||J&16)h=(J&4?"+":" ")+h;for(;h.length<K;)h+=" "}else if(J&8&&Infinity!==B&&!isNaN(B)){for(;h.length<K-(J&4||J&16?1:0);)h="0"+h;if(J&4||J&16)h=(J&4?"+":" ")+h}else{if(J&4||J&16)h=(J&4?"+":" ")+h;for(;h.length<K;)h=" "+h}}else{if(-Infinity===B)h="Inf";else switch(a.charAt(F)){case "f":h=
(-B).toFixed(-1===L?6:L);break;case "e":case "E":h=(-B).toExponential(-1===L?6:L);break;case "g":case "G":h=(-B).toExponential(),P=parseInt(h.split("e")[1],10),-4>P||P>=(-1===L?6:L)||(h=(-B).toPrecision(-1===L?J&1?6:void 0:L))}if(J&2)for(h="-"+h;h.length<K;)h+=" ";else if(J&8&&-Infinity!==B){for(;h.length<K-1;)h="0"+h;h="-"+h}else for(h="-"+h;h.length<K;)h=" "+h}a.charAt(F)!==a.charAt(F).toUpperCase()||Infinity===B||-Infinity===B||isNaN(B)||(h=h.toUpperCase());h=h.replace(/([eE][-+]?)([0-9])$/,"$10$2");
break a;case "a":case "A":ka.$raise(l(e,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":B=p();B["$respond_to?"]("to_ary")&&(B=B.$to_ary()[0]);h=B["$respond_to?"]("to_str")?B.$to_str():String.fromCharCode(l(e,"Opal").$coerce_to(B,l(e,"Integer"),"to_int"));1!==h.length&&ka.$raise(l(e,"ArgumentError"),"%c requires a character");if(J&2)for(;h.length<K;)h+=" ";else for(;h.length<K;)h=" "+h;break a;case "p":h=p().$inspect();-1!==L&&(h=h.slice(0,L));if(J&
2)for(;h.length<K;)h+=" ";else for(;h.length<K;)h=" "+h;break a;case "s":h=p().$to_s();-1!==L&&(h=h.slice(0,L));if(J&2)for(;h.length<K;)h+=" ";else for(;h.length<K;)h=" "+h;break a;default:ka.$raise(l(e,"ArgumentError"),"malformed format string - %"+a.charAt(F))}void 0===h&&ka.$raise(l(e,"ArgumentError"),"malformed format string - %");v+=a.slice(N,I)+h;N=F+1}x.DEBUG&&0<=U&&Fa<T.length&&ka.$raise(l(e,"ArgumentError"),"too many arguments for format string");return v+a.slice(N)},t.$$arity=-2);c.def(a,
"$hash",za=function(){return this.$__id__()},za.$$arity=0);c.def(a,"$initialize_copy",ca=function(a){return r},ca.$$arity=1);c.def(a,"$inspect",X=function(){return this.$to_s()},X.$$arity=0);c.def(a,"$instance_of?",na=function(a){a.$$is_class||a.$$is_module||this.$raise(l(e,"TypeError"),"class or module required");return this.$$class===a},na.$$arity=1);c.def(a,"$instance_variable_defined?",S=function(a){a=l(e,"Opal")["$instance_variable_name!"](a);return c.hasOwnProperty.call(this,a.substr(1))},S.$$arity=
1);c.def(a,"$instance_variable_get",Y=function(a){a=l(e,"Opal")["$instance_variable_name!"](a);a=this[c.ivar(a.substr(1))];return null==a?r:a},Y.$$arity=1);c.def(a,"$instance_variable_set",U=function(a,b){a=l(e,"Opal")["$instance_variable_name!"](a);return this[c.ivar(a.substr(1))]=b},U.$$arity=2);c.def(a,"$remove_instance_variable",fa=function(a){a=l(e,"Opal")["$instance_variable_name!"](a);var b=c.ivar(a.substr(1));return this.hasOwnProperty(b)?(a=this[b],delete this[b],a):this.$raise(l(e,"NameError"),
"instance variable "+a+" not defined")},fa.$$arity=1);c.def(a,"$instance_variables",V=function(){var a=[],b,c;for(c in this)this.hasOwnProperty(c)&&"$"!==c.charAt(0)&&(b="$"===c.substr(-1)?c.slice(0,c.length-1):c,a.push("@"+b));return a},V.$$arity=0);c.def(a,"$Integer",K=function(a,b){var c=this,d,f;if(!a.$$is_string)return void 0!==b&&c.$raise(l(e,"ArgumentError"),"base specified for non string value"),a===r&&c.$raise(l(e,"TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===
a||-Infinity===a||isNaN(a))&&c.$raise(l(e,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(d=a.$to_int(),d!==r)?d:l(e,"Opal")["$coerce_to!"](a,l(e,"Integer"),"to_i");if("0"===a)return 0;void 0===b?b=0:(b=l(e,"Opal").$coerce_to(b,l(e,"Integer"),"to_int"),(1===b||0>b||36<b)&&c.$raise(l(e,"ArgumentError"),"invalid radix "+b));d=a.toLowerCase();d=d.replace(/(\d)_(?=\d)/g,"$1");d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(d,f,g){switch(g){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===
b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}c.$raise(l(e,"ArgumentError"),'invalid value for Integer(): "'+a+'"')});b=0===b?10:b;f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(d)||c.$raise(l(e,"ArgumentError"),'invalid value for Integer(): "'+a+'"');d=parseInt(d,b);isNaN(d)&&c.$raise(l(e,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return d},K.$$arity=-2);c.def(a,"$Float",
J=function(a){var b;a===r&&this.$raise(l(e,"TypeError"),"can't convert nil into Float");if(a.$$is_string){b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(l(e,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return l(e,"Opal")["$coerce_to!"](a,l(e,"Float"),"to_f")},J.$$arity=1);c.def(a,"$Hash",Ka=function(a){var b;return A(A(b=a["$nil?"]())?
b:a["$=="]([]))?n([],{}):A(l(e,"Hash")["$==="](a))?a:l(e,"Opal")["$coerce_to!"](a,l(e,"Hash"),"to_hash")},Ka.$$arity=1);c.def(a,"$is_a?",G=function(a){a.$$is_class||a.$$is_module||this.$raise(l(e,"TypeError"),"class or module required");return c.is_a(this,a)},G.$$arity=1);c.def(a,"$itself",qa=function(){return this},qa.$$arity=0);c.alias(a,"kind_of?","is_a?");c.def(a,"$lambda",la=function(){var a=la.$$p,b=a||r;a&&(la.$$p=null);a&&(la.$$p=null);return c.lambda(b)},la.$$arity=0);c.def(a,"$load",Da=
function(a){a=l(e,"Opal")["$coerce_to!"](a,l(e,"String"),"to_str");return c.load(a)},Da.$$arity=1);c.def(a,"$loop",aa=function(){var a,b=aa.$$p,d=b||r,f=r;b&&(aa.$$p=null);if(d===r)return m(this,"enum_for",["loop"],(a=function(){return y(l(e,"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;A(!0);)try{c.yieldX(d,[])}catch(g){if(c.rescue(g,[l(e,"StopIteration")])){f=g;try{return f.$result()}finally{c.pop_exception()}}else throw g;}return this},aa.$$arity=0);c.def(a,"$nil?",ba=function(){return!1},
ba.$$arity=0);c.alias(a,"object_id","__id__");c.def(a,"$printf",ma=function(a){var b;b=c.slice.call(arguments,0,arguments.length);A(b["$any?"]())&&this.$print(m(this,"format",c.to_a(b)));return r},ma.$$arity=-1);c.def(a,"$proc",sa=function(){var a=sa.$$p,b=a||r;a&&(sa.$$p=null);a&&(sa.$$p=null);A(b)||this.$raise(l(e,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},sa.$$arity=0);c.def(a,"$puts",da=function(a){var b;null==x.stdout&&(x.stdout=r);b=c.slice.call(arguments,
0,arguments.length);return m(x.stdout,"puts",c.to_a(b))},da.$$arity=-1);c.def(a,"$p",ea=function(a){var b,e;b=c.slice.call(arguments,0,arguments.length);m(b,"each",[],(e=function(a){null==x.stdout&&(x.stdout=r);null==a&&(a=r);return x.stdout.$puts(a.$inspect())},e.$$s=this,e.$$arity=1,e));return A(u(b.$length(),1))?b["$[]"](0):b},ea.$$arity=-1);c.def(a,"$print",R=function(a){var b;null==x.stdout&&(x.stdout=r);b=c.slice.call(arguments,0,arguments.length);return m(x.stdout,"print",c.to_a(b))},R.$$arity=
-1);c.def(a,"$warn",Ea=function(a){var b,e;null==x.VERBOSE&&(x.VERBOSE=r);null==x.stderr&&(x.stderr=r);b=c.slice.call(arguments,0,arguments.length);return A(A(e=x.VERBOSE["$nil?"]())?e:b["$empty?"]())?r:m(x.stderr,"puts",c.to_a(b))},Ea.$$arity=-1);c.def(a,"$raise",Aa=function(a,b,d){null==x["!"]&&(x["!"]=r);null==b&&(b=r);if(null==a&&x["!"]!==r)throw x["!"];null==a?a=l(e,"RuntimeError").$new():a.$$is_string?a=l(e,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(b):
a["$is_a?"](l(e,"Exception"))||(a=l(e,"TypeError").$new("exception class/object expected"));x["!"]!==r&&c.exceptions.push(x["!"]);x["!"]=a;throw a;},Aa.$$arity=-1);c.alias(a,"fail","raise");c.def(a,"$rand",Ba=function(a){if(void 0===a)return y(l(e,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return y(l(e,"Random"),"DEFAULT").$rand(a)},Ba.$$arity=-1);c.def(a,"$respond_to?",wa=function(a,b){null==b&&(b=!1);if(A(this["$respond_to_missing?"](a,
b)))return!0;var c=this["$"+a];return"function"!==typeof c||c.$$stub?!1:!0},wa.$$arity=-2);c.def(a,"$respond_to_missing?",oa=function(a,b){return!1},oa.$$arity=-2);c.def(a,"$require",Fa=function(a){a=l(e,"Opal")["$coerce_to!"](a,l(e,"String"),"to_str");return c.require(a)},Fa.$$arity=1);c.def(a,"$require_relative",Ua=function(a){l(e,"Opal")["$try_convert!"](a,l(e,"String"),"to_str");a=l(e,"File").$expand_path(l(e,"File").$join(c.current_file,"..",a));return c.require(a)},Ua.$$arity=1);c.def(a,"$require_tree",
Qa=function(a){var b=[];a=l(e,"File").$expand_path(a);a=c.normalize(a);"."===a&&(a="");for(var d in c.modules)d["$start_with?"](a)&&b.push([d,c.require(d)]);return b},Qa.$$arity=1);c.alias(a,"send","__send__");c.alias(a,"public_send","__send__");c.def(a,"$singleton_class",xa=function(){return c.get_singleton_class(this)},xa.$$arity=0);c.def(a,"$sleep",La=function(a){null==a&&(a=r);a===r&&this.$raise(l(e,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(l(e,"TypeError"),
"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(l(e,"ArgumentError"),"time interval must be positive");for(var b=c.global.performance?function(){return performance.now()}:function(){return new Date},d=b();b()-d<=1E3*a;);return a},La.$$arity=-1);c.alias(a,"sprintf","format");c.def(a,"$srand",Ma=function(a){null==a&&(a=l(e,"Random").$new_seed());return l(e,"Random").$srand(a)},Ma.$$arity=-1);c.def(a,"$String",Ca=function(a){var b;return A(b=l(e,"Opal")["$coerce_to?"](a,l(e,"String"),
"to_str"))?b:l(e,"Opal")["$coerce_to!"](a,l(e,"String"),"to_s")},Ca.$$arity=1);c.def(a,"$tap",Ga=function(){var a=Ga.$$p,b=a||r;a&&(Ga.$$p=null);a&&(Ga.$$p=null);c.yield1(b,this);return this},Ga.$$arity=0);c.def(a,"$to_proc",Ha=function(){return this},Ha.$$arity=0);c.def(a,"$to_s",Ia=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ia.$$arity=0);c.def(a,"$catch",Pa=function(a){var b=Pa.$$p,d=b||r,f=r;b&&(Pa.$$p=null);try{return c.yieldX(d,[])}catch(g){if(c.rescue(g,[l(e,"UncaughtThrowError")])){f=
g;try{return f.$sym()["$=="](a)?f.$arg():this.$raise()}finally{c.pop_exception()}}else throw g;}},Pa.$$arity=1);c.def(a,"$throw",Ra=function(a){var b;b=c.slice.call(arguments,0,arguments.length);return this.$raise(l(e,"UncaughtThrowError"),b)},Ra.$$arity=-1);c.def(a,"$open",Na=function(a){var b=Na.$$p,d=b||r;b&&(Na.$$p=null);b&&(Na.$$p=null);b=c.slice.call(arguments,0,arguments.length);return m(l(e,"File"),"open",c.to_a(b),d.$to_proc())},Na.$$arity=-1);c.def(a,"$yield_self",Oa=function(){var a,b=
Oa.$$p,e=b||r;b&&(Oa.$$p=null);return e===r?m(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=0,a)):c.yield1(e,this)},Oa.$$arity=0)})(D[0],D);return function(c,$super,h){function a(){}c=a=w(c,$super,"Object",a);h=[c].concat(h);return c.$include(l(h,"Kernel"))}(D[0],null,D)};Opal.modules["corelib/error"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.klass,l=c.send,h=c.truthy,A=c.module,x=c.hash2;c.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));
(function(n,$super,w){function x(){}n=x=y(n,$super,"Exception",x);var M=n.prototype,u=[n].concat(w),a,e,k,q,v,g,B,b,F;M.message=D;var p;c.defs(n,"$new",a=function(a){var b;b=c.slice.call(arguments,0,arguments.length);var e=0<b.length?b[0]:D,d=new this(e);d.name=this.$$name;d.message=e;c.send(d,d.$initialize,b);c.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(d,p);return d},a.$$arity=-1);p=n.$new;c.defs(n,"$exception",e=function(a){var b;b=c.slice.call(arguments,0,arguments.length);
return l(this,"new",c.to_a(b))},e.$$arity=-1);c.def(n,"$initialize",k=function(a){var b;b=c.slice.call(arguments,0,arguments.length);return this.message=0<b.length?b[0]:D},k.$$arity=-1);c.def(n,"$backtrace",q=function(){if(this.backtrace)return this.backtrace;var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},q.$$arity=0);c.def(n,"$exception",v=function(a){null==a&&(a=D);if(a===D||this===a)return this;var b=this.$clone();b.message=a;return b},v.$$arity=-1);c.def(n,
"$message",g=function(){return this.$to_s()},g.$$arity=0);c.def(n,"$inspect",B=function(){var a=D,a=this.$to_s();return h(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},B.$$arity=0);c.def(n,"$set_backtrace",b=function(a){var b=!0,c,e;if(a===D)this.backtrace=D;else if(a.$$is_string)this.backtrace=[a];else{if(a.$$is_array)for(c=0,e=a.length;c<e;c++){if(!a[c].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(r(u,"TypeError"),"backtrace must be Array of String");
this.backtrace=a}return a},b.$$arity=1);return(c.def(n,"$to_s",F=function(){var a,b;return h(a=h(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},F.$$arity=0),D)&&"to_s"})(u[0],Error,u);(function(c,$super,h){function l(){}[l=y(c,$super,"ScriptError",l)].concat(h);return D})(u[0],r(u,"Exception"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"SyntaxError",l)].concat(h);return D})(u[0],r(u,"ScriptError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"LoadError",l)].concat(h);
return D})(u[0],r(u,"ScriptError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"NotImplementedError",l)].concat(h);return D})(u[0],r(u,"ScriptError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"SystemExit",l)].concat(h);return D})(u[0],r(u,"Exception"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"NoMemoryError",l)].concat(h);return D})(u[0],r(u,"Exception"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"SignalException",l)].concat(h);return D})(u[0],r(u,"Exception"),
u);(function(c,$super,h){function l(){}[l=y(c,$super,"Interrupt",l)].concat(h);return D})(u[0],r(u,"Exception"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"SecurityError",l)].concat(h);return D})(u[0],r(u,"Exception"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"StandardError",l)].concat(h);return D})(u[0],r(u,"Exception"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"EncodingError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}
[l=y(c,$super,"ZeroDivisionError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"NameError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"NoMethodError",l)].concat(h);return D})(u[0],r(u,"NameError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"RuntimeError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"FrozenError",
l)].concat(h);return D})(u[0],r(u,"RuntimeError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"LocalJumpError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"TypeError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"ArgumentError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"IndexError",l)].concat(h);return D})(u[0],
r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"StopIteration",l)].concat(h);return D})(u[0],r(u,"IndexError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"KeyError",l)].concat(h);return D})(u[0],r(u,"IndexError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"RangeError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"FloatDomainError",l)].concat(h);return D})(u[0],r(u,"RangeError"),u);(function(c,
$super,h){function l(){}[l=y(c,$super,"IOError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(c,$super,h){function l(){}[l=y(c,$super,"SystemCallError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(n,m){function w(){}var x=[w=A(n,"Errno",w)].concat(m);(function(n,$super,a){function e(){}n=e=y(n,$super,"EINVAL",e);[n].concat(a);var k;return(c.defs(n,"$new",k=function(a){var v=D;k.$$p&&(k.$$p=null);null==a&&(a=D);v="Invalid argument";h(a)&&(a=" - "+a,v="number"===
typeof v&&"number"===typeof a?v+a:v["$+"](a));return l(this,c.find_super_dispatcher(this,"new",k,!1,e),[v],null)},k.$$arity=-1),D)&&"new"})(x[0],r(x,"SystemCallError"),x)})(u[0],u);(function(n,$super,w){function x(){}n=x=y(n,$super,"UncaughtThrowError",x);var r=n.prototype;[n].concat(w);var u;r.sym=D;n.$attr_reader("sym","arg");return(c.def(n,"$initialize",u=function(a){u.$$p&&(u.$$p=null);this.sym=a["$[]"](0);var e;e=a.$length();e="number"===typeof e?1<e:e["$>"](1);h(e)&&(this.arg=a["$[]"](1));return l(this,
c.find_super_dispatcher(this,"initialize",u,!1),["uncaught throw "+this.sym.$inspect()],null)},u.$$arity=1),D)&&"initialize"})(u[0],r(u,"ArgumentError"),u);(function(h,$super,w){function x(){}h=x=y(h,$super,"NameError",x);[h].concat(w);var r;h.$attr_reader("name");return(c.def(h,"$initialize",r=function(h,a){r.$$p&&(r.$$p=null);null==a&&(a=D);l(this,c.find_super_dispatcher(this,"initialize",r,!1),[h],null);return this.name=a},r.$$arity=-2),D)&&"initialize"})(u[0],null,u);(function(h,$super,w){function x(){}
h=x=y(h,$super,"NoMethodError",x);[h].concat(w);var r;h.$attr_reader("args");return(c.def(h,"$initialize",r=function(h,a,e){r.$$p&&(r.$$p=null);null==a&&(a=D);null==e&&(e=[]);l(this,c.find_super_dispatcher(this,"initialize",r,!1),[h,a],null);return this.args=e},r.$$arity=-2),D)&&"initialize"})(u[0],null,u);(function(c,$super,h){function l(){}c=l=y(c,$super,"StopIteration",l);[c].concat(h);return c.$attr_reader("result")})(u[0],null,u);(function(n,$super,w){function u(){}n=u=y(n,$super,"KeyError",
u);var M=n.prototype,A=[n].concat(w),a,e,k;M.receiver=M.key=D;c.def(n,"$initialize",a=function(e,k){var g,h;a.$$p&&(a.$$p=null);if(null==k)k=x([],{});else if(!k.$$is_hash)throw c.ArgumentError.$new("expected kwargs");g=k.$$smap.receiver;null==g&&(g=D);h=k.$$smap.key;null==h&&(h=D);l(this,c.find_super_dispatcher(this,"initialize",a,!1),[e],null);this.receiver=g;return this.key=h},a.$$arity=-2);c.def(n,"$receiver",e=function(){var a;return h(a=this.receiver)?a:this.$raise(r(A,"ArgumentError"),"no receiver is available")},
e.$$arity=0);return(c.def(n,"$key",k=function(){var a;return h(a=this.key)?a:this.$raise(r(A,"ArgumentError"),"no key is available")},k.$$arity=0),D)&&"key"})(u[0],null,u);return function(c,h){function l(){}var x=[l=A(c,"JS",l)].concat(h);(function(c,$super,a){function e(){}[e=y(c,$super,"Error",e)].concat(a);return D})(x[0],null,x)}(u[0],u)};Opal.modules["corelib/constants"]=function(c){var u=[],D=c.const_get_relative;c.const_set(u[0],"RUBY_PLATFORM","opal");c.const_set(u[0],"RUBY_ENGINE","opal");
c.const_set(u[0],"RUBY_VERSION","2.5.1");c.const_set(u[0],"RUBY_ENGINE_VERSION","0.11.99.dev");c.const_set(u[0],"RUBY_RELEASE_DATE","2018-12-25");c.const_set(u[0],"RUBY_PATCHLEVEL",0);c.const_set(u[0],"RUBY_REVISION",0);c.const_set(u[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors");return c.const_set(u[0],"RUBY_DESCRIPTION","opal "+D(u,"RUBY_ENGINE_VERSION")+" ("+D(u,"RUBY_RELEASE_DATE")+" revision "+D(u,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(c){var u=
c.top;c.add_stubs(["$require"]);u.$require("corelib/runtime");u.$require("corelib/helpers");u.$require("corelib/module");u.$require("corelib/class");u.$require("corelib/basic_object");u.$require("corelib/kernel");u.$require("corelib/error");return u.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.klass,l=c.hash2,h=c.truthy;c.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(u,$super,n){function m(){}u=m=y(u,
$super,"NilClass",m);var w=u.prototype,H=[u].concat(n),M,Q,a,e,k,q,v,g,B,b,F,p,N,P,z,d,f,ya;w.$$meta=u;(function(a,b){var e=[a].concat(b),d;c.def(a,"$allocate",d=function(){return this.$raise(r(e,"TypeError"),"allocator undefined for "+this.$name())},d.$$arity=0);c.udef(a,"$new");return D})(c.get_singleton_class(u),H);c.def(u,"$!",M=function(){return!0},M.$$arity=0);c.def(u,"$&",Q=function(a){return!1},Q.$$arity=1);c.def(u,"$|",a=function(a){return!1!==a&&a!==D},a.$$arity=1);c.def(u,"$^",e=function(a){return!1!==
a&&a!==D},e.$$arity=1);c.def(u,"$==",k=function(a){return a===D},k.$$arity=1);c.def(u,"$dup",q=function(){return D},q.$$arity=0);c.def(u,"$clone",v=function(a){if(null==a)l([],{});else if(!a.$$is_hash)throw c.ArgumentError.$new("expected kwargs");return D},v.$$arity=-1);c.def(u,"$inspect",g=function(){return"nil"},g.$$arity=0);c.def(u,"$nil?",B=function(){return!0},B.$$arity=0);c.def(u,"$singleton_class",b=function(){return r(H,"NilClass")},b.$$arity=0);c.def(u,"$to_a",F=function(){return[]},F.$$arity=
0);c.def(u,"$to_h",p=function(){return c.hash()},p.$$arity=0);c.def(u,"$to_i",N=function(){return 0},N.$$arity=0);c.alias(u,"to_f","to_i");c.def(u,"$to_s",P=function(){return""},P.$$arity=0);c.def(u,"$to_c",z=function(){return r(H,"Complex").$new(0,0)},z.$$arity=0);c.def(u,"$rationalize",d=function(a){var b;b=c.slice.call(arguments,0,arguments.length).$length();b="number"===typeof b?1<b:b["$>"](1);h(b)&&this.$raise(r(H,"ArgumentError"));return this.$Rational(0,1)},d.$$arity=-1);c.def(u,"$to_r",f=
function(){return this.$Rational(0,1)},f.$$arity=0);return(c.def(u,"$instance_variables",ya=function(){return[]},ya.$$arity=0),D)&&"instance_variables"})(u[0],null,u);return c.const_set(u[0],"NIL",D)};Opal.modules["corelib/boolean"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.klass,l=c.hash2;c.add_stubs(["$raise","$name"]);(function(h,$super,x){function n(){}h=n=y(h,$super,"Boolean",n);var m=[h].concat(x),w,u,M,Q,a,e,k,q,v,g;c.defineProperty(Boolean.prototype,"$$is_boolean",!0);c.defineProperty(Boolean.prototype,
"$$meta",h);(function(a,b){var e=[a].concat(b),g;c.def(a,"$allocate",g=function(){return this.$raise(r(e,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);c.udef(a,"$new");return D})(c.get_singleton_class(h),m);c.def(h,"$__id__",w=function(){return this.valueOf()?2:0},w.$$arity=0);c.alias(h,"object_id","__id__");c.def(h,"$!",u=function(){return 1!=this},u.$$arity=0);c.def(h,"$&",M=function(a){return 1==this?!1!==a&&a!==D:!1},M.$$arity=1);c.def(h,"$|",Q=function(a){return 1==this?
!0:!1!==a&&a!==D},Q.$$arity=1);c.def(h,"$^",a=function(a){return 1==this?!1===a||a===D:!1!==a&&a!==D},a.$$arity=1);c.def(h,"$==",e=function(a){return 1==this===a.valueOf()},e.$$arity=1);c.alias(h,"equal?","==");c.alias(h,"eql?","==");c.def(h,"$singleton_class",k=function(){return r(m,"Boolean")},k.$$arity=0);c.def(h,"$to_s",q=function(){return 1==this?"true":"false"},q.$$arity=0);c.def(h,"$dup",v=function(){return this},v.$$arity=0);return(c.def(h,"$clone",g=function(a){if(null==a)l([],{});else if(!a.$$is_hash)throw c.ArgumentError.$new("expected kwargs");
return this},g.$$arity=-1),D)&&"clone"})(u[0],Boolean,u);c.const_set(u[0],"TrueClass",r(u,"Boolean"));c.const_set(u[0],"FalseClass",r(u,"Boolean"));c.const_set(u[0],"TRUE",!0);return c.const_set(u[0],"FALSE",!1)};Opal.modules["corelib/comparable"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c>h:c["$>"](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c<h:c["$<"](h)}var r=[],y=c.nil,l=c.const_get_relative,h=c.module,A=c.truthy;c.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));
return function(x,n){function m(){}var w=m=h(x,"Comparable",m),r=[w].concat(n),M,Q,a,e,k,q,v,g;c.defs(w,"$normalize",M=function(a){return A(l(r,"Integer")["$==="](a))?a:A(u(a,0))?1:A(D(a,0))?-1:0},M.$$arity=1);c.def(w,"$==",Q=function(a){var b=y;try{return A(this["$equal?"](a))?!0:this["$<=>"]==c.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):A(b=this["$<=>"](a))?0==l(r,"Comparable").$normalize(b):!1}catch(e){if(c.rescue(e,[l(r,"StandardError")]))try{return!1}finally{c.pop_exception()}else throw e;
}},Q.$$arity=1);c.def(w,"$>",a=function(a){var b=y;A(b=this["$<=>"](a))||this.$raise(l(r,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<l(r,"Comparable").$normalize(b)},a.$$arity=1);c.def(w,"$>=",e=function(a){var b=y;A(b=this["$<=>"](a))||this.$raise(l(r,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=l(r,"Comparable").$normalize(b)},e.$$arity=1);c.def(w,"$<",k=function(a){var b=y;A(b=this["$<=>"](a))||this.$raise(l(r,
"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>l(r,"Comparable").$normalize(b)},k.$$arity=1);c.def(w,"$<=",q=function(a){var b=y;A(b=this["$<=>"](a))||this.$raise(l(r,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=l(r,"Comparable").$normalize(b)},q.$$arity=1);c.def(w,"$between?",v=function(a,b){return D(this,a)||u(this,b)?!1:!0},v.$$arity=2);c.def(w,"$clamp",g=function(a,b){var c=y,c=a["$<=>"](b);A(c)||this.$raise(l(r,
"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");A(u(l(r,"Comparable").$normalize(c),0))&&this.$raise(l(r,"ArgumentError"),"min argument must be smaller than max argument");return A(D(l(r,"Comparable").$normalize(this["$<=>"](a)),0))?a:A(u(l(r,"Comparable").$normalize(this["$<=>"](b)),0))?b:this},g.$$arity=2)}(r[0],r)};Opal.modules["corelib/regexp"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.klass,l=c.send,h=c.truthy,A=c.gvars;c.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));
(function(c,$super,h){function l(){}[l=y(c,$super,"RegexpError",l)].concat(h);return D})(u[0],r(u,"StandardError"),u);(function(x,$super,m){function w(){}x=w=y(x,$super,"Regexp",w);var u=[x].concat(m),M,Q,a,e,k,q,v,g,B,b;c.const_set(u[0],"IGNORECASE",1);c.const_set(u[0],"EXTENDED",2);c.const_set(u[0],"MULTILINE",4);c.defineProperty(RegExp.prototype,"$$is_regexp",!0);(function(a,b){var e=[a].concat(b),g,k,d,f,q;c.def(a,"$allocate",g=function(){var a=g.$$p,b=D,e=b=D,d=D;a&&(g.$$p=null);e=0;d=arguments.length;
for(b=Array(d);e<d;e++)b[e]=arguments[e];b=l(this,c.find_super_dispatcher(this,"allocate",g,!1),b,a);b.uninitialized=!0;return b},g.$$arity=0);c.def(a,"$escape",k=function(a){return c.escape_regexp(a)},k.$$arity=1);c.def(a,"$last_match",d=function(a){null==A["~"]&&(A["~"]=D);null==a&&(a=D);return h(a["$nil?"]())?A["~"]:A["~"]["$[]"](a)},d.$$arity=-1);c.alias(a,"quote","escape");c.def(a,"$union",f=function(a){var b;b=c.slice.call(arguments,0,arguments.length);var d,f,g,k;if(0==b.length)return/(?!)/;
if(1==b.length&&b[0].$$is_regexp)return b[0];d=b[0].$$is_array;1<b.length&&d&&this.$raise(r(e,"TypeError"),"no implicit conversion of Array into String");d&&(b=b[0]);g=void 0;d=[];for(var h=0;h<b.length;h++)f=b[h],f.$$is_string?d.push(this.$escape(f)):f.$$is_regexp?(k=f.$options(),void 0!=g&&g!=k&&this.$raise(r(e,"TypeError"),"All expressions must use the same options"),g=k,d.push("("+f.source+")")):d.push(this.$escape(f.$to_str()));return this.$new(d.$join("|"),g)},f.$$arity=-1);return(c.def(a,"$new",
q=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=r(e,"Opal")["$coerce_to!"](a,r(e,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(r(e,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var c="";r(e,"IGNORECASE")&b&&(c+="i");r(e,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},q.$$arity=-2),D)&&"new"})(c.get_singleton_class(x),u);c.def(x,"$==",M=function(a){return a instanceof
RegExp&&this.toString()===a.toString()},M.$$arity=1);c.def(x,"$===",Q=function(a){return this.$match(r(u,"Opal")["$coerce_to?"](a,r(u,"String"),"to_str"))!==D},Q.$$arity=1);c.def(x,"$=~",a=function(a){var b;null==A["~"]&&(A["~"]=D);return h(b=this.$match(a))?A["~"].$begin(0):b},a.$$arity=1);c.alias(x,"eql?","==");c.def(x,"$inspect",e=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),c=b.length,e=!1,g="",d=0;d<c;d++){var f=b[d];e||"/"!=f||(g=g.concat("\\"));
g=g.concat(f);e="\\"==f?e?!1:!0:!1}return"/"+g+"/"+a}return a},e.$$arity=0);c.def(x,"$match",k=function(a,b){var e=k.$$p,g=e||D;null==A["~"]&&(A["~"]=D);e&&(k.$$p=null);e&&(k.$$p=null);this.uninitialized&&this.$raise(r(u,"TypeError"),"uninitialized Regexp");if(void 0===b)return a===D?A["~"]=D:(e=this.exec(r(u,"Opal").$coerce_to(a,r(u,"String"),"to_str")))?(A["~"]=r(u,"MatchData").$new(this,e),g===D?A["~"]:c.yield1(g,A["~"])):A["~"]=D;b=r(u,"Opal").$coerce_to(b,r(u,"Integer"),"to_int");if(a===D)return A["~"]=
D;a=r(u,"Opal").$coerce_to(a,r(u,"String"),"to_str");if(0>b&&(b+=a.length,0>b))return A["~"]=D;for(var h=c.global_regexp(this);;){e=h.exec(a);if(null===e)return A["~"]=D;if(e.index>=b)return A["~"]=r(u,"MatchData").$new(h,e),g===D?A["~"]:c.yield1(g,A["~"]);h.lastIndex=e.index+1}},k.$$arity=-2);c.def(x,"$match?",q=function(a,b){this.uninitialized&&this.$raise(r(u,"TypeError"),"uninitialized Regexp");if(void 0===b)return a===D?!1:this.test(r(u,"Opal").$coerce_to(a,r(u,"String"),"to_str"));b=r(u,"Opal").$coerce_to(b,
r(u,"Integer"),"to_int");if(a===D)return!1;a=r(u,"Opal").$coerce_to(a,r(u,"String"),"to_str");if(0>b&&(b+=a.length,0>b))return!1;var e;e=c.global_regexp(this).exec(a);return null===e||e.index<b?!1:!0},q.$$arity=-2);c.def(x,"$~",v=function(){null==A._&&(A._=D);return this["$=~"](A._)},v.$$arity=0);c.def(x,"$source",g=function(){return this.source},g.$$arity=0);c.def(x,"$options",B=function(){this.uninitialized&&this.$raise(r(u,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=r(u,"MULTILINE"));
this.ignoreCase&&(a|=r(u,"IGNORECASE"));return a},B.$$arity=0);c.def(x,"$casefold?",b=function(){return this.ignoreCase},b.$$arity=0);return c.alias(x,"to_s","source")})(u[0],RegExp,u);return function(x,$super,m){function w(){}x=w=y(x,$super,"MatchData",w);var u=x.prototype,M=[x].concat(m),Q,a,e,k,q,v,g,B,b,F,p,N;u.matches=D;x.$attr_reader("post_match","pre_match","regexp","string");c.def(x,"$initialize",Q=function(a,b){A["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=
b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,e=b.length;c<e;c++){var g=b[c];null==g?this.matches.push(D):this.matches.push(g)}},Q.$$arity=2);c.def(x,"$[]",a=function(a){var b;b=c.slice.call(arguments,0,arguments.length);return l(this.matches,"[]",c.to_a(b))},a.$$arity=-1);c.def(x,"$offset",e=function(a){0!==a&&this.$raise(r(M,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},
e.$$arity=1);c.def(x,"$==",k=function(a){var b,c,e,g;return h(r(M,"MatchData")["$==="](a))?h(b=h(c=h(e=h(g=this.string==a.string)?this.regexp.toString()==a.regexp.toString():g)?this.pre_match==a.pre_match:e)?this.post_match==a.post_match:c)?this.begin==a.begin:b:!1},k.$$arity=1);c.alias(x,"eql?","==");c.def(x,"$begin",q=function(a){0!==a&&this.$raise(r(M,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},q.$$arity=1);c.def(x,"$end",v=function(a){0!==a&&this.$raise(r(M,
"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},v.$$arity=1);c.def(x,"$captures",g=function(){return this.matches.slice(1)},g.$$arity=0);c.def(x,"$inspect",B=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},B.$$arity=0);c.def(x,"$length",b=function(){return this.matches.length},b.$$arity=0);c.alias(x,"size","length");c.def(x,"$to_a",F=function(){return this.matches},
F.$$arity=0);c.def(x,"$to_s",p=function(){return this.matches[0]},p.$$arity=0);return(c.def(x,"$values_at",N=function(a){var b;b=c.slice.call(arguments,0,arguments.length);var e,f,g=[];for(e=0;e<b.length;e++){b[e].$$is_range&&(f=b[e].$to_a(),f.unshift(e,1),Array.prototype.splice.apply(b,f));f=r(M,"Opal")["$coerce_to!"](b[e],r(M,"Integer"),"to_int");if(0>f&&(f+=this.matches.length,0>f)){g.push(D);continue}g.push(this.matches[f])}return g},N.$$arity=-1),D)&&"values_at"}(u[0],null,u)};Opal.modules["corelib/string"]=
function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c/h:c["$/"](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c+h:c["$+"](h)}var r=c.top,y=[],l=c.nil,h=c.const_get_relative,A=c.klass,x=c.truthy,n=c.send,m=c.gvars;c.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $match? $captures $proc $succ $escape".split(" "));
r.$require("corelib/comparable");r.$require("corelib/regexp");(function(w,$super,r){function y(){}function a(a){function b(a){var c="",d,f=a.length,g,ka;for(d=0;d<f;d++)if(g=a.charAt(d),"-"===g&&0<d&&d<f-1&&!ka){ka=a.charCodeAt(d-1);g=a.charCodeAt(d+1);ka>g&&e.$raise(h(k,"ArgumentError"),'invalid range "'+ka+"-"+g+'" in string transliteration');for(ka+=1;ka<g+1;ka++)c+=String.fromCharCode(ka);ka=!0;d++}else ka="\\"===g,c+=g;return c}function c(a,b){if(0===a.length)return b;var e="",d,f=a.length,g;
for(d=0;d<f;d++)g=a.charAt(d),-1!==b.indexOf(g)&&(e+=g);return e}var d,f,g,t,p="",T="";d=0;for(f=a.length;d<f;d++)g=h(k,"Opal").$coerce_to(a[d],h(k,"String"),"to_str"),t="^"===g.charAt(0)&&1<g.length,g=b(t?g.slice(1):g),t?T=c(T,g):p=c(p,g);if(0<p.length&&0<T.length){g="";d=0;for(f=p.length;d<f;d++)a=p.charAt(d),-1===T.indexOf(a)&&(g+=a);p=g;T=""}return 0<p.length?"["+h(k,"Regexp").$escape(p)+"]":0<T.length?"[^"+h(k,"Regexp").$escape(T)+"]":null}var e=y=A(w,$super,"String",y),k=[e].concat(r),q,v,g,
B,b,F,p,N,P,z,d,f,ya,ja,Z,E,ta,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Ua,Qa,xa,La,Ma,Ca,Ga,Ha,Ia,Pa,Ra,Na,Oa,Va,C,W,Ja,ua,ia,ga,O,Sa,Ta,T;e.$include(h(k,"Comparable"));c.defineProperty(String.prototype,"$$is_string",!0);c.defineProperty(String.prototype,"$$cast",function(a){var b=this.$$class;return b===String?a:new b(a)});c.def(e,"$__id__",q=function(){return this.toString()},q.$$arity=0);c.alias(e,"object_id","__id__");c.defs(e,"$try_convert",
v=function(a){return h(k,"Opal")["$coerce_to?"](a,h(k,"String"),"to_str")},v.$$arity=1);c.defs(e,"$new",g=function(a){null==a&&(a="");a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str");return new this(a)},g.$$arity=-1);c.def(e,"$initialize",B=function(a){return void 0===a?this:this.$raise(h(k,"NotImplementedError"),"Mutable strings are not supported in Opal.")},B.$$arity=-1);c.def(e,"$%",b=function(a){return x(h(k,"Array")["$==="](a))?n(this,"format",[this].concat(c.to_a(a))):this.$format(this,a)},
b.$$arity=1);c.def(e,"$*",F=function(a){a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");0>a&&this.$raise(h(k,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(h(k,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return this.$$cast(b)},F.$$arity=1);c.def(e,"$+",p=function(a){a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str");return this+a.$to_s()},
p.$$arity=1);c.def(e,"$<=>",N=function(a){if(x(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===l?l:0<a?-1:0>a?1:0},N.$$arity=1);c.def(e,"$==",P=function(a){return a.$$is_string?this.toString()===a.toString():h(k,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},P.$$arity=1);c.alias(e,"eql?","==");c.alias(e,"===","==");c.def(e,"$=~",z=function(a){a.$$is_string&&this.$raise(h(k,"TypeError"),"type mismatch: String given");return a["$=~"](this)},
z.$$arity=1);c.def(e,"$[]",d=function(a,b){var c=this.length,e;if(a.$$is_range){e=a.excl;b=h(k,"Opal").$coerce_to(a.end,h(k,"Integer"),"to_int");a=h(k,"Opal").$coerce_to(a.begin,h(k,"Integer"),"to_int");if(Math.abs(a)>c)return l;0>a&&(a+=c);0>b&&(b+=c);e||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(h(k,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):l;if(a.$$is_regexp){c=this.match(a);if(null===c)return m["~"]=l;m["~"]=h(k,"MatchData").$new(a,
c);if(null==b)return this.$$cast(c[0]);b=h(k,"Opal").$coerce_to(b,h(k,"Integer"),"to_int");return 0>b&&-b<c.length?this.$$cast(c[b+c.length]):0<=b&&b<c.length?this.$$cast(c[b]):l}a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");0>a&&(a+=c);if(null==b)return a>=c||0>a?l:this.$$cast(this.substr(a,1));b=h(k,"Opal").$coerce_to(b,h(k,"Integer"),"to_int");return 0>b||a>c||0>a?l:this.$$cast(this.substr(a,b))},d.$$arity=-2);c.alias(e,"byteslice","[]");c.def(e,"$b",f=function(){return this.$force_encoding("binary")},
f.$$arity=0);c.def(e,"$capitalize",ya=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},ya.$$arity=0);c.def(e,"$casecmp",ja=function(a){var b=this;if(!x(a["$respond_to?"]("to_str")))return l;a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},ja.$$arity=1);c.def(e,"$casecmp?",Z=function(a){a=this.$casecmp(a);return a===l?l:0===a},Z.$$arity=1);c.def(e,
"$center",E=function(a,b){null==b&&(b=" ");a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();x(b["$empty?"]())&&this.$raise(h(k,"ArgumentError"),"zero width padding");if(x(a<=this.length))return this;var c=this.$ljust(u(D(a,this.length),2).$ceil(),b),e=this.$rjust(u(D(a,this.length),2).$floor(),b);return this.$$cast(e+c.slice(this.length))},E.$$arity=-2);c.def(e,"$chars",ta=function(){var a=ta.$$p,b=a||l;a&&(ta.$$p=null);a&&(ta.$$p=null);
return x(b)?n(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},ta.$$arity=0);c.def(e,"$chomp",ha=function(a){null==m["/"]&&(m["/"]=l);null==a&&(a=m["/"]);if(x(a===l||0===this.length))return this;a=h(k,"Opal")["$coerce_to!"](a,h(k,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},ha.$$arity=
-1);c.def(e,"$chop",ra=function(){var a=this.length,a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},ra.$$arity=0);c.def(e,"$chr",va=function(){return this.charAt(0)},va.$$arity=0);c.def(e,"$clone",pa=function(){var a=l,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},pa.$$arity=0);c.def(e,"$dup",L=function(){var a=l,a=this.slice();a.$initialize_dup(this);return a},L.$$arity=0);c.def(e,"$count",
t=function(b){var e;e=c.slice.call(arguments,0,arguments.length);0===e.length&&this.$raise(h(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");e=a(e);return null===e?0:this.length-this.replace(new RegExp(e,"g"),"").length},t.$$arity=-1);c.def(e,"$delete",za=function(b){var e;e=c.slice.call(arguments,0,arguments.length);0===e.length&&this.$raise(h(k,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");e=a(e);return null===e?this:this.$$cast(this.replace(new RegExp(e,
"g"),""))},za.$$arity=-1);c.def(e,"$delete_prefix",ca=function(a){a.$$is_string||(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},ca.$$arity=1);c.def(e,"$delete_suffix",X=function(a){a.$$is_string||(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},X.$$arity=1);c.def(e,"$downcase",na=function(){return this.$$cast(this.toLowerCase())},
na.$$arity=0);c.def(e,"$each_char",S=function(){var a=S.$$p,b=a||l,e;a&&(S.$$p=null);a&&(S.$$p=null);if(b===l)return n(this,"enum_for",["each_char"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=0,d=this.length;a<d;a++)c.yield1(b,this.charAt(a));return this},S.$$arity=0);c.def(e,"$each_line",Y=function(a){var b=Y.$$p,e=b||l;null==m["/"]&&(m["/"]=l);b&&(Y.$$p=null);b&&(Y.$$p=null);null==a&&(a=m["/"]);if(e===l)return this.$enum_for("each_line",a);if(a===l)return c.yield1(e,
this),this;a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str");var d,f,g;if(0===a.length){a=this.split(/(\n{2,})/);b=0;for(d=a.length;b<d;b+=2)(a[b]||a[b+1])&&c.yield1(e,this.$$cast((a[b]||"")+(a[b+1]||"")));return this}b=this.$chomp(a);d=this.length!=b.length;g=b.split(a);b=0;for(f=g.length;b<f;b++)b<f-1||d?c.yield1(e,this.$$cast(g[b]+a)):c.yield1(e,this.$$cast(g[b]));return this},Y.$$arity=-1);c.def(e,"$empty?",U=function(){return 0===this.length},U.$$arity=0);c.def(e,"$end_with?",fa=function(a){var b;
b=c.slice.call(arguments,0,arguments.length);for(var e=0,d=b.length;e<d;e++){var f=h(k,"Opal").$coerce_to(b[e],h(k,"String"),"to_str").$to_s();if(this.length>=f.length&&this.substr(this.length-f.length,f.length)==f)return!0}return!1},fa.$$arity=-1);c.alias(e,"equal?","===");c.def(e,"$gsub",V=function(a,b){var e=V.$$p,d=e||l,f=this;e&&(V.$$p=null);e&&(V.$$p=null);if(void 0===b&&d===l)return f.$enum_for("gsub",a);var e="",g=l,t=0,p,T;a.$$is_regexp?a=c.global_multiline_regexp(a):(a=h(k,"Opal").$coerce_to(a,
h(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var C;;){p=a.exec(f);if(null===p){m["~"]=l;e+=f.slice(t);break}g=h(k,"MatchData").$new(a,p);void 0===b?(C=a.lastIndex,T=d(p[0]),a.lastIndex=C):b.$$is_hash?T=b["$[]"](p[0]).$to_s():(b.$$is_string||(b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str")),T=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=p.length-1;0<a;a--)if(void 0!==p[a])return b.slice(1)+p[a];return"";
case "&":return b.slice(1)+p[0];case "`":return b.slice(1)+f.slice(0,p.index);case "'":return b.slice(1)+f.slice(p.index+p[0].length);default:return b.slice(1)+(p[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===p.index?(e+=T+f.slice(t,p.index+1),a.lastIndex+=1):e+=f.slice(t,p.index)+T;t=a.lastIndex}m["~"]=g;return f.$$cast(e)},V.$$arity=-2);c.def(e,"$hash",K=function(){return this.toString()},K.$$arity=0);c.def(e,"$hex",J=function(){return this.$to_i(16)},J.$$arity=0);c.def(e,"$include?",Ka=function(a){a.$$is_string||
(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"));return-1!==this.indexOf(a)},Ka.$$arity=1);c.def(e,"$index",G=function(a,b){var e,d;if(void 0===b)b=0;else if(b=h(k,"Opal").$coerce_to(b,h(k,"Integer"),"to_int"),0>b&&(b+=this.length,0>b))return l;if(a.$$is_regexp)for(d=c.global_multiline_regexp(a);;){e=d.exec(this);if(null===e){m["~"]=l;e=-1;break}if(e.index>=b){m["~"]=h(k,"MatchData").$new(d,e);e=e.index;break}d.lastIndex=e.index+1}else a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),e=0===
a.length&&b>this.length?-1:this.indexOf(a,b);return-1===e?l:e},G.$$arity=-2);c.def(e,"$inspect",qa=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+
'"'},qa.$$arity=0);c.def(e,"$intern",la=function(){return this.toString()},la.$$arity=0);c.def(e,"$lines",Da=function(a){var b=Da.$$p,c=b||l,e=l;null==m["/"]&&(m["/"]=l);b&&(Da.$$p=null);b&&(Da.$$p=null);null==a&&(a=m["/"]);e=n(this,"each_line",[a],c.$to_proc());return x(c)?this:e.$to_a()},Da.$$arity=-1);c.def(e,"$length",aa=function(){return this.length},aa.$$arity=0);c.def(e,"$ljust",ba=function(a,b){null==b&&(b=" ");a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");b=h(k,"Opal").$coerce_to(b,
h(k,"String"),"to_str").$to_s();x(b["$empty?"]())&&this.$raise(h(k,"ArgumentError"),"zero width padding");if(x(a<=this.length))return this;var c=-1,e="";for(a-=this.length;++c<a;)e+=b;return this.$$cast(this+e.slice(0,a))},ba.$$arity=-2);c.def(e,"$lstrip",ma=function(){return this.replace(/^\s*/,"")},ma.$$arity=0);c.def(e,"$ascii_only?",sa=function(){return this.match(/[ -~\n]*/)[0]===this},sa.$$arity=0);c.def(e,"$match",da=function(a,b){var c=da.$$p,e=c||l,d;c&&(da.$$p=null);c&&(da.$$p=null);x(x(d=
h(k,"String")["$==="](a))?d:a["$respond_to?"]("to_str"))&&(a=h(k,"Regexp").$new(a.$to_str()));x(h(k,"Regexp")["$==="](a))||this.$raise(h(k,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return n(a,"match",[this,b],e.$to_proc())},da.$$arity=-2);c.def(e,"$match?",ea=function(a,b){var c;x(x(c=h(k,"String")["$==="](a))?c:a["$respond_to?"]("to_str"))&&(a=h(k,"Regexp").$new(a.$to_str()));x(h(k,"Regexp")["$==="](a))||this.$raise(h(k,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");
return a["$match?"](this,b)},ea.$$arity=-2);c.def(e,"$next",R=function(){var a=this.length;if(0===a)return this.$$cast("");for(var b=this,c=this.search(/[a-zA-Z0-9]/),e=!1,d;a--;){d=this.charCodeAt(a);if(48<=d&&57>=d||65<=d&&90>=d||97<=d&&122>=d)switch(d){case 57:e=!0;d=48;break;case 90:e=!0;d=65;break;case 122:e=!0;d=97;break;default:e=!1,d+=1}else-1===c?255===d?(e=!0,d=0):(e=!1,d+=1):e=!0;b=b.slice(0,a)+String.fromCharCode(d)+b.slice(a+1);if(e&&(0===a||a===c)){switch(d){case 65:break;case 97:break;
default:d+=1}b=0===a?String.fromCharCode(d)+b:b.slice(0,a)+String.fromCharCode(d)+b.slice(a);e=!1}if(!e)break}return this.$$cast(b)},R.$$arity=0);c.def(e,"$oct",Ea=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,e,d){switch(d.charAt(0)){case "+":case "-":return a;case "0":if("x"===d.charAt(1)&&"0x"===e)return a}switch(e){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+d});a=parseInt(a.replace(/_(?!_)/g,
""),b);return isNaN(a)?0:a},Ea.$$arity=0);c.def(e,"$ord",Aa=function(){return this.charCodeAt(0)},Aa.$$arity=0);c.def(e,"$partition",Ba=function(a){var b;a.$$is_regexp?(b=a.exec(this),null===b?b=-1:(h(k,"MatchData").$new(a,b),a=b[0],b=b.index)):(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),b=this.indexOf(a));return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},Ba.$$arity=1);c.def(e,"$reverse",wa=function(){return this.split("").reverse().join("")},wa.$$arity=
0);c.def(e,"$rindex",oa=function(a,b){var e,d,f;if(void 0===b)b=this.length;else if(b=h(k,"Opal").$coerce_to(b,h(k,"Integer"),"to_int"),0>b&&(b+=this.length,0>b))return l;if(a.$$is_regexp){e=null;for(d=c.global_multiline_regexp(a);;){f=d.exec(this);if(null===f||f.index>b)break;e=f;d.lastIndex=e.index+1}null===e?(m["~"]=l,e=-1):(h(k,"MatchData").$new(d,e),e=e.index)}else a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),e=this.lastIndexOf(a,b);return-1===e?l:e},oa.$$arity=-2);c.def(e,"$rjust",Fa=
function(a,b){null==b&&(b=" ");a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();x(b["$empty?"]())&&this.$raise(h(k,"ArgumentError"),"zero width padding");if(x(a<=this.length))return this;var c=Math.floor(a-this.length),e=Array(Math.floor(c/b.length)+1).join(b);return this.$$cast(e+b.slice(0,c-e.length)+this)},Fa.$$arity=-2);c.def(e,"$rpartition",Ua=function(a){var b,e,d;if(a.$$is_regexp){b=null;for(e=c.global_multiline_regexp(a);;){d=e.exec(this);
if(null===d)break;b=d;e.lastIndex=b.index+1}null===b?b=-1:(h(k,"MatchData").$new(e,b),a=b[0],b=b.index)}else a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),b=this.lastIndexOf(a);return-1===b?["","",this]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},Ua.$$arity=1);c.def(e,"$rstrip",Qa=function(){return this.replace(/[\s\u0000]*$/,"")},Qa.$$arity=0);c.def(e,"$scan",xa=function(a){var b=xa.$$p,e=b||l;b&&(xa.$$p=null);b&&(xa.$$p=null);var b=[],d=l,f;a.$$is_regexp?a=c.global_multiline_regexp(a):
(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(f=a.exec(this));)d=h(k,"MatchData").$new(a,f),e===l?1==f.length?b.push(f[0]):b.push(d.$captures()):1==f.length?e(f[0]):e.call(this,d.$captures()),a.lastIndex===f.index&&(a.lastIndex+=1);m["~"]=d;return e!==l?this:b},xa.$$arity=1);c.alias(e,"size","length");c.alias(e,"slice","[]");c.def(e,"$split",La=function(a,b){function e(){for(T=0;T<g.length;T++)g[T]=f.$$cast(g[T])}var d,
f=this;null==m[";"]&&(m[";"]=l);if(0===f.length)return[];if(void 0===b)b=0;else if(b=h(k,"Opal")["$coerce_to!"](b,h(k,"Integer"),"to_int"),1===b)return[f];if(void 0===a||a===l)a=x(d=m[";"])?d:" ";var g=[];d=f.toString();var t=0,p,T;a.$$is_regexp?a=c.global_multiline_regexp(a):(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,d=d.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));g=d.split(a);if(1===g.length&&g[0]===d)return[f.$$cast(g[0])];
for(;-1!==(T=g.indexOf(void 0));)g.splice(T,1);if(0===b){for(;""===g[g.length-1];)--g.length;e();return g}p=a.exec(d);if(0>b){if(null!==p&&""===p[0]&&-1===a.source.indexOf("(?="))for(T=0,d=p.length;T<d;T++)g.push("");e();return g}if(null!==p&&""===p[0])return g.splice(b-1,g.length-1,g.slice(b-1).join("")),e(),g;if(b>=g.length)return e(),g;for(T=0;null!==p;){T++;t=a.lastIndex;if(T+1===b)break;p=a.exec(d)}g.splice(b-1,g.length-1,d.slice(t));e();return g},La.$$arity=-1);c.def(e,"$squeeze",Ma=function(b){var e;
e=c.slice.call(arguments,0,arguments.length);if(0===e.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));e=a(e);return null===e?this:this.$$cast(this.replace(new RegExp("("+e+")\\1+","g"),"$1"))},Ma.$$arity=-1);c.def(e,"$start_with?",Ca=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var e=0,d=b.length;e<d;e++){var f=h(k,"Opal").$coerce_to(b[e],h(k,"String"),"to_str").$to_s();if(0===this.indexOf(f))return!0}return!1},Ca.$$arity=-1);c.def(e,"$strip",Ga=function(){return this.replace(/^\s*/,
"").replace(/[\s\u0000]*$/,"")},Ga.$$arity=0);c.def(e,"$sub",Ha=function(a,b){var c=Ha.$$p,e=c||l,d=this;c&&(Ha.$$p=null);c&&(Ha.$$p=null);a.$$is_regexp||(a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var f=a.exec(d);null===f?(m["~"]=l,c=d.toString()):(h(k,"MatchData").$new(a,f),void 0===b?(e===l&&d.$raise(h(k,"ArgumentError"),"wrong number of arguments (1 for 2)"),c=d.slice(0,f.index)+e(f[0])+d.slice(f.index+f[0].length)):b.$$is_hash?c=
d.slice(0,f.index)+b["$[]"](f[0]).$to_s()+d.slice(f.index+f[0].length):(b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=f.length-1;0<a;a--)if(void 0!==f[a])return b.slice(1)+f[a];return"";case "&":return b.slice(1)+f[0];case "`":return b.slice(1)+d.slice(0,f.index);case "'":return b.slice(1)+d.slice(f.index+f[0].length);default:return b.slice(1)+(f[c]||"")}}).replace(/\\\\/g,"\\"),c=d.slice(0,
f.index)+b+d.slice(f.index+f[0].length)));return d.$$cast(c)},Ha.$$arity=-2);c.alias(e,"succ","next");c.def(e,"$sum",Ia=function(a){null==a&&(a=16);a=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");for(var b=0,c=this.length,e=0;e<c;e++)b+=this.charCodeAt(e);return 0>=a?b:b&Math.pow(2,a)-1},Ia.$$arity=-1);c.def(e,"$swapcase",Pa=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Pa.$$arity=
0);c.def(e,"$to_f",Ra=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Ra.$$arity=0);c.def(e,"$to_i",Na=function(a){null==a&&(a=10);var b=this.toLowerCase(),c=h(k,"Opal").$coerce_to(a,h(k,"Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(h(k,"ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,e,d){switch(d.charAt(0)){case "+":case "-":return a;case "0":if("x"===
d.charAt(1)&&"0x"===e&&(0===c||16===c))return a}switch(e){case "0b":if(0===c||2===c)return c=2,b+d;break;case "0":case "0o":if(0===c||8===c)return c=8,b+d;break;case "0d":if(0===c||10===c)return c=10,b+d;break;case "0x":if(0===c||16===c)return c=16,b+d}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},Na.$$arity=-1);c.def(e,"$to_proc",Oa=function(){var a,b=l;Oa.$$p&&(Oa.$$p=null);b=D("$",this.valueOf());return n(this,"proc",[],(a=function(e){var d=a.$$s||this,f=a.$$p,g=f||l;f&&
(a.$$p=null);f=c.slice.call(arguments,0,arguments.length);0===f.length&&d.$raise(h(k,"ArgumentError"),"no receiver given");d=f[0];null==d&&(d=l);var t=d[b];if(!t)return d.$method_missing.apply(d,f);"function"===typeof g&&(t.$$p=g);return 1===f.length?t.call(d):t.apply(d,f.slice(1))},a.$$s=this,a.$$arity=-1,a))},Oa.$$arity=0);c.def(e,"$to_s",Va=function(){return this.toString()},Va.$$arity=0);c.alias(e,"to_str","to_s");c.alias(e,"to_sym","intern");c.def(e,"$tr",C=function(a,b){a=h(k,"Opal").$coerce_to(a,
h(k,"String"),"to_str").$to_s();b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();if(0==a.length||a===b)return this;var c,e,d,f,g,t={};g=a.split("");var p=g.length,T=b.split(""),C=T.length,q=!1,O=null;"^"===g[0]&&1<g.length&&(q=!0,g.shift(),O=T[C-1],--p);var v=[];d=null;e=!1;for(c=0;c<p;c++)if(f=g[c],null==d)d=f,v.push(f);else if("-"===f)"-"===d?(v.push("-"),v.push("-")):c==p-1?v.push("-"):e=!0;else if(e){d=d.charCodeAt(0);e=f.charCodeAt(0);d>e&&this.$raise(h(k,"ArgumentError"),'invalid range "'+
String.fromCharCode(d)+"-"+String.fromCharCode(e)+'" in string transliteration');for(d+=1;d<e;d++)v.push(String.fromCharCode(d));v.push(f);d=e=null}else v.push(f);g=v;p=g.length;if(q)for(c=0;c<p;c++)t[g[c]]=!0;else{if(0<C){v=[];d=null;e=!1;for(c=0;c<C;c++)if(f=T[c],null==d)d=f,v.push(f);else if("-"===f)"-"===d?(v.push("-"),v.push("-")):c==C-1?v.push("-"):e=!0;else if(e){d=d.charCodeAt(0);e=f.charCodeAt(0);d>e&&this.$raise(h(k,"ArgumentError"),'invalid range "'+String.fromCharCode(d)+"-"+String.fromCharCode(e)+
'" in string transliteration');for(d+=1;d<e;d++)v.push(String.fromCharCode(d));v.push(f);d=e=null}else v.push(f);T=v;C=T.length}f=p-C;if(0<f)for(C=0<C?T[C-1]:"",c=0;c<f;c++)T.push(C);for(c=0;c<p;c++)t[g[c]]=T[c]}p="";c=0;for(g=this.length;c<g;c++)f=this.charAt(c),T=t[f],p=q?p+(null==T?O:f):p+(null!=T?T:f);return this.$$cast(p)},C.$$arity=2);c.def(e,"$tr_s",W=function(a,b){a=h(k,"Opal").$coerce_to(a,h(k,"String"),"to_str").$to_s();b=h(k,"Opal").$coerce_to(b,h(k,"String"),"to_str").$to_s();if(0==a.length)return this;
var c,e,d,f,g,t={};g=a.split("");var p=g.length,T=b.split(""),C=T.length,q=!1,O=null;"^"===g[0]&&1<g.length&&(q=!0,g.shift(),O=T[C-1],--p);var v=[];d=null;e=!1;for(c=0;c<p;c++)if(f=g[c],null==d)d=f,v.push(f);else if("-"===f)"-"===d?(v.push("-"),v.push("-")):c==p-1?v.push("-"):e=!0;else if(e){d=d.charCodeAt(0);e=f.charCodeAt(0);d>e&&this.$raise(h(k,"ArgumentError"),'invalid range "'+String.fromCharCode(d)+"-"+String.fromCharCode(e)+'" in string transliteration');for(d+=1;d<e;d++)v.push(String.fromCharCode(d));
v.push(f);d=e=null}else v.push(f);g=v;p=g.length;if(q)for(c=0;c<p;c++)t[g[c]]=!0;else{if(0<C){v=[];e=!1;for(c=0;c<C;c++)if(f=T[c],null==d)d=f,v.push(f);else if("-"===f)c==C-1?v.push("-"):e=!0;else if(e){d=d.charCodeAt(0);e=f.charCodeAt(0);d>e&&this.$raise(h(k,"ArgumentError"),'invalid range "'+String.fromCharCode(d)+"-"+String.fromCharCode(e)+'" in string transliteration');for(d+=1;d<e;d++)v.push(String.fromCharCode(d));v.push(f);d=e=null}else v.push(f);T=v;C=T.length}f=p-C;if(0<f)for(C=0<C?T[C-1]:
"",c=0;c<f;c++)T.push(C);for(c=0;c<p;c++)t[g[c]]=T[c]}p="";T=null;c=0;for(g=this.length;c<g;c++)if(f=this.charAt(c),C=t[f],q)null==C?null==T&&(p+=O,T=!0):(p+=f,T=null);else if(null!=C){if(null==T||T!==C)p+=C,T=C}else p+=f,T=null;return this.$$cast(p)},W.$$arity=2);c.def(e,"$upcase",Ja=function(){return this.$$cast(this.toUpperCase())},Ja.$$arity=0);c.def(e,"$upto",ua=function(a,b){var c=ua.$$p,e=c||l;c&&(ua.$$p=null);c&&(ua.$$p=null);null==b&&(b=!1);if(e===l)return this.$enum_for("upto",a,b);a=h(k,
"Opal").$coerce_to(a,h(k,"String"),"to_str");var d,c=this.toString();if(1===c.length&&1===a.length)for(c=c.charCodeAt(0),d=a.charCodeAt(0);c<=d&&(!b||c!==d);)e(String.fromCharCode(c)),c+=1;else if(parseInt(c,10).toString()===c&&parseInt(a,10).toString()===a)for(c=parseInt(c,10),d=parseInt(a,10);c<=d&&(!b||c!==d);)e(c.toString()),c+=1;else for(;c.length<=a.length&&c<=a&&(!b||c!==a);)e(c),c=c.$succ();return this},ua.$$arity=-2);c.def(e,"$instance_variables",ia=function(){return[]},ia.$$arity=0);c.defs(e,
"$_load",ga=function(a){var b;b=c.slice.call(arguments,0,arguments.length);return n(this,"new",c.to_a(b))},ga.$$arity=-1);c.def(e,"$unicode_normalize",O=function(a){return this.toString()},O.$$arity=-1);c.def(e,"$unicode_normalized?",Sa=function(a){return!0},Sa.$$arity=-1);c.def(e,"$unpack",Ta=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Ta.$$arity=1);return(c.def(e,"$unpack1",T=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},
T.$$arity=1),l)&&"unpack1"})(y[0],String,y);return c.const_set(y[0],"Symbol",h(y,"String"))};Opal.modules["corelib/enumerable"]=function(c){function u(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var l=[],h=c.nil,A=c.const_get_qualified,x=c.const_get_relative,
n=c.module,m=c.truthy,w=c.send,H=c.falsy,M=c.hash2,Q=c.lambda;c.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));return function(a,e){function k(){}function q(a){0===
a.length&&(a=[h]);1<a.length&&(a=[a]);return a}var v=k=n(a,"Enumerable",k),g=[v].concat(e),B,b,F,p,N,P,z,d,f,l,ja,Z,E,ta,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa;c.def(v,"$all?",B=function(a){try{var b=B.$$p,e=b||h,d,f,k;b&&(B.$$p=null);b&&(B.$$p=null);m(void 0!==a)?w(this,"each",[],(d=function(b){var e;e=h;e=c.slice.call(arguments,0,arguments.length);e=q(e);if(m(w(a,"public_send",["==="].concat(c.to_a(e)))))return h;c.ret(!1)},d.$$s=this,d.$$arity=
-1,d)):e!==h?w(this,"each",[],(f=function(a){var b;b=c.slice.call(arguments,0,arguments.length);if(m(c.yieldX(e,c.to_a(b))))return h;c.ret(!1)},f.$$s=this,f.$$arity=-1,f)):w(this,"each",[],(k=function(a){var b;b=c.slice.call(arguments,0,arguments.length);if(m(x(g,"Opal").$destructure(b)))return h;c.ret(!1)},k.$$s=this,k.$$arity=-1,k));return!0}catch(t){if(t===c.returner)return t.$v;throw t;}},B.$$arity=-1);c.def(v,"$any?",b=function(a){try{var e=b.$$p,d=e||h,f,k,t;e&&(b.$$p=null);e&&(b.$$p=null);
m(void 0!==a)?w(this,"each",[],(f=function(b){var e;e=h;e=c.slice.call(arguments,0,arguments.length);e=q(e);if(m(w(a,"public_send",["==="].concat(c.to_a(e)))))c.ret(!0);else return h},f.$$s=this,f.$$arity=-1,f)):d!==h?w(this,"each",[],(k=function(a){var b;b=c.slice.call(arguments,0,arguments.length);if(m(c.yieldX(d,c.to_a(b))))c.ret(!0);else return h},k.$$s=this,k.$$arity=-1,k)):w(this,"each",[],(t=function(a){var b;b=c.slice.call(arguments,0,arguments.length);if(m(x(g,"Opal").$destructure(b)))c.ret(!0);
else return h},t.$$s=this,t.$$arity=-1,t));return!1}catch(p){if(p===c.returner)return p.$v;throw p;}},b.$$arity=-1);c.def(v,"$chunk",F=function(){var a=F.$$p,b=a||h,e,d;a&&(F.$$p=null);a&&(F.$$p=null);return b===h?w(this,"to_enum",["chunk"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):w(A("::","Enumerator"),"new",[],(d=function(a){function e(){0<k.length&&a.$yield(g,k)}var f=d.$$s||this;null==a&&(a=h);var g=h,k=[];f.$each.$$p=function(a){var d=c.yield1(b,a);d===
h?(e(),k=[],g=h):(g===h||g===d?k.push(a):(e(),k=[a]),g=d)};f.$each();e()},d.$$s=this,d.$$arity=1,d))},F.$$arity=0);c.def(v,"$chunk_while",p=function(){var a=p.$$p,b=a||h,e;a&&(p.$$p=null);a&&(p.$$p=null);b===h&&this.$raise(x(g,"ArgumentError"),"no block given");return w(this,"slice_when",[],(e=function(a,e){null==a&&(a=h);null==e&&(e=h);return c.yieldX(b,[a,e])["$!"]()},e.$$s=this,e.$$arity=2,e))},p.$$arity=0);c.def(v,"$collect",N=function(){var a=N.$$p,b=a||h,e;a&&(N.$$p=null);a&&(N.$$p=null);if(b===
h)return w(this,"enum_for",["collect"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var d=[];this.$each.$$p=function(){var a=c.yieldX(b,arguments);d.push(a)};this.$each();return d},N.$$arity=0);c.def(v,"$collect_concat",P=function(){var a=P.$$p,b=a||h,e,d;a&&(P.$$p=null);a&&(P.$$p=null);return b===h?w(this,"enum_for",["collect_concat"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):w(this,"map",[],(d=function(a){null==a&&(a=h);
return c.yield1(b,a)},d.$$s=this,d.$$arity=1,d)).$flatten(1)},P.$$arity=0);c.def(v,"$count",z=function(a){var b=z.$$p,e=b||h,d,f,k,t=h;b&&(z.$$p=null);b&&(z.$$p=null);t=0;null!=a&&e!==h&&this.$warn("warning: given block not used");m(null!=a)?e=w(this,"proc",[],(d=function(b){var e;e=c.slice.call(arguments,0,arguments.length);return x(g,"Opal").$destructure(e)["$=="](a)},d.$$s=this,d.$$arity=-1,d)):m(e["$nil?"]())&&(e=w(this,"proc",[],(f=function(){return!0},f.$$s=this,f.$$arity=0,f)));w(this,"each",
[],(k=function(a){var b;b=c.slice.call(arguments,0,arguments.length);return m(c.yieldX(e,b))?t++:h},k.$$s=this,k.$$arity=-1,k));return t},z.$$arity=-1);c.def(v,"$cycle",d=function(a){var b=d.$$p,e=b||h,f;b&&(d.$$p=null);b&&(d.$$p=null);null==a&&(a=h);if(e===h)return w(this,"enum_for",["cycle",a],(f=function(){var b=f.$$s||this;if(m(a["$nil?"]()))return m(b["$respond_to?"]("size"))?A(x(g,"Float"),"INFINITY"):h;a=x(g,"Opal")["$coerce_to!"](a,x(g,"Integer"),"to_int");return m(u(a,0))?(b=b.$enumerator_size(),
"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},f.$$s=this,f.$$arity=0,f));if(!m(a["$nil?"]())&&(a=x(g,"Opal")["$coerce_to!"](a,x(g,"Integer"),"to_int"),m(0>=a)))return h;var k=[],t;this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);c.yield1(e,a);k.push(a)};this.$each();if(0===k.length)return h;if(a===h)for(;;)for(b=0,t=k.length;b<t;b++)c.yield1(e,k[b]);else for(;1<a;){b=0;for(t=k.length;b<t;b++)c.yield1(e,k[b]);a--}},d.$$arity=-1);c.def(v,"$detect",f=function(a){try{var b=
f.$$p,e=b||h,d;b&&(f.$$p=null);b&&(f.$$p=null);if(e===h)return this.$enum_for("detect",a);w(this,"each",[],(d=function(a){var b;b=h;b=c.slice.call(arguments,0,arguments.length);b=x(g,"Opal").$destructure(b);if(m(c.yield1(e,b)))c.ret(b);else return h},d.$$s=this,d.$$arity=-1,d));return void 0!==a?"function"===typeof a?a():a:h}catch(k){if(k===c.returner)return k.$v;throw k;}},f.$$arity=-1);c.def(v,"$drop",l=function(a){a=x(g,"Opal").$coerce_to(a,x(g,"Integer"),"to_int");m(0>a)&&this.$raise(x(g,"ArgumentError"),
"attempt to drop negative size");var b=[],c=0;this.$each.$$p=function(){a<=c&&b.push(x(g,"Opal").$destructure(arguments));c++};this.$each();return b},l.$$arity=1);c.def(v,"$drop_while",ja=function(){var a=ja.$$p,b=a||h;a&&(ja.$$p=null);a&&(ja.$$p=null);if(b===h)return this.$enum_for("drop_while");var e=[],d=!0;this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);if(d){var f=c.yield1(b,a);H(f)&&(d=!1,e.push(a))}else e.push(a)};this.$each();return e},ja.$$arity=0);c.def(v,"$each_cons",
Z=function(a){var b=Z.$$p,e=b||h,d;b&&(Z.$$p=null);b&&(Z.$$p=null);m(1!=arguments.length)&&this.$raise(x(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=x(g,"Opal").$try_convert(a,x(g,"Integer"),"to_int");m(0>=a)&&this.$raise(x(g,"ArgumentError"),"invalid size");if(e===h)return w(this,"enum_for",["each_cons",a],(d=function(){var b,c=h,c=(d.$$s||this).$enumerator_size();return m(c["$nil?"]())?h:m(m(b=c["$=="](0))?b:"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a))?
0:D(r(c,a),1)},d.$$s=this,d.$$arity=0,d));var f=[];this.$each.$$p=function(){var b=x(g,"Opal").$destructure(arguments);f.push(b);f.length>a&&f.shift();f.length==a&&c.yield1(e,f.slice(0,a))};this.$each();return h},Z.$$arity=1);c.def(v,"$each_entry",E=function(a){var b=E.$$p,e=b||h,d;b&&(E.$$p=null);b&&(E.$$p=null);b=c.slice.call(arguments,0,arguments.length);if(e===h)return w(this,"to_enum",["each_entry"].concat(c.to_a(b)),(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=
0,d));this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);c.yield1(e,a)};this.$each.apply(this,b);return this},E.$$arity=-1);c.def(v,"$each_slice",ta=function(a){var b=ta.$$p,e=b||h,d;b&&(ta.$$p=null);b&&(ta.$$p=null);a=x(g,"Opal").$coerce_to(a,x(g,"Integer"),"to_int");m(0>=a)&&this.$raise(x(g,"ArgumentError"),"invalid slice size");if(e===h)return w(this,"enum_for",["each_slice",a],(d=function(){var b=d.$$s||this;return m(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&
"number"===typeof a?b/a:b["$/"](a)).$ceil()):h},d.$$s=this,d.$$arity=0,d));var f=[];this.$each.$$p=function(){var b=x(g,"Opal").$destructure(arguments);f.push(b);f.length===a&&(c.yield1(e,f),f=[])};this.$each();0<f.length&&c.yield1(e,f);return h},ta.$$arity=1);c.def(v,"$each_with_index",ha=function(a){var b=ha.$$p,e=b||h,d;b&&(ha.$$p=null);b&&(ha.$$p=null);b=c.slice.call(arguments,0,arguments.length);if(e===h)return w(this,"enum_for",["each_with_index"].concat(c.to_a(b)),(d=function(){return(d.$$s||
this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var f=0;this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);e(a,f);f++};this.$each.apply(this,b);return this},ha.$$arity=-1);c.def(v,"$each_with_object",ra=function(a){var b=ra.$$p,c=b||h,e;b&&(ra.$$p=null);b&&(ra.$$p=null);if(c===h)return w(this,"enum_for",["each_with_object",a],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));this.$each.$$p=function(){var b=x(g,"Opal").$destructure(arguments);c(b,
a)};this.$each();return a},ra.$$arity=1);c.def(v,"$entries",va=function(a){var b;b=c.slice.call(arguments,0,arguments.length);var e=[];this.$each.$$p=function(){e.push(x(g,"Opal").$destructure(arguments))};this.$each.apply(this,b);return e},va.$$arity=-1);c.alias(v,"find","detect");c.def(v,"$find_all",pa=function(){var a=pa.$$p,b=a||h,e;a&&(pa.$$p=null);a&&(pa.$$p=null);if(b===h)return w(this,"enum_for",["find_all"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));
var d=[];this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments),e=c.yield1(b,a);m(e)&&d.push(a)};this.$each();return d},pa.$$arity=0);c.def(v,"$find_index",L=function(a){try{var b=L.$$p,e=b||h,d,f,k=h;b&&(L.$$p=null);b&&(L.$$p=null);if(m(void 0===a&&e===h))return this.$enum_for("find_index");null!=a&&e!==h&&this.$warn("warning: given block not used");k=0;m(null!=a)?w(this,"each",[],(d=function(b){var e;e=c.slice.call(arguments,0,arguments.length);x(g,"Opal").$destructure(e)["$=="](a)&&
c.ret(k);return k+=1},d.$$s=this,d.$$arity=-1,d)):w(this,"each",[],(f=function(a){var b;b=c.slice.call(arguments,0,arguments.length);m(c.yieldX(e,c.to_a(b)))&&c.ret(k);return k+=1},f.$$s=this,f.$$arity=-1,f));return h}catch(t){if(t===c.returner)return t.$v;throw t;}},L.$$arity=-1);c.def(v,"$first",t=function(a){try{var b,e,d=h,f=h;if(m(void 0===a))return w(this,"each",[],(b=function(a){null==a&&(a=h);c.ret(a)},b.$$s=this,b.$$arity=1,b));d=[];a=x(g,"Opal").$coerce_to(a,x(g,"Integer"),"to_int");m(0>
a)&&this.$raise(x(g,"ArgumentError"),"attempt to take negative size");if(m(0==a))return[];f=0;w(this,"each",[],(e=function(b){var e;e=c.slice.call(arguments,0,arguments.length);d.push(x(g,"Opal").$destructure(e));if(m(a<=++f))c.ret(d);else return h},e.$$s=this,e.$$arity=-1,e));return d}catch(k){if(k===c.returner)return k.$v;throw k;}},t.$$arity=-1);c.alias(v,"flat_map","collect_concat");c.def(v,"$grep",za=function(a){var b=za.$$p,e=b||h,d,f=h;b&&(za.$$p=null);b&&(za.$$p=null);f=[];w(this,"each",[],
(d=function(b){var d,g=h;d=c.slice.call(arguments,0,arguments.length);g=q(d);if(!m(w(a,"__send__",["==="].concat(c.to_a(g)))))return h;e!==h?(m(u(d.$length(),1))&&(d=[d]),d=c.yieldX(e,c.to_a(d))):m(y(d.$length(),1))&&(d=d["$[]"](0));return f.$push(d)},d.$$s=this,d.$$arity=-1,d));return f},za.$$arity=1);c.def(v,"$grep_v",ca=function(a){var b=ca.$$p,e=b||h,d,f=h;b&&(ca.$$p=null);b&&(ca.$$p=null);f=[];w(this,"each",[],(d=function(b){var d,g=h;d=c.slice.call(arguments,0,arguments.length);g=q(d);if(m(w(a,
"__send__",["==="].concat(c.to_a(g)))))return h;e!==h?(m(u(d.$length(),1))&&(d=[d]),d=c.yieldX(e,c.to_a(d))):m(y(d.$length(),1))&&(d=d["$[]"](0));return f.$push(d)},d.$$s=this,d.$$arity=-1,d));return f},ca.$$arity=1);c.def(v,"$group_by",X=function(){var a=X.$$p,b=a||h,e,d,f=h,k=h;a&&(X.$$p=null);a&&(X.$$p=null);if(b===h)return w(this,"enum_for",["group_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));f=M([],{});this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments),
e=c.yield1(b,a);(m(d=f["$[]"](e))?d:(k=[e,[]],w(f,"[]=",c.to_a(k)),k[r(k.length,1)]))["$<<"](a)};this.$each();return f},X.$$arity=0);c.def(v,"$include?",na=function(a){try{var b;w(this,"each",[],(b=function(b){var e;e=c.slice.call(arguments,0,arguments.length);if(x(g,"Opal").$destructure(e)["$=="](a))c.ret(!0);else return h},b.$$s=this,b.$$arity=-1,b));return!1}catch(e){if(e===c.returner)return e.$v;throw e;}},na.$$arity=1);c.def(v,"$inject",S=function(a,b){var e=S.$$p,d=e||h;e&&(S.$$p=null);e&&(S.$$p=
null);var f=a;d!==h&&void 0===b?this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);void 0!==f&&(a=c.yieldX(d,[f,a]));f=a}:(void 0===b&&(x(g,"Symbol")["$==="](a)||this.$raise(x(g,"TypeError"),""+a.$inspect()+" is not a Symbol"),b=a,f=void 0),this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);f=void 0===f?a:f.$__send__(b,a)});this.$each();return void 0==f?h:f},S.$$arity=-1);c.def(v,"$lazy",Y=function(){var a;return w(A(x(g,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],
(a=function(a,b){var e;null==a&&(a=h);e=c.slice.call(arguments,1,arguments.length);return w(a,"yield",c.to_a(e))},a.$$s=this,a.$$arity=-2,a))},Y.$$arity=0);c.def(v,"$enumerator_size",U=function(){return m(this["$respond_to?"]("size"))?this.$size():h},U.$$arity=0);c.alias(v,"map","collect");c.def(v,"$max",fa=function(a){var b=fa.$$p,e=b||h,d=this;b&&(fa.$$p=null);b&&(fa.$$p=null);if(void 0===a||a===h){var f,k;d.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);void 0===f?f=a:(k=e!==h?
c.yieldX(e,[a,f]):a["$<=>"](f),k===h&&d.$raise(x(g,"ArgumentError"),"comparison failed"),0<k&&(f=a))};d.$each();return void 0===f?h:f}a=x(g,"Opal").$coerce_to(a,x(g,"Integer"),"to_int");return w(d,"sort",[],e.$to_proc()).$reverse().$first(a)},fa.$$arity=-1);c.def(v,"$max_by",V=function(){var a=V.$$p,b=a||h,e;a&&(V.$$p=null);a&&(V.$$p=null);if(!m(b))return w(this,"enum_for",["max_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var d,f;this.$each.$$p=function(){var a=
x(g,"Opal").$destructure(arguments),e=c.yield1(b,a);void 0===d?(d=a,f=e):0<e["$<=>"](f)&&(d=a,f=e)};this.$each();return void 0===d?h:d},V.$$arity=0);c.alias(v,"member?","include?");c.def(v,"$min",K=function(){var a=K.$$p,b=a||h,c=this;a&&(K.$$p=null);a&&(K.$$p=null);var e;c.$each.$$p=b!==h?function(){var a=x(g,"Opal").$destructure(arguments);if(void 0===e)e=a;else{var d=b(a,e);d===h&&c.$raise(x(g,"ArgumentError"),"comparison failed");0>d&&(e=a)}}:function(){var a=x(g,"Opal").$destructure(arguments);
void 0===e?e=a:0>x(g,"Opal").$compare(a,e)&&(e=a)};c.$each();return void 0===e?h:e},K.$$arity=0);c.def(v,"$min_by",J=function(){var a=J.$$p,b=a||h,e;a&&(J.$$p=null);a&&(J.$$p=null);if(!m(b))return w(this,"enum_for",["min_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var d,f;this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments),e=c.yield1(b,a);void 0===d?(d=a,f=e):0>e["$<=>"](f)&&(d=a,f=e)};this.$each();return void 0===d?h:d},J.$$arity=0);c.def(v,
"$minmax",Ka=function(){var a=Ka.$$p,b=a||h,c,e,d=this;a&&(Ka.$$p=null);a&&(Ka.$$p=null);var b=m(c=b)?c:w(d,"proc",[],(e=function(a,b){null==a&&(a=h);null==b&&(b=h);return a["$<=>"](b)},e.$$s=d,e.$$arity=2,e)),f=h,k=h,t=!0;d.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments);if(t)f=k=a,t=!1;else{var c=b.$call(f,a);c===h?d.$raise(x(g,"ArgumentError"),"comparison failed"):0<c&&(f=a);c=b.$call(k,a);c===h?d.$raise(x(g,"ArgumentError"),"comparison failed"):0>c&&(k=a)}};d.$each();return[f,k]},
Ka.$$arity=0);c.def(v,"$minmax_by",G=function(){var a=G.$$p;a&&(G.$$p=null);a&&(G.$$p=null);return this.$raise(x(g,"NotImplementedError"))},G.$$arity=0);c.def(v,"$none?",qa=function(a){try{var b=qa.$$p,e=b||h,d,f,k;b&&(qa.$$p=null);b&&(qa.$$p=null);m(void 0!==a)?w(this,"each",[],(d=function(b){var e;e=h;e=c.slice.call(arguments,0,arguments.length);e=q(e);if(m(w(a,"public_send",["==="].concat(c.to_a(e)))))c.ret(!1);else return h},d.$$s=this,d.$$arity=-1,d)):e!==h?w(this,"each",[],(f=function(a){var b;
b=c.slice.call(arguments,0,arguments.length);if(m(c.yieldX(e,c.to_a(b))))c.ret(!1);else return h},f.$$s=this,f.$$arity=-1,f)):w(this,"each",[],(k=function(a){var b;b=h;b=c.slice.call(arguments,0,arguments.length);b=x(g,"Opal").$destructure(b);if(m(b))c.ret(!1);else return h},k.$$s=this,k.$$arity=-1,k));return!0}catch(t){if(t===c.returner)return t.$v;throw t;}},qa.$$arity=-1);c.def(v,"$one?",la=function(a){try{var b=la.$$p,e=b||h,d,f,k,t=h;b&&(la.$$p=null);b&&(la.$$p=null);t=0;m(void 0!==a)?w(this,
"each",[],(d=function(b){var e;e=h;e=c.slice.call(arguments,0,arguments.length);e=q(e);if(m(w(a,"public_send",["==="].concat(c.to_a(e)))))if(t=D(t,1),m(u(t,1)))c.ret(!1);else return h;else return h},d.$$s=this,d.$$arity=-1,d)):e!==h?w(this,"each",[],(f=function(a){var b;b=c.slice.call(arguments,0,arguments.length);if(!m(c.yieldX(e,c.to_a(b))))return h;t=D(t,1);if(m(u(t,1)))c.ret(!1);else return h},f.$$s=this,f.$$arity=-1,f)):w(this,"each",[],(k=function(a){var b;b=c.slice.call(arguments,0,arguments.length);
if(!m(x(g,"Opal").$destructure(b)))return h;t=D(t,1);if(m(u(t,1)))c.ret(!1);else return h},k.$$s=this,k.$$arity=-1,k));return t["$=="](1)}catch(p){if(p===c.returner)return p.$v;throw p;}},la.$$arity=-1);c.def(v,"$partition",Da=function(){var a=Da.$$p,b=a||h,e;a&&(Da.$$p=null);a&&(Da.$$p=null);if(b===h)return w(this,"enum_for",["partition"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var d=[],f=[];this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments),
e=c.yield1(b,a);m(e)?d.push(a):f.push(a)};this.$each();return[d,f]},Da.$$arity=0);c.alias(v,"reduce","inject");c.def(v,"$reject",aa=function(){var a=aa.$$p,b=a||h,e;a&&(aa.$$p=null);a&&(aa.$$p=null);if(b===h)return w(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var d=[];this.$each.$$p=function(){var a=x(g,"Opal").$destructure(arguments),e=c.yield1(b,a);H(e)&&d.push(a)};this.$each();return d},aa.$$arity=0);c.def(v,"$reverse_each",ba=function(){var a=
ba.$$p,b=a||h,e;a&&(ba.$$p=null);a&&(ba.$$p=null);if(b===h)return w(this,"enum_for",["reverse_each"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var d=[];this.$each.$$p=function(){d.push(arguments)};this.$each();for(a=d.length-1;0<=a;a--)c.yieldX(b,d[a]);return d},ba.$$arity=0);c.alias(v,"select","find_all");c.def(v,"$slice_before",ma=function(a){var b=ma.$$p,e=b||h,d;b&&(ma.$$p=null);b&&(ma.$$p=null);m(void 0===a&&e===h)&&this.$raise(x(g,"ArgumentError"),"both pattern and block are given");
m(void 0!==a&&e!==h||1<arguments.length)&&this.$raise(x(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return w(x(g,"Enumerator"),"new",[],(d=function(b){var f=d.$$s||this;null==b&&(b=h);var k=[];f.$each.$$p=e!==h?void 0===a?function(){var a=x(g,"Opal").$destructure(arguments),d=c.yield1(e,a);m(d)&&0<k.length&&(b["$<<"](k),k=[]);k.push(a)}:function(){var c=x(g,"Opal").$destructure(arguments),d=e(c,a.$dup());m(d)&&0<k.length&&(b["$<<"](k),k=[]);k.push(c)}:function(){var c=
x(g,"Opal").$destructure(arguments),e=a["$==="](c);m(e)&&0<k.length&&(b["$<<"](k),k=[]);k.push(c)};f.$each();if(0<k.length)b["$<<"](k)},d.$$s=this,d.$$arity=1,d))},ma.$$arity=-1);c.def(v,"$slice_after",sa=function(a){var b=sa.$$p,e=b||h,d,f;b&&(sa.$$p=null);b&&(sa.$$p=null);m(void 0===a&&e===h)&&this.$raise(x(g,"ArgumentError"),"both pattern and block are given");m(void 0!==a&&e!==h||1<arguments.length)&&this.$raise(x(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");
m(void 0!==a)&&(e=w(this,"proc",[],(d=function(b){null==b&&(b=h);return a["$==="](b)},d.$$s=this,d.$$arity=1,d)));return w(x(g,"Enumerator"),"new",[],(f=function(a){var b=f.$$s||this;null==a&&(a=h);var d;b.$each.$$p=function(){var b=x(g,"Opal").$destructure(arguments),f=c.yield1(e,b);null==d&&(d=[]);m(f)?(d.push(b),a.$yield(d),d=null):d.push(b)};b.$each();null!=d&&a.$yield(d)},f.$$s=this,f.$$arity=1,f))},sa.$$arity=-1);c.def(v,"$slice_when",da=function(){var a=da.$$p,b=a||h,e;a&&(da.$$p=null);a&&
(da.$$p=null);b===h&&this.$raise(x(g,"ArgumentError"),"wrong number of arguments (0 for 1)");return w(x(g,"Enumerator"),"new",[],(e=function(a){var d=e.$$s||this;null==a&&(a=h);var f=h,k=h;d.$each_cons.$$p=function(){var e=x(g,"Opal").$destructure(arguments),d=e[0],e=e[1],t=c.yieldX(b,[d,e]);k=e;f===h&&(f=[]);m(t)?(f.push(d),a.$yield(f),f=[]):f.push(d)};d.$each_cons(2);f!==h&&(f.push(k),a.$yield(f))},e.$$s=this,e.$$arity=1,e))},da.$$arity=0);c.def(v,"$sort",ea=function(){var a=ea.$$p,b=a||h,c,e=h;
a&&(ea.$$p=null);a&&(ea.$$p=null);e=this.$to_a();b===h&&(b=Q((c=function(a,b){null==a&&(a=h);null==b&&(b=h);return a["$<=>"](b)},c.$$s=this,c.$$arity=2,c)));return w(e,"sort",[],b.$to_proc())},ea.$$arity=0);c.def(v,"$sort_by",R=function(){var a=R.$$p,b=a||h,e,d,f,k,t=h;a&&(R.$$p=null);a&&(R.$$p=null);if(b===h)return w(this,"enum_for",["sort_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));t=w(this,"map",[],(d=function(){var a=h,a=x(g,"Opal").$destructure(arguments);
return[c.yield1(b,a),a]},d.$$s=this,d.$$arity=0,d));w(t,"sort!",[],(f=function(a,b){null==a&&(a=h);null==b&&(b=h);return a[0]["$<=>"](b[0])},f.$$s=this,f.$$arity=2,f));return w(t,"map!",[],(k=function(a){null==a&&(a=h);return a[1]},k.$$s=this,k.$$arity=1,k))},R.$$arity=0);c.def(v,"$sum",Ea=function(a){var b,e=Ea.$$p,d=e||h,f=h;e&&(Ea.$$p=null);null==a&&(a=0);f=a;w(this,"each",[],(b=function(a){var b;b=h;b=c.slice.call(arguments,0,arguments.length);b=d!==h?c.yieldX(d,c.to_a(b)):x(g,"Opal").$destructure(b);
return f=D(f,b)},b.$$s=this,b.$$arity=-1,b));return f},Ea.$$arity=-1);c.def(v,"$take",Aa=function(a){return this.$first(a)},Aa.$$arity=1);c.def(v,"$take_while",Ba=function(){try{var a=Ba.$$p,b=a||h,e,d=h;a&&(Ba.$$p=null);a&&(Ba.$$p=null);if(!m(b))return this.$enum_for("take_while");d=[];return w(this,"each",[],(e=function(a){var e;e=h;e=c.slice.call(arguments,0,arguments.length);e=x(g,"Opal").$destructure(e);m(c.yield1(b,e))||c.ret(d);return d.push(e)},e.$$s=this,e.$$arity=-1,e))}catch(f){if(f===
c.returner)return f.$v;throw f;}},Ba.$$arity=0);c.def(v,"$uniq",wa=function(){var a=wa.$$p,b=a||h,e,d=h;a&&(wa.$$p=null);a&&(wa.$$p=null);d=M([],{});w(this,"each",[],(e=function(a){var e,f=e=h;e=h;e=c.slice.call(arguments,0,arguments.length);e=x(g,"Opal").$destructure(e);f=b!==h?c.yield1(b,e):e;if(m(d["$key?"](f)))return h;e=[f,e];w(d,"[]=",c.to_a(e));return e[r(e.length,1)]},e.$$s=this,e.$$arity=-1,e));return d.$values()},wa.$$arity=0);c.alias(v,"to_a","entries");c.def(v,"$zip",oa=function(a){var b=
oa.$$p;b&&(oa.$$p=null);b&&(oa.$$p=null);b=c.slice.call(arguments,0,arguments.length);return w(this.$to_a(),"zip",c.to_a(b))},oa.$$arity=-1)}(l[0],l)};Opal.modules["corelib/enumerator"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c+h:c["$+"](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c<h:c["$<"](h)}var r=c.top,y=[],l=c.nil,h=c.const_get_relative,A=c.breaker,x=c.slice,n=c.klass,m=c.truthy,w=c.send,H=c.falsy;c.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
r.$require("corelib/enumerable");return function(r,$super,a){function e(){}r=e=n(r,$super,"Enumerator",e);var k=r.prototype,q=[r].concat(a),v,g,B,b,F,p;k.size=k.args=k.object=k.method=l;r.$include(h(q,"Enumerable"));k.$$is_enumerator=!0;c.defs(r,"$for",v=function(a,b,e){var d=v.$$p,f=d||l,g;d&&(v.$$p=null);d&&(v.$$p=null);d=c.slice.call(arguments,1,arguments.length);0<d.length&&(g=d[0],d.splice(0,1));null==g&&(g="each");var k=this.$allocate();k.object=a;k.size=f;k.method=g;k.args=d;return k},v.$$arity=
-2);c.def(r,"$initialize",g=function(a){var b=g.$$p,e=b||l;b&&(g.$$p=null);b&&(g.$$p=null);c.slice.call(arguments,0,arguments.length);if(m(e))return this.object=w(h(q,"Generator"),"new",[],e.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||l,m(this.size)?this.size=h(q,"Opal").$coerce_to(this.size,h(q,"Integer"),"to_int"):l;this.object=arguments[0];this.method=arguments[1]||"each";this.args=x.call(arguments,2);return this.size=l},g.$$arity=-1);c.def(r,"$each",B=function(a){var b=
B.$$p,e=b||l,d;b&&(B.$$p=null);b&&(B.$$p=null);b=c.slice.call(arguments,0,arguments.length);if(m(m(d=e["$nil?"]())?b["$empty?"]():d))return this;b=u(this.args,b);return m(e["$nil?"]())?w(this.$class(),"new",[this.object,this.method].concat(c.to_a(b))):w(this.object,"__send__",[this.method].concat(c.to_a(b)),e.$to_proc())},B.$$arity=-1);c.def(r,"$size",b=function(){return m(h(q,"Proc")["$==="](this.size))?w(this.size,"call",c.to_a(this.args)):this.size},b.$$arity=0);c.def(r,"$with_index",F=function(a){var b=
F.$$p,c=b||l,e;b&&(F.$$p=null);b&&(F.$$p=null);null==a&&(a=0);a=m(a)?h(q,"Opal").$coerce_to(a,h(q,"Integer"),"to_int"):0;if(!m(c))return w(this,"enum_for",["with_index",a],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));var f=a;this.$each.$$p=function(){var a=h(q,"Opal").$destructure(arguments),a=c(a,f);f++;return a};return this.$each()},F.$$arity=-1);c.alias(r,"with_object","each_with_object");c.def(r,"$inspect",p=function(){var a=l,a="#<"+this.$class()+": "+this.object.$inspect()+
":"+this.method;m(this.args["$any?"]())&&(a=u(a,"("+this.args.$inspect()["$[]"](h(q,"Range").$new(1,-2))+")"));return u(a,">")},p.$$arity=0);(function(a,$super,b){function e(){}a=e=n(a,$super,"Generator",e);var f=a.prototype,g=[a].concat(b),k,p;f.block=l;a.$include(h(g,"Enumerable"));c.def(a,"$initialize",k=function(){var a=k.$$p,b=a||l;a&&(k.$$p=null);a&&(k.$$p=null);m(b)||this.$raise(h(g,"LocalJumpError"),"no block given");return this.block=b},k.$$arity=0);return(c.def(a,"$each",p=function(a){var b=
p.$$p,e=b||l,d=l;b&&(p.$$p=null);b&&(p.$$p=null);b=c.slice.call(arguments,0,arguments.length);d=w(h(g,"Yielder"),"new",[],e.$to_proc());try{b.unshift(d),c.yieldX(this.block,b)}catch(f){if(f===A)return A.$v;throw f;}return this},p.$$arity=-1),l)&&"each"})(q[0],null,q);(function(a,$super,b){function e(){}a=e=n(a,$super,"Yielder",e);var f=a.prototype;[a].concat(b);var g,k,p;f.block=l;c.def(a,"$initialize",g=function(){var a=g.$$p,b=a||l;a&&(g.$$p=null);a&&(g.$$p=null);return this.block=b},g.$$arity=
0);c.def(a,"$yield",k=function(a){var b;b=c.slice.call(arguments,0,arguments.length);b=c.yieldX(this.block,b);if(b===A)throw A;return b},k.$$arity=-1);return(c.def(a,"$<<",p=function(a){var b;b=c.slice.call(arguments,0,arguments.length);w(this,"yield",c.to_a(b));return this},p.$$arity=-1),l)&&"<<"})(q[0],null,q);return function(a,$super,b){function e(){}a=e=n(a,$super,"Lazy",e);var f=a.prototype,g=[a].concat(b),k,p,q,v,F,B,r,x,L,t,y,ca,X;f.enumerator=l;(function(a,$super,b){function c(){}[c=n(a,$super,
"StopLazyError",c)].concat(b);return l})(g[0],h(g,"Exception"),g);c.def(a,"$initialize",k=function(a,b){var e=k.$$p,d=e||l,f;e&&(k.$$p=null);e&&(k.$$p=null);null==b&&(b=l);d===l&&this.$raise(h(g,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return w(this,c.find_super_dispatcher(this,"initialize",k,!1),[b],(f=function(b,e){var k=f.$$s||this,t,p;null==b&&(b=l);t=c.slice.call(arguments,1,arguments.length);try{return w(a,"each",c.to_a(t),(p=function(a){var e;e=c.slice.call(arguments,
0,arguments.length);e.unshift(b);c.yieldX(d,e)},p.$$s=k,p.$$arity=-1,p))}catch(q){if(c.rescue(q,[h(g,"Exception")]))try{return l}finally{c.pop_exception()}else throw q;}},f.$$s=this,f.$$arity=-2,f))},k.$$arity=-2);c.alias(a,"force","to_a");c.def(a,"$lazy",p=function(){return this},p.$$arity=0);c.def(a,"$collect",q=function(){var a=q.$$p,b=a||l,e;a&&(q.$$p=null);a&&(q.$$p=null);m(b)||this.$raise(h(g,"ArgumentError"),"tried to call lazy map without a block");return w(h(g,"Lazy"),"new",[this,this.$enumerator_size()],
(e=function(a,e){var d;null==a&&(a=l);d=c.slice.call(arguments,1,arguments.length);d=c.yieldX(b,d);a.$yield(d)},e.$$s=this,e.$$arity=-2,e))},q.$$arity=0);c.def(a,"$collect_concat",v=function(){var a=v.$$p,b=a||l,e;a&&(v.$$p=null);a&&(v.$$p=null);m(b)||this.$raise(h(g,"ArgumentError"),"tried to call lazy map without a block");return w(h(g,"Lazy"),"new",[this,l],(e=function(a,d){var f=e.$$s||this,k,t,p;null==a&&(a=l);k=c.slice.call(arguments,1,arguments.length);k=c.yieldX(b,k);k["$respond_to?"]("force")&&
k["$respond_to?"]("each")?w(k,"each",[],(t=function(b){null==b&&(b=l);return a.$yield(b)},t.$$s=f,t.$$arity=1,t)):h(g,"Opal").$try_convert(k,h(g,"Array"),"to_ary")===l?a.$yield(k):w(k,"each",[],(p=function(b){null==b&&(b=l);return a.$yield(b)},p.$$s=f,p.$$arity=1,p))},e.$$s=this,e.$$arity=-2,e))},v.$$arity=0);c.def(a,"$drop",F=function(a){var b,e=l,d=e=l;a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");m(D(a,0))&&this.$raise(h(g,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();
e=m(h(g,"Integer")["$==="](e))?m(D(a,e))?a:e:e;d=0;return w(h(g,"Lazy"),"new",[this,e],(b=function(b,e){var f;null==b&&(b=l);f=c.slice.call(arguments,1,arguments.length);return m(D(d,a))?d=u(d,1):w(b,"yield",c.to_a(f))},b.$$s=this,b.$$arity=-2,b))},F.$$arity=1);c.def(a,"$drop_while",B=function(){var a=B.$$p,b=a||l,e,d=l;a&&(B.$$p=null);a&&(B.$$p=null);m(b)||this.$raise(h(g,"ArgumentError"),"tried to call lazy drop_while without a block");d=!0;return w(h(g,"Lazy"),"new",[this,l],(e=function(a,e){var f;
null==a&&(a=l);f=c.slice.call(arguments,1,arguments.length);if(m(d)){var g=c.yieldX(b,f);H(g)&&(d=!1,w(a,"yield",c.to_a(f)))}else return w(a,"yield",c.to_a(f))},e.$$s=this,e.$$arity=-2,e))},B.$$arity=0);c.def(a,"$enum_for",r=function(a,b){var e=r.$$p,d=e||l,f;e&&(r.$$p=null);e&&(r.$$p=null);e=c.slice.call(arguments,0,arguments.length);0<e.length&&(f=e[0],e.splice(0,1));null==f&&(f="each");return w(this.$class(),"for",[this,f].concat(c.to_a(e)),d.$to_proc())},r.$$arity=-1);c.def(a,"$find_all",x=function(){var a=
x.$$p,b=a||l,e;a&&(x.$$p=null);a&&(x.$$p=null);m(b)||this.$raise(h(g,"ArgumentError"),"tried to call lazy select without a block");return w(h(g,"Lazy"),"new",[this,l],(e=function(a,e){var d;null==a&&(a=l);d=c.slice.call(arguments,1,arguments.length);var f=c.yieldX(b,d);m(f)&&w(a,"yield",c.to_a(d))},e.$$s=this,e.$$arity=-2,e))},x.$$arity=0);c.alias(a,"flat_map","collect_concat");c.def(a,"$grep",L=function(a){var b=L.$$p,e=b||l,d,f;b&&(L.$$p=null);b&&(L.$$p=null);return m(e)?w(h(g,"Lazy"),"new",[this,
l],(d=function(b,d){var f;null==b&&(b=l);f=c.slice.call(arguments,1,arguments.length);f=h(g,"Opal").$destructure(f);var k=a["$==="](f);m(k)&&(c.yield1(e,f),b.$yield(c.yield1(e,f)))},d.$$s=this,d.$$arity=-2,d)):w(h(g,"Lazy"),"new",[this,l],(f=function(b,e){var d;null==b&&(b=l);d=c.slice.call(arguments,1,arguments.length);d=h(g,"Opal").$destructure(d);var f=a["$==="](d);m(f)&&b.$yield(d)},f.$$s=this,f.$$arity=-2,f))},L.$$arity=1);c.alias(a,"map","collect");c.alias(a,"select","find_all");c.def(a,"$reject",
t=function(){var a=t.$$p,b=a||l,e;a&&(t.$$p=null);a&&(t.$$p=null);m(b)||this.$raise(h(g,"ArgumentError"),"tried to call lazy reject without a block");return w(h(g,"Lazy"),"new",[this,l],(e=function(a,e){var d;null==a&&(a=l);d=c.slice.call(arguments,1,arguments.length);var f=c.yieldX(b,d);H(f)&&w(a,"yield",c.to_a(d))},e.$$s=this,e.$$arity=-2,e))},t.$$arity=0);c.def(a,"$take",y=function(a){var b,e=l,d=e=l;a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");m(D(a,0))&&this.$raise(h(g,"ArgumentError"),
"attempt to take negative size");e=this.$enumerator_size();e=m(h(g,"Integer")["$==="](e))?m(D(a,e))?a:e:e;d=0;return w(h(g,"Lazy"),"new",[this,e],(b=function(e,f){var k=b.$$s||this,t;null==e&&(e=l);t=c.slice.call(arguments,1,arguments.length);return m(D(d,a))?(w(e,"yield",c.to_a(t)),d=u(d,1)):k.$raise(h(g,"StopLazyError"))},b.$$s=this,b.$$arity=-2,b))},y.$$arity=1);c.def(a,"$take_while",ca=function(){var a=ca.$$p,b=a||l,e;a&&(ca.$$p=null);a&&(ca.$$p=null);m(b)||this.$raise(h(g,"ArgumentError"),"tried to call lazy take_while without a block");
return w(h(g,"Lazy"),"new",[this,l],(e=function(a,d){var f=e.$$s||this,k;null==a&&(a=l);k=c.slice.call(arguments,1,arguments.length);var t=c.yieldX(b,k);m(t)?w(a,"yield",c.to_a(k)):f.$raise(h(g,"StopLazyError"))},e.$$s=this,e.$$arity=-2,e))},ca.$$arity=0);c.alias(a,"to_enum","enum_for");return(c.def(a,"$inspect",X=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},X.$$arity=0),l)&&"inspect"}(q[0],r,q)}(y[0],null,y)};Opal.modules["corelib/numeric"]=function(c){function u(c,h){return"number"===
typeof c&&"number"===typeof h?c-h:c["$-"](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c*h:c["$*"](h)}function r(c,h){return"number"===typeof c&&"number"===typeof h?c<h:c["$<"](h)}function y(c,h){return"number"===typeof c&&"number"===typeof h?c/h:c["$/"](h)}var l=c.top,h=[],A=c.nil,x=c.const_get_qualified,n=c.const_get_relative,m=c.klass,w=c.truthy,H=c.hash2;c.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
l.$require("corelib/comparable");return function(h,$super,a){function e(){}h=e=m(h,$super,"Numeric",e);var k=[h].concat(a),q,v,g,B,b,F,p,N,P,z,d,f,l,ja,Z,E,ta,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa;h.$include(n(k,"Comparable"));c.def(h,"$coerce",q=function(a){return w(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},q.$$arity=1);c.def(h,"$__coerced__",v=function(a,b){var e,d,f=A;d=e=A;if(w(b["$respond_to?"]("coerce")))return d=b.$coerce(this),e=c.to_ary(d),
f=null==e[0]?A:e[0],e=null==e[1]?A:e[1],d,f.$__send__(a,e);d=a;return"+"["$==="](d)||"-"["$==="](d)||"*"["$==="](d)||"/"["$==="](d)||"%"["$==="](d)||"&"["$==="](d)||"|"["$==="](d)||"^"["$==="](d)||"**"["$==="](d)?this.$raise(n(k,"TypeError"),""+b.$class()+" can't be coerced into Numeric"):">"["$==="](d)||">="["$==="](d)||"<"["$==="](d)||"<="["$==="](d)||"<=>"["$==="](d)?this.$raise(n(k,"ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed"):A},v.$$arity=2);c.def(h,"$<=>",g=
function(a){return w(this["$equal?"](a))?0:A},g.$$arity=1);c.def(h,"$+@",B=function(){return this},B.$$arity=0);c.def(h,"$-@",b=function(){return u(0,this)},b.$$arity=0);c.def(h,"$%",F=function(a){return u(this,D(a,this.$div(a)))},F.$$arity=1);c.def(h,"$abs",p=function(){return r(this,0)?this["$-@"]():this},p.$$arity=0);c.def(h,"$abs2",N=function(){return D(this,this)},N.$$arity=0);c.def(h,"$angle",P=function(){return r(this,0)?x(n(k,"Math"),"PI"):0},P.$$arity=0);c.alias(h,"arg","angle");c.def(h,
"$ceil",z=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},z.$$arity=-1);c.def(h,"$conj",d=function(){return this},d.$$arity=0);c.alias(h,"conjugate","conj");c.def(h,"$denominator",f=function(){return this.$to_r().$denominator()},f.$$arity=0);c.def(h,"$div",l=function(a){a["$=="](0)&&this.$raise(n(k,"ZeroDivisionError"),"divided by o");return y(this,a).$floor()},l.$$arity=1);c.def(h,"$divmod",ja=function(a){return[this.$div(a),this["$%"](a)]},ja.$$arity=1);c.def(h,"$fdiv",Z=function(a){return y(this.$to_f(),
a)},Z.$$arity=1);c.def(h,"$floor",E=function(a){null==a&&(a=0);return this.$to_f().$floor(a)},E.$$arity=-1);c.def(h,"$i",ta=function(){return this.$Complex(0,this)},ta.$$arity=0);c.def(h,"$imag",ha=function(){return 0},ha.$$arity=0);c.alias(h,"imaginary","imag");c.def(h,"$integer?",ra=function(){return!1},ra.$$arity=0);c.alias(h,"magnitude","abs");c.alias(h,"modulo","%");c.def(h,"$nonzero?",va=function(){return w(this["$zero?"]())?A:this},va.$$arity=0);c.def(h,"$numerator",pa=function(){return this.$to_r().$numerator()},
pa.$$arity=0);c.alias(h,"phase","arg");c.def(h,"$polar",L=function(){return[this.$abs(),this.$arg()]},L.$$arity=0);c.def(h,"$quo",t=function(a){return y(n(k,"Opal")["$coerce_to!"](this,n(k,"Rational"),"to_r"),a)},t.$$arity=1);c.def(h,"$real",za=function(){return this},za.$$arity=0);c.def(h,"$real?",ca=function(){return!0},ca.$$arity=0);c.def(h,"$rect",X=function(){return[this,0]},X.$$arity=0);c.alias(h,"rectangular","rect");c.def(h,"$round",na=function(a){return this.$to_f().$round(a)},na.$$arity=
-1);c.def(h,"$to_c",S=function(){return this.$Complex(this,0)},S.$$arity=0);c.def(h,"$to_int",Y=function(){return this.$to_i()},Y.$$arity=0);c.def(h,"$truncate",U=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},U.$$arity=-1);c.def(h,"$zero?",fa=function(){return this["$=="](0)},fa.$$arity=0);c.def(h,"$positive?",V=function(){return"number"===typeof this?0<this:this["$>"](0)},V.$$arity=0);c.def(h,"$negative?",K=function(){return r(this,0)},K.$$arity=0);c.def(h,"$dup",J=function(){return this},
J.$$arity=0);c.def(h,"$clone",Ka=function(a){if(null==a)H([],{});else if(!a.$$is_hash)throw c.ArgumentError.$new("expected kwargs");return this},Ka.$$arity=-1);c.def(h,"$finite?",G=function(){return!0},G.$$arity=0);return(c.def(h,"$infinite?",qa=function(){return A},qa.$$arity=0),A)&&"infinite?"}(h[0],null,h)};Opal.modules["corelib/array"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c>h:c["$>"](h)}var D=c.top,r=[],y=c.nil,l=c.const_get_qualified,h=c.const_get_relative,
A=c.klass,x=c.truthy,n=c.hash2,m=c.send,w=c.gvars;c.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
D.$require("corelib/enumerable");D.$require("corelib/numeric");return function(r,$super,D){function a(){}function e(a,b){return b.$$name===c.Array?a:b.$allocate().$replace(a.$to_a())}function k(a,b){var d=a.length,f,g,k;f=b.excl;g=c.Opal.$coerce_to(b.begin,c.Integer,"to_int");k=c.Opal.$coerce_to(b.end,c.Integer,"to_int");if(0>g&&(g+=d,0>g)||g>d)return y;if(0>k&&(k+=d,0>k))return[];f||(k+=1);d=a.slice(g,k);return e(d,a.$class())}function q(a,b,d){var f=a.length;b=c.Opal.$coerce_to(b,c.Integer,"to_int");
if(0>b&&(b+=f,0>b))return y;if(void 0===d)return b>=f||0>b?y:a[b];d=c.Opal.$coerce_to(d,c.Integer,"to_int");if(0>d||b>f||0>b)return y;b=a.slice(b,b+d);return e(b,a.$class())}function v(a,b){return a===b||0===b?1:0<b&&a>b?v(a-1,b-1)+v(a-1,b):0}var g=a=A(r,$super,"Array",a),B=[g].concat(D),b,F,p,N,P,z,d,f,ya,ja,Z,E,ta,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Ua,Qa,xa,La,Ma,Ca,Ga,Ha,Ia,Pa,Ra,Na,Oa,Va,C,W,Ja,ua,ia,ga,O,Sa,Ta,T,ka,jb,kb,I,ib,Ya,Za,ab,
lb,bb,mb,nb,ob,cb,db,gb,fb,Xa,eb,Wa,hb;g.$include(h(B,"Enumerable"));c.defineProperty(Array.prototype,"$$is_array",!0);c.defs(g,"$[]",b=function(a){var b;b=c.slice.call(arguments,0,arguments.length);return e(b,this)},b.$$arity=-1);c.def(g,"$initialize",F=function(a,b){var c=F.$$p,e=c||y;c&&(F.$$p=null);c&&(F.$$p=null);null==a&&(a=y);null==b&&(b=y);b!==y&&e!==y&&this.$warn("warning: block supersedes default value argument");a>l(h(B,"Integer"),"MAX")&&this.$raise(h(B,"ArgumentError"),"array size too big");
2<arguments.length&&this.$raise(h(B,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");0>a&&this.$raise(h(B,"ArgumentError"),"negative array size");this.splice(0,this.length);var d;if(e===y)for(c=0;c<a;c++)this.push(b);
else for(c=0,d;c<a;c++)d=e(c),this[c]=d;return this},F.$$arity=-1);c.defs(g,"$try_convert",p=function(a){return h(B,"Opal")["$coerce_to?"](a,h(B,"Array"),"to_ary")},p.$$arity=1);c.def(g,"$&",N=function(a){a=x(h(B,"Array")["$==="](a))?a.$to_a():h(B,"Opal").$coerce_to(a,h(B,"Array"),"to_ary").$to_a();var b=[],e=n([],{}),d,f;d=0;for(f=a.length;d<f;d++)c.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],void 0!==c.hash_delete(e,a)&&b.push(a);return b},N.$$arity=1);c.def(g,"$|",P=function(a){a=
x(h(B,"Array")["$==="](a))?a.$to_a():h(B,"Opal").$coerce_to(a,h(B,"Array"),"to_ary").$to_a();var b=n([],{}),e,d;e=0;for(d=this.length;e<d;e++)c.hash_put(b,this[e],!0);e=0;for(d=a.length;e<d;e++)c.hash_put(b,a[e],!0);return b.$keys()},P.$$arity=1);c.def(g,"$*",z=function(a){if(x(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");x(0>a)&&this.$raise(h(B,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),d=0;d<a;d++)b=b.concat(c);
return e(b,this.$class())},z.$$arity=1);c.def(g,"$+",d=function(a){a=x(h(B,"Array")["$==="](a))?a.$to_a():h(B,"Opal").$coerce_to(a,h(B,"Array"),"to_ary").$to_a();return this.concat(a)},d.$$arity=1);c.def(g,"$-",f=function(a){a=x(h(B,"Array")["$==="](a))?a.$to_a():h(B,"Opal").$coerce_to(a,h(B,"Array"),"to_ary").$to_a();if(x(0===this.length))return[];if(x(0===a.length))return this.slice();var b=[],e=n([],{}),d,f;d=0;for(f=a.length;d<f;d++)c.hash_put(e,a[d],!0);d=0;for(f=this.length;d<f;d++)a=this[d],
void 0===c.hash_get(e,a)&&b.push(a);return b},f.$$arity=1);c.def(g,"$<<",ya=function(a){this.push(a);return this},ya.$$arity=1);c.def(g,"$<=>",ja=function(a){if(x(h(B,"Array")["$==="](a)))a=a.$to_a();else if(x(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return y;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var e=this[c]["$<=>"](a[c]);if(0!==e)return e}return this.length["$<=>"](a.length)},ja.$$arity=1);c.def(g,"$==",Z=function(a){function b(a,
e){var d,f,g,k;if(a===e)return!0;if(!e.$$is_array)return h(B,"Opal")["$respond_to?"](e,"to_ary")?e["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());e.constructor!==Array&&(e=e.$to_a());if(a.length!==e.length)return!1;c[a.$object_id()]=!0;d=0;for(f=a.length;d<f;d++)if(g=a[d],k=e[d],g.$$is_array){if(k.$$is_array&&k.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,k))return!1}else if(!g["$=="](k))return!1;return!0}var c={};return b(this,a)},Z.$$arity=1);c.def(g,"$[]",E=function(a,b){return a.$$is_range?
k(this,a):q(this,a,b)},E.$$arity=-2);c.def(g,"$[]=",ta=function(a,b,c){var e=y,d=y,f;f=this.length;if(x(h(B,"Range")["$==="](a))){var e=x(h(B,"Array")["$==="](b))?b.$to_a():x(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b],g=a.excl;c=h(B,"Opal").$coerce_to(a.begin,h(B,"Integer"),"to_int");d=h(B,"Opal").$coerce_to(a.end,h(B,"Integer"),"to_int");0>c&&(c+=f,0>c&&this.$raise(h(B,"RangeError"),""+a.$inspect()+" out of range"));0>d&&(d+=f);g||(d+=1);if(c>f)for(;f<c;f++)this[f]=y;0>d?this.splice.apply(this,
[c,0].concat(e)):this.splice.apply(this,[c,d-c].concat(e))}else{x(void 0===c)?d=1:(d=b,b=c,e=x(h(B,"Array")["$==="](b))?b.$to_a():x(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");d=h(B,"Opal").$coerce_to(d,h(B,"Integer"),"to_int");0>a&&(g=a,a+=f,0>a&&this.$raise(h(B,"IndexError"),"index "+g+" too small for array; minimum "+-this.length));0>d&&this.$raise(h(B,"IndexError"),"negative length ("+d+")");if(a>f)for(;f<a;f++)this[f]=y;void 0===c?
this[a]=b:this.splice.apply(this,[a,d].concat(e))}return b},ta.$$arity=-3);c.def(g,"$any?",ha=function(a){var b=ha.$$p,e=y,d=y,f=y;b&&(ha.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];b&&(ha.$$p=null);return 0===this.length?!1:m(this,c.find_super_dispatcher(this,"any?",ha,!1),e,b)},ha.$$arity=-1);c.def(g,"$assoc",ra=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&e[0]["$=="](a))return e;return y},ra.$$arity=1);c.def(g,"$at",va=function(a){a=h(B,"Opal").$coerce_to(a,
h(B,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?y:this[a]},va.$$arity=1);c.def(g,"$bsearch_index",pa=function(){var a=pa.$$p,b=a||y;a&&(pa.$$p=null);a&&(pa.$$p=null);if(b===y)return this.$enum_for("bsearch_index");for(var a=0,e=this.length,d,f,g=!1,k=y;a<e;){d=a+Math.floor((e-a)/2);f=this[d];f=c.yield1(b,f);if(!0===f)k=d,g=!0;else if(!1===f||f===y)g=!1;else if(f.$$is_number){if(0===f)return d;g=0>f}else this.$raise(h(B,"TypeError"),"wrong argument type "+f.$class()+" (must be numeric, true, false or nil)");
g?e=d:a=d+1}return k},pa.$$arity=0);c.def(g,"$bsearch",L=function(){var a=L.$$p,b=a||y,c=y;a&&(L.$$p=null);a&&(L.$$p=null);if(b===y)return this.$enum_for("bsearch");c=m(this,"bsearch_index",[],b.$to_proc());return null!=c&&c.$$is_number?this[c]:c},L.$$arity=0);c.def(g,"$cycle",t=function(a){var b=t.$$p,e=b||y,d,f;b&&(t.$$p=null);b&&(t.$$p=null);null==a&&(a=y);if(e===y)return m(this,"enum_for",["cycle",a],(d=function(){var b=d.$$s||this;if(x(a["$nil?"]()))return l(h(B,"Float"),"INFINITY");a=h(B,"Opal")["$coerce_to!"](a,
h(B,"Integer"),"to_int");return x(u(a,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)):0},d.$$s=this,d.$$arity=0,d));if(x(x(f=this["$empty?"]())?f:a["$=="](0)))return y;if(a===y)for(;;)for(b=0,f=this.length;b<f;b++)c.yield1(e,this[b]);else{a=h(B,"Opal")["$coerce_to!"](a,h(B,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){b=0;for(f=this.length;b<f;b++)c.yield1(e,this[b]);a--}}return this},t.$$arity=-1);c.def(g,"$clear",za=function(){this.splice(0,this.length);
return this},za.$$arity=0);c.def(g,"$count",ca=function(a){var b=ca.$$p,e=b||y,d,f=y,g=y,k=y;b&&(ca.$$p=null);g=0;k=arguments.length;for(f=Array(k);g<k;g++)f[g]=arguments[g];b&&(ca.$$p=null);null==a&&(a=y);return x(x(d=a)?d:e)?m(this,c.find_super_dispatcher(this,"count",ca,!1),f,b):this.$size()},ca.$$arity=-1);c.def(g,"$initialize_copy",X=function(a){return this.$replace(a)},X.$$arity=1);c.def(g,"$collect",na=function(){var a=na.$$p,b=a||y,e;a&&(na.$$p=null);a&&(na.$$p=null);if(b===y)return m(this,
"enum_for",["collect"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=[],d=0,f=this.length;d<f;d++){var g=c.yield1(b,this[d]);a.push(g)}return a},na.$$arity=0);c.def(g,"$collect!",S=function(){var a=S.$$p,b=a||y,e;a&&(S.$$p=null);a&&(S.$$p=null);if(b===y)return m(this,"enum_for",["collect!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=0,d=this.length;a<d;a++){var f=c.yield1(b,this[a]);this[a]=f}return this},S.$$arity=0);c.def(g,
"$combination",Y=function(a){var b,e=Y.$$p,d=e||y,f=y;e&&(Y.$$p=null);f=h(B,"Opal")["$coerce_to!"](a,h(B,"Integer"),"to_int");if(d===y)return m(this,"enum_for",["combination",f],(b=function(){return v((b.$$s||this).length,f)},b.$$s=this,b.$$arity=0,b));var g,k;if(0===f)c.yield1(d,[]);else if(1===f)for(e=0,a=this.length;e<a;e++)c.yield1(d,[this[e]]);else if(f===this.length)c.yield1(d,this.slice());else if(0<=f&&f<this.length){a=[];for(e=0;e<=f+1;e++)a.push(0);e=[];g=0;k=!1;for(a[0]=-1;!k;){for(e[g]=
this[a[g+1]];g<f-1;)g++,k=a[g+1]=a[g]+1,e[g]=this[k];c.yield1(d,e.slice());g++;do k=0===g,a[g]++,g--;while(a[g+1]+f===this.length+g+1)}}return this},Y.$$arity=1);c.def(g,"$repeated_combination",U=function(a){function b(a,e,d,g){if(d.length==a)a=d.slice(),c.yield1(f,a);else for(;e<g.length;e++)d.push(g[e]),b(a,e,d,g),d.pop()}var e,d=U.$$p,f=d||y,g=y;d&&(U.$$p=null);g=h(B,"Opal")["$coerce_to!"](a,h(B,"Integer"),"to_int");if(f===y)return m(this,"enum_for",["repeated_combination",g],(e=function(){return v((e.$$s||
this).length+g-1,g)},e.$$s=this,e.$$arity=0,e));0<=g&&b(g,0,[],this);return this},U.$$arity=1);c.def(g,"$compact",fa=function(){for(var a=[],b=0,c=this.length,e;b<c;b++)(e=this[b])!==y&&a.push(e);return a},fa.$$arity=0);c.def(g,"$compact!",V=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===y&&(this.splice(b,1),c--,b--);return this.length===a?y:this},V.$$arity=0);c.def(g,"$concat",K=function(a){var b,e,d;b=c.slice.call(arguments,0,arguments.length);b=m(b,"map",[],(e=function(a){var b=
e.$$s||this;null==a&&(a=y);a=x(h(B,"Array")["$==="](a))?a.$to_a():h(B,"Opal").$coerce_to(a,h(B,"Array"),"to_ary").$to_a();x(a["$equal?"](b))&&(a=a.$dup());return a},e.$$s=this,e.$$arity=1,e));m(b,"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=y);for(var c=0,e=a.length;c<e;c++)b.push(a[c])},d.$$s=this,d.$$arity=1,d));return this},K.$$arity=-1);c.def(g,"$delete",J=function(a){var b=J.$$p,e=b||y;b&&(J.$$p=null);for(var b=this.length,d=0,f=b;d<f;d++)this[d]["$=="](a)&&(this.splice(d,1),f--,d--);
return this.length===b?e!==y?c.yieldX(e,[]):y:a},J.$$arity=1);c.def(g,"$delete_at",Ka=function(a){a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return y;var b=this[a];this.splice(a,1);return b},Ka.$$arity=1);c.def(g,"$delete_if",G=function(){var a=G.$$p,b=a||y,c;a&&(G.$$p=null);a&&(G.$$p=null);if(b===y)return m(this,"enum_for",["delete_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var a=0,e=this.length,d;a<e;a++)d=
b(this[a]),!1!==d&&d!==y&&(this.splice(a,1),e--,a--);return this},G.$$arity=0);c.def(g,"$dig",qa=function(a,b){var e,d=y;e=c.slice.call(arguments,1,arguments.length);d=this["$[]"](a);if(d===y||0===e.length)return d;x(d["$respond_to?"]("dig"))||this.$raise(h(B,"TypeError"),""+d.$class()+" does not have #dig method");return m(d,"dig",c.to_a(e))},qa.$$arity=-2);c.def(g,"$drop",la=function(a){0>a&&this.$raise(h(B,"ArgumentError"));return this.slice(a)},la.$$arity=1);c.def(g,"$dup",Da=function(){var a=
Da.$$p,b=y,e=y,d=y;a&&(Da.$$p=null);e=0;d=arguments.length;for(b=Array(d);e<d;e++)b[e]=arguments[e];return this.$$class===c.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):m(this,c.find_super_dispatcher(this,"dup",Da,!1),b,a)},Da.$$arity=0);c.def(g,"$each",aa=function(){var a=aa.$$p,b=a||y,e;a&&(aa.$$p=null);a&&(aa.$$p=null);if(b===y)return m(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=
this,e.$$arity=0,e));for(var a=0,d=this.length;a<d;a++)c.yield1(b,this[a]);return this},aa.$$arity=0);c.def(g,"$each_index",ba=function(){var a=ba.$$p,b=a||y,e;a&&(ba.$$p=null);a&&(ba.$$p=null);if(b===y)return m(this,"enum_for",["each_index"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=0,d=this.length;a<d;a++)c.yield1(b,a);return this},ba.$$arity=0);c.def(g,"$empty?",ma=function(){return 0===this.length},ma.$$arity=0);c.def(g,"$eql?",sa=function(a){function b(a,
e){var d,f,g,k;if(!e.$$is_array)return!1;e=e.$to_a();if(a.length!==e.length)return!1;c[a.$object_id()]=!0;d=0;for(f=a.length;d<f;d++)if(g=a[d],k=e[d],g.$$is_array){if(k.$$is_array&&k.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,k))return!1}else if(!g["$eql?"](k))return!1;return!0}var c={};return b(this,a)},sa.$$arity=1);c.def(g,"$fetch",da=function(a,b){var c=da.$$p,e=c||y;c&&(da.$$p=null);c&&(da.$$p=null);c=a;a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");0>a&&(a+=this.length);
if(0<=a&&a<this.length)return this[a];e!==y&&null!=b&&this.$warn("warning: block supersedes default value argument");if(e!==y)return e(c);if(null!=b)return b;0===this.length?this.$raise(h(B,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(h(B,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},da.$$arity=-2);c.def(g,"$fill",ea=function(a){var b=ea.$$p,e=b||y,d,f,g,k=f=d=y;f=g=y;b&&(ea.$$p=null);b&&(ea.$$p=null);d=c.slice.call(arguments,0,arguments.length);
x(e)?(x(2<d.length)&&this.$raise(h(B,"ArgumentError"),"wrong number of arguments ("+d.$length()+" for 0..2)"),g=d,f=c.to_ary(g),d=null==f[0]?y:f[0],f=null==f[1]?y:f[1]):(x(0==d.length)?this.$raise(h(B,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):x(3<d.length)&&this.$raise(h(B,"ArgumentError"),"wrong number of arguments ("+d.$length()+" for 1..3)"),g=d,f=c.to_ary(g),k=null==f[0]?y:f[0],d=null==f[1]?y:f[1],f=null==f[2]?y:f[2]);g;if(x(h(B,"Range")["$==="](d))){if(x(f)&&this.$raise(h(B,
"TypeError"),"length invalid with range"),g=h(B,"Opal").$coerce_to(d.$begin(),h(B,"Integer"),"to_int"),x(0>g)&&(g+=this.length),x(0>g)&&this.$raise(h(B,"RangeError"),""+d.$inspect()+" out of range"),f=h(B,"Opal").$coerce_to(d.$end(),h(B,"Integer"),"to_int"),x(0>f)&&(f+=this.length),x(d["$exclude_end?"]())||(f+=1),x(f<=g))return this}else if(x(d))if(g=h(B,"Opal").$coerce_to(d,h(B,"Integer"),"to_int"),x(0>g)&&(g+=this.length),x(0>g)&&(g=0),x(f)){f=h(B,"Opal").$coerce_to(f,h(B,"Integer"),"to_int");if(x(0==
f))return this;f+=g}else f=this.length;else g=0,f=this.length;if(x(g>this.length))for(d=this.length;d<f;d++)this[d]=y;x(f>this.length)&&(this.length=f);if(x(e))for(;g<f;g++)k=e(g),this[g]=k;else for(;g<f;g++)this[g]=k;return this},ea.$$arity=-1);c.def(g,"$first",R=function(a){if(null==a)return 0===this.length?y:this[0];a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");0>a&&this.$raise(h(B,"ArgumentError"),"negative array size");return this.slice(0,a)},R.$$arity=-1);c.def(g,"$flatten",Ea=function(a){function b(a,
e){var d=[],f,g,k,t;a=a.$to_a();f=0;for(g=a.length;f<g;f++)if(k=a[f],h(B,"Opal")["$respond_to?"](k,"to_ary",!0))if(t=k.$to_ary(),t===y)d.push(k);else switch(t.$$is_array||c.$raise(h(B,"TypeError")),t===c&&c.$raise(h(B,"ArgumentError")),e){case void 0:d=d.concat(b(t));break;case 0:d.push(t);break;default:d.push.apply(d,b(t,e-1))}else d.push(k);return d}var c=this;void 0!==a&&(a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int"));return e(b(c,a),c.$class())},Ea.$$arity=-1);c.def(g,"$flatten!",Aa=function(a){a=
this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return y}this.$replace(a);return this},Aa.$$arity=-1);c.def(g,"$hash",Ba=function(){var a=void 0===c.hash_ids,b=["A"],e=this.$object_id(),d,f,g;try{a&&(c.hash_ids=Object.create(null));if(c.hash_ids[e])return"self";for(g in c.hash_ids)if(d=c.hash_ids[g],this["$eql?"](d))return"self";c.hash_ids[e]=this;for(f=0;f<this.length;f++)d=this[f],b.push(d.$hash());return b.join(",")}finally{a&&(c.hash_ids=void 0)}},
Ba.$$arity=0);c.def(g,"$include?",wa=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},wa.$$arity=1);c.def(g,"$index",oa=function(a){var b=oa.$$p,c=b||y;b&&(oa.$$p=null);b&&(oa.$$p=null);var e;null!=a&&c!==y&&this.$warn("warning: given block not used");if(null!=a)for(b=0,e=this.length;b<e;b++){if(this[b]["$=="](a))return b}else if(c!==y)for(b=0,e=this.length;b<e;b++){if(a=c(this[b]),!1!==a&&a!==y)return b}else return this.$enum_for("index");return y},oa.$$arity=
-1);c.def(g,"$insert",Fa=function(a,b){var e;e=c.slice.call(arguments,1,arguments.length);a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");if(0<e.length){0>a&&(a+=this.length+1,0>a&&this.$raise(h(B,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(var d=this.length;d<a;d++)this.push(y);this.splice.apply(this,[a,0].concat(e))}return this},Fa.$$arity=-2);c.def(g,"$inspect",Ua=function(){for(var a=[],b=this.$__id__(),c=0,e=this.length;c<e;c++){var d=this["$[]"](c);d.$__id__()===b?a.push("[...]"):
a.push(d.$inspect())}return"["+a.join(", ")+"]"},Ua.$$arity=0);c.def(g,"$join",Qa=function(a){null==w[","]&&(w[","]=y);null==a&&(a=y);if(x(0===this.length))return"";x(a===y)&&(a=w[","]);var b=[],e,d,f,g;e=0;for(d=this.length;e<d;e++){f=this[e];if(h(B,"Opal")["$respond_to?"](f,"to_str")&&(g=f.$to_str(),g!==y)){b.push(g.$to_s());continue}if(h(B,"Opal")["$respond_to?"](f,"to_ary")&&(g=f.$to_ary(),g===this&&this.$raise(h(B,"ArgumentError")),g!==y)){b.push(g.$join(a));continue}if(h(B,"Opal")["$respond_to?"](f,
"to_s")&&(g=f.$to_s(),g!==y)){b.push(g);continue}this.$raise(h(B,"NoMethodError").$new(""+c.inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===y?b.join(""):b.join(h(B,"Opal")["$coerce_to!"](a,h(B,"String"),"to_str").$to_s())},Qa.$$arity=-1);c.def(g,"$keep_if",xa=function(){var a=xa.$$p,b=a||y,c;a&&(xa.$$p=null);a&&(xa.$$p=null);if(b===y)return m(this,"enum_for",["keep_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var a=0,e=this.length,
d;a<e;a++)if(d=b(this[a]),!1===d||d===y)this.splice(a,1),e--,a--;return this},xa.$$arity=0);c.def(g,"$last",La=function(a){if(null==a)return 0===this.length?y:this[this.length-1];a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");0>a&&this.$raise(h(B,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},La.$$arity=-1);c.def(g,"$length",Ma=function(){return this.length},Ma.$$arity=0);c.alias(g,"map","collect");c.alias(g,"map!","collect!");
c.def(g,"$max",Ca=function(a){var b=Ca.$$p,c=b||y;b&&(Ca.$$p=null);b&&(Ca.$$p=null);return m(this.$each(),"max",[a],c.$to_proc())},Ca.$$arity=-1);c.def(g,"$min",Ga=function(){var a=Ga.$$p,b=a||y;a&&(Ga.$$p=null);a&&(Ga.$$p=null);return m(this.$each(),"min",[],b.$to_proc())},Ga.$$arity=0);c.def(g,"$permutation",Ha=function(a){var b=Ha.$$p,e=b||y,d,f=this,g=y,k=y;b&&(Ha.$$p=null);b&&(Ha.$$p=null);if(e===y)return m(f,"enum_for",["permutation",a],(d=function(){for(var b=d.$$s||this,c=b.length,b=void 0===
a?b.length:a,e=0<=b?1:0;b;)e*=c,c--,b--;return e},d.$$s=f,d.$$arity=0,d));var t,p;a=void 0===a?f.length:h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");if(!(0>a||f.length<a))if(0===a)c.yield1(e,[]);else if(1===a)for(g=0;g<f.length;g++)c.yield1(e,[f[g]]);else g=h(B,"Array").$new(a),k=h(B,"Array").$new(f.length,!1),t=function(a,b,e,d,g){f=this;for(var k=0;k<f.length;k++)if(d["$[]"](k)["$!"]())if(b[e]=k,e<a-1)d[k]=!0,t.call(f,a,b,e+1,d,g),d[k]=!1;else{p=[];for(var h=0;h<b.length;h++)p.push(f[b[h]]);
c.yield1(g,p)}},e!==y?(b=f.slice(),t.call(b,a,g,0,k,e)):t.call(f,a,g,0,k,e);return f},Ha.$$arity=-1);c.def(g,"$repeated_permutation",Ia=function(a){function b(a,e,d){if(e.length==a)a=e.slice(),c.yield1(f,a);else for(var g=0;g<d.length;g++)e.push(d[g]),b(a,e,d),e.pop()}var e,d=Ia.$$p,f=d||y,g=y;d&&(Ia.$$p=null);g=h(B,"Opal")["$coerce_to!"](a,h(B,"Integer"),"to_int");if(f===y)return m(this,"enum_for",["repeated_permutation",g],(e=function(){var a=e.$$s||this;return x("number"===typeof g?0<=g:g["$>="](0))?
a.$size()["$**"](g):0},e.$$s=this,e.$$arity=0,e));b(g,[],this.slice());return this},Ia.$$arity=1);c.def(g,"$pop",Pa=function(a){if(x(void 0===a))return x(0===this.length)?y:this.pop();a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");x(0>a)&&this.$raise(h(B,"ArgumentError"),"negative array size");return x(0===this.length)?[]:x(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},Pa.$$arity=-1);c.def(g,"$product",Ra=function(a){var b=Ra.$$p,e=b||y,d;b&&(Ra.$$p=null);
b&&(Ra.$$p=null);d=c.slice.call(arguments,0,arguments.length);var b=e!==y?null:[],f=d.length+1,g=Array(f),k=Array(f),t=Array(f),p,T;T=1;t[0]=this;for(p=1;p<f;p++)t[p]=h(B,"Opal").$coerce_to(d[p-1],h(B,"Array"),"to_ary");for(p=0;p<f;p++){d=t[p].length;if(0===d)return b||this;T*=d;2147483647<T&&this.$raise(h(B,"RangeError"),"too big to product");k[p]=d;g[p]=0}a:for(;;){T=[];for(p=0;p<f;p++)T.push(t[p][g[p]]);b?b.push(T):c.yield1(e,T);p=f-1;for(g[p]++;g[p]===k[p];){g[p]=0;if(0>--p)break a;g[p]++}}return b||
this},Ra.$$arity=-1);c.def(g,"$push",Na=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var e=0,d=b.length;e<d;e++)this.push(b[e]);return this},Na.$$arity=-1);c.alias(g,"append","push");c.def(g,"$rassoc",Oa=function(a){for(var b=0,c=this.length,e;b<c;b++)if(e=this[b],e.length&&void 0!==e[1]&&e[1]["$=="](a))return e;return y},Oa.$$arity=1);c.def(g,"$reject",Va=function(){var a=Va.$$p,b=a||y,c;a&&(Va.$$p=null);a&&(Va.$$p=null);if(b===y)return m(this,"enum_for",["reject"],(c=function(){return(c.$$s||
this).$size()},c.$$s=this,c.$$arity=0,c));for(var a=[],e=0,d=this.length,f;e<d;e++)f=b(this[e]),!1!==f&&f!==y||a.push(this[e]);return a},Va.$$arity=0);c.def(g,"$reject!",C=function(){var a=C.$$p,b=a||y,c,e=y;a&&(C.$$p=null);a&&(C.$$p=null);if(b===y)return m(this,"enum_for",["reject!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));e=this.$length();m(this,"delete_if",[],b.$to_proc());return this.$length()["$=="](e)?y:this},C.$$arity=0);c.def(g,"$replace",W=function(a){a=x(h(B,
"Array")["$==="](a))?a.$to_a():h(B,"Opal").$coerce_to(a,h(B,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},W.$$arity=1);c.def(g,"$reverse",Ja=function(){return this.slice(0).reverse()},Ja.$$arity=0);c.def(g,"$reverse!",ua=function(){return this.reverse()},ua.$$arity=0);c.def(g,"$reverse_each",ia=function(){var a=ia.$$p,b=a||y,c;a&&(ia.$$p=null);a&&(ia.$$p=null);if(b===y)return m(this,"enum_for",["reverse_each"],(c=function(){return(c.$$s||this).$size()},
c.$$s=this,c.$$arity=0,c));m(this.$reverse(),"each",[],b.$to_proc());return this},ia.$$arity=0);c.def(g,"$rindex",ga=function(a){var b=ga.$$p,c=b||y;b&&(ga.$$p=null);b&&(ga.$$p=null);null!=a&&c!==y&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==y)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==y)return b}else if(null==a)return this.$enum_for("rindex");return y},ga.$$arity=
-1);c.def(g,"$rotate",O=function(a){null==a&&(a=1);a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");var b,c;if(1===this.length)return this.slice();if(0===this.length)return[];b=this.slice();c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},O.$$arity=-1);c.def(g,"$rotate!",Sa=function(a){var b=y;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");b=this.$rotate(a);return this.$replace(b)},Sa.$$arity=-1);(function(a,$super,
b){function e(){}a=e=A(a,$super,"SampleRandom",e);var d=a.prototype,f=[a].concat(b),g,k;d.rng=y;c.def(a,"$initialize",g=function(a){return this.rng=a},g.$$arity=1);return(c.def(a,"$rand",k=function(a){var b=y,b=h(f,"Opal").$coerce_to(this.rng.$rand(a),h(f,"Integer"),"to_int");x(0>b)&&this.$raise(h(f,"RangeError"),"random value must be >= 0");x(b<a)||this.$raise(h(f,"RangeError"),"random value must be less than Array size");return b},k.$$arity=1),y)&&"rand"})(B[0],null,B);c.def(g,"$sample",Ta=function(a,
b){var c,e=y,d=y;if(x(void 0===a))return this.$at(h(B,"Kernel").$rand(this.length));x(void 0===b)?x(e=h(B,"Opal")["$coerce_to?"](a,h(B,"Hash"),"to_hash"))?(b=e,a=y):(b=y,a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int")):(a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int"),b=h(B,"Opal").$coerce_to(b,h(B,"Hash"),"to_hash"));x(x(c=a)?0>a:c)&&this.$raise(h(B,"ArgumentError"),"count must be greater than 0");x(b)&&(d=b["$[]"]("random"));d=x(x(c=d)?d["$respond_to?"]("rand"):c)?h(B,"SampleRandom").$new(d):
h(B,"Kernel");if(!x(a))return this[d.$rand(this.length)];var f,g,k,t;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[d.$rand(this.length)]];case 2:return g=d.$rand(this.length),k=d.$rand(this.length),g===k&&(k=0===g?g+1:g-1),[this[g],this[k]];default:if(3<this.length/a){e=!1;f=0;c=h(B,"Array").$new(a);g=1;for(c[0]=d.$rand(this.length);g<a;){t=d.$rand(this.length);for(k=0;k<g;){for(;t===c[k];){f++;if(100<f){e=!0;break}t=d.$rand(this.length)}if(e)break;k++}if(e)break;c[g]=
t;g++}if(!e){for(g=0;g<a;)c[g]=this[c[g]],g++;return c}}c=this.slice();for(g=0;g<a;g++)e=d.$rand(this.length),f=c[g],c[g]=c[e],c[e]=f;return a===this.length?c:c["$[]"](0,a)}},Ta.$$arity=-1);c.def(g,"$select",T=function(){var a=T.$$p,b=a||y,e;a&&(T.$$p=null);a&&(T.$$p=null);if(b===y)return m(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=[],d=0,f=this.length,g,k;d<f;d++)g=this[d],k=c.yield1(b,g),c.truthy(k)&&a.push(g);return a},T.$$arity=
0);c.def(g,"$select!",ka=function(){var a=ka.$$p,b=a||y,c;a&&(ka.$$p=null);a&&(ka.$$p=null);if(b===y)return m(this,"enum_for",["select!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a=this.length;m(this,"keep_if",[],b.$to_proc());return this.length===a?y:this},ka.$$arity=0);c.def(g,"$shift",jb=function(a){if(x(void 0===a))return x(0===this.length)?y:this.shift();a=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");x(0>a)&&this.$raise(h(B,"ArgumentError"),"negative array size");
return x(0===this.length)?[]:this.splice(0,a)},jb.$$arity=-1);c.alias(g,"size","length");c.def(g,"$shuffle",kb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},kb.$$arity=-1);c.def(g,"$shuffle!",I=function(a){var b,c=this.length,e;void 0!==a&&(a=h(B,"Opal")["$coerce_to?"](a,h(B,"Hash"),"to_hash"),a!==y&&(a=a["$[]"]("random"),a!==y&&a["$respond_to?"]("rand")&&(b=a)));for(;c;)b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(h(B,"RangeError"),"random number too small "+a),a>=c&&this.$raise(h(B,"RangeError"),
"random number too big "+a)):a=this.$rand(c),e=this[--c],this[c]=this[a],this[a]=e;return this},I.$$arity=-1);c.alias(g,"slice","[]");c.def(g,"$slice!",ib=function(a,b){var c=y,e=y,d=y,f=y,e=y;if(x(void 0===b))if(x(h(B,"Range")["$==="](a))){e=a;c=this["$[]"](e);d=h(B,"Opal").$coerce_to(e.$begin(),h(B,"Integer"),"to_int");f=h(B,"Opal").$coerce_to(e.$end(),h(B,"Integer"),"to_int");0>d&&(d+=this.length);0>f?f+=this.length:f>=this.length&&(f=this.length-1,e.excl&&(f+=1));var g=f-d;e.excl?--f:g+=1;d<this.length&&
0<=d&&f<this.length&&0<=f&&0<g&&this.splice(d,g)}else{e=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");0>e&&(e+=this.length);if(0>e||e>=this.length)return y;c=this[e];0===e?this.shift():this.splice(e,1)}else{e=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");b=h(B,"Opal").$coerce_to(b,h(B,"Integer"),"to_int");if(0>b)return y;c=this["$[]"](e,b);0>e&&(e+=this.length);e+b>this.length&&(b=this.length-e);e<this.length&&0<=e&&this.splice(e,b)}return c},ib.$$arity=-2);c.def(g,"$sort",Ya=function(){var a=
Ya.$$p,b=a||y,c=this;a&&(Ya.$$p=null);a&&(Ya.$$p=null);if(!x(1<c.length))return c;b===y&&(b=function(a,b){return a["$<=>"](b)});return c.slice().sort(function(a,e){var d=b(a,e);d===y&&c.$raise(h(B,"ArgumentError"),"comparison of "+a.$inspect()+" with "+e.$inspect()+" failed");return u(d,0)?1:("number"===typeof d?0>d:d["$<"](0))?-1:0})},Ya.$$arity=0);c.def(g,"$sort!",Za=function(){var a=Za.$$p,b=a||y;a&&(Za.$$p=null);a&&(Za.$$p=null);for(var a=b!==y?m(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort(),
b=this.length=0,c=a.length;b<c;b++)this.push(a[b]);return this},Za.$$arity=0);c.def(g,"$sort_by!",ab=function(){var a=ab.$$p,b=a||y,c;a&&(ab.$$p=null);a&&(ab.$$p=null);return b===y?m(this,"enum_for",["sort_by!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c)):this.$replace(m(this,"sort_by",[],b.$to_proc()))},ab.$$arity=0);c.def(g,"$take",lb=function(a){0>a&&this.$raise(h(B,"ArgumentError"));return this.slice(0,a)},lb.$$arity=1);c.def(g,"$take_while",bb=function(){var a=bb.$$p,
b=a||y;a&&(bb.$$p=null);a&&(bb.$$p=null);for(var a=[],c=0,e=this.length,d,f;c<e;c++){d=this[c];f=b(d);if(!1===f||f===y)break;a.push(d)}return a},bb.$$arity=0);c.def(g,"$to_a",mb=function(){return this},mb.$$arity=0);c.alias(g,"to_ary","to_a");c.def(g,"$to_h",nb=function(){var a,b=this.length,e,d,f=n([],{});for(a=0;a<b;a++)e=h(B,"Opal")["$coerce_to?"](this[a],h(B,"Array"),"to_ary"),e.$$is_array||this.$raise(h(B,"TypeError"),"wrong element type "+e.$class()+" at "+a+" (expected array)"),2!==e.length&&
this.$raise(h(B,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+e.$length()+")"),d=e[0],e=e[1],c.hash_put(f,d,e);return f},nb.$$arity=0);c.alias(g,"to_s","inspect");c.def(g,"$transpose",ob=function(){var a,b=y,e=y;if(x(this["$empty?"]()))return[];b=[];e=y;m(this,"each",[],(a=function(d){var f=a.$$s||this,g,k;null==d&&(d=y);d=x(h(B,"Array")["$==="](d))?d.$to_a():h(B,"Opal").$coerce_to(d,h(B,"Array"),"to_ary").$to_a();e=x(g=e)?g:d.length;x(d.length["$!="](e))&&f.$raise(h(B,"IndexError"),
"element size differs ("+d.length+" should be "+e+")");return m(d.length,"times",[],(k=function(a){var e,f=y;null==a&&(a=y);x(e=b["$[]"](a))||(f=[a,[]],m(b,"[]=",c.to_a(f)),e=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1),e=e[f]);return e["$<<"](d.$at(a))},k.$$s=f,k.$$arity=1,k))},a.$$s=this,a.$$arity=1,a));return b},ob.$$arity=0);c.def(g,"$uniq",cb=function(){var a=cb.$$p,b=a||y;a&&(cb.$$p=null);a&&(cb.$$p=null);var a=n([],{}),d,f,g,k;if(b===y)for(d=0,f=this.length;d<f;d++)g=this[d],void 0===
c.hash_get(a,g)&&c.hash_put(a,g,g);else for(d=0,f=this.length;d<f;d++)g=this[d],k=c.yield1(b,g),void 0===c.hash_get(a,k)&&c.hash_put(a,k,g);return e(a.$values(),this.$class())},cb.$$arity=0);c.def(g,"$uniq!",db=function(){var a=db.$$p,b=a||y;a&&(db.$$p=null);a&&(db.$$p=null);var a=this.length,e=n([],{}),d,f,g,k;d=0;for(f=a;d<f;d++)g=this[d],k=b===y?g:c.yield1(b,g),void 0===c.hash_get(e,k)?c.hash_put(e,k,g):(this.splice(d,1),f--,d--);return this.length===a?y:this},db.$$arity=0);c.def(g,"$unshift",
gb=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var e=b.length-1;0<=e;e--)this.unshift(b[e]);return this},gb.$$arity=-1);c.alias(g,"prepend","unshift");c.def(g,"$values_at",fb=function(a){var b,e,d=y;b=c.slice.call(arguments,0,arguments.length);d=[];m(b,"each",[],(e=function(a){var b=e.$$s||this,c,f=y,g=y,f=y;null==a&&(a=y);if(x(a["$is_a?"](h(B,"Range")))){f=h(B,"Opal").$coerce_to(a.$last(),h(B,"Integer"),"to_int");g=h(B,"Opal").$coerce_to(a.$first(),h(B,"Integer"),"to_int");
if(0>g)return g+=b.length,y;0>f&&(f+=b.length);a["$exclude_end?"]()&&f--;return f<g?y:m(g,"upto",[f],(c=function(a){var b=c.$$s||this;null==a&&(a=y);return d["$<<"](b.$at(a))},c.$$s=b,c.$$arity=1,c))}f=h(B,"Opal").$coerce_to(a,h(B,"Integer"),"to_int");return d["$<<"](b.$at(f))},e.$$s=this,e.$$arity=1,e));return d},fb.$$arity=-1);c.def(g,"$zip",Xa=function(a){var b=Xa.$$p,e=b||y,d;b&&(Xa.$$p=null);b&&(Xa.$$p=null);var b=c.slice.call(arguments,0,arguments.length),f=[],g=this.length,k,t,p,T;p=0;for(T=
b.length;p<T;p++)k=b[p],k.$$is_array||(k.$$is_enumerator?Infinity===k.$size()?b[p]=k.$take(g):b[p]=k.$to_a():b[p]=(x(d=h(B,"Opal")["$coerce_to?"](k,h(B,"Array"),"to_ary"))?d:h(B,"Opal")["$coerce_to!"](k,h(B,"Enumerator"),"each")).$to_a());for(t=0;t<g;t++){d=[this[t]];p=0;for(T=b.length;p<T;p++)k=b[p][t],null==k&&(k=y),d[p+1]=k;f[t]=d}if(e!==y){for(t=0;t<g;t++)e(f[t]);return y}return f},Xa.$$arity=-1);c.defs(g,"$inherited",eb=function(a){a.prototype.$to_a=function(){return this.slice(0,this.length)}},
eb.$$arity=1);c.def(g,"$instance_variables",Wa=function(){var a,b=Wa.$$p,e=y,d=y,f=y;b&&(Wa.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return m(m(this,c.find_super_dispatcher(this,"instance_variables",Wa,!1),e,b),"reject",[],(a=function(a){var b;null==a&&(a=y);return x(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},Wa.$$arity=0);h(B,"Opal").$pristine(g.$singleton_class(),"allocate");h(B,"Opal").$pristine(g,"copy_instance_variables","initialize_dup");
return(c.def(g,"$pack",hb=function(a){c.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},hb.$$arity=-1),y)&&"pack"}(r[0],Array,r)};Opal.modules["corelib/hash"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c>=h:c["$>="](h)}var D=c.top,r=[],y=c.nil,l=c.const_get_relative,h=c.klass,A=c.send,x=c.hash2,n=c.truthy;c.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));
D.$require("corelib/enumerable");return function(m,$super,r){function M(){}m=M=h(m,$super,"Hash",M);var D=m.prototype,a=[m].concat(r),e,k,q,v,g,B,b,F,p,N,P,z,d,f,ya,ja,Z,E,ta,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Ua,Qa,xa,La,Ma,Ca,Ga,Ha;m.$include(l(a,"Enumerable"));D.$$is_hash=!0;c.defs(m,"$[]",e=function(b){var e;e=c.slice.call(arguments,0,arguments.length);var d,f=e.length,g;if(1===f){d=l(a,"Opal")["$coerce_to?"](e["$[]"](0),l(a,"Hash"),"to_hash");
if(d!==y)return this.$allocate()["$merge!"](d);e=l(a,"Opal")["$coerce_to?"](e["$[]"](0),l(a,"Array"),"to_ary");e===y&&this.$raise(l(a,"ArgumentError"),"odd number of arguments for Hash");f=e.length;d=this.$allocate();for(g=0;g<f;g++)if(e[g].$$is_array)switch(e[g].length){case 1:d.$store(e[g][0],y);break;case 2:d.$store(e[g][0],e[g][1]);break;default:this.$raise(l(a,"ArgumentError"),"invalid number of elements ("+e[g].length+" for 1..2)")}return d}0!==f%2&&this.$raise(l(a,"ArgumentError"),"odd number of arguments for Hash");
d=this.$allocate();for(g=0;g<f;g+=2)d.$store(e[g],e[g+1]);return d},e.$$arity=-1);c.defs(m,"$allocate",k=function(){var a=new this;c.hash_init(a);a.$$none=y;a.$$proc=y;return a},k.$$arity=0);c.defs(m,"$try_convert",q=function(b){return l(a,"Opal")["$coerce_to?"](b,l(a,"Hash"),"to_hash")},q.$$arity=1);c.def(m,"$initialize",v=function(b){var c=v.$$p,e=c||y;c&&(v.$$p=null);c&&(v.$$p=null);void 0!==b&&e!==y&&this.$raise(l(a,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===
b?y:b;this.$$proc=e;return this},v.$$arity=-1);c.def(m,"$==",g=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var b=0,e=this.$$keys,d=e.length,f,g;b<d;b++)if(f=e[b],f.$$is_string?(g=this.$$smap[f],f=a.$$smap[f]):(g=f.value,f=c.hash_get(a,f.key)),void 0===f||!g["$eql?"](f))return!1;return!0},g.$$arity=1);c.def(m,"$>=",B=function(b){var c,e=y;b=l(a,"Opal")["$coerce_to!"](b,l(a,"Hash"),"to_hash");if(this.$$keys.length<b.$$keys.length)return!1;e=!0;
A(b,"each",[],(c=function(a,b){var d=c.$$s||this,f=y;null==a&&(a=y);null==b&&(b=y);f=d.$fetch(a,null);if(null==f||f!==b)e=!1},c.$$s=this,c.$$arity=2,c));return e},B.$$arity=1);c.def(m,"$>",b=function(b){b=l(a,"Opal")["$coerce_to!"](b,l(a,"Hash"),"to_hash");return this.$$keys.length<=b.$$keys.length?!1:u(this,b)},b.$$arity=1);c.def(m,"$<",F=function(b){b=l(a,"Opal")["$coerce_to!"](b,l(a,"Hash"),"to_hash");return"number"===typeof b&&"number"===typeof this?b>this:b["$>"](this)},F.$$arity=1);c.def(m,
"$<=",p=function(b){b=l(a,"Opal")["$coerce_to!"](b,l(a,"Hash"),"to_hash");return u(b,this)},p.$$arity=1);c.def(m,"$[]",N=function(a){var b=c.hash_get(this,a);return void 0!==b?b:this.$default(a)},N.$$arity=1);c.def(m,"$[]=",P=function(a,b){c.hash_put(this,a,b);return b},P.$$arity=2);c.def(m,"$assoc",z=function(a){for(var b=0,c=this.$$keys,e=c.length,d;b<e;b++)if(d=c[b],d.$$is_string){if(d["$=="](a))return[d,this.$$smap[d]]}else if(d.key["$=="](a))return[d.key,d.value];return y},z.$$arity=1);c.def(m,
"$clear",d=function(){c.hash_init(this);return this},d.$$arity=0);c.def(m,"$clone",f=function(){var a=new this.$$class;c.hash_init(a);c.hash_clone(this,a);return a},f.$$arity=0);c.def(m,"$compact",ya=function(){for(var a=c.hash(),b=0,e=this.$$keys,d=e.length,f,g;b<d;b++)f=e[b],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),g!==y&&c.hash_put(a,f,g);return a},ya.$$arity=0);c.def(m,"$compact!",ja=function(){for(var a=!1,b=0,e=this.$$keys,d=e.length,f,g;b<d;b++)f=e[b],f.$$is_string?g=this.$$smap[f]:
(g=f.value,f=f.key),g===y&&void 0!==c.hash_delete(this,f)&&(a=!0,d--,b--);return a?this:y},ja.$$arity=0);c.def(m,"$compare_by_identity",Z=function(){var a,b,e,d=this.$$keys,f;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;f=x([],{}).$compare_by_identity();a=0;for(b=d.length;a<b;a++)e=d[a],e.$$is_string||(e=e.key),c.hash_put(f,e,c.hash_get(this,e));this.$$by_identity=!0;this.$$map=f.$$map;this.$$smap=f.$$smap;return this},Z.$$arity=0);c.def(m,"$compare_by_identity?",
E=function(){return!0===this.$$by_identity},E.$$arity=0);c.def(m,"$default",ta=function(a){return void 0!==a&&this.$$proc!==y&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?y:this.$$none},ta.$$arity=-1);c.def(m,"$default=",ha=function(a){this.$$proc=y;return this.$$none=a},ha.$$arity=1);c.def(m,"$default_proc",ra=function(){return void 0!==this.$$proc?this.$$proc:y},ra.$$arity=0);c.def(m,"$default_proc=",va=function(b){var c=b;c!==y&&(c=l(a,"Opal")["$coerce_to!"](c,l(a,"Proc"),
"to_proc"),c["$lambda?"]()&&2!==c.$arity().$abs()&&this.$raise(l(a,"TypeError"),"default_proc takes two arguments"));this.$$none=y;this.$$proc=c;return b},va.$$arity=1);c.def(m,"$delete",pa=function(a){var b=pa.$$p,e=b||y;b&&(pa.$$p=null);b&&(pa.$$p=null);b=c.hash_delete(this,a);return void 0!==b?b:e!==y?c.yield1(e,a):y},pa.$$arity=1);c.def(m,"$delete_if",L=function(){var a=L.$$p,b=a||y,e;a&&(L.$$p=null);a&&(L.$$p=null);if(!n(b))return A(this,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},
e.$$s=this,e.$$arity=0,e));for(var a=0,d=this.$$keys,f=d.length,g,k;a<f;a++)g=d[a],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),k=b(g,k),!1!==k&&k!==y&&void 0!==c.hash_delete(this,g)&&(f--,a--);return this},L.$$arity=0);c.alias(m,"dup","clone");c.def(m,"$dig",t=function(b,e){var d,f=y;d=c.slice.call(arguments,1,arguments.length);f=this["$[]"](b);if(f===y||0===d.length)return f;n(f["$respond_to?"]("dig"))||this.$raise(l(a,"TypeError"),""+f.$class()+" does not have #dig method");return A(f,"dig",
c.to_a(d))},t.$$arity=-2);c.def(m,"$each",za=function(){var a=za.$$p,b=a||y,e;a&&(za.$$p=null);a&&(za.$$p=null);if(!n(b))return A(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=0,d=this.$$keys,f=d.length,g,k;a<f;a++)g=d[a],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),c.yield1(b,[g,k]);return this},za.$$arity=0);c.def(m,"$each_key",ca=function(){var a=ca.$$p,b=a||y,c;a&&(ca.$$p=null);a&&(ca.$$p=null);if(!n(b))return A(this,"enum_for",
["each_key"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var a=0,e=this.$$keys,d=e.length,f;a<d;a++)f=e[a],b(f.$$is_string?f:f.key);return this},ca.$$arity=0);c.alias(m,"each_pair","each");c.def(m,"$each_value",X=function(){var a=X.$$p,b=a||y,c;a&&(X.$$p=null);a&&(X.$$p=null);if(!n(b))return A(this,"enum_for",["each_value"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var a=0,e=this.$$keys,d=e.length,f;a<d;a++)f=e[a],b(f.$$is_string?this.$$smap[f]:
f.value);return this},X.$$arity=0);c.def(m,"$empty?",na=function(){return 0===this.$$keys.length},na.$$arity=0);c.alias(m,"eql?","==");c.def(m,"$fetch",S=function(b,e){var d=S.$$p,f=d||y;d&&(S.$$p=null);d&&(S.$$p=null);d=c.hash_get(this,b);return void 0!==d?d:f!==y?f(b):void 0!==e?e:this.$raise(l(a,"KeyError").$new("key not found: "+b.$inspect(),x(["key","receiver"],{key:b,receiver:this})))},S.$$arity=-2);c.def(m,"$fetch_values",Y=function(a){var b=Y.$$p,e=b||y,d;b&&(Y.$$p=null);b&&(Y.$$p=null);b=
c.slice.call(arguments,0,arguments.length);return A(b,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=y);return A(b,"fetch",[a],e.$to_proc())},d.$$s=this,d.$$arity=1,d))},Y.$$arity=-1);c.def(m,"$flatten",U=function(b){null==b&&(b=1);b=l(a,"Opal")["$coerce_to!"](b,l(a,"Integer"),"to_int");for(var c=[],e=0,d=this.$$keys,f=d.length,g,k;e<f;e++)g=d[e],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),c.push(g),k.$$is_array?1===b?c.push(k):c=c.concat(k.$flatten(b-2)):c.push(k);return c},U.$$arity=
-1);c.def(m,"$has_key?",fa=function(a){return void 0!==c.hash_get(this,a)},fa.$$arity=1);c.def(m,"$has_value?",V=function(a){for(var b=0,c=this.$$keys,e=c.length,d;b<e;b++)if(d=c[b],(d.$$is_string?this.$$smap[d]:d.value)["$=="](a))return!0;return!1},V.$$arity=1);c.def(m,"$hash",K=function(){var a=void 0===c.hash_ids,b=this.$object_id(),e=["Hash"],d,f;try{a&&(c.hash_ids=Object.create(null));if(c[b])return"self";for(d in c.hash_ids)if(f=c.hash_ids[d],this["$eql?"](f))return"self";c.hash_ids[b]=this;
for(var b=0,g=this.$$keys,k=g.length;b<k;b++)d=g[b],d.$$is_string?e.push([d,this.$$smap[d].$hash()]):e.push([d.key_hash,d.value.$hash()]);return e.sort().join()}finally{a&&(c.hash_ids=void 0)}},K.$$arity=0);c.alias(m,"include?","has_key?");c.def(m,"$index",J=function(a){for(var b=0,c=this.$$keys,e=c.length,d,f;b<e;b++)if(d=c[b],d.$$is_string?f=this.$$smap[d]:(f=d.value,d=d.key),f["$=="](a))return d;return y},J.$$arity=1);c.def(m,"$indexes",Ka=function(a){var b;b=c.slice.call(arguments,0,arguments.length);
for(var e=[],d=0,f=b.length,g;d<f;d++)g=b[d],g=c.hash_get(this,g),void 0===g?e.push(this.$default()):e.push(g);return e},Ka.$$arity=-1);c.alias(m,"indices","indexes");var Ia;c.def(m,"$inspect",G=function(){var a=void 0===Ia,b=this.$object_id(),c=[];try{a&&(Ia={});if(Ia.hasOwnProperty(b))return"{...}";Ia[b]=!0;for(var b=0,e=this.$$keys,d=e.length,f,g;b<d;b++)f=e[b],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),c.push(f.$inspect()+"=>"+g.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(Ia=void 0)}},
G.$$arity=0);c.def(m,"$invert",qa=function(){for(var a=c.hash(),b=0,e=this.$$keys,d=e.length,f,g;b<d;b++)f=e[b],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),c.hash_put(a,g,f);return a},qa.$$arity=0);c.def(m,"$keep_if",la=function(){var a=la.$$p,b=a||y,e;a&&(la.$$p=null);a&&(la.$$p=null);if(!n(b))return A(this,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=0,d=this.$$keys,f=d.length,g,k;a<f;a++)g=d[a],g.$$is_string?k=this.$$smap[g]:(k=g.value,
g=g.key),k=b(g,k),!1!==k&&k!==y||void 0===c.hash_delete(this,g)||(f--,a--);return this},la.$$arity=0);c.alias(m,"key","index");c.alias(m,"key?","has_key?");c.def(m,"$keys",Da=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,d;b<e;b++)d=c[b],d.$$is_string?a.push(d):a.push(d.key);return a},Da.$$arity=0);c.def(m,"$length",aa=function(){return this.$$keys.length},aa.$$arity=0);c.alias(m,"member?","has_key?");c.def(m,"$merge",ba=function(a){var b=ba.$$p,c=b||y;b&&(ba.$$p=null);b&&(ba.$$p=null);return A(this.$dup(),
"merge!",[a],c.$to_proc())},ba.$$arity=1);c.def(m,"$merge!",ma=function(b){var e=ma.$$p,d=e||y;e&&(ma.$$p=null);e&&(ma.$$p=null);b.$$is_hash||(b=l(a,"Opal")["$coerce_to!"](b,l(a,"Hash"),"to_hash"));var f=b.$$keys,g=f.length,k,t,h;if(d===y){for(e=0;e<g;e++)k=f[e],k.$$is_string?h=b.$$smap[k]:(h=k.value,k=k.key),c.hash_put(this,k,h);return this}for(e=0;e<g;e++)k=f[e],k.$$is_string?h=b.$$smap[k]:(h=k.value,k=k.key),t=c.hash_get(this,k),void 0===t?c.hash_put(this,k,h):c.hash_put(this,k,d(k,t,h));return this},
ma.$$arity=1);c.def(m,"$rassoc",sa=function(a){for(var b=0,c=this.$$keys,e=c.length,d,f;b<e;b++)if(d=c[b],d.$$is_string?f=this.$$smap[d]:(f=d.value,d=d.key),f["$=="](a))return[d,f];return y},sa.$$arity=1);c.def(m,"$rehash",da=function(){c.hash_rehash(this);return this},da.$$arity=0);c.def(m,"$reject",ea=function(){var a=ea.$$p,b=a||y,e;a&&(ea.$$p=null);a&&(ea.$$p=null);if(!n(b))return A(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=c.hash(),
d=0,f=this.$$keys,g=f.length,k,t,h;d<g;d++)k=f[d],k.$$is_string?t=this.$$smap[k]:(t=k.value,k=k.key),h=b(k,t),!1!==h&&h!==y||c.hash_put(a,k,t);return a},ea.$$arity=0);c.def(m,"$reject!",R=function(){var a=R.$$p,b=a||y,e;a&&(R.$$p=null);a&&(R.$$p=null);if(!n(b))return A(this,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=!1,d=0,f=this.$$keys,g=f.length,k,t;d<g;d++)k=f[d],k.$$is_string?t=this.$$smap[k]:(t=k.value,k=k.key),t=b(k,t),!1!==t&&t!==
y&&void 0!==c.hash_delete(this,k)&&(a=!0,g--,d--);return a?this:y},R.$$arity=0);c.def(m,"$replace",Ea=function(b){var e=y;b=l(a,"Opal")["$coerce_to!"](b,l(a,"Hash"),"to_hash");c.hash_init(this);for(var e=0,d=b.$$keys,f=d.length,g,k;e<f;e++)g=d[e],g.$$is_string?k=b.$$smap[g]:(k=g.value,g=g.key),c.hash_put(this,g,k);n(b.$default_proc())?(e=[b.$default_proc()],A(this,"default_proc=",c.to_a(e))):(e=[b.$default()],A(this,"default=",c.to_a(e)));b=e;e=e.length;e="number"===typeof e?e-1:e["$-"](1);b[e];return this},
Ea.$$arity=1);c.def(m,"$select",Aa=function(){var a=Aa.$$p,b=a||y,e;a&&(Aa.$$p=null);a&&(Aa.$$p=null);if(!n(b))return A(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=c.hash(),d=0,f=this.$$keys,g=f.length,k,t,h;d<g;d++)k=f[d],k.$$is_string?t=this.$$smap[k]:(t=k.value,k=k.key),h=b(k,t),!1!==h&&h!==y&&c.hash_put(a,k,t);return a},Aa.$$arity=0);c.def(m,"$select!",Ba=function(){var a=Ba.$$p,b=a||y,e;a&&(Ba.$$p=null);a&&(Ba.$$p=null);if(!n(b))return A(this,
"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=y,d=0,f=this.$$keys,g=f.length,k,t;d<g;d++)if(k=f[d],k.$$is_string?t=this.$$smap[k]:(t=k.value,k=k.key),t=b(k,t),!1===t||t===y)void 0!==c.hash_delete(this,k)&&(g--,d--),a=this;return a},Ba.$$arity=0);c.def(m,"$shift",wa=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,c.hash_delete(this,a)]):this.$default(y)},wa.$$arity=0);c.alias(m,"size","length");c.def(m,"$slice",
oa=function(a){var b;b=c.slice.call(arguments,0,arguments.length);for(var e=c.hash(),d=0,f=b.length;d<f;d++){var g=b[d],k=c.hash_get(this,g);void 0!==k&&c.hash_put(e,g,k)}return e},oa.$$arity=-1);c.alias(m,"store","[]=");c.def(m,"$to_a",Fa=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,d,f;b<e;b++)d=c[b],d.$$is_string?f=this.$$smap[d]:(f=d.value,d=d.key),a.push([d,f]);return a},Fa.$$arity=0);c.def(m,"$to_h",Ua=function(){if(this.$$class===c.Hash)return this;var a=new c.Hash;c.hash_init(a);c.hash_clone(this,
a);return a},Ua.$$arity=0);c.def(m,"$to_hash",Qa=function(){return this},Qa.$$arity=0);c.def(m,"$to_proc",xa=function(){var b;return A(this,"proc",[],(b=function(c){var e=b.$$s||this;null==c&&e.$raise(l(a,"ArgumentError"),"no key given");return e["$[]"](c)},b.$$s=this,b.$$arity=-1,b))},xa.$$arity=0);c.alias(m,"to_s","inspect");c.def(m,"$transform_keys",La=function(){var a=La.$$p,b=a||y,e;a&&(La.$$p=null);a&&(La.$$p=null);if(!n(b))return A(this,"enum_for",["transform_keys"],(e=function(){return(e.$$s||
this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=c.hash(),d=0,f=this.$$keys,g=f.length,k,t;d<g;d++)k=f[d],k.$$is_string?t=this.$$smap[k]:(t=k.value,k=k.key),k=c.yield1(b,k),c.hash_put(a,k,t);return a},La.$$arity=0);c.def(m,"$transform_keys!",Ma=function(){var a=Ma.$$p,b=a||y,e;a&&(Ma.$$p=null);a&&(Ma.$$p=null);if(!n(b))return A(this,"enum_for",["transform_keys!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));var a=c.slice.call(this.$$keys),d,f=a.length,g,k,t;for(d=0;d<f;d++)g=
a[d],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),t=c.yield1(b,g),c.hash_delete(this,g),c.hash_put(this,t,k);return this},Ma.$$arity=0);c.def(m,"$transform_values",Ca=function(){var a=Ca.$$p,b=a||y,e;a&&(Ca.$$p=null);a&&(Ca.$$p=null);if(!n(b))return A(this,"enum_for",["transform_values"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=c.hash(),d=0,f=this.$$keys,g=f.length,k,t;d<g;d++)k=f[d],k.$$is_string?t=this.$$smap[k]:(t=k.value,k=k.key),t=c.yield1(b,t),c.hash_put(a,
k,t);return a},Ca.$$arity=0);c.def(m,"$transform_values!",Ga=function(){var a=Ga.$$p,b=a||y,e;a&&(Ga.$$p=null);a&&(Ga.$$p=null);if(!n(b))return A(this,"enum_for",["transform_values!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var a=0,d=this.$$keys,f=d.length,g,k;a<f;a++)g=d[a],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),k=c.yield1(b,k),c.hash_put(this,g,k);return this},Ga.$$arity=0);c.alias(m,"update","merge!");c.alias(m,"value?","has_value?");c.alias(m,"values_at",
"indexes");return(c.def(m,"$values",Ha=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,d;b<e;b++)d=c[b],d.$$is_string?a.push(this.$$smap[d]):a.push(d.value);return a},Ha.$$arity=0),y)&&"values"}(r[0],null,r)};Opal.modules["corelib/number"]=function(c){function u(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function D(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function y(a,
c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var A=c.top,x=[],n=c.nil,m=c.const_get_qualified,w=c.const_get_relative,H=c.klass,M=c.truthy,Q=c.send,a=c.hash2;c.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));
A.$require("corelib/numeric");(function(e,$super,q){function v(){}e=v=H(e,$super,"Number",v);var g=[e].concat(q),B,b,F,p,N,P,z,d,f,x,ja,Z,E,A,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Ua,Qa,xa,La,Ma,Ca,Ga,Ha,Ia,Pa,Ra,Na,Oa,Va,C,W,Ja,ua,ia,ga,O,Sa,Ta;w(g,"Opal").$bridge(Number,e);c.defineProperty(Number.prototype,"$$is_number",!0);e.$$is_number_class=!0;(function(a,b){var e=[a].concat(b),d;c.def(a,"$allocate",d=function(){return this.$raise(w(e,"TypeError"),
"allocator undefined for "+this.$name())},d.$$arity=0);c.udef(a,"$new");return n})(c.get_singleton_class(e),g);c.def(e,"$coerce",B=function(a){if(a!==n){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[w(g,"Opal")["$coerce_to!"](a,w(g,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(w(g,"TypeError"),"can't convert "+a.$class()+" into Float")},B.$$arity=1);c.def(e,"$__id__",b=function(){return 2*this+1},b.$$arity=0);c.alias(e,"object_id","__id__");
c.def(e,"$+",F=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},F.$$arity=1);c.def(e,"$-",p=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},p.$$arity=1);c.def(e,"$*",N=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},N.$$arity=1);c.def(e,"$/",P=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},P.$$arity=1);c.alias(e,"fdiv","/");c.def(e,"$%",z=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(w(g,"ZeroDivisionError"),
"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},z.$$arity=1);c.def(e,"$&",d=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},d.$$arity=1);c.def(e,"$|",f=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},f.$$arity=1);c.def(e,"$^",x=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},x.$$arity=1);c.def(e,"$<",ja=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},ja.$$arity=1);c.def(e,"$<=",
Z=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},Z.$$arity=1);c.def(e,"$>",E=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},E.$$arity=1);c.def(e,"$>=",A=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},A.$$arity=1);c.def(e,"$<=>",ha=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?n:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(b){if(c.rescue(b,[w(g,"ArgumentError")]))try{return n}finally{c.pop_exception()}else throw b;}},
ha.$$arity=1);c.def(e,"$<<",ra=function(a){a=w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");return 0<a?this<<a:this>>-a},ra.$$arity=1);c.def(e,"$>>",va=function(a){a=w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");return 0<a?this>>a:this<<-a},va.$$arity=1);c.def(e,"$[]",pa=function(a){a=w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},pa.$$arity=1);c.def(e,"$+@",L=function(){return+this},L.$$arity=0);c.def(e,"$-@",t=function(){return-this},
t.$$arity=0);c.def(e,"$~",za=function(){return~this},za.$$arity=0);c.def(e,"$**",ca=function(a){var b,c;return M(w(g,"Integer")["$==="](a))?M(M(b=w(g,"Integer")["$==="](this)["$!"]())?b:u(a,0))?Math.pow(this,a):w(g,"Rational").$new(this,1)["$**"](a):M(D(this,0)?M(c=w(g,"Float")["$==="](a))?c:w(g,"Rational")["$==="](a):D(this,0))?w(g,"Complex").$new(this,0)["$**"](a.$to_f()):M(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},ca.$$arity=1);c.def(e,"$===",X=function(a){return a.$$is_number?
this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},X.$$arity=1);c.def(e,"$==",na=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},na.$$arity=1);c.def(e,"$abs",S=function(){return Math.abs(this)},S.$$arity=0);c.def(e,"$abs2",Y=function(){return Math.abs(this*this)},Y.$$arity=0);c.def(e,"$allbits?",U=function(a){a=w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");return(this&a)==a},U.$$arity=1);c.def(e,"$anybits?",fa=function(a){a=
w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");return 0!==(this&a)},fa.$$arity=1);c.def(e,"$angle",V=function(){return M(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},V.$$arity=0);c.alias(e,"arg","angle");c.alias(e,"phase","angle");c.def(e,"$bit_length",K=function(){M(w(g,"Integer")["$==="](this))||this.$raise(w(g,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,b=0>this?~this:this;0!=b;)a+=
1,b>>>=1;return a},K.$$arity=0);c.def(e,"$ceil",J=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=Math.round(a));return a},J.$$arity=-1);c.def(e,"$chr",Ka=function(a){return String.fromCharCode(this)},Ka.$$arity=-1);c.def(e,"$denominator",G=function(){var a,b=G.$$p,e=n,d=n,f=n;b&&(G.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return M(M(a=this["$nan?"]())?a:this["$infinite?"]())?1:Q(this,c.find_super_dispatcher(this,
"denominator",G,!1),e,b)},G.$$arity=0);c.def(e,"$downto",qa=function(a){var b=qa.$$p,c=b||n,e;b&&(qa.$$p=null);b&&(qa.$$p=null);if(c===n)return Q(this,"enum_for",["downto",a],(e=function(){var b=e.$$s||this;M(w(g,"Numeric")["$==="](a))||b.$raise(w(g,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return M(u(a,b))?0:r(y(b,a),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(w(g,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=
this;b>=a;b--)c(b);return this},qa.$$arity=1);c.alias(e,"eql?","==");c.def(e,"$equal?",la=function(a){var b;return M(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},la.$$arity=1);c.def(e,"$even?",Da=function(){return 0===this%2},Da.$$arity=0);c.def(e,"$floor",aa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},aa.$$arity=-1);c.def(e,"$gcd",ba=function(a){M(w(g,"Integer")["$==="](a))||this.$raise(w(g,"TypeError"),
"not an integer");var b=Math.abs(this);for(a=Math.abs(a);0<b;){var c=b,b=a%b;a=c}return a},ba.$$arity=1);c.def(e,"$gcdlcm",ma=function(a){return[this.$gcd(),this.$lcm()]},ma.$$arity=1);c.def(e,"$integer?",sa=function(){return 0===this%1},sa.$$arity=0);c.def(e,"$is_a?",da=function(a){var b=da.$$p,e=n,d=n,f=n;b&&(da.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return M(a["$=="](w(g,"Integer"))?w(g,"Integer")["$==="](this):a["$=="](w(g,"Integer")))||M(a["$=="](w(g,"Integer"))?
w(g,"Integer")["$==="](this):a["$=="](w(g,"Integer")))||M(a["$=="](w(g,"Float"))?w(g,"Float")["$==="](this):a["$=="](w(g,"Float")))?!0:Q(this,c.find_super_dispatcher(this,"is_a?",da,!1),e,b)},da.$$arity=1);c.alias(e,"kind_of?","is_a?");c.def(e,"$instance_of?",ea=function(a){var b=ea.$$p,e=n,d=n,f=n;b&&(ea.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return M(a["$=="](w(g,"Integer"))?w(g,"Integer")["$==="](this):a["$=="](w(g,"Integer")))||M(a["$=="](w(g,"Integer"))?w(g,
"Integer")["$==="](this):a["$=="](w(g,"Integer")))||M(a["$=="](w(g,"Float"))?w(g,"Float")["$==="](this):a["$=="](w(g,"Float")))?!0:Q(this,c.find_super_dispatcher(this,"instance_of?",ea,!1),e,b)},ea.$$arity=1);c.def(e,"$lcm",R=function(a){M(w(g,"Integer")["$==="](a))||this.$raise(w(g,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},R.$$arity=1);c.alias(e,"magnitude","abs");c.alias(e,"modulo","%");c.def(e,"$next",Ea=function(){return this+1},Ea.$$arity=0);c.def(e,
"$nobits?",Aa=function(a){a=w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");return 0==(this&a)},Aa.$$arity=1);c.def(e,"$nonzero?",Ba=function(){return 0==this?n:this},Ba.$$arity=0);c.def(e,"$numerator",wa=function(){var a,b=wa.$$p,e=n,d=n,f=n;b&&(wa.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return M(M(a=this["$nan?"]())?a:this["$infinite?"]())?this:Q(this,c.find_super_dispatcher(this,"numerator",wa,!1),e,b)},wa.$$arity=0);c.def(e,"$odd?",oa=function(){return 0!==
this%2},oa.$$arity=0);c.def(e,"$ord",Fa=function(){return this},Fa.$$arity=0);c.def(e,"$pow",Ua=function(a,b){0==this&&this.$raise(w(g,"ZeroDivisionError"),"divided by 0");if(void 0===b)return this["$**"](a);w(g,"Integer")["$==="](a)||this.$raise(w(g,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(w(g,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");w(g,"Integer")["$==="](b)||this.$raise(w(g,"TypeError"),
"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===b&&this.$raise(w(g,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](b)},Ua.$$arity=-2);c.def(e,"$pred",Qa=function(){return this-1},Qa.$$arity=0);c.def(e,"$quo",xa=function(a){var b=xa.$$p,e=n,d=n,f=n;b&&(xa.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return M(w(g,"Integer")["$==="](this))?Q(this,c.find_super_dispatcher(this,"quo",xa,!1),e,b):l(this,a)},xa.$$arity=1);c.def(e,
"$rationalize",La=function(a){var b,e,d=n;b=n;1<arguments.length&&this.$raise(w(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return M(w(g,"Integer")["$==="](this))?w(g,"Rational").$new(this,1):M(this["$infinite?"]())?this.$raise(w(g,"FloatDomainError"),"Infinity"):M(this["$nan?"]())?this.$raise(w(g,"FloatDomainError"),"NaN"):M(null==a)?(e=w(g,"Math").$frexp(this),b=c.to_ary(e),d=null==b[0]?n:b[0],b=null==b[1]?n:b[1],e,d=w(g,"Math").$ldexp(d,m(w(g,"Float"),"MANT_DIG")).$to_i(),
b=y(b,m(w(g,"Float"),"MANT_DIG")),w(g,"Rational").$new(h(2,d),1["$<<"](y(1,b))).$rationalize(w(g,"Rational").$new(1,1["$<<"](y(1,b))))):this.$to_r().$rationalize(a)},La.$$arity=-1);c.def(e,"$remainder",Ma=function(a){return y(this,h(a,l(this,a).$truncate()))},Ma.$$arity=1);c.def(e,"$round",Ca=function(a){var b,e,d=n;if(M(w(g,"Integer")["$==="](this))){if(M(null==a))return this;M(M(b=w(g,"Float")["$==="](a))?a["$infinite?"]():b)&&this.$raise(w(g,"RangeError"),"Infinity");a=w(g,"Opal")["$coerce_to!"](a,
w(g,"Integer"),"to_int");M(D(a,m(w(g,"Integer"),"MIN")))&&this.$raise(w(g,"RangeError"),"out of bounds");if(M(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;a=Math.pow(10,a);e=Math.floor((Math.abs(e)+a/2)/a)*a;return 0>this?-e:e}M(M(b=this["$nan?"]())?null==a:b)&&this.$raise(w(g,"FloatDomainError"),"NaN");a=w(g,"Opal")["$coerce_to!"](a||0,w(g,"Integer"),"to_int");if(M("number"===typeof a?0>=a:a["$<="](0)))M(this["$nan?"]())?this.$raise(w(g,"RangeError"),"NaN"):M(this["$infinite?"]())&&
this.$raise(w(g,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(M(M(b=this["$nan?"]())?b:this["$infinite?"]()))return this}e=w(g,"Math").$frexp(this);b=c.to_ary(e);d=null==b[1]?n:b[1];e;b=y(r(m(w(g,"Float"),"DIG"),2),M(u(d,0))?l(d,4):y(l(d,3),1));b="number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b);return M(b)?this:M(D(a,(M(u(d,0))?r(l(d,3),1):l(d,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},Ca.$$arity=-1);c.def(e,"$step",Ga=function(b,e,d){function f(){void 0!==
ga&&(v=ga);void 0===v&&(v=n);z===n&&F.$raise(w(g,"TypeError"),"step must be numeric");0===z&&F.$raise(w(g,"ArgumentError"),"step can't be 0");void 0!==ia&&(z=ia);if(z===n||null==z)z=1;var a=z["$<=>"](0);a===n&&F.$raise(w(g,"ArgumentError"),"0 can't be coerced into "+z.$class());if(v===n||null==v)v=0<a?m(w(g,"Float"),"INFINITY"):m(w(g,"Float"),"INFINITY")["$-@"]();w(g,"Opal").$compare(F,v)}function t(){if(0<z&&F>v||0>z&&F<v)return 0;if(Infinity===z||-Infinity===z)return 1;var a=Math.abs,b=Math.floor,
a=(a(F)+a(v)+a(v-F))/a(z)*m(w(g,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return b((v-F)/z+a)+1}function h(){f();if(0===z)return Infinity;if(0!==z%1)return t();if(0<z&&F>v||0>z&&F<v)return 0;var a=Math.ceil,b=Math.abs,c=b(F-v)+1,b=b(z);return a(c/b)}var p=Ga.$$p,q=p||n,O,v,z,ga,ia,C,F=this,ua=O=n;p&&(Ga.$$p=null);p&&(Ga.$$p=null);p=c.slice.call(arguments,0,arguments.length);O=c.extract_kwargs(p);if(null==O)O=a([],{});else if(!O.$$is_hash)throw c.ArgumentError.$new("expected kwargs");
0<p.length&&(v=p[0],p.splice(0,1));0<p.length&&(z=p[0],p.splice(0,1));ga=O.$$smap.to;ia=O.$$smap.by;void 0!==v&&void 0!==ga&&F.$raise(w(g,"ArgumentError"),"to is given twice");void 0!==z&&void 0!==ia&&F.$raise(w(g,"ArgumentError"),"step is given twice");if(q===n)return O=[],ua=a([],{}),void 0!==v&&O.push(v),void 0!==z&&O.push(z),void 0!==ga&&c.hash_put(ua,"to",ga),void 0!==ia&&c.hash_put(ua,"by",ia),ua["$any?"]()&&O.push(ua),Q(F,"enum_for",["step"].concat(c.to_a(O)),(C=function(){return h()},C.$$s=
F,C.$$arity=0,C));f();if(0===z)for(;;)q(F);if(0!==F%1||0!==v%1||0!==z%1){if(C=t(),0<C)if(Infinity===z||-Infinity===z)q(F);else if(p=0,0<z)for(;p<C;)O=p*z+F,v<O&&(O=v),q(O),p+=1;else for(;p<C;)O=p*z+F,v>O&&(O=v),q(O),p+=1}else if(C=F,0<z)for(;C<=v;)q(C),C+=z;else for(;C>=v;)q(C),C+=z;return F},Ga.$$arity=-1);c.alias(e,"succ","next");c.def(e,"$times",Ha=function(){var a=Ha.$$p,b=a||n,c;a&&(Ha.$$p=null);a&&(Ha.$$p=null);if(!M(b))return Q(this,"enum_for",["times"],(c=function(){return c.$$s||this},c.$$s=
this,c.$$arity=0,c));for(a=0;a<this;a++)b(a);return this},Ha.$$arity=0);c.def(e,"$to_f",Ia=function(){return this},Ia.$$arity=0);c.def(e,"$to_i",Pa=function(){return parseInt(this,10)},Pa.$$arity=0);c.alias(e,"to_int","to_i");c.def(e,"$to_r",Ra=function(){var a,b,e=n;a=n;if(M(w(g,"Integer")["$==="](this)))return w(g,"Rational").$new(this,1);b=w(g,"Math").$frexp(this);a=c.to_ary(b);e=null==a[0]?n:a[0];a=null==a[1]?n:a[1];b;e=w(g,"Math").$ldexp(e,m(w(g,"Float"),"MANT_DIG")).$to_i();a=y(a,m(w(g,"Float"),
"MANT_DIG"));return h(e,m(w(g,"Float"),"RADIX")["$**"](a)).$to_r()},Ra.$$arity=0);c.def(e,"$to_s",Na=function(a){var b;null==a&&(a=10);a=w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");M(M(b=D(a,2))?b:u(a,36))&&this.$raise(w(g,"ArgumentError"),"invalid radix "+a);return this.toString(a)},Na.$$arity=-1);c.def(e,"$truncate",Oa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Oa.$$arity=-1);c.alias(e,
"inspect","to_s");c.def(e,"$digits",Va=function(a){null==a&&(a=10);D(this,0)&&this.$raise(m(w(g,"Math"),"DomainError"),"out of domain");a=w(g,"Opal")["$coerce_to!"](a,w(g,"Integer"),"to_int");M(D(a,2))&&this.$raise(w(g,"ArgumentError"),"invalid radix "+a);for(var b=this,c=[];0!==b;)c.push(b%a),b=parseInt(b/a,10);return c},Va.$$arity=-1);c.def(e,"$divmod",C=function(a){var b,e=C.$$p,d=n,f=n,t=n;e&&(C.$$p=null);f=0;t=arguments.length;for(d=Array(t);f<t;f++)d[f]=arguments[f];return M(M(b=this["$nan?"]())?
b:a["$nan?"]())?this.$raise(w(g,"FloatDomainError"),"NaN"):M(this["$infinite?"]())?this.$raise(w(g,"FloatDomainError"),"Infinity"):Q(this,c.find_super_dispatcher(this,"divmod",C,!1),d,e)},C.$$arity=1);c.def(e,"$upto",W=function(a){var b=W.$$p,c=b||n,e;b&&(W.$$p=null);b&&(W.$$p=null);if(c===n)return Q(this,"enum_for",["upto",a],(e=function(){var b=e.$$s||this;M(w(g,"Numeric")["$==="](a))||b.$raise(w(g,"ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return M(D(a,b))?0:r(y(a,
b),1)},e.$$s=this,e.$$arity=0,e));a.$$is_number||this.$raise(w(g,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b<=a;b++)c(b);return this},W.$$arity=1);c.def(e,"$zero?",Ja=function(){return 0==this},Ja.$$arity=0);c.def(e,"$size",ua=function(){return 4},ua.$$arity=0);c.def(e,"$nan?",ia=function(){return isNaN(this)},ia.$$arity=0);c.def(e,"$finite?",ga=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},ga.$$arity=0);c.def(e,"$infinite?",O=function(){return Infinity==
this?1:-Infinity==this?-1:n},O.$$arity=0);c.def(e,"$positive?",Sa=function(){return 0!=this&&(Infinity==this||0<1/this)},Sa.$$arity=0);return(c.def(e,"$negative?",Ta=function(){return-Infinity==this||0>1/this},Ta.$$arity=0),n)&&"negative?"})(x[0],w(x,"Numeric"),x);c.const_set(x[0],"Fixnum",w(x,"Number"));(function(a,$super,h){function v(){}a=v=H(a,$super,"Integer",v);h=[a].concat(h);a.$$is_number_class=!0;(function(a,e){var b=[a].concat(e),h,p,q;c.def(a,"$allocate",h=function(){return this.$raise(w(b,
"TypeError"),"allocator undefined for "+this.$name())},h.$$arity=0);c.udef(a,"$new");c.def(a,"$===",p=function(a){return a.$$is_number?0===a%1:!1},p.$$arity=1);return(c.def(a,"$sqrt",q=function(a){a=w(b,"Opal")["$coerce_to!"](a,w(b,"Integer"),"to_int");0>a&&this.$raise(m(w(b,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(a),10)},q.$$arity=1),n)&&"sqrt"})(c.get_singleton_class(a),h);c.const_set(h[0],"MAX",Math.pow(2,30)-1);return c.const_set(h[0],
"MIN",-Math.pow(2,30))})(x[0],w(x,"Numeric"),x);return function(a,$super,h){function v(){}a=v=H(a,$super,"Float",v);h=[a].concat(h);a.$$is_number_class=!0;(function(a,e){var b=[a].concat(e),h,p;c.def(a,"$allocate",h=function(){return this.$raise(w(b,"TypeError"),"allocator undefined for "+this.$name())},h.$$arity=0);c.udef(a,"$new");return(c.def(a,"$===",p=function(a){return!!a.$$is_number},p.$$arity=1),n)&&"==="})(c.get_singleton_class(a),h);c.const_set(h[0],"INFINITY",Infinity);c.const_set(h[0],
"MAX",Number.MAX_VALUE);c.const_set(h[0],"MIN",Number.MIN_VALUE);c.const_set(h[0],"NAN",NaN);c.const_set(h[0],"DIG",15);c.const_set(h[0],"MANT_DIG",53);c.const_set(h[0],"RADIX",2);return c.const_set(h[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(x[0],w(x,"Numeric"),x)};Opal.modules["corelib/range"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c<=h:c["$<="](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c<h:c["$<"](h)}function r(c,h){return"number"===
typeof c&&"number"===typeof h?c>h:c["$>"](h)}function y(c,h){return"number"===typeof c&&"number"===typeof h?c+h:c["$+"](h)}var l=c.top,h=[],A=c.nil,x=c.const_get_qualified,n=c.const_get_relative,m=c.klass,w=c.truthy,H=c.send;c.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
l.$require("corelib/enumerable");return function(h,$super,a){function e(){}h=e=m(h,$super,"Range",e);var k=h.prototype,q=[h].concat(a),v,g,B,b,F,p,N,P,z,d,f,l,ja,Z,E,ta,ha,ra;k.begin=k.end=k.excl=A;h.$include(n(q,"Enumerable"));k.$$is_range=!0;h.$attr_reader("begin","end");c.def(h,"$initialize",v=function(a,b,c){null==c&&(c=!1);w(this.begin)&&this.$raise(n(q,"NameError"),"'initialize' called twice");w(a["$<=>"](b))||this.$raise(n(q,"ArgumentError"),"bad value for range");this.begin=a;this.end=b;return this.excl=
c},v.$$arity=-3);c.def(h,"$==",g=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},g.$$arity=1);c.def(h,"$===",B=function(a){return this["$include?"](a)},B.$$arity=1);c.def(h,"$cover?",b=function(a){var b,c=A,c=A,c=this.begin["$<=>"](a);if(!w(w(b=c)?u(c,0):b))return!1;c=a["$<=>"](this.end);return w(this.excl)?w(b=c)?D(c,0):b:w(b=c)?u(c,0):b},b.$$arity=1);c.def(h,"$each",F=function(){var a=F.$$p,b=a||A,e,d=A,f=A;a&&(F.$$p=null);a&&(F.$$p=null);if(b===A)return this.$enum_for("each");
if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(n(q,"TypeError"),"can't iterate from Float");a=this.begin;for(e=this.end+(w(this.excl)?0:1);a<e;a++)b(a);return this}if(this.begin.$$is_string&&this.end.$$is_string)return H(this.begin,"upto",[this.end,this.excl],b.$to_proc()),this;d=this.begin;f=this.end;for(w(d["$respond_to?"]("succ"))||this.$raise(n(q,"TypeError"),"can't iterate from "+d.$class());w(D(d["$<=>"](f),0));)c.yield1(b,d),d=d.$succ();w(w(e=
this.excl["$!"]())?d["$=="](f):e)&&c.yield1(b,d);return this},F.$$arity=0);c.def(h,"$eql?",p=function(a){var b,c;return w(n(q,"Range")["$==="](a))?w(b=w(c=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):c)?this.end["$eql?"](a.$end()):b:!1},p.$$arity=1);c.def(h,"$exclude_end?",N=function(){return this.excl},N.$$arity=0);c.def(h,"$first",P=function(a){var b=P.$$p,e=A,d=A,f=A;b&&(P.$$p=null);d=0;f=arguments.length;for(e=Array(f);d<f;d++)e[d]=arguments[d];return w(null==a)?this.begin:
H(this,c.find_super_dispatcher(this,"first",P,!1),e,b)},P.$$arity=-1);c.alias(h,"include?","cover?");c.def(h,"$last",z=function(a){return w(null==a)?this.end:this.$to_a().$last(a)},z.$$arity=-1);c.def(h,"$max",d=function(){var a,b=d.$$p,e=b||A,f=A,g=A,k=A;b&&(d.$$p=null);g=0;k=arguments.length;for(f=Array(k);g<k;g++)f[g]=arguments[g];return e!==A?H(this,c.find_super_dispatcher(this,"max",d,!1),f,b):w(r(this.begin,this.end))?A:w(w(a=this.excl)?this.begin["$=="](this.end):a)?A:this.excl?this.end-1:
this.end},d.$$arity=0);c.alias(h,"member?","cover?");c.def(h,"$min",f=function(){var a,b=f.$$p,e=b||A,d=A,g=A,k=A;b&&(f.$$p=null);g=0;k=arguments.length;for(d=Array(k);g<k;g++)d[g]=arguments[g];return e!==A?H(this,c.find_super_dispatcher(this,"min",f,!1),d,b):w(r(this.begin,this.end))?A:w(w(a=this.excl)?this.begin["$=="](this.end):a)?A:this.begin},f.$$arity=0);c.def(h,"$size",l=function(){var a,b=A,c=A,e=A,b=this.begin,c=this.end;w(this.excl)&&(c="number"===typeof c?c-1:c["$-"](1));if(!w(w(a=n(q,
"Numeric")["$==="](b))?n(q,"Numeric")["$==="](c):a))return A;if(w(D(c,b)))return 0;e=x(n(q,"Float"),"INFINITY");return w([b.$abs(),c.$abs()]["$include?"](e))?e:(Math.abs(c-b)+1).$to_i()},l.$$arity=0);c.def(h,"$step",ja=function(a){function b(){a.$$is_number||(a=n(q,"Opal")["$coerce_to!"](a,n(q,"Integer"),"to_int"));0>a?p.$raise(n(q,"ArgumentError"),"step can't be negative"):0===a&&p.$raise(n(q,"ArgumentError"),"step can't be 0")}function e(){if(!p.begin["$respond_to?"]("succ")||p.begin.$$is_string&&
p.end.$$is_string)return A;if(0===a%1){var b=p.$size();return("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()}var b=p.begin,c=p.end,d=Math.abs,f=Math.floor,d=(d(b)+d(c)+d(c-b))/d(a)*x(n(q,"Float"),"EPSILON");.5<d&&(d=.5);p.excl?(f=f((c-b)/a-d),f*a+b<c&&f++):f=f((c-b)/a+d)+1;return f}var d,f,g,k=ja.$$p,h=k||A,p=this,v=A;k&&(ja.$$p=null);null==a&&(a=1);if(h===A)return H(p,"enum_for",["step",a],(d=function(){b();return e()},d.$$s=p,d.$$arity=0,d));b();w(p.begin.$$is_number&&p.end.$$is_number)?
(v=0,function(){var b=c.new_brk();try{return H(p,"loop",[],(f=function(){var e=f.$$s||this,d=A;null==e.begin&&(e.begin=A);null==e.excl&&(e.excl=A);null==e.end&&(e.end=A);d=y(e.begin,"number"===typeof v&&"number"===typeof a?v*a:v["$*"](a));w(e.excl)?(e=e.end,e="number"===typeof d&&"number"===typeof e?d>=e:d["$>="](e),w(e)&&c.brk(A,b)):w(r(d,e.end))&&c.brk(A,b);c.yield1(h,d);return v=y(v,1)},f.$$s=p,f.$$brk=b,f.$$arity=0,f))}catch(e){if(e===b)return e.$v;throw e;}}()):(p.begin.$$is_string&&p.end.$$is_string&&
0!==a%1&&p.$raise(n(q,"TypeError"),"no implicit conversion to float from string"),H(p,"each_with_index",[],(g=function(b,e){null==b&&(b=A);null==e&&(e=A);return e["$%"](a)["$=="](0)?c.yield1(h,b):A},g.$$s=p,g.$$arity=2,g)));return p},ja.$$arity=-1);c.def(h,"$bsearch",Z=function(){var a=Z.$$p,b=a||A;a&&(Z.$$p=null);a&&(Z.$$p=null);if(b===A)return this.$enum_for("bsearch");w(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(n(q,"TypeError"),"can't do binary search for "+this.begin.$class());
return H(this.$to_a(),"bsearch",[],b.$to_proc())},Z.$$arity=0);c.def(h,"$to_s",E=function(){return""+this.begin+(w(this.excl)?"...":"..")+this.end},E.$$arity=0);c.def(h,"$inspect",ta=function(){return""+this.begin.$inspect()+(w(this.excl)?"...":"..")+this.end.$inspect()},ta.$$arity=0);c.def(h,"$marshal_load",ha=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},ha.$$arity=1);return(c.def(h,"$hash",ra=function(){return[this.begin,this.end,this.excl].$hash()},
ra.$$arity=0),A)&&"hash"}(h[0],null,h)};Opal.modules["corelib/proc"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.slice,l=c.klass,h=c.truthy;c.add_stubs(["$raise","$coerce_to!"]);return function(u,$super,n){function m(){}u=m=l(u,$super,"Proc",m);var w=[u].concat(n),H,M,Q,a,e,k,q,v,g,B;c.defineProperty(Function.prototype,"$$is_proc",!0);c.defineProperty(Function.prototype,"$$is_lambda",!1);c.defs(u,"$new",H=function(){var a=H.$$p,c=a||D;a&&(H.$$p=null);a&&(H.$$p=null);h(c)||this.$raise(r(w,
"ArgumentError"),"tried to create a Proc object without a block");return c},H.$$arity=0);c.def(u,"$call",M=function(a){var e=M.$$p,g=e||D;e&&(M.$$p=null);e&&(M.$$p=null);e=c.slice.call(arguments,0,arguments.length);g!==D&&(this.$$p=g);var k;if(g=this.$$brk)try{k=this.$$is_lambda?this.apply(null,e):c.yieldX(this,e)}catch(h){if(h===g)return g.$v;throw h;}else k=this.$$is_lambda?this.apply(null,e):c.yieldX(this,e);return k},M.$$arity=-1);c.alias(u,"[]","call");c.alias(u,"===","call");c.alias(u,"yield",
"call");c.def(u,"$to_proc",Q=function(){return this},Q.$$arity=0);c.def(u,"$lambda?",a=function(){return!!this.$$is_lambda},a.$$arity=0);c.def(u,"$arity",e=function(){return this.$$is_curried?-1:this.$$arity},e.$$arity=0);c.def(u,"$source_location",k=function(){return D},k.$$arity=0);c.def(u,"$binding",q=function(){this.$$is_curried&&this.$raise(r(w,"ArgumentError"),"Can't create Binding");return D},q.$$arity=0);c.def(u,"$parameters",v=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;
var a=[],c,e;c=0;for(e=this.$$parameters.length;c<e;c++){var g=this.$$parameters[c];"req"===g[0]&&(g=["opt",g[1]]);a.push(g)}return a}return[]},v.$$arity=0);c.def(u,"$curry",g=function(a){function c(){var g=y.call(arguments),k=g.length;k>a&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(r(w,"ArgumentError"),"wrong number of arguments ("+k+" for "+a+")");if(k>=a)return e.$call.apply(e,g);k=function(){return c.apply(null,g.concat(y.call(arguments)))};k.$$is_lambda=e.$$is_lambda;k.$$is_curried=!0;return k}
var e=this;void 0===a?a=e.length:(a=r(w,"Opal")["$coerce_to!"](a,r(w,"Integer"),"to_int"),e.$$is_lambda&&a!==e.length&&e.$raise(r(w,"ArgumentError"),"wrong number of arguments ("+a+" for "+e.length+")"));c.$$is_lambda=e.$$is_lambda;c.$$is_curried=!0;return c},g.$$arity=-1);c.def(u,"$dup",B=function(){var a=this.$$original_proc||this,c=function(){return a.apply(this,arguments)},e;for(e in this)this.hasOwnProperty(e)&&(c[e]=this[e]);return c},B.$$arity=0);return c.alias(u,"clone","dup")}(u[0],Function,
u)};Opal.modules["corelib/method"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.klass,l=c.truthy;c.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(h,$super,x){function n(){}h=n=y(h,$super,"Method",n);var m=h.prototype,w=[h].concat(x),u,M,Q,a,e,k,q,v,g;m.method=m.receiver=m.owner=m.name=D;h.$attr_reader("owner","receiver","name");c.def(h,"$initialize",u=function(a,b,c,e){this.receiver=a;this.owner=b;this.name=e;return this.method=c},u.$$arity=
4);c.def(h,"$arity",M=function(){return this.method.$arity()},M.$$arity=0);c.def(h,"$parameters",Q=function(){return this.method.$$parameters},Q.$$arity=0);c.def(h,"$source_location",a=function(){var a;return l(a=this.method.$$source_location)?a:["(eval)",0]},a.$$arity=0);c.def(h,"$comments",e=function(){var a;return l(a=this.method.$$comments)?a:[]},e.$$arity=0);c.def(h,"$call",k=function(a){var b=k.$$p,e=b||D;b&&(k.$$p=null);b&&(k.$$p=null);b=c.slice.call(arguments,0,arguments.length);this.method.$$p=
e;return this.method.apply(this.receiver,b)},k.$$arity=-1);c.alias(h,"[]","call");c.def(h,"$unbind",q=function(){return r(w,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},q.$$arity=0);c.def(h,"$to_proc",v=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},v.$$arity=0);return(c.def(h,"$inspect",g=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+
")>"},g.$$arity=0),D)&&"inspect"})(u[0],null,u);return function(h,$super,x){function n(){}h=n=y(h,$super,"UnboundMethod",n);var m=h.prototype,w=[h].concat(x),u,M,Q,a,e,k,q;m.method=m.owner=m.name=m.source=D;h.$attr_reader("source","owner","name");c.def(h,"$initialize",u=function(a,c,e,b){this.source=a;this.owner=c;this.method=e;return this.name=b},u.$$arity=4);c.def(h,"$arity",M=function(){return this.method.$arity()},M.$$arity=0);c.def(h,"$parameters",Q=function(){return this.method.$$parameters},
Q.$$arity=0);c.def(h,"$source_location",a=function(){var a;return l(a=this.method.$$source_location)?a:["(eval)",0]},a.$$arity=0);c.def(h,"$comments",e=function(){var a;return l(a=this.method.$$comments)?a:[]},e.$$arity=0);c.def(h,"$bind",k=function(a){if(this.owner.$$is_module||c.is_a(a,this.owner))return r(w,"Method").$new(a,this.owner,this.method,this.name);this.$raise(r(w,"TypeError"),"can't bind singleton method to a different class (expected "+a+".kind_of?("+this.owner+" to be true)")},k.$$arity=
1);return(c.def(h,"$inspect",q=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},q.$$arity=0),D)&&"inspect"}(u[0],null,u)};Opal.modules["corelib/variables"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.gvars,l=c.hash2;c.add_stubs(["$new"]);y["&"]=y["~"]=y["`"]=y["'"]=D;y.LOADED_FEATURES=y['"']=c.loaded_features;y.LOAD_PATH=y[":"]=[];y["/"]="\n";y[","]=D;c.const_set(u[0],"ARGV",[]);c.const_set(u[0],
"ARGF",r(u,"Object").$new());c.const_set(u[0],"ENV",l([],{}));y.VERBOSE=!1;y.DEBUG=!1;return y.SAFE=0};Opal.modules["opal/regexp_anchors"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.module;c.add_stubs(["$==","$new"]);return function(l,h){function u(){}var x=[u=y(l,"Opal",u)].concat(h);c.const_set(x[0],"REGEXP_START",r(x,"RUBY_ENGINE")["$=="]("opal")?"^":D);c.const_set(x[0],"REGEXP_END",r(x,"RUBY_ENGINE")["$=="]("opal")?"$":D);c.const_set(x[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
c.const_set(x[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.const_set(x[0],"INLINE_IDENTIFIER_REGEXP",r(x,"Regexp").$new("[^"+r(x,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+r(x,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));c.const_set(x[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.const_set(x[0],"CONST_NAME_REGEXP",r(x,"Regexp").$new(""+
r(x,"REGEXP_START")+"(::)?[A-Z][^"+r(x,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+r(x,"REGEXP_END")))}(u[0],u)};Opal.modules["opal/mini"]=function(c){var u=c.top;c.add_stubs(["$require"]);u.$require("opal/base");u.$require("corelib/nil");u.$require("corelib/boolean");u.$require("corelib/string");u.$require("corelib/comparable");u.$require("corelib/enumerable");u.$require("corelib/enumerator");u.$require("corelib/array");u.$require("corelib/hash");u.$require("corelib/number");u.$require("corelib/range");u.$require("corelib/proc");
u.$require("corelib/method");u.$require("corelib/regexp");u.$require("corelib/variables");return u.$require("opal/regexp_anchors")};Opal.modules["corelib/string/encoding"]=function(c){function u(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var D,r,y,l,h,A=c.top,x=[],n=c.nil,m=c.const_get_qualified,w=c.const_get_relative,H=c.klass,M=c.hash2,Q=c.truthy,a=c.send;c.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));
A.$require("corelib/string");(function(e,$super,h){function v(){}e=v=H(e,$super,"Encoding",v);var g=e.prototype,B=[e].concat(h),b,F,p,N,P,z,d,f,l,m;g.ascii=g.dummy=g.name=n;c.defineProperty(e,"$$register",{});c.defs(e,"$register",b=function(c,e){var d=b.$$p,f=d||n,g,h,p=n,v=n,t=n;d&&(b.$$p=null);d&&(b.$$p=null);null==e&&(e=M([],{}));p=u([c],Q(g=e["$[]"]("aliases"))?g:[]);v=a(w(B,"Class"),"new",[this],f.$to_proc()).$new(c,p,Q(g=e["$[]"]("ascii"))?g:!1,Q(g=e["$[]"]("dummy"))?g:!1);t=this.$$register;
return a(p,"each",[],(h=function(a){var b=h.$$s||this;null==a&&(a=n);b.$const_set(a.$sub("-","_"),v);return t["$$"+a]=v},h.$$s=this,h.$$arity=1,h))},b.$$arity=-2);c.defs(e,"$find",F=function(a){var b,c=n,c=n;if(a["$=="]("default_external"))return this.$default_external();c=this.$$register;c=Q(b=c["$$"+a])?b:c["$$"+a.$upcase()];Q(c)||this.$raise(w(B,"ArgumentError"),"unknown encoding name - "+a);return c},F.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(c.get_singleton_class(e),
B);e.$attr_reader("name","names");c.def(e,"$initialize",p=function(a,b,c,e){this.name=a;this.names=b;this.ascii=c;return this.dummy=e},p.$$arity=4);c.def(e,"$ascii_compatible?",N=function(){return this.ascii},N.$$arity=0);c.def(e,"$dummy?",P=function(){return this.dummy},P.$$arity=0);c.def(e,"$to_s",z=function(){return this.name},z.$$arity=0);c.def(e,"$inspect",d=function(){return"#<Encoding:"+this.name+(Q(this.dummy)?" (dummy)":n)+">"},d.$$arity=0);c.def(e,"$each_byte",f=function(a){c.slice.call(arguments,
0,arguments.length);return this.$raise(w(B,"NotImplementedError"))},f.$$arity=-1);c.def(e,"$getbyte",l=function(a){c.slice.call(arguments,0,arguments.length);return this.$raise(w(B,"NotImplementedError"))},l.$$arity=-1);c.def(e,"$bytesize",m=function(a){c.slice.call(arguments,0,arguments.length);return this.$raise(w(B,"NotImplementedError"))},m.$$arity=-1);(function(a,$super,b){function c(){}[c=H(a,$super,"EncodingError",c)].concat(b);return n})(B[0],w(B,"StandardError"),B);return function(a,$super,
b){function c(){}[c=H(a,$super,"CompatibilityError",c)].concat(b);return n}(B[0],w(B,"EncodingError"),B)})(x[0],null,x);a(w(x,"Encoding"),"register",["UTF-8",M(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(D=function(){var a=D.$$s||this,k,h;c.def(a,"$each_byte",k=function(a){var e=k.$$p,h=e||n;e&&(k.$$p=null);e&&(k.$$p=null);for(var e=0,b=a.length;e<b;e++){var q=a.charCodeAt(e);if(127>=q)c.yield1(h,q);else for(var q=encodeURIComponent(a.charAt(e)).substr(1).split("%"),p=0,N=q.length;p<N;p++)c.yield1(h,
parseInt(q[p],16))}},k.$$arity=1);return(c.def(a,"$bytesize",h=function(a){return a.$bytes().$length()},h.$$arity=1),n)&&"bytesize"},D.$$s=A,D.$$arity=0,D));a(w(x,"Encoding"),"register",["UTF-16LE"],(r=function(){var a=r.$$s||this,k,h;c.def(a,"$each_byte",k=function(a){var e=k.$$p,h=e||n;e&&(k.$$p=null);e&&(k.$$p=null);for(var e=0,b=a.length;e<b;e++){var q=a.charCodeAt(e);c.yield1(h,q&255);c.yield1(h,q>>8)}},k.$$arity=1);return(c.def(a,"$bytesize",h=function(a){return a.$bytes().$length()},h.$$arity=
1),n)&&"bytesize"},r.$$s=A,r.$$arity=0,r));a(w(x,"Encoding"),"register",["UTF-16BE"],(y=function(){var a=y.$$s||this,k,h;c.def(a,"$each_byte",k=function(a){var e=k.$$p,h=e||n;e&&(k.$$p=null);e&&(k.$$p=null);for(var e=0,b=a.length;e<b;e++){var q=a.charCodeAt(e);c.yield1(h,q>>8);c.yield1(h,q&255)}},k.$$arity=1);return(c.def(a,"$bytesize",h=function(a){return a.$bytes().$length()},h.$$arity=1),n)&&"bytesize"},y.$$s=A,y.$$arity=0,y));a(w(x,"Encoding"),"register",["UTF-32LE"],(l=function(){var a=l.$$s||
this,k,h;c.def(a,"$each_byte",k=function(a){var e=k.$$p,h=e||n;e&&(k.$$p=null);e&&(k.$$p=null);for(var e=0,b=a.length;e<b;e++){var q=a.charCodeAt(e);c.yield1(h,q&255);c.yield1(h,q>>8)}},k.$$arity=1);return(c.def(a,"$bytesize",h=function(a){return a.$bytes().$length()},h.$$arity=1),n)&&"bytesize"},l.$$s=A,l.$$arity=0,l));a(w(x,"Encoding"),"register",["ASCII-8BIT",M(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(h=function(){var a=h.$$s||this,k,q;c.def(a,"$each_byte",
k=function(a){var e=k.$$p,h=e||n;e&&(k.$$p=null);e&&(k.$$p=null);for(var e=0,b=a.length;e<b;e++){var q=a.charCodeAt(e);c.yield1(h,q&255);c.yield1(h,q>>8)}},k.$$arity=1);return(c.def(a,"$bytesize",q=function(a){return a.$bytes().$length()},q.$$arity=1),n)&&"bytesize"},h.$$s=A,h.$$arity=0,h));return function(e,$super,h){function v(){}e=v=H(e,$super,"String",v);var g=e.prototype,B=[e].concat(h),b,F,p,N,P,z,d;g.encoding=n;e.$attr_reader("encoding");c.defineProperty(String.prototype,"encoding",m(w(B,"Encoding"),
"UTF_16LE"));c.def(e,"$bytes",b=function(){return this.$each_byte().$to_a()},b.$$arity=0);c.def(e,"$bytesize",F=function(){return this.encoding.$bytesize(this)},F.$$arity=0);c.def(e,"$each_byte",p=function(){var b=p.$$p,c=b||n;b&&(p.$$p=null);b&&(p.$$p=null);if(c===n)return this.$enum_for("each_byte");a(this.encoding,"each_byte",[this],c.$to_proc());return this},p.$$arity=0);c.def(e,"$encode",N=function(a){return this.$dup().$force_encoding(a)},N.$$arity=1);c.def(e,"$force_encoding",P=function(a){if(a===
this.encoding)return this;a=w(B,"Opal")["$coerce_to!"](a,w(B,"String"),"to_s");a=w(B,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},P.$$arity=1);c.def(e,"$getbyte",z=function(a){return this.encoding.$getbyte(this,a)},z.$$arity=1);return(c.def(e,"$valid_encoding?",d=function(){return!0},d.$$arity=0),n)&&"valid_encoding?"}(x[0],null,x)};Opal.modules["corelib/math"]=function(c){var u=[],D=c.const_get_qualified,r=c.const_get_relative,y=c.module,l=c.truthy;c.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));
return function(h,u){function x(){}var n=x=y(h,"Math",x),m=[n].concat(u),w,H,M,Q,a,e,k,q,v,g,B,b,F,p,N,P,z,d,f,ya,ja,Z,E,ta,ha,ra,va,pa,L;c.const_set(m[0],"E",Math.E);c.const_set(m[0],"PI",Math.PI);c.const_set(m[0],"DomainError",r(m,"Class").$new(r(m,"StandardError")));c.defs(n,"$checked",w=function(a,b){var e;e=c.slice.call(arguments,1,arguments.length);if(isNaN(e[0])||2==e.length&&isNaN(e[1]))return NaN;e=Math[a].apply(null,e);isNaN(e)&&this.$raise(r(m,"DomainError"),'Numerical argument is out of domain - "'+
a+'"');return e},w.$$arity=-2);c.defs(n,"$float!",H=function(a){try{return this.$Float(a)}catch(b){if(c.rescue(b,[r(m,"ArgumentError")]))try{return this.$raise(r(m,"Opal").$type_error(a,r(m,"Float")))}finally{c.pop_exception()}else throw b;}},H.$$arity=1);c.defs(n,"$integer!",M=function(a){try{return this.$Integer(a)}catch(b){if(c.rescue(b,[r(m,"ArgumentError")]))try{return this.$raise(r(m,"Opal").$type_error(a,r(m,"Integer")))}finally{c.pop_exception()}else throw b;}},M.$$arity=1);n.$module_function();
c.def(n,"$acos",Q=function(a){return r(m,"Math").$checked("acos",r(m,"Math")["$float!"](a))},Q.$$arity=1);l("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});c.def(n,"$acosh",a=function(a){return r(m,"Math").$checked("acosh",r(m,"Math")["$float!"](a))},a.$$arity=1);c.def(n,"$asin",e=function(a){return r(m,"Math").$checked("asin",r(m,"Math")["$float!"](a))},e.$$arity=1);l("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*
a+1))});c.def(n,"$asinh",k=function(a){return r(m,"Math").$checked("asinh",r(m,"Math")["$float!"](a))},k.$$arity=1);c.def(n,"$atan",q=function(a){return r(m,"Math").$checked("atan",r(m,"Math")["$float!"](a))},q.$$arity=1);c.def(n,"$atan2",v=function(a,b){return r(m,"Math").$checked("atan2",r(m,"Math")["$float!"](a),r(m,"Math")["$float!"](b))},v.$$arity=2);l("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});c.def(n,"$atanh",g=function(a){return r(m,"Math").$checked("atanh",
r(m,"Math")["$float!"](a))},g.$$arity=1);l("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*b)});c.def(n,"$cbrt",B=function(a){return r(m,"Math").$checked("cbrt",r(m,"Math")["$float!"](a))},B.$$arity=1);c.def(n,"$cos",b=function(a){return r(m,
"Math").$checked("cos",r(m,"Math")["$float!"](a))},b.$$arity=1);l("undefined"!==typeof Math.cosh)||(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});c.def(n,"$cosh",F=function(a){return r(m,"Math").$checked("cosh",r(m,"Math")["$float!"](a))},F.$$arity=1);l("undefined"!==typeof Math.erf)||c.defineProperty(Math,"erf",function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))});
c.def(n,"$erf",p=function(a){return r(m,"Math").$checked("erf",r(m,"Math")["$float!"](a))},p.$$arity=1);l("undefined"!==typeof Math.erfc)||c.defineProperty(Math,"erfc",function(a){var b=Math.abs(a),c=1/(.5*b+1),b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b});c.def(n,"$erfc",N=function(a){return r(m,"Math").$checked("erfc",r(m,"Math")["$float!"](a))},N.$$arity=1);c.def(n,
"$exp",P=function(a){return r(m,"Math").$checked("exp",r(m,"Math")["$float!"](a))},P.$$arity=1);c.def(n,"$frexp",z=function(a){a=r(m,"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,b),b]},z.$$arity=1);c.def(n,"$gamma",d=function(a){a=r(m,"Math")["$float!"](a);var b,c,e,d;e=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,
1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(r(m,"DomainError"),'Numerical argument is out of domain - "gamma"');if(r(m,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;c=a-2;for(--a;1<c;)a*=c,c--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*
r(m,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return c=a*a,b=c*a,e=b*a,d=e*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*c)-139/(51840*b)-571/(2488320*e)+163879/(209018880*d)+5246819/(75246796800*d*a));--a;c=e[0];for(b=1;b<e.length;++b)c+=e[b]/(a+b);b=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(b,a+.5)*Math.exp(-b)*c},d.$$arity=1);l("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)});c.def(n,
"$hypot",f=function(a,b){return r(m,"Math").$checked("hypot",r(m,"Math")["$float!"](a),r(m,"Math")["$float!"](b))},f.$$arity=2);c.def(n,"$ldexp",ya=function(a,b){a=r(m,"Math")["$float!"](a);b=r(m,"Math")["$integer!"](b);isNaN(b)&&this.$raise(r(m,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,b)},ya.$$arity=2);c.def(n,"$lgamma",ja=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(r(m,"Math").$gamma(a))),0>r(m,"Math").$gamma(a)?-1:1]},ja.$$arity=1);c.def(n,"$log",Z=function(a,
b){l(r(m,"String")["$==="](a))&&this.$raise(r(m,"Opal").$type_error(a,r(m,"Float")));if(l(null==b))return r(m,"Math").$checked("log",r(m,"Math")["$float!"](a));l(r(m,"String")["$==="](b))&&this.$raise(r(m,"Opal").$type_error(b,r(m,"Float")));var c=r(m,"Math").$checked("log",r(m,"Math")["$float!"](a)),e=r(m,"Math").$checked("log",r(m,"Math")["$float!"](b));return"number"===typeof c&&"number"===typeof e?c/e:c["$/"](e)},Z.$$arity=-2);l("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/
Math.LN10});c.def(n,"$log10",E=function(a){l(r(m,"String")["$==="](a))&&this.$raise(r(m,"Opal").$type_error(a,r(m,"Float")));return r(m,"Math").$checked("log10",r(m,"Math")["$float!"](a))},E.$$arity=1);l("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});c.def(n,"$log2",ta=function(a){l(r(m,"String")["$==="](a))&&this.$raise(r(m,"Opal").$type_error(a,r(m,"Float")));return r(m,"Math").$checked("log2",r(m,"Math")["$float!"](a))},ta.$$arity=1);c.def(n,"$sin",ha=function(a){return r(m,
"Math").$checked("sin",r(m,"Math")["$float!"](a))},ha.$$arity=1);l("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});c.def(n,"$sinh",ra=function(a){return r(m,"Math").$checked("sinh",r(m,"Math")["$float!"](a))},ra.$$arity=1);c.def(n,"$sqrt",va=function(a){return r(m,"Math").$checked("sqrt",r(m,"Math")["$float!"](a))},va.$$arity=1);c.def(n,"$tan",pa=function(a){a=r(m,"Math")["$float!"](a);return l(a["$infinite?"]())?D(r(m,"Float"),"NAN"):r(m,"Math").$checked("tan",
r(m,"Math")["$float!"](a))},pa.$$arity=1);l("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});c.def(n,"$tanh",L=function(a){return r(m,"Math").$checked("tanh",r(m,"Math")["$float!"](a))},L.$$arity=1)}(u[0],u)};Opal.modules["corelib/complex"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c*h:c["$*"](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c+h:c["$+"](h)}
function r(c,h){return"number"===typeof c&&"number"===typeof h?c-h:c["$-"](h)}function y(c,h){return"number"===typeof c&&"number"===typeof h?c/h:c["$/"](h)}var l=c.top,h=[],A=c.nil,x=c.const_get_qualified,n=c.const_get_relative,m=c.klass,w=c.truthy,H=c.module;c.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
l.$require("corelib/numeric");(function(h,$super,a){function e(){}h=e=m(h,$super,"Complex",e);var k=h.prototype,q=[h].concat(a),v,g,B,b,F,p,N,P,z,d,f,l,ja,Z,E,ta,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V;k.real=k.imag=A;c.defs(h,"$rect",v=function(a,b){var c,e,d;null==b&&(b=0);w(w(c=w(e=w(d=n(q,"Numeric")["$==="](a))?a["$real?"]():d)?n(q,"Numeric")["$==="](b):e)?b["$real?"]():c)||this.$raise(n(q,"TypeError"),"not a real");return this.$new(a,b)},v.$$arity=-2);(function(a,b){[a].concat(b);return c.alias(a,
"rectangular","rect")})(c.get_singleton_class(h),q);c.defs(h,"$polar",g=function(a,b){var c,e,d;null==b&&(b=0);w(w(c=w(e=w(d=n(q,"Numeric")["$==="](a))?a["$real?"]():d)?n(q,"Numeric")["$==="](b):e)?b["$real?"]():c)||this.$raise(n(q,"TypeError"),"not a real");return this.$new(u(a,n(q,"Math").$cos(b)),u(a,n(q,"Math").$sin(b)))},g.$$arity=-2);h.$attr_reader("real","imag");c.def(h,"$initialize",B=function(a,b){null==b&&(b=0);this.real=a;return this.imag=b},B.$$arity=-2);c.def(h,"$coerce",b=function(a){var b;
return w(n(q,"Complex")["$==="](a))?[a,this]:w(w(b=n(q,"Numeric")["$==="](a))?a["$real?"]():b)?[n(q,"Complex").$new(a,0),this]:this.$raise(n(q,"TypeError"),""+a.$class()+" can't be coerced into Complex")},b.$$arity=1);c.def(h,"$==",F=function(a){var b;return w(n(q,"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):w(w(b=n(q,"Numeric")["$==="](a))?a["$real?"]():b)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},F.$$arity=
1);c.def(h,"$-@",p=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},p.$$arity=0);c.def(h,"$+",N=function(a){var b;return w(n(q,"Complex")["$==="](a))?this.$Complex(D(this.real,a.$real()),D(this.imag,a.$imag())):w(w(b=n(q,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(D(this.real,a),this.imag):this.$__coerced__("+",a)},N.$$arity=1);c.def(h,"$-",P=function(a){var b;return w(n(q,"Complex")["$==="](a))?this.$Complex(r(this.real,a.$real()),r(this.imag,a.$imag())):w(w(b=n(q,
"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(r(this.real,a),this.imag):this.$__coerced__("-",a)},P.$$arity=1);c.def(h,"$*",z=function(a){var b;return w(n(q,"Complex")["$==="](a))?this.$Complex(r(u(this.real,a.$real()),u(this.imag,a.$imag())),D(u(this.real,a.$imag()),u(this.imag,a.$real()))):w(w(b=n(q,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(u(this.real,a),u(this.imag,a)):this.$__coerced__("*",a)},z.$$arity=1);c.def(h,"$/",d=function(a){var b,c,e,d;return w(n(q,"Complex")["$==="](a))?
w(w(b=w(c=w(e=w(d=n(q,"Number")["$==="](this.real))?this.real["$nan?"]():d)?e:w(d=n(q,"Number")["$==="](this.imag))?this.imag["$nan?"]():d)?c:w(e=n(q,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():e)?b:w(c=n(q,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():c)?n(q,"Complex").$new(x(n(q,"Float"),"NAN"),x(n(q,"Float"),"NAN")):y(u(this,a.$conj()),a.$abs2()):w(w(b=n(q,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):this.$__coerced__("/",a)},d.$$arity=
1);c.def(h,"$**",f=function(a){var b,e,d=A,f=A,g=A,k=A;e=k=g=f=d=d=e=A;if(a["$=="](0))return n(q,"Complex").$new(1,0);if(w(n(q,"Complex")["$==="](a)))return e=this.$polar(),b=c.to_ary(e),d=null==b[0]?A:b[0],f=null==b[1]?A:b[1],e,g=a.$real(),k=a.$imag(),e=n(q,"Math").$exp(r(u(g,n(q,"Math").$log(d)),u(k,f))),d=D(u(f,g),u(k,n(q,"Math").$log(d))),n(q,"Complex").$polar(e,d);if(w(n(q,"Integer")["$==="](a))){if(w("number"===typeof a?0<a:a["$>"](0))){f=d=this;for(g=r(a,1);w(g["$!="](0));){a=g.$divmod(2);
e=c.to_ary(a);k=null==e[0]?A:e[0];e=null==e[1]?A:e[1];for(a;e["$=="](0);)d=this.$Complex(r(u(d.$real(),d.$real()),u(d.$imag(),d.$imag())),u(u(2,d.$real()),d.$imag())),g=k,b=g.$divmod(2),a=c.to_ary(b),k=null==a[0]?A:a[0],e=null==a[1]?A:a[1],b;f=u(f,d);g=r(g,1)}return f}return y(n(q,"Rational").$new(1,1),this)["$**"](a["$-@"]())}return w(w(b=n(q,"Float")["$==="](a))?b:n(q,"Rational")["$==="](a))?(e=this.$polar(),b=c.to_ary(e),d=null==b[0]?A:b[0],f=null==b[1]?A:b[1],e,n(q,"Complex").$polar(d["$**"](a),
u(f,a))):this.$__coerced__("**",a)},f.$$arity=1);c.def(h,"$abs",l=function(){return n(q,"Math").$hypot(this.real,this.imag)},l.$$arity=0);c.def(h,"$abs2",ja=function(){return D(u(this.real,this.real),u(this.imag,this.imag))},ja.$$arity=0);c.def(h,"$angle",Z=function(){return n(q,"Math").$atan2(this.imag,this.real)},Z.$$arity=0);c.alias(h,"arg","angle");c.def(h,"$conj",E=function(){return this.$Complex(this.real,this.imag["$-@"]())},E.$$arity=0);c.alias(h,"conjugate","conj");c.def(h,"$denominator",
ta=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},ta.$$arity=0);c.alias(h,"divide","/");c.def(h,"$eql?",ha=function(a){var b,c;return w(b=w(c=n(q,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):c)?this["$=="](a):b},ha.$$arity=1);c.def(h,"$fdiv",ra=function(a){w(n(q,"Numeric")["$==="](a))||this.$raise(n(q,"TypeError"),""+a.$class()+" can't be coerced into Complex");return y(this,a)},ra.$$arity=1);c.def(h,"$finite?",va=function(){var a;return w(a=this.real["$finite?"]())?
this.imag["$finite?"]():a},va.$$arity=0);c.def(h,"$hash",pa=function(){return"Complex:"+this.real+":"+this.imag},pa.$$arity=0);c.alias(h,"imaginary","imag");c.def(h,"$infinite?",L=function(){var a;return w(a=this.real["$infinite?"]())?a:this.imag["$infinite?"]()},L.$$arity=0);c.def(h,"$inspect",t=function(){return"("+this+")"},t.$$arity=0);c.alias(h,"magnitude","abs");c.udef(h,"$negative?");c.def(h,"$numerator",za=function(){var a=A,a=this.$denominator();return this.$Complex(u(this.real.$numerator(),
y(a,this.real.$denominator())),u(this.imag.$numerator(),y(a,this.imag.$denominator())))},za.$$arity=0);c.alias(h,"phase","arg");c.def(h,"$polar",ca=function(){return[this.$abs(),this.$arg()]},ca.$$arity=0);c.udef(h,"$positive?");c.alias(h,"quo","/");c.def(h,"$rationalize",X=function(a){1<arguments.length&&this.$raise(n(q,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");w(this.imag["$!="](0))&&this.$raise(n(q,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},
X.$$arity=-1);c.def(h,"$real?",na=function(){return!1},na.$$arity=0);c.def(h,"$rect",S=function(){return[this.real,this.imag]},S.$$arity=0);c.alias(h,"rectangular","rect");c.def(h,"$to_f",Y=function(){this.imag["$=="](0)||this.$raise(n(q,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},Y.$$arity=0);c.def(h,"$to_i",U=function(){this.imag["$=="](0)||this.$raise(n(q,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},U.$$arity=0);c.def(h,"$to_r",
fa=function(){this.imag["$=="](0)||this.$raise(n(q,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},fa.$$arity=0);c.def(h,"$to_s",V=function(){var a,b,c,e=A,e=this.real.$inspect(),e=D(e,w(w(a=w(b=w(c=n(q,"Number")["$==="](this.imag))?this.imag["$nan?"]():c)?b:this.imag["$positive?"]())?a:this.imag["$zero?"]())?"+":"-"),e=D(e,this.imag.$abs().$inspect());w(w(a=n(q,"Number")["$==="](this.imag))?w(b=this.imag["$nan?"]())?b:this.imag["$infinite?"]():a)&&(e=D(e,"*"));return D(e,
"i")},V.$$arity=0);return c.const_set(q[0],"I",h.$new(0,1))})(h[0],n(h,"Numeric"),h);(function(h,l){function a(){}var e=a=H(h,"Kernel",a),k=[e].concat(l),q;c.def(e,"$Complex",q=function(a,c){null==c&&(c=A);return w(c)?n(k,"Complex").$new(a,c):n(k,"Complex").$new(a,0)},q.$$arity=-2)})(h[0],h);return function(h,$super,a){function e(){}h=e=m(h,$super,"String",e);[h].concat(a);var k;return(c.def(h,"$to_c",k=function(){function a(){var c=k.match(b)[0];k=k.slice(c.length);return c.replace(/_/g,"")}function c(){if(b.test(k)){var h=
parseFloat(a());if("/"===k[0]){k=k.slice(1);if(b.test(k)){var p=parseFloat(a());return e.$Rational(h,p)}k="/"+k}return h}return null}var e=this,k=e,b=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;k.match(b);var h,p;h=c();return h?(p=c())?e.$Complex(h,p):"i"===k[0]?e.$Complex(0,h):e.$Complex(h,0):"i"===k[0]?e.$Complex(0,1):"-"===k[0]&&"i"===k[1]?e.$Complex(0,-1):"+"===k[0]&&"i"===k[1]?e.$Complex(0,1):e.$Complex(0,0)},k.$$arity=0),A)&&"to_c"}(h[0],null,h)};Opal.modules["corelib/rational"]=function(c){function u(c,
a){return"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a)}function D(c,a){return"number"===typeof c&&"number"===typeof a?c/a:c["$/"](a)}function r(c,a){return"number"===typeof c&&"number"===typeof a?c-a:c["$-"](a)}function y(c,a){return"number"===typeof c&&"number"===typeof a?c*a:c["$*"](a)}function l(c,a){return"number"===typeof c&&"number"===typeof a?c+a:c["$+"](a)}var h=c.top,A=[],x=c.nil,n=c.const_get_qualified,m=c.const_get_relative,w=c.klass,H=c.truthy,M=c.module;c.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));
h.$require("corelib/numeric");(function(h,$super,e){function k(){}h=k=w(h,$super,"Rational",k);var q=h.prototype,v=[h].concat(e),g,B,b,F,p,N,P,z,d,f,ya,ja,Z,E,A,ha,ra,va,pa,L,t,za,ca,X,na,S;q.num=q.den=x;c.defs(h,"$reduce",g=function(b,c){var e=x;b=b.$to_i();c=c.$to_i();if(c["$=="](0))this.$raise(m(v,"ZeroDivisionError"),"divided by 0");else if(H(u(c,0)))b=b["$-@"](),c=c["$-@"]();else if(c["$=="](1))return this.$new(b,c);e=b.$gcd(c);return this.$new(D(b,e),D(c,e))},g.$$arity=2);c.defs(h,"$convert",
B=function(b,c){var e,d;H(H(e=b["$nil?"]())?e:c["$nil?"]())&&this.$raise(m(v,"TypeError"),"cannot convert nil into Rational");if(H(H(e=m(v,"Integer")["$==="](b))?m(v,"Integer")["$==="](c):e))return this.$reduce(b,c);H(H(e=H(d=m(v,"Float")["$==="](b))?d:m(v,"String")["$==="](b))?e:m(v,"Complex")["$==="](b))&&(b=b.$to_r());H(H(e=H(d=m(v,"Float")["$==="](c))?d:m(v,"String")["$==="](c))?e:m(v,"Complex")["$==="](c))&&(c=c.$to_r());return H(H(e=c["$equal?"](1))?m(v,"Integer")["$==="](b)["$!"]():e)?m(v,
"Opal")["$coerce_to!"](b,m(v,"Rational"),"to_r"):H(H(e=m(v,"Numeric")["$==="](b))?m(v,"Numeric")["$==="](c):e)?D(b,c):this.$reduce(b,c)},B.$$arity=2);c.def(h,"$initialize",b=function(b,c){this.num=b;return this.den=c},b.$$arity=2);c.def(h,"$numerator",F=function(){return this.num},F.$$arity=0);c.def(h,"$denominator",p=function(){return this.den},p.$$arity=0);c.def(h,"$coerce",N=function(b){var c=x,c=b;return m(v,"Rational")["$==="](c)?[b,this]:m(v,"Integer")["$==="](c)?[b.$to_r(),this]:m(v,"Float")["$==="](c)?
[b,this.$to_f()]:x},N.$$arity=1);c.def(h,"$==",P=function(b){var c=x,c=b;return m(v,"Rational")["$==="](c)?this.num["$=="](b.$numerator())?this.den["$=="](b.$denominator()):this.num["$=="](b.$numerator()):m(v,"Integer")["$==="](c)?this.num["$=="](b)?this.den["$=="](1):this.num["$=="](b):m(v,"Float")["$==="](c)?this.$to_f()["$=="](b):b["$=="](this)},P.$$arity=1);c.def(h,"$<=>",z=function(b){var c=x,c=b;return m(v,"Rational")["$==="](c)?r(y(this.num,b.$denominator()),y(this.den,b.$numerator()))["$<=>"](0):
m(v,"Integer")["$==="](c)?r(this.num,y(this.den,b))["$<=>"](0):m(v,"Float")["$==="](c)?this.$to_f()["$<=>"](b):this.$__coerced__("<=>",b)},z.$$arity=1);c.def(h,"$+",d=function(b){var c=x,e=c=x;c=b;m(v,"Rational")["$==="](c)?(c=l(y(this.num,b.$denominator()),y(this.den,b.$numerator())),e=y(this.den,b.$denominator()),b=this.$Rational(c,e)):b=m(v,"Integer")["$==="](c)?this.$Rational(l(this.num,y(b,this.den)),this.den):m(v,"Float")["$==="](c)?l(this.$to_f(),b):this.$__coerced__("+",b);return b},d.$$arity=
1);c.def(h,"$-",f=function(b){var c=x,e=c=x;c=b;m(v,"Rational")["$==="](c)?(c=r(y(this.num,b.$denominator()),y(this.den,b.$numerator())),e=y(this.den,b.$denominator()),b=this.$Rational(c,e)):b=m(v,"Integer")["$==="](c)?this.$Rational(r(this.num,y(b,this.den)),this.den):m(v,"Float")["$==="](c)?r(this.$to_f(),b):this.$__coerced__("-",b);return b},f.$$arity=1);c.def(h,"$*",ya=function(b){var c=x,e=c=x;c=b;m(v,"Rational")["$==="](c)?(c=y(this.num,b.$numerator()),e=y(this.den,b.$denominator()),b=this.$Rational(c,
e)):b=m(v,"Integer")["$==="](c)?this.$Rational(y(this.num,b),this.den):m(v,"Float")["$==="](c)?y(this.$to_f(),b):this.$__coerced__("*",b);return b},ya.$$arity=1);c.def(h,"$/",ja=function(b){var c=x,e=c=x;c=b;m(v,"Rational")["$==="](c)?(c=y(this.num,b.$denominator()),e=y(this.den,b.$numerator()),b=this.$Rational(c,e)):b=m(v,"Integer")["$==="](c)?b["$=="](0)?D(this.$to_f(),0):this.$Rational(this.num,y(this.den,b)):m(v,"Float")["$==="](c)?D(this.$to_f(),b):this.$__coerced__("/",b);return b},ja.$$arity=
1);c.def(h,"$**",Z=function(b){var c=x,c=b;return m(v,"Integer")["$==="](c)?H(this["$=="](0)?u(b,0):this["$=="](0))?n(m(v,"Float"),"INFINITY"):H("number"===typeof b?0<b:b["$>"](0))?this.$Rational(this.num["$**"](b),this.den["$**"](b)):H(u(b,0))?this.$Rational(this.den["$**"](b["$-@"]()),this.num["$**"](b["$-@"]())):this.$Rational(1,1):m(v,"Float")["$==="](c)?this.$to_f()["$**"](b):m(v,"Rational")["$==="](c)?b["$=="](0)?this.$Rational(1,1):b.$denominator()["$=="](1)?H(u(b,0))?this.$Rational(this.den["$**"](b.$numerator().$abs()),
this.num["$**"](b.$numerator().$abs())):this.$Rational(this.num["$**"](b.$numerator()),this.den["$**"](b.$numerator())):H(this["$=="](0)?u(b,0):this["$=="](0))?this.$raise(m(v,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](b):this.$__coerced__("**",b)},Z.$$arity=1);c.def(h,"$abs",E=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},E.$$arity=0);c.def(h,"$ceil",A=function(b){null==b&&(b=0);return b["$=="](0)?D(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",
b)},A.$$arity=-1);c.alias(h,"divide","/");c.def(h,"$floor",ha=function(b){null==b&&(b=0);return b["$=="](0)?D(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",b)},ha.$$arity=-1);c.def(h,"$hash",ra=function(){return"Rational:"+this.num+":"+this.den},ra.$$arity=0);c.def(h,"$inspect",va=function(){return"("+this+")"},va.$$arity=0);c.alias(h,"quo","/");c.def(h,"$rationalize",pa=function(b){1<arguments.length&&this.$raise(m(v,"ArgumentError"),"wrong number of arguments ("+arguments.length+
" for 0..1)");if(null==b)return this;for(var c=b.$abs(),e=r(this,c),c=l(this,c),d=0,f=1,g=1,k=0,h,p,t;;){h=e.$ceil();if("number"===typeof h&&"number"===typeof c?h<=c:h["$<="](c))break;t=h-1;h=t*f+d;p=t*k+g;d=D(1,r(c,t));c=D(1,r(e,t));e=d;d=f;g=k;f=h;k=p}return this.$Rational(h*f+d,h*k+g)},pa.$$arity=-1);c.def(h,"$round",L=function(b){var c=x,e=x,c=x;null==b&&(b=0);if(!b["$=="](0))return this.$with_precision("round",b);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;c=l(y(this.num.$abs(),
2),this.den);e=y(this.den,2);c=D(c,e).$truncate();return H(u(this.num,0))?c["$-@"]():c},L.$$arity=-1);c.def(h,"$to_f",t=function(){return D(this.num,this.den)},t.$$arity=0);c.def(h,"$to_i",za=function(){return this.$truncate()},za.$$arity=0);c.def(h,"$to_r",ca=function(){return this},ca.$$arity=0);c.def(h,"$to_s",X=function(){return""+this.num+"/"+this.den},X.$$arity=0);c.def(h,"$truncate",na=function(b){null==b&&(b=0);return b["$=="](0)?H(u(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",
b)},na.$$arity=-1);return(c.def(h,"$with_precision",S=function(b,c){var e=x,d=x;H(m(v,"Integer")["$==="](c))||this.$raise(m(v,"TypeError"),"not an Integer");e=10["$**"](c);d=y(this,e);return H(u(c,1))?D(d.$send(b),e).$to_i():this.$Rational(d.$send(b),e)},S.$$arity=2),x)&&"with_precision"})(A[0],m(A,"Numeric"),A);(function(h,a){function e(){}var k=e=M(h,"Kernel",e),q=[k].concat(a),v;c.def(k,"$Rational",v=function(a,c){null==c&&(c=1);return m(q,"Rational").$convert(a,c)},v.$$arity=-2)})(A[0],A);return function(h,
$super,e){function k(){}h=k=w(h,$super,"String",k);[h].concat(e);var q;return(c.def(h,"$to_r",q=function(){function c(){var b=e.match(k)[0];e=e.slice(b.length);return b.replace(/_/g,"")}var e=this.trimLeft(),k=/^[+-]?[\d_]+(\.[\d_]+)?/;e.match(k);var b,h;return k.test(e)?(b=parseFloat(c()),"/"===e[0]&&(e=e.slice(1),k.test(e))?(h=parseFloat(c()),this.$Rational(b,h)):this.$Rational(b,1)):this.$Rational(0,1)},q.$$arity=0),x)&&"to_r"}(A[0],null,A)};Opal.modules["corelib/time"]=function(c){function u(c,
h){return"number"===typeof c&&"number"===typeof h?c+h:c["$+"](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c/h:c["$/"](h)}function r(c,h){return"number"===typeof c&&"number"===typeof h?c-h:c["$-"](h)}function y(c,h){return"number"===typeof c&&"number"===typeof h?c<=h:c["$<="](h)}var l=c.top,h=[],A=c.nil,x=c.const_get_relative,n=c.slice,m=c.klass,w=c.truthy,H=c.range;c.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
l.$require("corelib/comparable");return function(h,$super,a){function e(){}function k(a,b,c,e,d,f){a=a.$$is_string?parseInt(a,10):x(v,"Opal")["$coerce_to!"](a,x(v,"Integer"),"to_int");if(b===A)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case "jan":b=1;break;case "feb":b=2;break;case "mar":b=3;break;case "apr":b=4;break;case "may":b=5;break;case "jun":b=6;break;case "jul":b=7;break;case "aug":b=8;break;case "sep":b=9;break;case "oct":b=10;break;case "nov":b=
11;break;case "dec":b=12;break;default:b=b.$to_i()}else b=x(v,"Opal")["$coerce_to!"](b,x(v,"Integer"),"to_int");(1>b||12<b)&&q.$raise(x(v,"ArgumentError"),"month out of range: "+b);--b;c=c===A?1:c.$$is_string?parseInt(c,10):x(v,"Opal")["$coerce_to!"](c,x(v,"Integer"),"to_int");(1>c||31<c)&&q.$raise(x(v,"ArgumentError"),"day out of range: "+c);e=e===A?0:e.$$is_string?parseInt(e,10):x(v,"Opal")["$coerce_to!"](e,x(v,"Integer"),"to_int");(0>e||24<e)&&q.$raise(x(v,"ArgumentError"),"hour out of range: "+
e);d=d===A?0:d.$$is_string?parseInt(d,10):x(v,"Opal")["$coerce_to!"](d,x(v,"Integer"),"to_int");(0>d||59<d)&&q.$raise(x(v,"ArgumentError"),"min out of range: "+d);f===A?f=0:f.$$is_number||(f=f.$$is_string?parseInt(f,10):x(v,"Opal")["$coerce_to!"](f,x(v,"Integer"),"to_int"));(0>f||60<f)&&q.$raise(x(v,"ArgumentError"),"sec out of range: "+f);return[a,b,c,e,d,f]}var q=e=m(h,$super,"Time",e),v=[q].concat(a),g,B,b,F,p,N,P,z,d,f,l,ja,Z,E,ta,ha,ra,va,pa,L,t,za,ca,X,na,S,Y,U,fa,V,K,J,Ka,G,qa,la,Da,aa,ba,
ma,sa,da;q.$include(x(v,"Comparable"));var ea="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),R="Sun Mon Tue Wed Thu Fri Sat".split(" "),Ea="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Aa="January February March April May June July August September October November December".split(" ");c.defs(q,"$at",g=function(a,b){var c;if(x(v,"Time")["$==="](a))return void 0!==b&&this.$raise(x(v,"TypeError"),"can't convert Time into an exact number"),c=new Date(a.getTime()),
c.is_utc=a.is_utc,c;a.$$is_number||(a=x(v,"Opal")["$coerce_to!"](a,x(v,"Integer"),"to_int"));if(void 0===b)return new Date(1E3*a);b.$$is_number||(b=x(v,"Opal")["$coerce_to!"](b,x(v,"Integer"),"to_int"));return new Date(1E3*a+b/1E3)},g.$$arity=-2);c.defs(q,"$new",B=function(a,b,c,e,d,f,g){null==b&&(b=A);null==c&&(c=A);null==e&&(e=A);null==d&&(d=A);null==f&&(f=A);null==g&&(g=A);if(void 0===a)return new Date;g!==A&&this.$raise(x(v,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
f=k(a,b,c,e,d,f);a=f[0];b=f[1];c=f[2];e=f[3];d=f[4];f=f[5];b=new Date(a,b,c,e,d,0,1E3*f);100>a&&b.setFullYear(a);return b},B.$$arity=-1);c.defs(q,"$local",b=function(a,b,c,e,d,f,g,h,p,t){null==b&&(b=A);null==c&&(c=A);null==e&&(e=A);null==d&&(d=A);null==f&&(f=A);null==g&&(g=A);null==h&&(h=A);null==p&&(p=A);null==t&&(t=A);var q;10===arguments.length&&(q=n.call(arguments),a=q[5],b=q[4],c=q[3],e=q[2],d=q[1],f=q[0]);q=k(a,b,c,e,d,f);a=q[0];b=q[1];c=q[2];e=q[3];d=q[4];f=q[5];q=new Date(a,b,c,e,d,0,1E3*
f);100>a&&q.setFullYear(a);return q},b.$$arity=-2);c.defs(q,"$gm",F=function(a,b,c,e,d,f,g,h,p,t){null==b&&(b=A);null==c&&(c=A);null==e&&(e=A);null==d&&(d=A);null==f&&(f=A);null==g&&(g=A);null==h&&(h=A);null==p&&(p=A);null==t&&(t=A);var q;10===arguments.length&&(q=n.call(arguments),a=q[5],b=q[4],c=q[3],e=q[2],d=q[1],f=q[0]);q=k(a,b,c,e,d,f);a=q[0];b=q[1];c=q[2];e=q[3];d=q[4];f=q[5];q=new Date(Date.UTC(a,b,c,e,d,0,1E3*f));100>a&&q.setUTCFullYear(a);q.is_utc=!0;return q},F.$$arity=-2);(function(a,b){[a].concat(b);
c.alias(a,"mktime","local");return c.alias(a,"utc","gm")})(c.get_singleton_class(q),v);c.defs(q,"$now",p=function(){return this.$new()},p.$$arity=0);c.def(q,"$+",N=function(a){w(x(v,"Time")["$==="](a))&&this.$raise(x(v,"TypeError"),"time + time?");a.$$is_number||(a=x(v,"Opal")["$coerce_to!"](a,x(v,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},N.$$arity=1);c.def(q,"$-",P=function(a){if(w(x(v,"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||
(a=x(v,"Opal")["$coerce_to!"](a,x(v,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},P.$$arity=1);c.def(q,"$<=>",z=function(a){var b=A;if(w(x(v,"Time")["$==="](a)))return this.$to_f()["$<=>"](a.$to_f());b=a["$<=>"](this);return w(b["$nil?"]())?A:w("number"===typeof b?0<b:b["$>"](0))?-1:w("number"===typeof b?0>b:b["$<"](0))?1:0},z.$$arity=1);c.def(q,"$==",d=function(a){var b;return w(b=x(v,"Time")["$==="](a))?this.$to_f()===a.$to_f():b},d.$$arity=1);c.def(q,"$asctime",
f=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},f.$$arity=0);c.alias(q,"ctime","asctime");c.def(q,"$day",l=function(){return this.is_utc?this.getUTCDate():this.getDate()},l.$$arity=0);c.def(q,"$yday",ja=function(){var a=A,b=A,c=A,a=x(v,"Time").$new(this.$year()).$to_i(),b=x(v,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),c=86400;return u(D(r(b,a),c).$round(),1)},ja.$$arity=0);c.def(q,"$isdst",Z=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),
6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())},Z.$$arity=0);c.alias(q,"dst?","isdst");c.def(q,"$dup",E=function(){var a=A,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},E.$$arity=0);c.def(q,"$eql?",ta=function(a){var b;return w(b=a["$is_a?"](x(v,"Time")))?this["$<=>"](a)["$zero?"]():b},ta.$$arity=1);c.def(q,"$friday?",ha=function(){return 5==this.$wday()},ha.$$arity=0);c.def(q,"$hash",ra=function(){return"Time:"+
this.getTime()},ra.$$arity=0);c.def(q,"$hour",va=function(){return this.is_utc?this.getUTCHours():this.getHours()},va.$$arity=0);c.def(q,"$inspect",pa=function(){return w(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},pa.$$arity=0);c.alias(q,"mday","day");c.def(q,"$min",L=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},L.$$arity=0);c.def(q,"$mon",t=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},t.$$arity=
0);c.def(q,"$monday?",za=function(){return 1==this.$wday()},za.$$arity=0);c.alias(q,"month","mon");c.def(q,"$saturday?",ca=function(){return 6==this.$wday()},ca.$$arity=0);c.def(q,"$sec",X=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},X.$$arity=0);c.def(q,"$succ",na=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},na.$$arity=0);c.def(q,"$usec",S=function(){return 1E3*this.getMilliseconds()},S.$$arity=0);c.def(q,"$zone",Y=function(){var a=this.toString(),
b;b=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:b},Y.$$arity=0);c.def(q,"$getgm",U=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},U.$$arity=0);c.alias(q,"getutc","getgm");c.def(q,"$gmtime",fa=function(){this.is_utc=!0;return this},fa.$$arity=0);c.alias(q,"utc","gmtime");c.def(q,"$gmt?",V=function(){return!0===this.is_utc},V.$$arity=0);c.def(q,"$gmt_offset",K=function(){return 60*-this.getTimezoneOffset()},
K.$$arity=0);c.def(q,"$strftime",J=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,e,d,f){d="";var g=-1!==c.indexOf("0"),k=-1===c.indexOf("-"),h=-1!==c.indexOf("_"),p=-1!==c.indexOf("^"),t=-1!==c.indexOf("#"),q=(c.match(":")||[]).length;e=parseInt(e,10);g&&h&&(c.indexOf("0")<c.indexOf("_")?g=!1:h=!1);switch(f){case "Y":d+=b.$year();break;case "C":g=!h;d+=Math.round(b.$year()/100);break;case "y":g=!h;d+=b.$year()%100;break;case "m":g=!h;d+=b.$mon();break;
case "B":d+=Aa[b.$mon()-1];break;case "b":case "h":h=!g;d+=Ea[b.$mon()-1];break;case "d":g=!h;d+=b.$day();break;case "e":h=!g;d+=b.$day();break;case "j":d+=b.$yday();break;case "H":g=!h;d+=b.$hour();break;case "k":h=!g;d+=b.$hour();break;case "I":g=!h;d+=b.$hour()%12||12;break;case "l":h=!g;d+=b.$hour()%12||12;break;case "P":d+=12<=b.$hour()?"pm":"am";break;case "p":d+=12<=b.$hour()?"PM":"AM";break;case "M":g=!h;d+=b.$min();break;case "S":g=!h;d+=b.$sec();break;case "L":g=!h;e=isNaN(e)?3:e;d+=b.getMilliseconds();
break;case "N":e=isNaN(e)?9:e;d+=b.getMilliseconds().toString().$rjust(3,"0");d=d.$ljust(e,"0");break;case "z":a=b.getTimezoneOffset();c=Math.floor(Math.abs(a)/60);f=Math.abs(a)%60;d=d+(0>a?"+":"-")+(10>c?"0":"");d+=c;0<q&&(d+=":");d+=10>f?"0":"";d+=f;1<q&&(d+=":00");break;case "Z":d+=b.$zone();break;case "A":d+=ea[b.$wday()];break;case "a":d+=R[b.$wday()];break;case "u":d+=b.$wday()+1;break;case "w":d+=b.$wday();break;case "V":d+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":d+=
b.$cweek_cyear()["$[]"](1);break;case "g":d+=b.$cweek_cyear()["$[]"](1)["$[]"](H(-2,-1,!1));break;case "s":d+=b.$to_i();break;case "n":d+="\n";break;case "t":d+="\t";break;case "%":d+="%";break;case "c":d+=b.$strftime("%a %b %e %T %Y");break;case "D":case "x":d+=b.$strftime("%m/%d/%y");break;case "F":d+=b.$strftime("%Y-%m-%d");break;case "v":d+=b.$strftime("%e-%^b-%4Y");break;case "r":d+=b.$strftime("%I:%M:%S %p");break;case "R":d+=b.$strftime("%H:%M");break;case "T":case "X":d+=b.$strftime("%H:%M:%S");
break;default:return a}p&&(d=d.toUpperCase());t&&(d=d.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));k&&(g||h)&&(d=d.$rjust(isNaN(e)?2:e,h?" ":"0"));return d})},J.$$arity=1);c.def(q,"$sunday?",Ka=function(){return 0==this.$wday()},Ka.$$arity=0);c.def(q,"$thursday?",G=function(){return 4==this.$wday()},G.$$arity=0);c.def(q,"$to_a",qa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),
this.$isdst(),this.$zone()]},qa.$$arity=0);c.def(q,"$to_f",la=function(){return this.getTime()/1E3},la.$$arity=0);c.def(q,"$to_i",Da=function(){return parseInt(this.getTime()/1E3,10)},Da.$$arity=0);c.alias(q,"to_s","inspect");c.def(q,"$tuesday?",aa=function(){return 2==this.$wday()},aa.$$arity=0);c.alias(q,"tv_sec","to_i");c.alias(q,"tv_usec","usec");c.alias(q,"utc?","gmt?");c.alias(q,"gmtoff","gmt_offset");c.alias(q,"utc_offset","gmt_offset");c.def(q,"$wday",ba=function(){return this.is_utc?this.getUTCDay():
this.getDay()},ba.$$arity=0);c.def(q,"$wednesday?",ma=function(){return 3==this.$wday()},ma.$$arity=0);c.def(q,"$year",sa=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},sa.$$arity=0);return(c.def(q,"$cweek_cyear",da=function(){var a,b=A,c=A,e=c=c=b=A,e=A,b=x(v,"Time").$new(this.$year(),1,1),c=b.$wday(),b=this.$year();w(w(a=y(c,4))?c["$!="](0):a)?c=r(c,1):(c=r(r(c,7),1),c["$=="](-8)&&(c=-1));c=D(u(this.$yday(),c),7).$ceil();if(w(y(c,0)))return x(v,"Time").$new(r(this.$year(),
1),12,31).$cweek_cyear();c["$=="](53)&&(e=x(v,"Time").$new(this.$year(),12,31),e=e.$wday(),w(w(a=y(e,3))?e["$!="](0):a)&&(c=1,b=u(b,1)));return[c,b]},da.$$arity=0),A)&&"cweek_cyear"}(h[0],Date,h)};Opal.modules["corelib/struct"]=function(c){function u(c,a){return"number"===typeof c&&"number"===typeof a?c>a:c["$>"](a)}function D(c,a){return"number"===typeof c&&"number"===typeof a?c-a:c["$-"](a)}function r(c,a){return"number"===typeof c&&"number"===typeof a?c<a:c["$<"](a)}function y(c,a){return"number"===
typeof c&&"number"===typeof a?c>=a:c["$>="](a)}function l(c,a){return"number"===typeof c&&"number"===typeof a?c+a:c["$+"](a)}var h=c.top,A=[],x=c.nil,n=c.const_get_relative,m=c.klass,w=c.hash2,H=c.truthy,M=c.send;c.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));
h.$require("corelib/enumerable");return function(h,$super,e){function k(){}h=k=m(h,$super,"Struct",k);var q=[h].concat(e),v,g,B,b,F,p,N,P,z,d,f,ya,ja,A,E,ta,ha,ra,va;h.$include(n(q,"Enumerable"));c.defs(h,"$new",v=function(b,e,d){var f=v.$$p,g=f||x,k,h,p,z;k=x;f&&(v.$$p=null);f&&(v.$$p=null);k=c.slice.call(arguments,1,arguments.length);f=c.extract_kwargs(k);if(null==f)f=w([],{});else if(!f.$$is_hash)throw c.ArgumentError.$new("expected kwargs");h=k;f=f.$$smap.keyword_init;null==f&&(f=!1);if(H(b))try{b=
n(q,"Opal")["$const_name!"](b)}catch(F){if(c.rescue(F,[n(q,"TypeError"),n(q,"NameError")]))try{h.$unshift(b),b=x}finally{c.pop_exception()}else throw F;}M(h,"map",[],(p=function(b){null==b&&(b=x);return n(q,"Opal")["$coerce_to!"](b,n(q,"String"),"to_str")},p.$$s=this,p.$$arity=1,p));k=M(n(q,"Class"),"new",[this],(z=function(){var b=z.$$s||this,e;M(h,"each",[],(e=function(b){var c=e.$$s||this;null==b&&(b=x);return c.$define_struct_attribute(b)},e.$$s=b,e.$$arity=1,e));return function(b,e){[b].concat(e);
var d;c.def(b,"$new",d=function(b){var e,d=x;e=c.slice.call(arguments,0,arguments.length);d=this.$allocate();d.$$data={};M(d,"initialize",c.to_a(e));return d},d.$$arity=-1);return b.$alias_method("[]","new")}(c.get_singleton_class(b),q)},z.$$s=this,z.$$arity=0,z));H(g)&&M(k,"module_eval",[],g.$to_proc());k.$$keyword_init=f;H(b)&&n(q,"Struct").$const_set(b,k);return k},v.$$arity=-2);c.defs(h,"$define_struct_attribute",g=function(b){var c,e;this["$=="](n(q,"Struct"))&&this.$raise(n(q,"ArgumentError"),
"you cannot define attributes to the Struct class");this.$members()["$<<"](b);M(this,"define_method",[b],(c=function(){return(c.$$s||this).$$data[b]},c.$$s=this,c.$$arity=0,c));return M(this,"define_method",[""+b+"="],(e=function(c){var d=e.$$s||this;null==c&&(c=x);return d.$$data[b]=c},e.$$s=this,e.$$arity=1,e))},g.$$arity=1);c.defs(h,"$members",B=function(){var b;null==this.members&&(this.members=x);this["$=="](n(q,"Struct"))&&this.$raise(n(q,"ArgumentError"),"the Struct class has no members");
return this.members=H(b=this.members)?b:[]},B.$$arity=0);c.defs(h,"$inherited",b=function(b){var c,e=x;null==this.members&&(this.members=x);e=this.members;return M(b,"instance_eval",[],(c=function(){return(c.$$s||this).members=e},c.$$s=this,c.$$arity=0,c))},b.$$arity=1);c.def(h,"$initialize",F=function(b){var e,d,f,g,k=x,h=x;e=c.slice.call(arguments,0,arguments.length);if(H(this.$class().$$keyword_init))return k=H(d=e.$last())?d:w([],{}),H(H(d=u(e.$length(),1))?d:1===e.length&&!k.$$is_hash)&&this.$raise(n(q,
"ArgumentError"),"wrong number of arguments (given "+e.$length()+", expected 0)"),h=D(k.$keys(),this.$class().$members()),H(h["$any?"]())&&this.$raise(n(q,"ArgumentError"),"unknown keywords: "+h.$join(", ")),M(this.$class().$members(),"each",[],(f=function(b){var e=f.$$s||this,d=x;null==b&&(b=x);d=[b,k["$[]"](b)];M(e,"[]=",c.to_a(d));return d[D(d.length,1)]},f.$$s=this,f.$$arity=1,f));H(u(e.$length(),this.$class().$members().$length()))&&this.$raise(n(q,"ArgumentError"),"struct size differs");return M(this.$class().$members(),
"each_with_index",[],(g=function(b,d){var f=g.$$s||this,k=x;null==b&&(b=x);null==d&&(d=x);k=[b,e["$[]"](d)];M(f,"[]=",c.to_a(k));return k[D(k.length,1)]},g.$$s=this,g.$$arity=2,g))},F.$$arity=-1);c.def(h,"$members",p=function(){return this.$class().$members()},p.$$arity=0);c.def(h,"$hash",N=function(){return n(q,"Hash").$new(this.$$data).$hash()},N.$$arity=0);c.def(h,"$[]",P=function(b){H(n(q,"Integer")["$==="](b))?(H(r(b,this.$class().$members().$size()["$-@"]()))&&this.$raise(n(q,"IndexError"),
"offset "+b+" too small for struct(size:"+this.$class().$members().$size()+")"),H(y(b,this.$class().$members().$size()))&&this.$raise(n(q,"IndexError"),"offset "+b+" too large for struct(size:"+this.$class().$members().$size()+")"),b=this.$class().$members()["$[]"](b)):H(n(q,"String")["$==="](b))?this.$$data.hasOwnProperty(b)||this.$raise(n(q,"NameError").$new("no member '"+b+"' in struct",b)):this.$raise(n(q,"TypeError"),"no implicit conversion of "+b.$class()+" into Integer");b=n(q,"Opal")["$coerce_to!"](b,
n(q,"String"),"to_str");return this.$$data[b]},P.$$arity=1);c.def(h,"$[]=",z=function(b,c){H(n(q,"Integer")["$==="](b))?(H(r(b,this.$class().$members().$size()["$-@"]()))&&this.$raise(n(q,"IndexError"),"offset "+b+" too small for struct(size:"+this.$class().$members().$size()+")"),H(y(b,this.$class().$members().$size()))&&this.$raise(n(q,"IndexError"),"offset "+b+" too large for struct(size:"+this.$class().$members().$size()+")"),b=this.$class().$members()["$[]"](b)):H(n(q,"String")["$==="](b))?H(this.$class().$members()["$include?"](b.$to_sym()))||
this.$raise(n(q,"NameError").$new("no member '"+b+"' in struct",b)):this.$raise(n(q,"TypeError"),"no implicit conversion of "+b.$class()+" into Integer");b=n(q,"Opal")["$coerce_to!"](b,n(q,"String"),"to_str");return this.$$data[b]=c},z.$$arity=2);c.def(h,"$==",d=function(b){function c(b,f){var g,k,h;e[b.$__id__()]=!0;d[f.$__id__()]=!0;for(g in b.$$data)if(k=b.$$data[g],h=f.$$data[g],n(q,"Struct")["$==="](k)){if(!(e.hasOwnProperty(k.$__id__())&&d.hasOwnProperty(h.$__id__())||c(k,h)))return!1}else if(!k["$=="](h))return!1;
return!0}if(!H(b["$instance_of?"](this.$class())))return!1;var e={},d={};return c(this,b)},d.$$arity=1);c.def(h,"$eql?",f=function(b){function c(b,f){var g,k,h;e[b.$__id__()]=!0;d[f.$__id__()]=!0;for(g in b.$$data)if(k=b.$$data[g],h=f.$$data[g],n(q,"Struct")["$==="](k)){if(!(e.hasOwnProperty(k.$__id__())&&d.hasOwnProperty(h.$__id__())||c(k,h)))return!1}else if(!k["$eql?"](h))return!1;return!0}if(!H(b["$instance_of?"](this.$class())))return!1;var e={},d={};return c(this,b)},f.$$arity=1);c.def(h,"$each",
ya=function(){var b,e,d=ya.$$p,f=d||x;d&&(ya.$$p=null);if(f===x)return M(this,"enum_for",["each"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));M(this.$class().$members(),"each",[],(e=function(b){var d=e.$$s||this;null==b&&(b=x);return c.yield1(f,d["$[]"](b))},e.$$s=this,e.$$arity=1,e));return this},ya.$$arity=0);c.def(h,"$each_pair",ja=function(){var b,e,d=ja.$$p,f=d||x;d&&(ja.$$p=null);if(f===x)return M(this,"enum_for",["each_pair"],(b=function(){return(b.$$s||this).$size()},
b.$$s=this,b.$$arity=0,b));M(this.$class().$members(),"each",[],(e=function(b){var d=e.$$s||this;null==b&&(b=x);return c.yield1(f,[b,d["$[]"](b)])},e.$$s=this,e.$$arity=1,e));return this},ja.$$arity=0);c.def(h,"$length",A=function(){return this.$class().$members().$length()},A.$$arity=0);c.alias(h,"size","length");c.def(h,"$to_a",E=function(){var b;return M(this.$class().$members(),"map",[],(b=function(c){var e=b.$$s||this;null==c&&(c=x);return e["$[]"](c)},b.$$s=this,b.$$arity=1,b))},E.$$arity=0);
c.alias(h,"values","to_a");c.def(h,"$inspect",ta=function(){var b,c,e=x,e="#<struct ";H(H(b=n(q,"Struct")["$==="](this))?this.$class().$name():b)&&(e=l(e,""+this.$class()+" "));e=l(e,M(this.$each_pair(),"map",[],(c=function(b,c){null==b&&(b=x);null==c&&(c=x);return""+b+"="+c.$inspect()},c.$$s=this,c.$$arity=2,c)).$join(", "));return e=l(e,">")},ta.$$arity=0);c.alias(h,"to_s","inspect");c.def(h,"$to_h",ha=function(){var b;return M(this.$class().$members(),"each_with_object",[w([],{})],(b=function(e,
d){var f=b.$$s||this,g=x;null==e&&(e=x);null==d&&(d=x);g=[e,f["$[]"](e)];M(d,"[]=",c.to_a(g));return g[D(g.length,1)]},b.$$s=this,b.$$arity=2,b))},ha.$$arity=0);c.def(h,"$values_at",ra=function(b){var e,d;e=c.slice.call(arguments,0,arguments.length);e=M(e,"map",[],(d=function(b){null==b&&(b=x);return b.$$is_range?b.$to_a():b},d.$$s=this,d.$$arity=1,d)).$flatten();d=[];for(var f=0,g=e.length;f<g;f++)e[f].$$is_number||this.$raise(n(q,"TypeError"),"no implicit conversion of "+e[f].$class()+" into Integer"),
d.push(this["$[]"](e[f]));return d},ra.$$arity=-1);return(c.def(h,"$dig",va=function(b,e){var d,f=x;d=c.slice.call(arguments,1,arguments.length);f=H(b.$$is_string&&this.$$data.hasOwnProperty(b))?this.$$data[b]||x:x;if(f===x||0===d.length)return f;H(f["$respond_to?"]("dig"))||this.$raise(n(q,"TypeError"),""+f.$class()+" does not have #dig method");return M(f,"dig",c.to_a(d))},va.$$arity=-2),x)&&"dig"}(A[0],null,A)};Opal.modules["corelib/io"]=function(c){function u(c,h){return"number"===typeof c&&"number"===
typeof h?c-h:c["$-"](h)}var D=[],r=c.nil,y=c.const_get_qualified,l=c.const_get_relative,h=c.klass,A=c.module,x=c.send,n=c.gvars,m=c.truthy,w=r;c.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(w,$super,a){function e(){}w=e=h(w,$super,"IO",e);var k=w.prototype;a=[w].concat(a);var q,v,g,B;k.tty=k.closed=r;c.const_set(a[0],"SEEK_SET",0);c.const_set(a[0],"SEEK_CUR",1);c.const_set(a[0],"SEEK_END",
2);c.def(w,"$tty?",q=function(){return this.tty},q.$$arity=0);c.def(w,"$closed?",v=function(){return this.closed},v.$$arity=0);w.$attr_accessor("write_proc");c.def(w,"$write",g=function(a){this.write_proc(a);return a.$size()},g.$$arity=1);w.$attr_accessor("sync","tty");c.def(w,"$flush",B=function(){return r},B.$$arity=0);(function(a,e){function g(){}var k=g=A(a,"Writable",g);[k].concat(e);var h,q,d;c.def(k,"$<<",h=function(a){this.$write(a);return this},h.$$arity=1);c.def(k,"$print",q=function(a){var b,
e;null==n[","]&&(n[","]=r);b=c.slice.call(arguments,0,arguments.length);this.$write(x(b,"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=r);return b.$String(a)},e.$$s=this,e.$$arity=1,e)).$join(n[","]));return r},q.$$arity=-1);c.def(k,"$puts",d=function(a){var b,e,d=r;null==n["/"]&&(n["/"]=r);b=c.slice.call(arguments,0,arguments.length);d=n["/"];m(b["$empty?"]())?this.$write(n["/"]):this.$write(x(b,"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=r);return b.$String(a).$chomp()},e.$$s=this,
e.$$arity=1,e)).$concat([r]).$join(d));return r},d.$$arity=-1)})(a[0],a);return function(a,e){function g(){}var k=g=A(a,"Readable",g),h=[k].concat(e),q,d,f,v;c.def(k,"$readbyte",q=function(){return this.$getbyte()},q.$$arity=0);c.def(k,"$readchar",d=function(){return this.$getc()},d.$$arity=0);c.def(k,"$readline",f=function(a){null==n["/"]&&(n["/"]=r);return this.$raise(l(h,"NotImplementedError"))},f.$$arity=-1);c.def(k,"$readpartial",v=function(a,b){return this.$raise(l(h,"NotImplementedError"))},
v.$$arity=-2)}(a[0],a)})(D[0],null,D);c.const_set(D[0],"STDERR",n.stderr=l(D,"IO").$new());c.const_set(D[0],"STDIN",n.stdin=l(D,"IO").$new());c.const_set(D[0],"STDOUT",n.stdout=l(D,"IO").$new());var H=c.global.console,w=["object"===typeof process&&"object"===typeof process.stdout?function(c){process.stdout.write(c)}:function(c){H.log(c)}];x(l(D,"STDOUT"),"write_proc=",c.to_a(w));w[u(w.length,1)];w=["object"===typeof process&&"object"===typeof process.stderr?function(c){process.stderr.write(c)}:function(c){H.warn(c)}];
x(l(D,"STDERR"),"write_proc=",c.to_a(w));w[u(w.length,1)];l(D,"STDOUT").$extend(y(l(D,"IO"),"Writable"));return l(D,"STDERR").$extend(y(l(D,"IO"),"Writable"))};Opal.modules["corelib/main"]=function(c){var u,D,r=c.top,y=[],l=c.nil,h=c.const_get_relative;c.add_stubs(["$include"]);c.defs(r,"$to_s",u=function(){return"main"},u.$$arity=0);return(c.defs(r,"$include",D=function(c){return h(y,"Object").$include(c)},D.$$arity=1),l)&&"include"};Opal.modules["corelib/dir"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,
y=c.klass,l=c.truthy;c.add_stubs(["$[]"]);return function(h,$super,x){function n(){}h=n=y(h,$super,"Dir",n);x=[h].concat(x);return function(h,n){var x=[h].concat(n),u,y,a;c.def(h,"$chdir",u=function(a){var k=u.$$p,h=k||D,v=D;k&&(u.$$p=null);var g;a:{try{v=c.current_dir;c.current_dir=a;g=c.yieldX(h,[]);break a}finally{c.current_dir=v}g=void 0}return g},u.$$arity=1);c.def(h,"$pwd",y=function(){return c.current_dir||"."},y.$$arity=0);c.alias(h,"getwd","pwd");return(c.def(h,"$home",a=function(){var a;
return l(a=r(x,"ENV")["$[]"]("HOME"))?a:"."},a.$$arity=0),D)&&"home"}(c.get_singleton_class(h),x)}(u[0],null,u)};Opal.modules["corelib/file"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c+h:c["$+"](h)}function D(c,h){return"number"===typeof c&&"number"===typeof h?c-h:c["$-"](h)}var r=[],y=c.nil,l=c.const_get_relative,h=c.klass,A=c.truthy,x=c.range,n=c.send;c.add_stubs("$home $raise $start_with? $+ $sub $pwd $split $unshift $join $respond_to? $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));
return function(m,$super,r){function M(){}m=M=h(m,$super,"File",M);r=[m].concat(r);var Q=y;c.const_set(r[0],"Separator",c.const_set(r[0],"SEPARATOR","/"));c.const_set(r[0],"ALT_SEPARATOR",y);c.const_set(r[0],"PATH_SEPARATOR",":");c.const_set(r[0],"FNM_SYSCASE",0);Q=/^[a-zA-Z]:(?:\\|\/)/;return function(a,e){function k(a){A(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=l(v,"Opal")["$coerce_to!"](a,l(v,"String"),"to_str")}function h(){return l(v,"ALT_SEPARATOR")===y?c.escape_regexp(l(v,"SEPARATOR")):
c.escape_regexp(u(l(v,"SEPARATOR"),l(v,"ALT_SEPARATOR")))}var v=[a].concat(e),g,B,b,F,p,N,P,z;c.def(a,"$expand_path",g=function(a,b){var c,e=y,g=y,k=y,p=y,z=y,e=z=g=p=z=p=y;null==b&&(b=y);e=l(v,"SEPARATOR");g=h();k=[];A("~"===a[0]||b&&"~"===b[0])&&(p=l(v,"Dir").$home(),A(p)||this.$raise(l(v,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),A(p["$start_with?"](e))||this.$raise(l(v,"ArgumentError"),"non-absolute home"),p=u(p,e),z=new RegExp("^\\~(?:"+e+"|$)"),a=a.$sub(z,p),A(b)&&(b=
b.$sub(z,p)));b=A(c=b)?c:l(v,"Dir").$pwd();p=a.substr(0,e.length)===e||Q.test(a);z=b.substr(0,e.length)===e||Q.test(b);A(p)?(p=a.$split(new RegExp("["+g+"]")),g=Q.test(a)?"":a.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),z=!0):(p=u(b.$split(new RegExp("["+g+"]")),a.$split(new RegExp("["+g+"]"))),g=Q.test(b)?"":b.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"));for(var F=0,B=p.length;F<B;F++)c=p[F],c===y||""===c&&(0===k.length||z)||"."===c&&(0===k.length||z)||(".."===c?k.pop():k.push(c));z||"."===p[0]||k.$unshift(".");
e=k.$join(e);A(z)&&(e=u(g,e));return e},g.$$arity=-2);c.alias(a,"realpath","expand_path");c.def(a,"$dirname",B=function(a){var b=y,b=h();a=k(a);var c=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");return""===a?c?"/":".":a},B.$$arity=1);c.def(a,"$basename",b=function(a,b){var e=y;null==b&&(b=y);e=h();a=k(a);if(0==a.length)return a;b=b!==y?l(v,"Opal")["$coerce_to!"](b,l(v,"String"),"to_str"):null;
a=a.replace(new RegExp("(.)["+e+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+e+"])?([^"+e+"]+)$"),"$1");".*"===b?a=a.replace(/\.[^\.]+$/,""):null!==b&&(b=c.escape_regexp(b),a=a.replace(new RegExp(""+b+"$"),""));return a},b.$$arity=-2);c.def(a,"$extname",F=function(a){var b,e=y,g=y;a=k(a);e=this.$basename(a);if(A(e["$empty?"]()))return"";g=e["$[]"](x(1,-1,!1)).$rindex(".");return A(A(b=g["$nil?"]())?b:u(g,1)["$=="](D(e.$length(),1)))?"":e["$[]"](c.Range.$new(u(g,1),-1,!1))},F.$$arity=1);c.def(a,"$exist?",
p=function(a){return null!=c.modules[a]},p.$$arity=1);c.alias(a,"exists?","exist?");c.def(a,"$directory?",N=function(a){var b,e=y,e=y,e=[],g;for(g in c.modules)e.push(g);a=a.$gsub(new RegExp("(^."+l(v,"SEPARATOR")+"+|"+l(v,"SEPARATOR")+"+$)"));return e=n(e,"find",[],(b=function(b){null==b&&(b=y);return b["$=~"](new RegExp("^"+a))},b.$$s=this,b.$$arity=1,b))},N.$$arity=1);c.def(a,"$join",P=function(a){var b,e,g,k=y;b=c.slice.call(arguments,0,arguments.length);if(A(b["$empty?"]()))return"";k="";b=n(b.$flatten().$each_with_index(),
"map",[],(e=function(a,c){null==a&&(a=y);null==c&&(c=y);return A(c["$=="](0)?a["$empty?"]():c["$=="](0))?l(v,"SEPARATOR"):A(b.$length()["$=="](u(c,1))?a["$empty?"]():b.$length()["$=="](u(c,1)))?l(v,"SEPARATOR"):a},e.$$s=this,e.$$arity=2,e));b=n(b,"reject",[],"empty?".$to_proc());n(b,"each_with_index",[],(g=function(a,c){var e,d=y;null==a&&(a=y);null==c&&(c=y);d=b["$[]"](u(c,1));if(A(d["$nil?"]()))return k=""+k+a;A(A(e=a["$end_with?"](l(v,"SEPARATOR")))?d["$start_with?"](l(v,"SEPARATOR")):e)&&(a=a.$sub(new RegExp(""+
l(v,"SEPARATOR")+"+$"),""));return k=A(A(e=a["$end_with?"](l(v,"SEPARATOR")))?e:d["$start_with?"](l(v,"SEPARATOR")))?""+k+a:""+k+a+l(v,"SEPARATOR")},g.$$s=this,g.$$arity=2,g));return k},P.$$arity=-1);return(c.def(a,"$split",z=function(a){return a.$split(l(v,"SEPARATOR"))},z.$$arity=1),y)&&"split"}(c.get_singleton_class(m),r)}(r[0],l(r,"IO"),r)};Opal.modules["corelib/process"]=function(c){var u=[],D=c.nil,r=c.const_get_qualified,y=c.const_get_relative,l=c.klass,h=c.truthy;c.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));
(function(u,$super,n){function m(){}u=m=l(u,$super,"Process",m);var w=[u].concat(n),H,M,Q,a;n=D;u.__clocks__=[];c.defs(u,"$__register_clock__",H=function(a,c){null==this.__clocks__&&(this.__clocks__=D);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](c)},H.$$arity=2);u.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});n=!1;if(c.global.performance)n=function(){return performance.now()};else if(c.global.process&&process.hrtime){var e=process.hrtime();n=function(){var a=
process.hrtime(e);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}h(n)&&u.$__register_clock__("CLOCK_MONOTONIC",n);c.defs(u,"$pid",M=function(){return 0},M.$$arity=0);c.defs(u,"$times",Q=function(){var a=D,a=y(w,"Time").$now().$to_f();return r(y(w,"Benchmark"),"Tms").$new(a,a,a,a,a)},Q.$$arity=0);return(c.defs(u,"$clock_gettime",a=function(a,c){var e,g=D;null==this.__clocks__&&(this.__clocks__=D);null==c&&(c="float_second");h(e=g=this.__clocks__["$[]"](a))?e:this.$raise(r(y(w,"Errno"),"EINVAL"),"clock_gettime("+
a+") "+this.__clocks__["$[]"](a));e=g();switch(c){case "float_second":return e/1E3;case "float_millisecond":return e/1;case "float_microsecond":return 1E3*e;case "second":return e/1E3|0;case "millisecond":return e/1|0;case "microsecond":return 1E3*e|0;case "nanosecond":return 1E6*e|0;default:this.$raise(y(w,"ArgumentError"),"unexpected unit: "+c)}},a.$$arity=-2),D)&&"clock_gettime"})(u[0],null,u);(function(h,$super,n){function m(){}h=m=l(h,$super,"Signal",m);[h].concat(n);var w;return(c.defs(h,"$trap",
w=function(h){c.slice.call(arguments,0,arguments.length);return D},w.$$arity=-1),D)&&"trap"})(u[0],null,u);return function(h,$super,n){function m(){}h=m=l(h,$super,"GC",m);[h].concat(n);var w;return(c.defs(h,"$start",w=function(){return D},w.$$arity=0),D)&&"start"}(u[0],null,u)};Opal.modules["corelib/random"]=function(c){var u=[],D=c.nil,r=c.const_get_relative,y=c.klass,l=c.truthy,h=c.send;c.add_stubs("$attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state $const_defined? $const_set".split(" "));
return function(u,$super,n){function m(){}u=m=y(u,$super,"Random",m);var w=[u].concat(n),H,M,Q,a,e,k,q,v,g,B;u.$attr_reader("seed","state");c.def(u,"$initialize",H=function(a){null==a&&(a=r(w,"Random").$new_seed());this.state=a=r(w,"Opal")["$coerce_to!"](a,r(w,"Integer"),"to_int");return this.$reseed(a)},H.$$arity=-1);c.def(u,"$reseed",M=function(a){this.seed=a;return this.$rng=c.$$rand.reseed(a)},M.$$arity=1);c.defs(u,"$new_seed",Q=function(){return c.$$rand.new_seed()},Q.$$arity=0);c.defs(u,"$rand",
a=function(a){return r(w,"DEFAULT").$rand(a)},a.$$arity=-1);c.defs(u,"$srand",e=function(a){var c=D;null==a&&(a=r(w,"Random").$new_seed());a=r(w,"Opal")["$coerce_to!"](a,r(w,"Integer"),"to_int");c=r(w,"DEFAULT").$seed();r(w,"DEFAULT").$reseed(a);return c},e.$$arity=-1);c.defs(u,"$urandom",k=function(a){var c;a=r(w,"Opal")["$coerce_to!"](a,r(w,"Integer"),"to_int");l("number"===typeof a?0>a:a["$<"](0))&&this.$raise(r(w,"ArgumentError"),"negative string size (or size too big)");return h(r(w,"Array"),
"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode("ASCII-8BIT")},k.$$arity=1);c.def(u,"$==",q=function(a){return l(r(w,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},q.$$arity=1);c.def(u,"$bytes",v=function(a){var c;a=r(w,"Opal")["$coerce_to!"](a,r(w,"Integer"),"to_int");return h(r(w,"Array"),"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=
0,c)).$join().$encode("ASCII-8BIT")},v.$$arity=1);c.def(u,"$rand",g=function(a){function e(){k.state++;return c.$$rand.rand(k.$rng)}function g(){var c=a.begin,e=a.end;if(c===D||e===D)return D;var d=e-c;if(0>d)return D;if(0===d)return c;0!==e%1||0!==c%1||a.excl||d++;return k.$rand(d)+c}var k=this;if(null==a)return e();if(a.$$is_range)return g();if(a.$$is_number)return 0>=a&&k.$raise(r(w,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(e()*a):e()*a;a=r(w,"Opal")["$coerce_to!"](a,r(w,"Integer"),
"to_int");0>=a&&k.$raise(r(w,"ArgumentError"),"invalid argument - "+a);return Math.floor(e()*a)},g.$$arity=-1);return(c.defs(u,"$generator=",B=function(a){c.$$rand=a;return l(this["$const_defined?"]("DEFAULT"))?r(w,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},B.$$arity=1),D)&&"generator="}(u[0],null,u)};var MersenneTwister=function(){function c(c){if(0>=--c.left){var r=0,y=c.state,l;c.left=624;c.next=0;for(l=228;--l;r++)y[r]=y[r+397]^u(y[r+0],y[r+1]);for(l=397;--l;r++)y[r]=
y[r+-227]^u(y[r+0],y[r+1]);y[r]=y[r+-227]^u(y[r+0],y[0])}c=c.state[c.next++];c^=c>>>11;c^=c<<7&2636928640;c^=c<<15&4022730752;return(c^c>>>18)>>>0}var u=function(c,u){return(c&2147483648|u&2147483647)>>>1^(u&1?2567483615:0)};return{genrand_real:function(u){var r=c(u);u=c(u);r>>>=5;u>>>=6;return 1.1102230246251565E-16*(67108864*r+u)},init:function(c){var u={left:0,next:624,state:Array(624)};u.state[0]=c>>>0;for(c=1;624>c;c++)u.state[c]=1812433253*(u.state[c-1]^u.state[c-1]>>30>>>0)+c,u.state[c]&=4294967295;
u.left=1;u.next=624;return u}}}();Opal.loaded(["corelib/random/MersenneTwister.js"]);Opal.modules["corelib/random/mersenne_twister"]=function(c){function u(c,h){return"number"===typeof c&&"number"===typeof h?c-h:c["$-"](h)}var D=c.top,r=[],y=c.nil,l=c.const_get_relative,h=c.klass,A=c.send;c.add_stubs(["$require","$generator=","$-"]);D.$require("corelib/random/MersenneTwister");return function(r,$super,m){function w(){}r=w=h(r,$super,"Random",w);m=[r].concat(m);var D=y,M=Number.MAX_SAFE_INTEGER||Math.pow(2,
53)-1;c.const_set(m[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*M)},reseed:function(c){return MersenneTwister.init(c)},rand:function(c){return MersenneTwister.genrand_real(c)}});D=[l(m,"MERSENNE_TWISTER_GENERATOR")];A(r,"generator=",c.to_a(D));return D[u(D.length,1)]}(r[0],null,r)};Opal.modules["corelib/unsupported"]=function(c){function u(h){switch(c.config.unsupported_features_severity){case "error":A(l,"Kernel").$raise(A(l,"NotImplementedError"),h);break;
case "warning":m[h]||(m[h]=!0,y.$warn(h))}}var D,r,y=c.top,l=[],h=c.nil,A=c.const_get_relative,x=c.klass,n=c.module;c.add_stubs(["$raise","$warn","$%"]);var m={};(function(l,$super,n){function m(){}l=m=x(l,$super,"String",m);var a=[l].concat(n),e,k,q,v,g,B,b,F,p,N,P,z,d,f,u,r,y,E,D,ha,ra,va,pa;c.def(l,"$<<",e=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},
e.$$arity=-1);c.def(l,"$capitalize!",k=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},k.$$arity=-1);c.def(l,"$chomp!",q=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},q.$$arity=-1);c.def(l,"$chop!",
v=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},v.$$arity=-1);c.def(l,"$downcase!",g=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},g.$$arity=-1);c.def(l,"$gsub!",B=function(b){c.slice.call(arguments,
0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},B.$$arity=-1);c.def(l,"$lstrip!",b=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},b.$$arity=-1);c.def(l,"$next!",F=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},F.$$arity=-1);c.def(l,"$reverse!",p=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},p.$$arity=-1);c.def(l,"$slice!",N=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},
N.$$arity=-1);c.def(l,"$squeeze!",P=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},P.$$arity=-1);c.def(l,"$strip!",z=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},z.$$arity=-1);c.def(l,"$sub!",d=function(b){c.slice.call(arguments,
0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},d.$$arity=-1);c.def(l,"$succ!",f=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},f.$$arity=-1);c.def(l,"$swapcase!",u=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},u.$$arity=-1);c.def(l,"$tr!",r=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},r.$$arity=-1);c.def(l,"$tr_s!",y=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},
y.$$arity=-1);c.def(l,"$upcase!",E=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},E.$$arity=-1);c.def(l,"$prepend",D=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},D.$$arity=-1);c.def(l,"$[]=",ha=function(b){c.slice.call(arguments,
0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},ha.$$arity=-1);c.def(l,"$clear",ra=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},ra.$$arity=-1);c.def(l,"$encode!",va=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},va.$$arity=-1);return(c.def(l,"$unicode_normalize!",pa=function(b){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},pa.$$arity=-1),h)&&"unicode_normalize!"})(l[0],null,l);(function(h,l){function m(){}var r=m=n(h,"Kernel",m);[r].concat(l);
var a,e;c.def(r,"$freeze",a=function(){u("Object freezing is not supported by Opal");return this},a.$$arity=0);c.def(r,"$frozen?",e=function(){u("Object freezing is not supported by Opal");return!1},e.$$arity=0)})(l[0],l);(function(h,l){function m(){}var r=m=n(h,"Kernel",m);[r].concat(l);var a,e,k;c.def(r,"$taint",a=function(){u("Object tainting is not supported by Opal");return this},a.$$arity=0);c.def(r,"$untaint",e=function(){u("Object tainting is not supported by Opal");return this},e.$$arity=
0);c.def(r,"$tainted?",k=function(){u("Object tainting is not supported by Opal");return!1},k.$$arity=0)})(l[0],l);(function(l,$super,n){function m(){}l=m=x(l,$super,"Module",m);[l].concat(n);var a,e,k,q;c.def(l,"$public",a=function(a){0===c.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return h},a.$$arity=-1);c.alias(l,"private","public");c.alias(l,"protected","public");c.alias(l,"nesting","public");c.def(l,"$private_class_method",e=function(a){c.slice.call(arguments,
0,arguments.length);return this},e.$$arity=-1);c.alias(l,"public_class_method","private_class_method");c.def(l,"$private_method_defined?",k=function(a){return!1},k.$$arity=1);c.def(l,"$private_constant",q=function(a){c.slice.call(arguments,0,arguments.length);return h},q.$$arity=-1);c.alias(l,"protected_method_defined?","private_method_defined?");c.alias(l,"public_instance_methods","instance_methods");c.alias(l,"public_instance_method","instance_method");return c.alias(l,"public_method_defined?",
"method_defined?")})(l[0],null,l);(function(h,l){function m(){}var u=m=n(h,"Kernel",m);[u].concat(l);var a;c.def(u,"$private_methods",a=function(a){c.slice.call(arguments,0,arguments.length);return[]},a.$$arity=-1);c.alias(u,"private_instance_methods","private_methods")})(l[0],l);(function(h,l){function m(){}var u=m=n(h,"Kernel",m),a=[u].concat(l),e;c.def(u,"$eval",e=function(e){c.slice.call(arguments,0,arguments.length);return this.$raise(A(a,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+
("See https://github.com/opal/opal/blob/"+A(a,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},e.$$arity=-1)})(l[0],l);c.defs(y,"$public",D=function(l){c.slice.call(arguments,0,arguments.length);return h},D.$$arity=-1);return(c.defs(y,"$private",r=function(l){c.slice.call(arguments,0,arguments.length);return h},r.$$arity=-1),h)&&"private"};(function(c){var u=c.top;c.add_stubs(["$require"]);u.$require("opal/base");u.$require("opal/mini");u.$require("corelib/string/encoding");u.$require("corelib/math");
u.$require("corelib/complex");u.$require("corelib/rational");u.$require("corelib/time");u.$require("corelib/struct");u.$require("corelib/io");u.$require("corelib/main");u.$require("corelib/dir");u.$require("corelib/file");u.$require("corelib/process");u.$require("corelib/random");u.$require("corelib/random/mersenne_twister.js");return u.$require("corelib/unsupported")})(Opal);for(index in fundamentalObjects){var fundamentalObject=fundamentalObjects[index],name=fundamentalObject.name;"function"!==
typeof fundamentalObject.call&&(fundamentalObject.call=backup[name].call);"function"!==typeof fundamentalObject.apply&&(fundamentalObject.apply=backup[name].apply);"function"!==typeof fundamentalObject.bind&&(fundamentalObject.bind=backup[name].bind)}}
(function(c,u){"object"===typeof module&&module.exports?module.exports=u:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(c){return u(c.config())}):c.Asciidoctor=u})(this,function(c){function u(a,c,k,h,v){var g=Opal.klass(Opal.Object,a,c,function(){}),B,b,F={},p;for(p in k)k.hasOwnProperty(p)&&function(a){var c=k[a];"postConstruct"===a?B=c:"initialize"===a?b=c:(h&&h.hasOwnProperty(a)&&(F[a]=!0),Opal.def(g,"$"+a,function(){var b;b=v&&v.hasOwnProperty(a)?v[a](arguments):
arguments;return c.apply(this,b)}))}(p);var N;N="function"===typeof b?function(){b.apply(this,arguments);"function"===typeof B&&B.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",N));"function"===typeof B&&B.bind(this)()};Opal.def(g,"$initialize",N);Opal.def(g,"super",function(a){if("function"===typeof a)Opal.send(this,Opal.find_super_dispatcher(this,a.name,a));else{for(var b=Array.from(arguments),c=0;c<b.length;c++)"object"===typeof b[c]&&(b[c]=l(b[c]));Opal.send(this,
Opal.find_super_dispatcher(this,"initialize",N),b)}});if(h)for(var n in h)h.hasOwnProperty(n)&&!F.hasOwnProperty(n)&&function(a){var b=h[a];Opal.def(g,"$"+a,function(){return b.apply(this,arguments)})}(n);return g}function D(a,c){var k=Opal.const_get_qualified(Opal.Logger,"Formatter");return u(k,a,c,{},{call:function(a){for(var c=0;c<a.length;c++)"object"===typeof a[c]&&"$$smap"in a[c]&&(a[c]=h(a[c]));return a}})}function r(a,c){var k=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return u(k,
a,c,{},{add:function(a){if(2<=a.length&&"object"===typeof a[2]&&"$$smap"in a[2]){var c=h(a[2]);c.getText=function(){return this.text};c.getSourceLocation=function(){return this.source_location};c.$inspect=function(){var a=this.getSourceLocation();return a?a.getPath()+": line "+a.getLineNumber()+": "+this.getText():this.getText()};a[2]=c}return a}})}function y(a,c,k){a=Opal.const_get_qualified(Q,a);return u(a,c,k,{"handles?":function(){return!0}})}Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=
function(a){var c=[],k=a.klass;return function(c,$super,e){function h(){}c=h=k(c,$super,"Dir",h);e=[c].concat(e);return function(b,c){[b].concat(c);var e;a.def(b,"$pwd",e=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},e.$$arity=0);return a.alias(b,"getwd","pwd")}(a.get_singleton_class(c),e)}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){var c=[],k=a.nil,h=a.klass;return function(c,$super,e){function b(){}c=b=h(c,$super,"File",
b);[c].concat(e);var F;return(a.defs(c,"$read",F=function(a){var b=Java.type("java.nio.file.Paths"),c=[];Java.type("java.nio.file.Files").readAllLines(b.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){c.push(a)});return c.join("\n")},F.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=a.nil,h=a.send,v=a.gvars,g=k;null==v.stdout&&(v.stdout=
k);null==v.stderr&&(v.stderr=k);a.add_stubs(["$write_proc=","$-"]);g=[function(a){print(a)}];h(v.stdout,"write_proc=",a.to_a(g));g[c(g.length,1)];g=[function(a){print(a)}];h(v.stderr,"write_proc=",a.to_a(g));return g[c(g.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=a.nil,h=a.send,v=a.gvars,g=k;null==v.stdout&&(v.stdout=k);null==v.stderr&&(v.stderr=k);a.add_stubs(["$write_proc=","$-"]);
g=[function(a){console.log(a)}];h(v.stdout,"write_proc=",a.to_a(g));g[c(g.length,1)];g=[function(a){console.error(a)}];h(v.stderr,"write_proc=",a.to_a(g));return g[c(g.length,1)]};Opal.modules["asciidoctor/js/opal_ext/phantomjs/file"]=function(a){var c=[],k=a.nil,h=a.klass;return function(c,$super,e){function b(){}c=b=h(c,$super,"File",b);[c].concat(e);var F;return(a.defs(c,"$read",F=function(a){return require("fs").read(a)},F.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/spidermonkey/file"]=
function(a){var c=[],k=a.nil,h=a.klass;return function(c,$super,e){function b(){}c=b=h(c,$super,"File",b);[c].concat(e);var F;return(a.defs(c,"$read",F=function(a){return read(a)},F.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(a){var c=[],k=a.nil,h=a.const_get_relative,v=a.klass;a.add_stubs(["$new"]);return function(c,$super,b){function e(){}c=e=v(c,$super,"File",e);var p=[c].concat(b),l;return(a.defs(c,"$read",l=function(a){var b="",c=-1;try{var e=
new XMLHttpRequest;e.open("GET",a,!1);e.addEventListener("load",function(){c=this.status;if(0===c||200===c)b=this.responseText});e.overrideMimeType("text/plain");e.send()}catch(g){throw h(p,"IOError").$new("Error reading file or directory: "+a+"; reason: "+g.message);}if(404===c||0===c&&!b)throw h(p,"IOError").$new("No such file or directory: "+a);return b},l.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/umd"]=function(a){var e,k=a.top,h=[],v=a.nil,g=a.const_get_relative,
l=a.truthy;a.add_stubs(["$==","$require"]);var b="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,F="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),p="object"===typeof window,N="object"===typeof Java&&Java.type,n="object"===typeof java,z="object"===typeof window&&"object"===typeof window.phantom,d="function"===typeof importScripts,f="object"===typeof JSRuntime,m,u,r,E;"object"===typeof c&&"object"===
typeof c.runtime&&(E=c.runtime,m=E.platform,u=E.engine,r=E.framework,E=E.ioModule);"undefined"===typeof m&&(b?(m=m||"node",u=u||"v8",F&&(r=r||"electron")):N?(m=m||"java",u=u||"nashorn"):n?(m=m||"java",u=u||"rhino"):f?(m=m||"standalone",r=r||"spidermonkey"):p&&(m=m||"browser",z&&(r=r||"phantomjs")),d&&(r=r||"webworker"));if("undefined"===typeof m)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");"undefined"===
typeof r&&(r="");"undefined"===typeof u&&(u="");if("undefined"!==typeof E){if("spidermonkey"!==E&&"phantomjs"!==E&&"node"!==E&&"java_nio"!==E&&"xmlhttprequest"!==E)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");}else if("spidermonkey"===r)E="spidermonkey";else if("phantomjs"===r)E="phantomjs";else if("node"===m)E="node";else if("nashorn"===u)E="java_nio";else if("browser"===m||"undefined"!==typeof XmlHTTPRequest)E="xmlhttprequest";
else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(h[0],"JAVASCRIPT_IO_MODULE",E);a.const_set(h[0],"JAVASCRIPT_PLATFORM",m);a.const_set(h[0],"JAVASCRIPT_ENGINE",u);a.const_set(h[0],"JAVASCRIPT_FRAMEWORK",r);l(l(e=g(h,"JAVASCRIPT_ENGINE")["$=="]("nashorn"))?e:g(h,"JAVASCRIPT_IO_MODULE")["$=="]("java_nio"))&&(k.$require("asciidoctor/js/opal_ext/nashorn/dir"),k.$require("asciidoctor/js/opal_ext/nashorn/file"),
k.$require("asciidoctor/js/opal_ext/nashorn/io"));g(h,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&k.$require("asciidoctor/js/opal_ext/electron/io");g(h,"JAVASCRIPT_PLATFORM")["$=="]("node")&&a.load("nodejs");g(h,"JAVASCRIPT_IO_MODULE")["$=="]("phantomjs")&&k.$require("asciidoctor/js/opal_ext/phantomjs/file");g(h,"JAVASCRIPT_IO_MODULE")["$=="]("spidermonkey")&&k.$require("asciidoctor/js/opal_ext/spidermonkey/file");return g(h,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?k.$require("asciidoctor/js/opal_ext/browser/file"):
v};Opal.modules.set=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var v=[],g=a.nil,l=a.const_get_relative,b=a.klass,F=a.hash2,p=a.truthy,N=a.send,n=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(v,$super,f){function n(){}v=n=b(v,$super,"Set",n);var m=v.prototype,P=[v].concat(f),E,u,r,w,x,y,L,t,A,ca,X,na,S,Y,U,fa,V,K,J,D,G,qa,la,H,aa,ba,ma,M;m.hash=g;v.$include(l(P,"Enumerable"));a.defs(v,"$[]",E=function(b){var c;c=a.slice.call(arguments,0,arguments.length);return this.$new(c)},E.$$arity=-1);a.def(v,"$initialize",u=function(b){var c=u.$$p,e=c||g,f;c&&(u.$$p=null);c&&(u.$$p=null);null==b&&(b=g);this.hash=F([],{});if(p(b["$nil?"]()))return g;p(l(P,"Enumerable")["$==="](b))||this.$raise(l(P,
"ArgumentError"),"value must be enumerable");return p(e)?N(b,"each",[],(f=function(b){var c=f.$$s||this;null==b&&(b=g);return c.$add(a.yield1(e,b))},f.$$s=this,f.$$arity=1,f)):this.$merge(b)},u.$$arity=-1);a.def(v,"$dup",r=function(){var a=g,a=this.$class().$new();return a.$merge(this)},r.$$arity=0);a.def(v,"$-",w=function(a){p(a["$respond_to?"]("each"))||this.$raise(l(P,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},w.$$arity=1);a.alias(v,"difference","-");a.def(v,
"$inspect",x=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},x.$$arity=0);a.def(v,"$==",y=function(a){var b,c;return p(this["$equal?"](a))?!0:p(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):p(p(b=a["$is_a?"](l(P,"Set")))?this.$size()["$=="](a.$size()):b)?N(a,"all?",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=g);null==a&&(a=g);return b.hash["$include?"](a)},c.$$s=this,c.$$arity=1,c)):!1},y.$$arity=1);a.def(v,"$add",L=function(b){var f=
g,f=[b,!0];N(this.hash,"[]=",a.to_a(f));f[c(f.length,1)];return this},L.$$arity=1);a.alias(v,"<<","add");a.def(v,"$classify",t=function(){var b=t.$$p,f=b||g,k,h,p=g;b&&(t.$$p=null);b&&(t.$$p=null);if(f===g)return this.$enum_for("classify");p=N(l(P,"Hash"),"new",[],(k=function(b,f){var h=k.$$s||this,p=g;null==b&&(b=g);null==f&&(f=g);p=[f,h.$class().$new()];N(b,"[]=",a.to_a(p));return p[c(p.length,1)]},k.$$s=this,k.$$arity=2,k));N(this,"each",[],(h=function(b){null==b&&(b=g);return p["$[]"](a.yield1(f,
b)).$add(b)},h.$$s=this,h.$$arity=1,h));return p},t.$$arity=0);a.def(v,"$collect!",A=function(){var b=A.$$p,c=b||g,e,f=g;b&&(A.$$p=null);b&&(A.$$p=null);if(c===g)return this.$enum_for("collect!");f=this.$class().$new();N(this,"each",[],(e=function(b){null==b&&(b=g);return f["$<<"](a.yield1(c,b))},e.$$s=this,e.$$arity=1,e));return this.$replace(f)},A.$$arity=0);a.alias(v,"map!","collect!");a.def(v,"$delete",ca=function(a){this.hash.$delete(a);return this},ca.$$arity=1);a.def(v,"$delete?",X=function(a){return p(this["$include?"](a))?
(this.$delete(a),this):g},X.$$arity=1);a.def(v,"$delete_if",na=function(){var b,c,e=na.$$p,f=e||g;e&&(na.$$p=null);if(f===g)return this.$enum_for("delete_if");N(N(this,"select",[],(b=function(b){null==b&&(b=g);return a.yield1(f,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(c=function(a){var b=c.$$s||this;null==b.hash&&(b.hash=g);null==a&&(a=g);return b.hash.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},na.$$arity=0);a.def(v,"$add?",S=function(a){return p(this["$include?"](a))?g:this.$add(a)},S.$$arity=
1);a.def(v,"$each",Y=function(){var a=Y.$$p,b=a||g;a&&(Y.$$p=null);a&&(Y.$$p=null);if(b===g)return this.$enum_for("each");N(this.hash,"each_key",[],b.$to_proc());return this},Y.$$arity=0);a.def(v,"$empty?",U=function(){return this.hash["$empty?"]()},U.$$arity=0);a.def(v,"$eql?",fa=function(a){var b;return this.hash["$eql?"](N(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=g);return a.hash},b.$$s=this,b.$$arity=0,b)))},fa.$$arity=1);a.def(v,"$clear",V=function(){this.hash.$clear();
return this},V.$$arity=0);a.def(v,"$include?",K=function(a){return this.hash["$include?"](a)},K.$$arity=1);a.alias(v,"member?","include?");a.def(v,"$merge",J=function(a){var b;N(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=g);return c.$add(a)},b.$$s=this,b.$$arity=1,b));return this},J.$$arity=1);a.def(v,"$replace",D=function(a){this.$clear();this.$merge(a);return this},D.$$arity=1);a.def(v,"$size",G=function(){return this.hash.$size()},G.$$arity=0);a.alias(v,"length","size");a.def(v,"$subtract",
qa=function(a){var b;N(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=g);return c.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},qa.$$arity=1);a.def(v,"$|",la=function(a){p(a["$respond_to?"]("each"))||this.$raise(l(P,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},la.$$arity=1);a.def(v,"$superset?",H=function(a){var b,c;p(b=a["$is_a?"](l(P,"Set")))?b:this.$raise(l(P,"ArgumentError"),"value must be a set");return p(k(this.$size(),a.$size()))?!1:N(a,"all?",
[],(c=function(a){var b=c.$$s||this;null==a&&(a=g);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},H.$$arity=1);a.alias(v,">=","superset?");a.def(v,"$proper_superset?",aa=function(a){var b,c;p(b=a["$is_a?"](l(P,"Set")))?b:this.$raise(l(P,"ArgumentError"),"value must be a set");return p(h(this.$size(),a.$size()))?!1:N(a,"all?",[],(c=function(a){var b=c.$$s||this;null==a&&(a=g);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c))},aa.$$arity=1);a.alias(v,">","proper_superset?");a.def(v,"$subset?",
ba=function(a){var b,c;p(b=a["$is_a?"](l(P,"Set")))?b:this.$raise(l(P,"ArgumentError"),"value must be a set");return p(k(a.$size(),this.$size()))?!1:N(this,"all?",[],(c=function(b){null==b&&(b=g);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},ba.$$arity=1);a.alias(v,"<=","subset?");a.def(v,"$proper_subset?",ma=function(a){var b,c;p(b=a["$is_a?"](l(P,"Set")))?b:this.$raise(l(P,"ArgumentError"),"value must be a set");return p(h(a.$size(),this.$size()))?!1:N(this,"all?",[],(c=function(b){null==
b&&(b=g);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c))},ma.$$arity=1);a.alias(v,"<","proper_subset?");a.alias(v,"+","|");a.alias(v,"union","|");return(a.def(v,"$to_a",M=function(){return this.hash.$keys()},M.$$arity=0),g)&&"to_a"})(v[0],null,v);return function(b,c){function e(){}var k=e=n(b,"Enumerable",e),h=[k].concat(c),p;a.def(k,"$to_set",p=function(b,c){var e=p.$$p,d=e||g,f;e&&(p.$$p=null);e&&(p.$$p=null);e=a.slice.call(arguments,0,arguments.length);0<e.length&&(f=e[0],e.splice(0,1));null==
f&&(f=l(h,"Set"));return N(f,"new",[this].concat(a.to_a(e)),d.$to_proc())},p.$$arity=-1)}(v[0],v)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var c=[],k=a.nil,h=a.const_get_relative,v=a.module,g=a.send,l=a.klass,b=a.truthy,F=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,c){function e(){}var z=e=v(b,"Kernel",e),d=[z].concat(c),f;a.def(z,"$open",f=function(b,c){var e,p=(e=f.$$p)||k,v=k;e&&(f.$$p=null);
e=a.slice.call(arguments,1,arguments.length);v=g(h(d,"File"),"new",[b].concat(a.to_a(e)));return p!==k?a.yield1(p,v):v},f.$$arity=-2)})(c[0],c);(function(c,$super,e){function g(){}c=g=l(c,$super,"File",g);var d=c.prototype,f=[c].concat(e),v,n,m,E;d.eof=d.path=k;c.$attr_reader("eof");c.$attr_reader("lineno");c.$attr_reader("path");a.def(c,"$initialize",v=function(a,b){var c=k;null==b&&(b="r");this.path=a;this.contents=k;this.eof=!1;this.lineno=0;b=b.$delete("b");c=/:(.*)/;return this.flags=b=b.$gsub(c,
"")},v.$$arity=-2);a.def(c,"$read",n=function(){var a=k;if(b(this.eof))return"";a=h(f,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();return a},n.$$arity=0);a.def(c,"$each_line",m=function(c){var e=m.$$p,d=e||k,g=k;null==F["/"]&&(F["/"]=k);e&&(m.$$p=null);e&&(m.$$p=null);null==c&&(c=F["/"]);if(b(this.eof))return d!==k?this:[].$to_enum();if(d!==k){g=h(f,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var e=g.$chomp(),g=g.length!=e.length,e=e.split(c),p=0,v=e.length;p<v;p++)this.lineno+=
1,p<v-1||g?a.yield1(d,e[p]+c):a.yield1(d,e[p]);this.eof=!0;return this}return this.$read().$each_line()},m.$$arity=-1);a.def(c,"$readlines",E=function(){return h(f,"File").$readlines(this.path)},E.$$arity=0);return function(b,c){var e=[b].concat(c),d,f,g,p;a.def(b,"$readlines",d=function(a,b){var c=k;null==F["/"]&&(F["/"]=k);null==b&&(b=F["/"]);c=h(e,"File").$read(a);return c.$split(b)},d.$$arity=-2);a.def(b,"$file?",f=function(a){return!0},f.$$arity=1);a.def(b,"$readable?",g=function(a){return!0},
g.$$arity=1);return(a.def(b,"$read",p=function(a){return""},p.$$arity=1),k)&&"read"}(a.get_singleton_class(c),f)})(c[0],null,c);return function(b,$super,c){function e(){}b=e=l(b,$super,"IO",e);var d=[b].concat(c),f;return(a.defs(b,"$read",f=function(a){return h(d,"File").$read(a)},f.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var c=[],k=a.nil,h=a.klass,v=a.send;a.add_stubs(["$[]=","$-"]);return function(c,$super,b){function e(){}c=e=h(c,$super,
"MatchData",e);var p=c.prototype;[c].concat(b);var l;p.matches=k;return(a.def(c,"$[]=",l=function(b,c){var e=k,e=[b,c];v(this.matches,"[]=",a.to_a(e));var f=e,e=e.length,e="number"===typeof e?e-1:e["$-"](1);return f[e]},l.$$arity=2),k)&&"[]="}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var c=[],h=a.module;return function(c,e){function g(){}var l=g=h(c,"Kernel",g);[l].concat(e);var b;a.def(l,"$freeze",b=function(){return this},b.$$arity=0)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=
function(a){var c=[],h=a.nil,q=a.const_get_qualified,v=a.module,g=a.klass;return function(a,b){function c(){}var e=[c=v(a,"ThreadSafe",c)].concat(b);(function(a,$super,b){function c(){}[c=g(a,$super,"Cache",c)].concat(b);return h})(e[0],q("::","Hash"),e)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var c=[],h=a.nil,q=a.klass,v=a.truthy,g=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));
return function(c,$super,e){function p(){}c=p=q(c,$super,"String",p);[c].concat(e);var l,n;v(c["$method_defined?"]("limit_bytesize"))||a.def(c,"$limit_bytesize",l=function(a){var c=h,c=this.$bytes().$length(),c="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(!v(c))return this.$to_s();c=this.$byteslice(0,a);return c.$to_s()},l.$$arity=1);v(c["$method_defined?"]("limit"))||a.alias(c,"limit","limit_bytesize");a.alias(c,"_original_unpack","unpack");return(a.def(c,"$unpack",n=function(a){var c;
return a["$=="]("C3")?g(this["$[]"](0,3).$bytes().$select(),"with_index",[],(c=function(a,c){null==c&&(c=h);return c["$even?"]()},c.$$s=this,c.$$arity=2,c)):this.$_original_unpack(a)},n.$$arity=1),h)&&"unpack"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var c=[],h=a.const_get_relative,q=a.module;a.add_stubs(["$extend"]);return function(c,e){function l(){}var b=l=q(c,"URI",l),F=[b].concat(e),p,N;a.defs(b,"$parse",p=function(a){return a.$extend(h(F,"URI"))},p.$$arity=1);a.def(b,
"$path",N=function(){return this},N.$$arity=0)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js/opal_ext/file");c.$require("asciidoctor/js/opal_ext/match_data");c.$require("asciidoctor/js/opal_ext/kernel");c.$require("asciidoctor/js/opal_ext/thread_safe");c.$require("asciidoctor/js/opal_ext/string");c.$require("asciidoctor/js/opal_ext/uri");c.$require("asciidoctor/js/opal_ext/umd")};Opal.modules["asciidoctor/js/rx"]=function(a){function c(a,
b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=[],q=a.nil,v=a.const_get_relative,g=a.module,l=a.send,b=a.gvars,F=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(h,k){function n(){}var z=n=g(h,"Asciidoctor",n),d=[z].concat(k),f;a.const_set(d[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(z,"$unpack_hex_range",f=function(a){var c;return l(a,"gsub",[v(d,"HEX_RANGE_RX")],(c=function(){var a,c;return"\\u"+((a=b["~"])===q?q:a["$[]"](1))+(F(a=
(c=b["~"])===q?q:c["$[]"](2))?"-\\u"+((c=b["~"])===q?q:c["$[]"](2)):a)},c.$$s=this,c.$$arity=0,c))},f.$$arity=1);a.const_set(d[0],"P_L",c("A-Za-z",z.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(d[0],"P_Nl",z.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(d[0],"P_Nd",c("0-9",z.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(d[0],
"P_Pc",z.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(d[0],"CC_ALPHA",""+v(d,"P_L")+v(d,"P_Nl"));a.const_set(d[0],"CG_ALPHA","["+v(d,"CC_ALPHA")+"]");a.const_set(d[0],"CC_ALNUM",""+v(d,"CC_ALPHA")+v(d,"P_Nd"));a.const_set(d[0],"CG_ALNUM","["+v(d,"CC_ALNUM")+"]");a.const_set(d[0],"CC_WORD",""+v(d,"CC_ALNUM")+v(d,"P_Pc"));a.const_set(d[0],"CG_WORD","["+v(d,"CC_WORD")+"]");a.const_set(d[0],"CG_BLANK","[ \\t]");a.const_set(d[0],"CC_EOL","(?=\\n|$)");a.const_set(d[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(d[0],"CC_ALL","[\\s\\S]");a.const_set(d[0],"CC_ANY","[^\\n]")}(h[0],h)};Opal.modules.strscan=function(a){var c=[],h=a.nil,q=a.klass,v=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(c,$super,b){function e(){}c=e=q(c,$super,"StringScanner",e);var p=c.prototype;[c].concat(b);var l,n,z,d,f,m,u,r,E,w,x,y,A,D,L,t,za,ca,X,na,S,Y,U,fa,V;p.pos=p.string=p.working=p.matched=p.prev_pos=p.match=h;c.$attr_reader("pos");
c.$attr_reader("matched");a.def(c,"$initialize",l=function(a){this.string=a;this.pos=0;this.matched=h;this.working=a;return this.match=[]},l.$$arity=1);c.$attr_reader("string");a.def(c,"$beginning_of_line?",n=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},n.$$arity=0);a.alias(c,"bol?","beginning_of_line?");a.def(c,"$scan",z=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=
this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):h},z.$$arity=1);a.def(c,"$scan_until",d=function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,e;;)if(e=a.exec(c),b+=1,c=c.substr(1),null==e){if(0===c.length)return this.matched=h}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=b-1,this.pos=b,this.working=c.substr(e[0].length),this.matched},
d.$$arity=1);a.def(c,"$[]",f=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?h:b[a]},f.$$arity=1);a.def(c,"$check",m=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:this.matched=a[0]},m.$$arity=1);a.def(c,"$check_until",u=function(a){var b=this.prev_pos,c=this.pos;a=this.$scan_until(a);a!==h&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=b;this.pos=c;return a},u.$$arity=1);a.def(c,"$peek",r=function(a){return this.working.substring(0,
a)},r.$$arity=1);a.def(c,"$eos?",E=function(){return 0===this.working.length},E.$$arity=0);a.def(c,"$exist?",w=function(a){a=a.exec(this.working);return null==a?h:0==a.index?0:a.index+1},w.$$arity=1);a.def(c,"$skip",x=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=h;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);return b},x.$$arity=1);a.def(c,"$skip_until",y=function(a){a=this.$scan_until(a);if(a===
h)return h;this.matched=a.substr(-1);return a.length},y.$$arity=1);a.def(c,"$get_byte",A=function(){var a=h;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=h;return a},A.$$arity=0);a.alias(c,"getch","get_byte");a.def(c,"$match?",D=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return h;this.prev_pos=this.pos;return a[0].length},D.$$arity=1);a.def(c,"$pos=",L=function(a){0>
a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},L.$$arity=1);a.def(c,"$matched_size",t=function(){return this.matched===h?h:this.matched.length},t.$$arity=0);a.def(c,"$post_match",za=function(){return this.matched===h?h:this.string.substr(this.pos)},za.$$arity=0);a.def(c,"$pre_match",ca=function(){return this.matched===h?h:this.string.substr(0,this.prev_pos)},ca.$$arity=0);a.def(c,"$reset",X=function(){this.working=this.string;this.matched=h;return this.pos=0},X.$$arity=
0);a.def(c,"$rest",na=function(){return this.working},na.$$arity=0);a.def(c,"$rest?",S=function(){return 0!==this.working.length},S.$$arity=0);a.def(c,"$rest_size",Y=function(){return this.$rest().$size()},Y.$$arity=0);a.def(c,"$terminate",U=function(){var b=h;this.match=h;b=[this.string.$length()];v(this,"pos=",a.to_a(b));var c=b,b=b.length,b="number"===typeof b?b-1:b["$-"](1);return c[b]},U.$$arity=0);a.def(c,"$unscan",fa=function(){this.pos=this.prev_pos;this.match=this.prev_pos=h;return this},
fa.$$arity=0);c.$private();return(a.def(c,"$anchor",V=function(a){var b=a.toString().match(/\/([^\/]+)$/),b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},V.$$arity=1),h)&&"anchor"}(c[0],null,c)};Opal.modules["asciidoctor/js"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js/opal_ext");c.$require("asciidoctor/js/rx");return c.$require("strscan")};Opal.modules.logger=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var h=
[],q=a.nil,v=a.const_get_qualified,g=a.const_get_relative,l=a.klass,b=a.module,F=a.send,p=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));return function(h,$super,k){function d(){}h=d=l(h,$super,"Logger",d);var f=h.prototype,n=[h].concat(k),m,u,E,r,w,x,y,A,L,t,D,ca,X,na,S;f.level=
f.progname=f.pipe=f.formatter=q;(function(c,e){function d(){}var f=[d=b(c,"Severity",d)].concat(e);a.const_set(f[0],"DEBUG",0);a.const_set(f[0],"INFO",1);a.const_set(f[0],"WARN",2);a.const_set(f[0],"ERROR",3);a.const_set(f[0],"FATAL",4);a.const_set(f[0],"UNKNOWN",5)})(n[0],n);h.$include(g(n,"Severity"));a.const_set(n[0],"SEVERITY_LABELS",F(g(n,"Severity").$constants(),"map",[],(m=function(a){null==a&&(a=q);return[g(n,"Severity").$const_get(a),a.$to_s()]},m.$$s=h,m.$$arity=1,m)).$to_h());(function(b,
$super,c){function e(){}b=e=l(b,$super,"Formatter",e);var d=[b].concat(c),f,h;a.const_set(d[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(d[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",f=function(a,b,c,e){return this.$format(g(d,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(g(d,"DATE_TIME_FORMAT")),a,c,this.$message_as_string(e))},f.$$arity=4);return(a.def(b,"$message_as_string",h=function(a){var b,c=q;return function(){c=a;if(v("::","String")["$==="](c))return a;if(v("::",
"Exception")["$==="](c)){var e=""+a.$message()+" ("+a.$class()+")\n",d=(p(b=a.$backtrace())?b:[]).$join("\n");return"number"===typeof e&&"number"===typeof d?e+d:e["$+"](d)}return a.$inspect()}()},h.$$arity=1),q)&&"message_as_string"})(n[0],null,n);h.$attr_reader("level");h.$attr_accessor("progname");h.$attr_accessor("formatter");a.def(h,"$initialize",u=function(a){this.pipe=a;this.level=g(n,"DEBUG");return this.formatter=g(n,"Formatter").$new()},u.$$arity=1);a.def(h,"$level=",E=function(a){var b=
q;return p(v("::","Integer")["$==="](a))?this.level=a:p(b=g(n,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=b:this.$raise(g(n,"ArgumentError"),"invalid log level: "+a)},E.$$arity=1);a.def(h,"$info",r=function(a){var b=r.$$p,c=b||q;b&&(r.$$p=null);b&&(r.$$p=null);null==a&&(a=q);return F(this,"add",[g(n,"INFO"),q,a],c.$to_proc())},r.$$arity=-1);a.def(h,"$debug",w=function(a){var b=w.$$p,c=b||q;b&&(w.$$p=null);b&&(w.$$p=null);null==a&&(a=q);return F(this,"add",[g(n,"DEBUG"),q,a],c.$to_proc())},
w.$$arity=-1);a.def(h,"$warn",x=function(a){var b=x.$$p,c=b||q;b&&(x.$$p=null);b&&(x.$$p=null);null==a&&(a=q);return F(this,"add",[g(n,"WARN"),q,a],c.$to_proc())},x.$$arity=-1);a.def(h,"$error",y=function(a){var b=y.$$p,c=b||q;b&&(y.$$p=null);b&&(y.$$p=null);null==a&&(a=q);return F(this,"add",[g(n,"ERROR"),q,a],c.$to_proc())},y.$$arity=-1);a.def(h,"$fatal",A=function(a){var b=A.$$p,c=b||q;b&&(A.$$p=null);b&&(A.$$p=null);null==a&&(a=q);return F(this,"add",[g(n,"FATAL"),q,a],c.$to_proc())},A.$$arity=
-1);a.def(h,"$unknown",L=function(a){var b=L.$$p,c=b||q;b&&(L.$$p=null);b&&(L.$$p=null);null==a&&(a=q);return F(this,"add",[g(n,"UNKNOWN"),q,a],c.$to_proc())},L.$$arity=-1);a.def(h,"$info?",t=function(){return c(this.level,g(n,"INFO"))},t.$$arity=0);a.def(h,"$debug?",D=function(){return c(this.level,g(n,"DEBUG"))},D.$$arity=0);a.def(h,"$warn?",ca=function(){return c(this.level,g(n,"WARN"))},ca.$$arity=0);a.def(h,"$error?",X=function(){return c(this.level,g(n,"ERROR"))},X.$$arity=0);a.def(h,"$fatal?",
na=function(){return c(this.level,g(n,"FATAL"))},na.$$arity=0);return(a.def(h,"$add",S=function(b,c,e){var d=S.$$p,f=d||q,h;d&&(S.$$p=null);d&&(S.$$p=null);null==c&&(c=q);null==e&&(e=q);var d=b=p(h=b)?h:g(n,"UNKNOWN"),k=this.level,d="number"===typeof d&&"number"===typeof k?d<k:d["$<"](k);if(p(d))return!0;e=p(h=e)?h:this.progname;p(c)||(f!==q?c=a.yieldX(f,[]):(c=e,e=this.progname));this.pipe.$write(this.formatter.$call(p(h=g(n,"SEVERITY_LABELS")["$[]"](b))?h:"ANY",v("::","Time").$now(),e,c));return!0},
S.$$arity=-2),q)&&"add"}(h[0],null,h)};Opal.modules["asciidoctor/logging"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var q=a.top,v=[],g=a.nil,l=a.const_get_qualified,b=a.const_get_relative,F=a.module,p=a.klass,n=a.send,m=a.truthy,z=a.hash2,d=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $map $constants $const_get $to_sym $<< $clear $empty? $max $attr_accessor $memoize_logger $private $alias_method $== $define_method $extend $logger $merge".split(" "));
q.$require("logger");return function(f,v){function q(){}var u=[q=F(f,"Asciidoctor",q)].concat(v);(function(d,$super,f){function v(){}d=v=p(d,$super,"Logger",v);var q=d.prototype,u=[d].concat(f),L,t;q.max_severity=g;d.$attr_reader("max_severity");a.def(d,"$initialize",L=function(d){var f=L.$$p,h=g,k=h=g,p=g;f&&(L.$$p=null);k=0;p=arguments.length;for(h=Array(p);k<p;k++)h[k]=arguments[k];a.slice.call(arguments,0,arguments.length);n(this,a.find_super_dispatcher(this,"initialize",L,!1),h,f);h=["asciidoctor"];
n(this,"progname=",a.to_a(h));h[c(h.length,1)];h=[b(u,"BasicFormatter").$new()];n(this,"formatter=",a.to_a(h));h[c(h.length,1)];h=[b(u,"WARN")];n(this,"level=",a.to_a(h));return h[c(h.length,1)]},L.$$arity=-1);a.def(d,"$add",t=function(c,e,d){var f,p=t.$$p,v=g,q=g,z=g;p&&(t.$$p=null);q=0;z=arguments.length;for(v=Array(z);q<z;q++)v[q]=arguments[q];null==e&&(e=g);null==d&&(d=g);m(h(c=m(f=c)?f:b(u,"UNKNOWN"),this.max_severity=m(f=this.max_severity)?f:c))&&(this.max_severity=c);return n(this,a.find_super_dispatcher(this,
"add",t,!1),v,p)},t.$$arity=-2);(function(c,$super,e){function d(){}c=d=p(c,$super,"BasicFormatter",d);var f=[c].concat(e),h;a.const_set(f[0],"SEVERITY_LABELS",z(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(c,"$call",h=function(a,c,e,d){var g;return""+e+": "+(m(g=b(f,"SEVERITY_LABELS")["$[]"](a))?g:a)+": "+(m(l("::","String")["$==="](d))?d:d.$inspect())+"\n"},h.$$arity=4),g)&&"call"})(u[0],b(u,"Formatter"),u);return function(b,c){function e(){}var d=e=F(b,"AutoFormattingMessage",
e);[d].concat(c);var f;a.def(d,"$inspect",f=function(){var a=g;return m(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},f.$$arity=0)}(u[0],u)})(u[0],l("::","Logger"),u);(function(d,$super,f){function h(){}d=h=p(d,$super,"MemoryLogger",h);var k=d.prototype,v=[d].concat(f),q,t,F,u,r,w;k.messages=g;a.const_set(v[0],"SEVERITY_LABELS",l("::","Hash")["$[]"](n(b(v,"Severity").$constants(),"map",[],(q=function(a){null==a&&(a=g);return[b(v,"Severity").$const_get(a),a.$to_sym()]},
q.$$s=d,q.$$arity=1,q))));d.$attr_reader("messages");a.def(d,"$initialize",t=function(){var d=g,d=[b(v,"WARN")];n(this,"level=",a.to_a(d));d[c(d.length,1)];return this.messages=[]},t.$$arity=0);a.def(d,"$add",F=function(c,e,d){var f=F.$$p,h=f||g;f&&(F.$$p=null);null==e&&(e=g);null==d&&(d=g);m(e)||(e=h!==g?a.yieldX(h,[]):d);this.messages["$<<"](z(["severity","message"],{severity:b(v,"SEVERITY_LABELS")["$[]"](m(c)?c:b(v,"UNKNOWN")),message:e}));return!0},F.$$arity=-2);a.def(d,"$clear",u=function(){return this.messages.$clear()},
u.$$arity=0);a.def(d,"$empty?",r=function(){return this.messages["$empty?"]()},r.$$arity=0);return(a.def(d,"$max_severity",w=function(){var a;return m(this["$empty?"]())?g:n(this.messages,"map",[],(a=function(a){null==a&&(a=g);return b(v,"Severity").$const_get(a["$[]"]("severity"))},a.$$s=this,a.$$arity=1,a)).$max()},w.$$arity=0),g)&&"max_severity"})(u[0],l("::","Logger"),u);(function(c,$super,e){function d(){}c=d=p(c,$super,"NullLogger",d);var f=c.prototype,v=[c].concat(e),q,t;f.max_severity=g;c.$attr_reader("max_severity");
a.def(c,"$initialize",q=function(){return g},q.$$arity=0);return(a.def(c,"$add",t=function(a,c,e){var d;m(h(a=m(d=a)?d:b(v,"UNKNOWN"),this.max_severity=m(d=this.max_severity)?d:a))&&(this.max_severity=a);return!0},t.$$arity=-2),g)&&"add"})(u[0],l("::","Logger"),u);(function(c,e){function f(){}var h=f=F(c,"LoggerManager",f),k=[h].concat(e);h.logger_class=b(k,"Logger");(function(c,e){var f=[c].concat(e),h,k,p;c.$attr_accessor("logger_class");a.def(c,"$logger",h=function(a){var b;null==this.logger&&
(this.logger=g);null==this.logger_class&&(this.logger_class=g);null==d.stderr&&(d.stderr=g);null==a&&(a=d.stderr);this.$memoize_logger();return this.logger=m(b=this.logger)?b:this.logger_class.$new(a)},h.$$arity=-1);a.def(c,"$logger=",k=function(a){null==this.logger_class&&(this.logger_class=g);null==d.stderr&&(d.stderr=g);return this.logger=m(a)?a:this.logger_class.$new(d.stderr)},k.$$arity=1);c.$private();return(a.def(c,"$memoize_logger",p=function(){return function(a,c){var e=[a].concat(c),d;a.$alias_method("logger",
"logger");return b(e,"RUBY_ENGINE")["$=="]("opal")?n(a,"define_method",["logger"],(d=function(){var a=d.$$s||this;null==a.logger&&(a.logger=g);return a.logger},d.$$s=a,d.$$arity=0,d)):g}(a.get_singleton_class(this),f)},p.$$arity=0),g)&&"memoize_logger"})(a.get_singleton_class(h),k)})(u[0],u);(function(c,e){function d(){}var f=d=F(c,"Logging",d),g=[f].concat(e),h,k,p;a.defs(f,"$included",h=function(a){return a.$extend(b(g,"Logging"))},h.$$arity=1);f.$private();a.def(f,"$logger",k=function(){return b(g,
"LoggerManager").$logger()},k.$$arity=0);a.def(f,"$message_with_context",p=function(a,c){null==c&&(c=z([],{}));return z(["text"],{text:a}).$merge(c).$extend(l(b(g,"Logger"),"AutoFormattingMessage"))},p.$$arity=-2)})(u[0],u)}(v[0],v)};Opal.modules["asciidoctor/timings"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=[],q=a.nil,v=a.const_get_qualified,g=a.const_get_relative,l=a.module,b=a.klass,F=a.hash2,p=a.send,n=a.truthy,m=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $% $to_f $read_parse $convert $read_parse_convert $const_defined? $respond_to? $clock_gettime".split(" "));
return function(h,d){function f(){}var k=[f=l(h,"Asciidoctor",f)].concat(d);(function(d,$super,f){function h(){}d=h=b(d,$super,"Timings",h);var k=d.prototype,z=[d].concat(f),l,u,B,t,r,w,x,y,A,Y,U,D,V,K,J;k.timers=k.log=q;a.def(d,"$initialize",l=function(){this.log=F([],{});return this.timers=F([],{})},l.$$arity=0);a.def(d,"$start",u=function(b){var d=q,d=[b,this.$now()];p(this.timers,"[]=",a.to_a(d));return d[c(d.length,1)]},u.$$arity=1);a.def(d,"$record",B=function(b){var d=q,d=[b,c(this.$now(),
this.timers.$delete(b))];p(this.log,"[]=",a.to_a(d));return d[c(d.length,1)]},B.$$arity=1);a.def(d,"$time",t=function(b){var c,e;c=q;c=a.slice.call(arguments,0,arguments.length);c=p(c,"reduce",[0],(e=function(a,b){var c=e.$$s||this,d;null==c.log&&(c.log=q);null==a&&(a=q);null==b&&(b=q);c=n(d=c.log["$[]"](b))?d:0;return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)},e.$$s=this,e.$$arity=2,e));return n("number"===typeof c?0<c:c["$>"](0))?c:q},t.$$arity=-1);a.def(d,"$read",r=function(){return this.$time("read")},
r.$$arity=0);a.def(d,"$parse",w=function(){return this.$time("parse")},w.$$arity=0);a.def(d,"$read_parse",x=function(){return this.$time("read","parse")},x.$$arity=0);a.def(d,"$convert",y=function(){return this.$time("convert")},y.$$arity=0);a.def(d,"$read_parse_convert",A=function(){return this.$time("read","parse","convert")},A.$$arity=0);a.def(d,"$write",Y=function(){return this.$time("write")},Y.$$arity=0);a.def(d,"$total",U=function(){return this.$time("read","parse","convert","write")},U.$$arity=
0);a.def(d,"$print_report",D=function(a,b){null==m.stdout&&(m.stdout=q);null==a&&(a=m.stdout);null==b&&(b=q);n(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},D.$$arity=-1);return n(n(V=v("::","Process")["$const_defined?"]("CLOCK_MONOTONIC"))?
v("::","Process")["$respond_to?"]("clock_gettime"):V)?(a.const_set(z[0],"CLOCK_ID",v(v("::","Process"),"CLOCK_MONOTONIC")),(a.def(d,"$now",K=function(){return v("::","Process").$clock_gettime(g(z,"CLOCK_ID"))},K.$$arity=0),q)&&"now"):(a.def(d,"$now",J=function(){return v("::","Time").$now()},J.$$arity=0),q)&&"now"})(k[0],null,k)}(h[0],h)};Opal.modules["asciidoctor/version"]=function(a){var c=[],h=a.module;return function(c,e){function g(){}var l=[g=h(c,"Asciidoctor",g)].concat(e);a.const_set(l[0],
"VERSION","1.5.8")}(c[0],c)};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var c=[],h=a.nil,q=a.klass,v=a.truthy;a.add_stubs(["$method_defined?"]);(function(c,$super,b){function e(){}c=e=q(c,$super,"NilClass",e);[c].concat(b);return v(c["$method_defined?"]("nil_or_empty?"))?h:a.alias(c,"nil_or_empty?","nil?")})(c[0],null,c);(function(c,$super,b){function e(){}c=e=q(c,$super,"String",e);[c].concat(b);return v(c["$method_defined?"]("nil_or_empty?"))?h:a.alias(c,"nil_or_empty?","empty?")})(c[0],
null,c);(function(c,$super,b){function e(){}c=e=q(c,$super,"Array",e);[c].concat(b);return v(c["$method_defined?"]("nil_or_empty?"))?h:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);(function(c,$super,b){function e(){}c=e=q(c,$super,"Hash",e);[c].concat(b);return v(c["$method_defined?"]("nil_or_empty?"))?h:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);return function(c,$super,b){function e(){}c=e=q(c,$super,"Numeric",e);[c].concat(b);return v(c["$method_defined?"]("nil_or_empty?"))?h:a.alias(c,
"nil_or_empty?","nil?")}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(a){var c=[],h=a.nil,q=a.klass,v=a.truthy;a.add_stubs(["$method_defined?"]);return function(c,$super,b){function e(){}c=e=q(c,$super,"Regexp",e);[c].concat(b);return v(c["$method_defined?"]("match?"))?h:a.alias(c,"match?","===")}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){var c=[],h=a.nil,q=a.const_get_qualified,v=a.klass,g=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));
return function(c,$super,e){function p(){}c=p=v(c,$super,"String",p);[c].concat(e);var l;return g(c["$method_defined?"]("limit_bytesize"))?h:(a.def(c,"$limit_bytesize",l=function(a){var c=h,c=this.$bytesize(),c="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(!g(c))return this;for(;!g((c=this.$byteslice(0,a)).$force_encoding(q(q("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)a="number"===typeof a?a-1:a["$-"](1);return c},l.$$arity=1),h)&&"limit_bytesize"}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/1.8.7/io/binread"]=
function(a){var c,h=[],q=a.nil,v=a.const_get_relative,g=a.truthy,l=a.send;a.add_stubs(["$respond_to?","$open","$==","$seek","$read"]);return g(v(h,"IO")["$respond_to?"]("binread"))?q:(a.defs(v(h,"IO"),"$binread",c=function(a,c,e){var n;null==c&&(c=q);null==e&&(e=0);return l(v(h,"File"),"open",[a,"rb"],(n=function(a){null==a&&(a=q);e["$=="](0)||a.$seek(e);return g(c)?a.$read(c):a.$read()},n.$$s=this,n.$$arity=1,n))},c.$$arity=-2),q)&&"binread"};Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(a){var c,
h=[],q=a.nil,v=a.const_get_relative,g=a.truthy,l=a.send;a.add_stubs(["$respond_to?","$open","$write"]);return g(v(h,"IO")["$respond_to?"]("write"))?q:(a.defs(v(h,"IO"),"$write",c=function(a,c,e,g){var n;null==e&&(e=0);null==g&&(g=q);return l(v(h,"File"),"open",[a,"w"],(n=function(a){null==a&&(a=q);return a.$write(c)},n.$$s=this,n.$$arity=1,n))},c.$$arity=-3),q)&&"write"};Opal.modules["asciidoctor/core_ext"]=function(a){var c=a.top,h=[],q=a.nil,v=a.const_get_relative,g=a.truthy;a.add_stubs(["$require",
"$==","$!="]);c.$require("asciidoctor/core_ext/nil_or_empty");c.$require("asciidoctor/core_ext/regexp/is_match");if(g(v(h,"RUBY_MIN_VERSION_1_9")))return c.$require("asciidoctor/core_ext/string/limit_bytesize"),v(h,"RUBY_ENGINE")["$=="]("opal")?(c.$require("asciidoctor/core_ext/1.8.7/io/binread"),c.$require("asciidoctor/core_ext/1.8.7/io/write")):q;g(v(h,"RUBY_ENGINE")["$!="]("opal"));return q};Opal.modules["asciidoctor/helpers"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?
a-b:a["$-"](b)}var h=[],q=a.nil,v=a.const_get_qualified,g=a.const_get_relative,l=a.module,b=a.truthy,F=a.send,p=a.gvars,n=a.hash2;a.add_stubs("$require $include? $include $== $=== $raise $warn $logger $chomp $message $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $join $map $each_line $encode $force_encoding $length $rstrip $[]= $- $encoding $nil_or_empty? $match? $=~ $gsub $each_byte $sprintf $rindex $basename $extname $directory? $dirname $mkdir_p $mkdir $divmod $*".split(" "));
return function(h,k){function d(){}var f=[d=l(h,"Asciidoctor",d)].concat(k);(function(d,f){function h(){}var k=h=l(d,"Helpers",h),z=[k].concat(f),m,u,r,P,L,t,w,x,y,A,S;a.defs(k,"$require_library",m=function(c,e,d){var f=q,h=q;null==e&&(e=!0);null==d&&(d="abort");try{return this.$require(c)}catch(k){if(a.rescue(k,[v("::","LoadError")])){f=k;try{return b(this["$include?"](g(z,"Logging")))||this.$include(g(z,"Logging")),b(e)?(e["$=="](!0)&&(e=c),h=d,"abort"["$==="](h)?this.$raise(v("::","LoadError"),
"asciidoctor: FAILED: required gem '"+e+"' is not installed. Processing aborted."):"warn"["$==="](h)&&this.$logger().$warn("optional gem '"+e+"' is not installed. Functionality disabled.")):(h=d,"abort"["$==="](h)?this.$raise(v("::","LoadError"),"asciidoctor: FAILED: "+f.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](h)&&this.$logger().$warn(""+f.$message().$chomp(".")+". Functionality disabled.")),q}finally{a.pop_exception()}}else throw k;}},m.$$arity=-2);a.defs(k,"$normalize_lines",
u=function(a){return b(v("::","String")["$==="](a))?this.$normalize_lines_from_string(a):this.$normalize_lines_array(a)},u.$$arity=1);a.defs(k,"$normalize_lines_array",r=function(d){var f,h,k,p,t=q,l=q,n=q,m=q,t=q;if(b(d["$empty?"]()))return d;t=(l=d["$[]"](0)).$unpack("C3");if(b(g(z,"COERCE_ENCODING"))){n=v(v("::","Encoding"),"UTF_8");if((m=t.$slice(0,2))["$=="](g(z,"BOM_BYTES_UTF_16LE")))return d=d.$join(),F(d.$force_encoding(v(v("::","Encoding"),"UTF_16LE")).$slice(1,d.$length()).$encode(n).$each_line(),
"map",[],(f=function(a){null==a&&(a=q);return a.$rstrip()},f.$$s=this,f.$$arity=1,f));if(m["$=="](g(z,"BOM_BYTES_UTF_16BE")))return t=[0,l.$force_encoding(v(v("::","Encoding"),"UTF_16BE")).$slice(1,l.$length())],F(d,"[]=",a.to_a(t)),t[c(t.length,1)],F(d,"map",[],(h=function(a){null==a&&(a=q);return a.$force_encoding(v(v("::","Encoding"),"UTF_16BE")).$encode(n).$rstrip()},h.$$s=this,h.$$arity=1,h));t["$=="](g(z,"BOM_BYTES_UTF_8"))&&(t=[0,l.$force_encoding(n).$slice(1,l.$length())],F(d,"[]=",a.to_a(t)),
t[c(t.length,1)]);return F(d,"map",[],(k=function(a){null==a&&(a=q);return a.$encoding()["$=="](n)?a.$rstrip():a.$force_encoding(n).$rstrip()},k.$$s=this,k.$$arity=1,k))}t["$=="](g(z,"BOM_BYTES_UTF_8"))&&(t=[0,l.$slice(3,l.$length())],F(d,"[]=",a.to_a(t)),t[c(t.length,1)]);return F(d,"map",[],(p=function(a){null==a&&(a=q);return a.$rstrip()},p.$$s=this,p.$$arity=1,p))},r.$$arity=1);a.defs(k,"$normalize_lines_from_string",P=function(a){var c,e=q,d=q,f=q;if(b(a["$nil_or_empty?"]()))return[];e=a.$unpack("C3");
b(g(z,"COERCE_ENCODING"))?(d=v(v("::","Encoding"),"UTF_8"),(f=e.$slice(0,2))["$=="](g(z,"BOM_BYTES_UTF_16LE"))?a=a.$force_encoding(v(v("::","Encoding"),"UTF_16LE")).$slice(1,a.$length()).$encode(d):f["$=="](g(z,"BOM_BYTES_UTF_16BE"))?a=a.$force_encoding(v(v("::","Encoding"),"UTF_16BE")).$slice(1,a.$length()).$encode(d):e["$=="](g(z,"BOM_BYTES_UTF_8"))?a=a.$encoding()["$=="](d)?a.$slice(1,a.$length()):a.$force_encoding(d).$slice(1,a.$length()):a.$encoding()["$=="](d)||(a=a.$force_encoding(d))):e["$=="](g(z,
"BOM_BYTES_UTF_8"))&&(a=a.$slice(3,a.$length()));return F(a.$each_line(),"map",[],(c=function(a){null==a&&(a=q);return a.$rstrip()},c.$$s=this,c.$$arity=1,c))},P.$$arity=1);a.defs(k,"$uriish?",L=function(a){var c;return b(c=a["$include?"](":"))?g(z,"UriSniffRx")["$match?"](a):c},L.$$arity=1);a.defs(k,"$uri_prefix",t=function(a){var c;return b(b(c=a["$include?"](":"))?g(z,"UriSniffRx")["$=~"](a):c)?(c=p["~"])===q?q:c["$[]"](0):q},t.$$arity=1);a.const_set(z[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);
a.defs(k,"$uri_encode",w=function(a){var b;return F(a,"gsub",[g(z,"REGEXP_ENCODE_URI_CHARS")],(b=function(){var a=b.$$s||this,c,e;return F(((c=p["~"])===q?q:c["$[]"](0)).$each_byte(),"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=q);return b.$sprintf("%%%02X",a)},e.$$s=a,e.$$arity=1,e)).$join()},b.$$s=this,b.$$arity=0,b))},w.$$arity=1);a.defs(k,"$rootname",x=function(a){var c;return a.$slice(0,b(c=a.$rindex("."))?c:a.$length())},x.$$arity=1);a.defs(k,"$basename",y=function(a,c){null==c&&(c=
q);return b(c)?v("::","File").$basename(a,c["$=="](!0)?v("::","File").$extname(a):c):v("::","File").$basename(a)},y.$$arity=-2);a.defs(k,"$mkdir_p",A=function(c){var e=q;if(b(v("::","File")["$directory?"](c)))return q;(e=v("::","File").$dirname(c))["$=="](".")||this.$mkdir_p(e);try{return v("::","Dir").$mkdir(c)}catch(d){if(a.rescue(d,[v("::","SystemCallError")]))try{return b(v("::","File")["$directory?"](c))?q:this.$raise()}finally{a.pop_exception()}else throw d;}},A.$$arity=1);a.const_set(z[0],
"ROMAN_NUMERALS",n("M CM D CD C XC L XL X IX V IV I".split(" "),{M:1E3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));a.defs(k,"$int_to_roman",S=function(b){var c;return F(g(z,"ROMAN_NUMERALS"),"map",[],(c=function(c,e){var d,f,g=q;null==c&&(c=q);null==e&&(e=q);f=b.$divmod(e);d=a.to_ary(f);g=null==d[0]?q:d[0];b=null==d[1]?q:d[1];f;return"number"===typeof c&&"number"===typeof g?c*g:c["$*"](g)},c.$$s=this,c.$$arity=2,c)).$join()},S.$$arity=1)})(f[0],f)}(h[0],h)};Opal.modules["asciidoctor/substitutors"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var l=[],b=a.nil,n=a.const_get_qualified,p=a.const_get_relative,m=a.slice,u=a.module,z=a.hash2,d=a.hash,
f=a.truthy,r=a.send,w=a.gvars;a.add_stubs("$freeze $+ $keys $chr $attr_reader $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $split $apply_subs $compat_mode $gsub $== $length $> $* $- $end_with? $slice $parse_quoted_text_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $extract_inner_passthrough $to_sym $attributes $basebackend? $=~ $to_i $convert $new $clear $match? $convert_quoted_text $do_replacement $sub $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $tr_s $delete $reject $strip $index $min $compact $map $chop $unescape_bracketed_text $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $nil_or_empty? $parse_attributes $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $parse $uri_encode $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $text $style $lstrip $parse_into $extname $catalog $fetch $outfilesuffix $natural_xrefs $key $attr? $attr $to_s $read_next_id $callouts $< $<< $shorthand_property_syntax $concat $each_char $drop $& $resolve_subs $nil? $require_library $sub_source $resolve_lines_to_highlight $highlight $find_by_alias $find_by_mimetype $name $option? $count $to_a $uniq $sort $resolve_block_subs".split(" "));
return function(l,E){function B(){}var x=[B=u(l,"Asciidoctor",B)].concat(E);(function(l,E){function B(){}var L=B=u(l,"Substitutors",B),t=[L].concat(E),x,y,A,ha,S,D,U,fa,V,K,J,Z,G,qa,la,H,aa,ba,ma,M,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Ua,Qa,xa,ta,Q;a.const_set(t[0],"SpecialCharsRx",/[<&>]/);a.const_set(t[0],"SpecialCharsTr",z([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(t[0],"QuotedTextSniffRx",d(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(t[0],"BASIC_SUBS",["specialcharacters"]).$freeze();
a.const_set(t[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();a.const_set(t[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(t[0],"NONE_SUBS",[]).$freeze();a.const_set(t[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze();a.const_set(t[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(t[0],"VERBATIM_SUBS",["specialcharacters",
"callouts"]).$freeze();a.const_set(t[0],"SUB_GROUPS",z(["none","normal","verbatim","specialchars"],{none:p(t,"NONE_SUBS"),normal:p(t,"NORMAL_SUBS"),verbatim:p(t,"VERBATIM_SUBS"),specialchars:p(t,"BASIC_SUBS")}));a.const_set(t[0],"SUB_HINTS",z("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(t[0],"SUB_OPTIONS",z(["block","inline"],{block:c(c(p(t,"SUB_GROUPS").$keys(),p(t,"NORMAL_SUBS")),["callouts"]),
inline:c(p(t,"SUB_GROUPS").$keys(),p(t,"NORMAL_SUBS"))}));a.const_set(t[0],"SUB_HIGHLIGHT",["coderay","pygments"]);f(n("::","RUBY_MIN_VERSION_1_9"))?(a.const_set(t[0],"CAN","\u0018"),a.const_set(t[0],"DEL","\u007f"),a.const_set(t[0],"PASS_START","\u0096"),a.const_set(t[0],"PASS_END","\u0097")):(a.const_set(t[0],"CAN",(24).$chr()),a.const_set(t[0],"DEL",(127).$chr()),a.const_set(t[0],"PASS_START",(150).$chr()),a.const_set(t[0],"PASS_END",(151).$chr()));a.const_set(t[0],"PassSlotRx",new RegExp(""+p(t,
"PASS_START")+"(\\d+)"+p(t,"PASS_END")));a.const_set(t[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+p(t,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+p(t,"PASS_END")+"</span>"));a.const_set(t[0],"RS","\\");a.const_set(t[0],"R_SB","]");a.const_set(t[0],"ESC_R_SB","\\]");a.const_set(t[0],"PLUS","+");a.const_set(t[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m);a.const_set(t[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m);L.$attr_reader("passthroughs");a.def(L,
"$apply_subs",x=function(a,c){var e,d,g=b,h=b;null==this.passthroughs&&(this.passthroughs=b);null==c&&(c=p(t,"NORMAL_SUBS"));if(f(f(e=a["$empty?"]())?e:c["$!"]()))return a;f(g=n("::","Array")["$==="](a))&&(a=f(a["$[]"](1))?a.$join(p(t,"LF")):a["$[]"](0));f(h=c["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),f(this.passthroughs["$empty?"]())&&(h=!1));r(c,"each",[],(d=function(e){var g=d.$$s||this,h=b;null==e&&(e=b);h=e;return"specialcharacters"["$==="](h)?a=g.$sub_specialchars(a):"quotes"["$==="](h)?
a=g.$sub_quotes(a):"attributes"["$==="](h)?f(a["$include?"](p(t,"ATTR_REF_HEAD")))?a=g.$sub_attributes(a):b:"replacements"["$==="](h)?a=g.$sub_replacements(a):"macros"["$==="](h)?a=g.$sub_macros(a):"highlight"["$==="](h)?a=g.$highlight_source(a,c["$include?"]("callouts")):"callouts"["$==="](h)?f(c["$include?"]("highlight"))?b:a=g.$sub_callouts(a):"post_replacements"["$==="](h)?a=g.$sub_post_replacements(a):g.$logger().$warn("unknown substitution type "+e)},d.$$s=this,d.$$arity=1,d));f(h)&&(a=this.$restore_passthroughs(a));
return f(g)?a.$split(p(t,"LF"),-1):a},x.$$arity=-2);a.def(L,"$apply_normal_subs",y=function(a){return this.$apply_subs(a)},y.$$arity=1);a.def(L,"$apply_title_subs",A=function(a){return this.$apply_subs(a,p(t,"TITLE_SUBS"))},A.$$arity=1);a.def(L,"$apply_reftext_subs",ha=function(a){return this.$apply_subs(a,p(t,"REFTEXT_SUBS"))},ha.$$arity=1);a.def(L,"$apply_header_subs",S=function(a){return this.$apply_subs(a,p(t,"HEADER_SUBS"))},S.$$arity=1);a.def(L,"$extract_passthroughs",D=function(c){var e,d,
g,l,n,F=b,m=b,E=b,C=b,u=b;null==this.document&&(this.document=b);null==this.passthroughs&&(this.passthroughs=b);F=this.document.$compat_mode();m=this.passthroughs;f(f(e=f(d=c["$include?"]("++"))?d:c["$include?"]("$$"))?e:c["$include?"]("ss:"))&&(c=r(c,"gsub",[p(t,"InlinePassMacroRx")],(g=function(){var c=g.$$s||this,e,d=b,ga=b,O=b,C=b,l=b,n=b,E=b,C=O=d=b;null==w["~"]&&(w["~"]=b);d=w["~"];ga=b;if(f(O=d["$[]"](4))){if(f(f(e=F)?O["$=="]("++"):e))return f(d["$[]"](2))?""+d["$[]"](1)+"["+d["$[]"](2)+"]"+
d["$[]"](3)+"++"+c.$extract_passthroughs(d["$[]"](5))+"++":""+d["$[]"](1)+d["$[]"](3)+"++"+c.$extract_passthroughs(d["$[]"](5))+"++";C=d["$[]"](2);l=d["$[]"](3).$length();n=d["$[]"](5);E=!1;if(f(C)){if(f(h(l,0)))return""+d["$[]"](1)+"["+C+"]"+q(p(t,"RS"),v(l,1))+O+d["$[]"](5)+O;d["$[]"](1)["$=="](p(t,"RS"))?(ga="["+C+"]",C=b):(f(O["$=="]("++")?C["$end_with?"]("x-"):O["$=="]("++"))&&(E=!0,C=C.$slice(0,v(C.$length(),2))),C=c.$parse_quoted_text_attributes(C))}else if(f(h(l,0)))return""+q(p(t,"RS"),v(l,
1))+O+d["$[]"](5)+O;d=O["$=="]("+++")?[]:p(t,"BASIC_SUBS");O=m.$size();C=f(C)?f(E)?[O,z(["text","subs","type","attributes"],{text:n,subs:p(t,"NORMAL_SUBS"),type:"monospaced",attributes:C})]:[O,z(["text","subs","type","attributes"],{text:n,subs:d,type:"unquoted",attributes:C})]:[O,z(["text","subs"],{text:n,subs:d})]}else{if(d["$[]"](6)["$=="](p(t,"RS")))return d["$[]"](0).$slice(1,d["$[]"](0).$length());C=[O=m.$size(),z(["text","subs"],{text:c.$unescape_brackets(d["$[]"](8)),subs:f(d["$[]"](7))?c.$resolve_pass_subs(d["$[]"](7)):
b})]}r(m,"[]=",a.to_a(C));C[v(C.length,1)];return""+ga+p(t,"PASS_START")+O+p(t,"PASS_END")},g.$$s=this,g.$$arity=0,g)));d=p(t,"InlinePassRx")["$[]"](F);e=a.to_ary(d);E=null==e[0]?b:e[0];C=null==e[1]?b:e[1];u=null==e[2]?b:e[2];d;f(f(e=c["$include?"](E))?e:f(d=C)?c["$include?"](C):d)&&(c=r(c,"gsub",[u],(l=function(){var c=l.$$s||this,e,d=b,g=b,h=b,k=b,q=b,C=b,n=d=b,C=h=k=b;null==w["~"]&&(w["~"]=b);d=w["~"];g=d["$[]"](1);h=d["$[]"](2);f((k=d["$[]"](3))["$start_with?"](p(t,"RS")))&&(q=p(t,"RS"));C=d["$[]"](4);
d=d["$[]"](5);f(F)?n=!0:f(n=f(e=h)?h["$end_with?"]("x-"):e)&&(h=h.$slice(0,v(h.$length(),2)));if(f(h)){if(f(C["$=="]("`")?n["$!"]():C["$=="]("`")))return c.$extract_inner_passthrough(d,""+g+"["+h+"]"+q,h);if(f(q))return""+g+"["+h+"]"+k.$slice(1,k.$length());g["$=="](p(t,"RS"))?(g="["+h+"]",h=b):h=c.$parse_quoted_text_attributes(h)}else{if(f(C["$=="]("`")?n["$!"]():C["$=="]("`")))return c.$extract_inner_passthrough(d,""+g+q);if(f(q))return""+g+k.$slice(1,k.$length())}k=m.$size();f(F)?h=[k,z(["text",
"subs","attributes","type"],{text:d,subs:p(t,"BASIC_SUBS"),attributes:h,type:"monospaced"})]:f(h)?f(n)?(C=C["$=="]("`")?p(t,"BASIC_SUBS"):p(t,"NORMAL_SUBS"),h=[k,z(["text","subs","attributes","type"],{text:d,subs:C,attributes:h,type:"monospaced"})]):h=[k,z(["text","subs","attributes","type"],{text:d,subs:p(t,"BASIC_SUBS"),attributes:h,type:"unquoted"})]:h=[k,z(["text","subs"],{text:d,subs:p(t,"BASIC_SUBS")})];r(m,"[]=",a.to_a(h));h[v(h.length,1)];return""+g+p(t,"PASS_START")+k+p(t,"PASS_END")},l.$$s=
this,l.$$arity=0,l)));f(f(e=c["$include?"](":"))?f(d=c["$include?"]("stem:"))?d:c["$include?"]("math:"):e)&&(c=r(c,"gsub",[p(t,"InlineStemMacroRx")],(n=function(){var c=n.$$s||this,e,d=b,g=b,h=b,k=b,d=g=b;null==c.document&&(c.document=b);null==w["~"]&&(w["~"]=b);d=w["~"];if(f(((e=w["~"])===b?b:e["$[]"](0))["$start_with?"](p(t,"RS"))))return d["$[]"](0).$slice(1,d["$[]"](0).$length());(g=d["$[]"](1).$to_sym())["$=="]("stem")&&(g=p(t,"STEM_TYPE_ALIASES")["$[]"](c.document.$attributes()["$[]"]("stem")).$to_sym());
h=c.$unescape_brackets(d["$[]"](3));k=f(d["$[]"](2))?c.$resolve_pass_subs(d["$[]"](2)):f(c.document["$basebackend?"]("html"))?p(t,"BASIC_SUBS"):b;g=[d=m.$size(),z(["text","subs","type"],{text:h,subs:k,type:g})];r(m,"[]=",a.to_a(g));g[v(g.length,1)];return""+p(t,"PASS_START")+d+p(t,"PASS_END")},n.$$s=this,n.$$arity=0,n)));return c},D.$$arity=1);a.def(L,"$extract_inner_passthrough",U=function(c,e,d){var g,h,k=b,q=b;null==this.passthroughs&&(this.passthroughs=b);null==d&&(d=b);if(f(f(g=f(h=c["$end_with?"]("+"))?
c["$start_with?"]("+","\\+"):h)?p(t,"SinglePlusInlinePassRx")["$=~"](c):g)){if(f((g=w["~"])===b?b:g["$[]"](1)))return""+e+"`+"+((g=w["~"])===b?b:g["$[]"](2))+"+`";k=[q=this.passthroughs.$size(),f(d)?z(["text","subs","attributes","type"],{text:(g=w["~"])===b?b:g["$[]"](2),subs:p(t,"BASIC_SUBS"),attributes:d,type:"unquoted"}):z(["text","subs"],{text:(g=w["~"])===b?b:g["$[]"](2),subs:p(t,"BASIC_SUBS")})];r(this.passthroughs,"[]=",a.to_a(k));k[v(k.length,1)];return""+e+"`"+p(t,"PASS_START")+q+p(t,"PASS_END")+
"`"}return""+e+"`"+c+"`"},U.$$arity=-3);a.def(L,"$restore_passthroughs",fa=function(a,c){var e,d=this,g=b;null==d.passthroughs&&(d.passthroughs=b);null==c&&(c=!0);return function(){try{return g=d.passthroughs,r(a,"gsub",[p(t,"PassSlotRx")],(e=function(){var a=e.$$s||this,c,d=b,h=b,k=b,d=g["$[]"](((c=w["~"])===b?b:c["$[]"](1)).$to_i()),h=a.$apply_subs(d["$[]"]("text"),d["$[]"]("subs"));f(k=d["$[]"]("type"))&&(h=p(t,"Inline").$new(a,"quoted",h,z(["type","attributes"],{type:k,attributes:d["$[]"]("attributes")})).$convert());
return f(h["$include?"](p(t,"PASS_START")))?a.$restore_passthroughs(h,!1):h},e.$$s=d,e.$$arity=0,e))}finally{f(c)&&g.$clear()}}()},fa.$$arity=-2);p(t,"RUBY_ENGINE")["$=="]("opal")?(a.def(L,"$sub_quotes",V=function(a){var c,e=b;null==this.document&&(this.document=b);f(p(t,"QuotedTextSniffRx")["$[]"](e=this.document.$compat_mode())["$match?"](a))&&r(p(t,"QUOTE_SUBS")["$[]"](e),"each",[],(c=function(e,d,f){var g=c.$$s||this,h;null==e&&(e=b);null==d&&(d=b);null==f&&(f=b);return a=r(a,"gsub",[f],(h=function(){var a=
h.$$s||this;null==w["~"]&&(w["~"]=b);return a.$convert_quoted_text(w["~"],e,d)},h.$$s=g,h.$$arity=0,h))},c.$$s=this,c.$$arity=3,c));return a},V.$$arity=1),a.def(L,"$sub_replacements",K=function(a){var c;f(p(t,"ReplaceableTextRx")["$match?"](a))&&r(p(t,"REPLACEMENTS"),"each",[],(c=function(e,d,f){var g=c.$$s||this,h;null==e&&(e=b);null==d&&(d=b);null==f&&(f=b);return a=r(a,"gsub",[e],(h=function(){var a=h.$$s||this;null==w["~"]&&(w["~"]=b);return a.$do_replacement(w["~"],d,f)},h.$$s=g,h.$$arity=0,
h))},c.$$s=this,c.$$arity=3,c));return a},K.$$arity=1)):b;f(n("::","RUBY_MIN_VERSION_1_9"))?a.def(L,"$sub_specialchars",J=function(a){var b,c;return f(f(b=f(c=a["$include?"]("<"))?c:a["$include?"]("&"))?b:a["$include?"](">"))?a.$gsub(p(t,"SpecialCharsRx"),p(t,"SpecialCharsTr")):a},J.$$arity=1):a.def(L,"$sub_specialchars",Z=function(a){var c,e,d;return f(f(c=f(e=a["$include?"]("<"))?e:a["$include?"]("&"))?c:a["$include?"](">"))?r(a,"gsub",[p(t,"SpecialCharsRx")],(d=function(){var a;return p(t,"SpecialCharsTr")["$[]"]((a=
w["~"])===b?b:a["$[]"](0))},d.$$s=this,d.$$arity=0,d)):a},Z.$$arity=1);a.alias(L,"sub_specialcharacters","sub_specialchars");a.def(L,"$do_replacement",G=function(a,c,e){var d=b,d=b;f((d=a["$[]"](0))["$include?"](p(t,"RS")))?a=d.$sub(p(t,"RS"),""):(d=e,a="none"["$==="](d)?c:"bounding"["$==="](d)?""+a["$[]"](1)+c+a["$[]"](2):""+a["$[]"](1)+c);return a},G.$$arity=3);a.def(L,"$sub_attributes",qa=function(c,e){var d,g,h,k,v=b,q=b,l=b,C=b,n=b,F=b,ua=b;null==this.document&&(this.document=b);null==e&&(e=
z([],{}));v=this.document.$attributes();q=l=C=n=F=b;c=r(c,"gsub",[p(t,"AttributeReferenceRx")],(d=function(){var c=d.$$s||this,g,h,k,z=b,ua=b,m=b,E=b;null==c.document&&(c.document=b);return f(f(g=((h=w["~"])===b?b:h["$[]"](1))["$=="](p(t,"RS")))?g:((h=w["~"])===b?b:h["$[]"](4))["$=="](p(t,"RS")))?"{"+((g=w["~"])===b?b:g["$[]"](2))+"}":f((g=w["~"])===b?b:g["$[]"](3))?function(){z=(ua=((g=w["~"])===b?b:g["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](z)?(h=p(t,"Parser").$store_attribute(ua["$[]"](0),
f(k=ua["$[]"](1))?k:"",c.document),g=a.to_ary(h),m=null==g[1]?b:g[1],h,f(f(g=m)?g:(n=f(h=n)?h:f(k=v["$[]"]("attribute-undefined"))?k:p(t,"Compliance").$attribute_undefined())["$!="]("drop-line"))?q=C=p(t,"DEL"):q=l=p(t,"CAN")):"counter2"["$==="](z)?(r(c.document,"counter",a.to_a(ua)),q=C=p(t,"DEL")):r(c.document,"counter",a.to_a(ua))}():f(v["$key?"](E=((g=w["~"])===b?b:g["$[]"](2)).$downcase()))?v["$[]"](E):f(m=p(t,"INTRINSIC_ATTRIBUTES")["$[]"](E))?m:function(){z=F=f(g=F)?g:f(h=f(k=e["$[]"]("attribute_missing"))?
k:v["$[]"]("attribute-missing"))?h:p(t,"Compliance").$attribute_missing();if("drop"["$==="](z))return q=C=p(t,"DEL");if("drop-line"["$==="](z))return c.$logger().$warn("dropping line containing reference to missing attribute: "+E),q=l=p(t,"CAN");"warn"["$==="](z)&&c.$logger().$warn("skipping reference to missing attribute: "+E);return(g=w["~"])===b?b:g["$[]"](0)}()},d.$$s=this,d.$$arity=0,d));return f(q)?f(C)?(ua=c.$tr_s(p(t,"DEL"),p(t,"DEL")).$split(p(t,"LF"),-1),f(l)?r(ua,"reject",[],(g=function(a){var c,
e,d;null==a&&(a=b);return f(c=f(e=f(d=a["$=="](p(t,"DEL")))?d:a["$=="](p(t,"CAN")))?e:a["$start_with?"](p(t,"CAN")))?c:a["$include?"](p(t,"CAN"))},g.$$s=this,g.$$arity=1,g)).$join(p(t,"LF")).$delete(p(t,"DEL")):r(ua,"reject",[],(h=function(a){null==a&&(a=b);return a["$=="](p(t,"DEL"))},h.$$s=this,h.$$arity=1,h)).$join(p(t,"LF")).$delete(p(t,"DEL"))):f(c["$include?"](p(t,"LF")))?r(c.$split(p(t,"LF"),-1),"reject",[],(k=function(a){var c,e;null==a&&(a=b);return f(c=f(e=a["$=="](p(t,"CAN")))?e:a["$start_with?"](p(t,
"CAN")))?c:a["$include?"](p(t,"CAN"))},k.$$s=this,k.$$arity=1,k)).$join(p(t,"LF")):"":c},qa.$$arity=-2);a.def(L,"$sub_macros",la=function(c){try{var e,d,g,q,l,E,u,B,C,L,P,ua,ia=b,ga=b,O=b,Sa=b,Ta=b,T=b,ka=b,x=b,y=b;null==this.document&&(this.document=b);ia=z([],{});ga=(O=["square_bracket",c["$include?"]("[")],r(ia,"[]=",a.to_a(O)),O[v(O.length,1)]);Sa=c["$include?"](":");Ta=(O=["macroish",f(e=ga)?Sa:e],r(ia,"[]=",a.to_a(O)),O[v(O.length,1)]);T=f(e=Ta)?c["$include?"](":["):e;ka=(x=this.document).$attributes();
f(ka["$key?"]("experimental"))&&(f(f(e=T)?f(d=c["$include?"]("kbd:"))?d:c["$include?"]("btn:"):e)&&(c=r(c,"gsub",[p(t,"InlineKbdBtnMacroRx")],(g=function(){var c=g.$$s||this,e,d,q,C=b,ga=b,l=b;return f((e=w["~"])===b?b:e["$[]"](1))?((e=w["~"])===b?b:e["$[]"](0)).$slice(1,((e=w["~"])===b?b:e["$[]"](0)).$length()):((e=w["~"])===b?b:e["$[]"](2))["$=="]("kbd")?(f((C=((e=w["~"])===b?b:e["$[]"](3)).$strip())["$include?"](p(t,"R_SB")))&&(C=C.$gsub(p(t,"ESC_R_SB"),p(t,"R_SB"))),f(f(e=h(C.$length(),1))?ga=
f(ga=C.$index(",",1))?[ga,C.$index("+",1)].$compact().$min():C.$index("+",1):e)?(l=C.$slice(ga,1),f(C["$end_with?"](l))?(C=r(C.$chop().$split(l,-1),"map",[],(d=function(a){null==a&&(a=b);return a.$strip()},d.$$s=c,d.$$arity=1,d)),O=[-1,""+C["$[]"](-1)+l],r(C,"[]=",a.to_a(O)),O[v(O.length,1)]):C=r(C.$split(l),"map",[],(q=function(a){null==a&&(a=b);return a.$strip()},q.$$s=c,q.$$arity=1,q))):C=[C],p(t,"Inline").$new(c,"kbd",b,z(["attributes"],{attributes:z(["keys"],{keys:C})})).$convert()):p(t,"Inline").$new(c,
"button",c.$unescape_bracketed_text((e=w["~"])===b?b:e["$[]"](3))).$convert()},g.$$s=this,g.$$arity=0,g))),f(f(e=Ta)?c["$include?"]("menu:"):e)&&(c=r(c,"gsub",[p(t,"InlineMenuMacroRx")],(q=function(){var a=q.$$s||this,c,e,d=b,g=d=b,h=b,h=g=b;null==w["~"]&&(w["~"]=b);d=w["~"];if(f(((c=w["~"])===b?b:c["$[]"](0))["$start_with?"](p(t,"RS"))))return d["$[]"](0).$slice(1,d["$[]"](0).$length());c=[d["$[]"](1),d["$[]"](2)];d=c[0];g=c[1];c;f(g)?(f(g["$include?"](p(t,"R_SB")))&&(g=g.$gsub(p(t,"ESC_R_SB"),p(t,
"R_SB"))),f(h=f(g["$include?"]("&gt;"))?"&gt;":f(g["$include?"](","))?",":b)?(g=r(g.$split(h),"map",[],(e=function(a){null==a&&(a=b);return a.$strip()},e.$$s=a,e.$$arity=1,e)),h=g.$pop()):(c=[[],g.$rstrip()],g=c[0],h=c[1],c)):(c=[[],b],g=c[0],h=c[1],c);return p(t,"Inline").$new(a,"menu",b,z(["attributes"],{attributes:z(["menu","submenus","menuitem"],{menu:d,submenus:g,menuitem:h})})).$convert()},q.$$s=this,q.$$arity=0,q))),f(f(e=c["$include?"]('"'))?c["$include?"]("&gt;"):e)&&(c=r(c,"gsub",[p(t,"InlineMenuRx")],
(l=function(){var c=l.$$s||this,e,d,g,h=b,k=h=h=b;d=b;null==w["~"]&&(w["~"]=b);h=w["~"];if(f(((e=w["~"])===b?b:e["$[]"](0))["$start_with?"](p(t,"RS"))))return h["$[]"](0).$slice(1,h["$[]"](0).$length());h=h["$[]"](1);d=r(h.$split("&gt;"),"map",[],(g=function(a){null==a&&(a=b);return a.$strip()},g.$$s=c,g.$$arity=1,g));e=a.to_ary(d);h=null==e[0]?b:e[0];k=m.call(e,1);d;d=k.$pop();return p(t,"Inline").$new(c,"menu",b,z(["attributes"],{attributes:z(["menu","submenus","menuitem"],{menu:h,submenus:k,menuitem:d})})).$convert()},
l.$$s=this,l.$$arity=0,l))));f(f(e=y=x.$extensions())?y["$inline_macros?"]():e)&&r(y.$inline_macros(),"each",[],(E=function(e){var d=E.$$s||this,g;null==e&&(e=b);return c=r(c,"gsub",[e.$instance().$regexp()],(g=function(){var c=g.$$s||this,d,h=b,k=h=b,q=b,C=b,h=b;null==w["~"]&&(w["~"]=b);h=w["~"];if(f(((d=w["~"])===b?b:d["$[]"](0))["$start_with?"](p(t,"RS"))))return h["$[]"](0).$slice(1,h["$[]"](0).$length());var ga;a:{try{ga=h.$names();break a}catch(l){if(a.rescue(l,[p(t,"StandardError")]))try{ga=
[];break a}finally{a.pop_exception()}else throw l;}ga=void 0}if(f(ga["$empty?"]()))d=[h["$[]"](1),h["$[]"](2),e.$config()];else{var ua;a:{try{ua=h["$[]"]("target");break a}catch(l){if(a.rescue(l,[p(t,"StandardError")]))try{ua=b;break a}finally{a.pop_exception()}else throw l;}ua=void 0}d=ua;var ia;a:{try{ia=h["$[]"]("content");break a}catch(l){if(a.rescue(l,[p(t,"StandardError")]))try{ia=b;break a}finally{a.pop_exception()}else throw l;}ia=void 0}d=[d,ia,e.$config()]}h=d[0];k=d[1];q=d[2];d;C=f(C=q["$[]"]("default_attrs"))?
C.$dup():z([],{});f(k["$nil_or_empty?"]())?f(f(d=k)?q["$[]"]("content_model")["$!="]("attributes"):d)&&(O=["text",k],r(C,"[]=",a.to_a(O)),O[v(O.length,1)]):(k=c.$unescape_bracketed_text(k),q["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(k,f(d=q["$[]"]("pos_attrs"))?d:[],z(["into"],{into:C})):(O=["text",k],r(C,"[]=",a.to_a(O)),O[v(O.length,1)]));h=e.$process_method()["$[]"](c,f(d=h)?d:k,C);return f(p(t,"Inline")["$==="](h))?h.$convert():h},g.$$s=d,g.$$arity=0,g))},E.$$s=this,E.$$arity=
1,E));f(f(e=Ta)?f(d=c["$include?"]("image:"))?d:c["$include?"]("icon:"):e)&&(c=r(c,"gsub",[p(t,"InlineImageMacroRx")],(u=function(){var c=u.$$s||this,e,d=b,g=b,h=g=b,k=b,d=b;null==w["~"]&&(w["~"]=b);d=w["~"];if(f((g=(e=w["~"])===b?b:e["$[]"](0))["$start_with?"](p(t,"RS"))))return g.$slice(1,g.$length());e=f(g["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]];g=e[0];h=e[1];e;f((k=d["$[]"](1))["$include?"](p(t,"ATTR_REF_HEAD")))&&(k=c.$sub_attributes(k));d=c.$parse_attributes(d["$[]"](2),
h,z(["unescape_input"],{unescape_input:!0}));g["$=="]("icon")||x.$register("images",[k,(O=["imagesdir",ka["$[]"]("imagesdir")],r(d,"[]=",a.to_a(O)),O[v(O.length,1)])]);f(e=d["$[]"]("alt"))?e:(O=["alt",(O=["default-alt",p(t,"Helpers").$basename(k,!0).$tr("_-"," ")],r(d,"[]=",a.to_a(O)),O[v(O.length,1)])],r(d,"[]=",a.to_a(O)),O[v(O.length,1)]);return p(t,"Inline").$new(c,"image",b,z(["type","target","attributes"],{type:g,target:k,attributes:d})).$convert()},u.$$s=this,u.$$arity=0,u)));f(f(e=f(d=c["$include?"]("(("))?
c["$include?"]("))"):d)?e:f(d=T)?c["$include?"]("dexterm"):d)&&(c=r(c,"gsub",[p(t,"InlineIndextermMacroRx")],(B=function(){var a=B.$$s||this,e,d=b,g=b,h=b,k=b,q=b,O=b,C=b,ga=b,d=(e=w["~"])===b?b:e["$[]"](0);return function(){g=(e=w["~"])===b?b:e["$[]"](1);if("indexterm"["$==="](g)){c=(e=w["~"])===b?b:e["$[]"](2);if(f(d["$start_with?"](p(t,"RS"))))return d.$slice(1,d.$length());h=a.$split_simple_csv(a.$normalize_string(c,!0));x.$register("indexterms",h);return p(t,"Inline").$new(a,"indexterm",b,z(["attributes"],
{attributes:z(["terms"],{terms:h})})).$convert()}if("indexterm2"["$==="](g)){c=(e=w["~"])===b?b:e["$[]"](2);if(f(d["$start_with?"](p(t,"RS"))))return d.$slice(1,d.$length());k=a.$normalize_string(c,!0);x.$register("indexterms",[k]);return p(t,"Inline").$new(a,"indexterm",k,z(["type"],{type:"visible"})).$convert()}c=(e=w["~"])===b?b:e["$[]"](3);if(f(d["$start_with?"](p(t,"RS"))))if(f(f(e=c["$start_with?"]("("))?c["$end_with?"](")"):e))c=c.$slice(1,v(c.$length(),2)),e=[!0,"(",")"],q=e[0],O=e[1],C=e[2],
e;else return d.$slice(1,d.$length());else q=!0,f(c["$start_with?"]("("))?(f(c["$end_with?"](")"))?(e=[c.$slice(1,v(c.$length(),2)),!1],c=e[0],q=e[1]):(e=[c.$slice(1,c.$length()),"(",""],c=e[0],O=e[1],C=e[2]),e):f(c["$end_with?"](")"))&&(e=[c.$slice(0,v(c.$length(),1)),"",")"],c=e[0],O=e[1],C=e[2],e);f(q)?(k=a.$normalize_string(c),x.$register("indexterms",[k]),ga=p(t,"Inline").$new(a,"indexterm",k,z(["type"],{type:"visible"})).$convert()):(h=a.$split_simple_csv(a.$normalize_string(c)),x.$register("indexterms",
h),ga=p(t,"Inline").$new(a,"indexterm",b,z(["attributes"],{attributes:z(["terms"],{terms:h})})).$convert());return f(O)?""+O+ga+C:ga}()},B.$$s=this,B.$$arity=0,B)));f(f(e=Sa)?c["$include?"]("://"):e)&&(c=r(c,"gsub",[p(t,"InlineLinkRx")],(C=function(){var e=C.$$s||this,d,g,h=b,k=b,q=b,ga=b,l=b,q=h=q=b;null==w["~"]&&(w["~"]=b);h=w["~"];if(f((k=(d=w["~"])===b?b:d["$[]"](2))["$start_with?"](p(t,"RS"))))return""+h["$[]"](1)+k.$slice(1,k.$length())+h["$[]"](3);d=[h["$[]"](1),f(g=q=h["$[]"](3))?g:"",""];
ga=d[0];c=d[1];l=d[2];d;if(ga["$=="]("link:"))if(f(q))ga="";else return h["$[]"](0);f(f(d=q)?d:p(t,"UriTerminatorRx")["$!~"](k))||(q=(d=w["~"])===b?b:d["$[]"](0),")"["$==="](q)?(k=k.$chop(),l=")"):";"["$==="](q)?f(f(d=ga["$start_with?"]("&lt;"))?k["$end_with?"]("&gt;"):d)?(ga=ga.$slice(4,ga.$length()),k=k.$slice(0,v(k.$length(),4))):f((k=k.$chop())["$end_with?"](")"))?(k=k.$chop(),l=");"):l=";":":"["$==="](q)&&(f((k=k.$chop())["$end_with?"](")"))?(k=k.$chop(),l="):"):l=":"),f(k["$end_with?"]("://"))&&
a.ret(h["$[]"](0)));d=[b,z(["type"],{type:"link"})];h=d[0];q=d[1];d;f(c["$empty?"]())||(f(c["$include?"](p(t,"R_SB")))&&(c=c.$gsub(p(t,"ESC_R_SB"),p(t,"R_SB"))),f(f(d=x.$compat_mode()["$!"]())?c["$include?"]("="):d)&&(c=f(d=(h=p(t,"AttributeList").$new(c,e).$parse())["$[]"](1))?d:"",f(h["$key?"]("id"))&&(O=["id",h.$delete("id")],r(q,"[]=",a.to_a(O)),O[v(O.length,1)])),f(c["$end_with?"]("^"))&&(c=c.$chop(),f(h)?f(d=h["$[]"]("window"))?d:(O=["window","_blank"],r(h,"[]=",a.to_a(O)),O[v(O.length,1)]):
h=z(["window"],{window:"_blank"})));f(c["$empty?"]())&&(c=f(ka["$key?"]("hide-uri-scheme"))?k.$sub(p(t,"UriSniffRx"),""):k,f(h)?(O=["role",f(h["$key?"]("role"))?"bare "+h["$[]"]("role"):"bare"],r(h,"[]=",a.to_a(O)),O[v(O.length,1)]):h=z(["role"],{role:"bare"}));x.$register("links",(O=["target",k],r(q,"[]=",a.to_a(O)),O[v(O.length,1)]));f(h)&&(O=["attributes",h],r(q,"[]=",a.to_a(O)),O[v(O.length,1)]);return""+ga+p(t,"Inline").$new(e,"anchor",c,q).$convert()+l},C.$$s=this,C.$$arity=0,C)));f(f(e=Ta)?
f(d=c["$include?"]("link:"))?d:c["$include?"]("mailto:"):e)&&(c=r(c,"gsub",[p(t,"InlineLinkMacroRx")],(L=function(){var e=L.$$s||this,d,g=b,h=b,k=b,q=b,C=b;null==w["~"]&&(w["~"]=b);g=w["~"];if(f(((d=w["~"])===b?b:d["$[]"](0))["$start_with?"](p(t,"RS"))))return g["$[]"](0).$slice(1,g["$[]"](0).$length());h=f(k=g["$[]"](1))?"mailto:"+g["$[]"](2):g["$[]"](2);d=[b,z(["type"],{type:"link"})];q=d[0];C=d[1];d;f((c=g["$[]"](3))["$empty?"]())||(f(c["$include?"](p(t,"R_SB")))&&(c=c.$gsub(p(t,"ESC_R_SB"),p(t,
"R_SB"))),f(k)?f(f(d=x.$compat_mode()["$!"]())?c["$include?"](","):d)&&(c=f(d=(q=p(t,"AttributeList").$new(c,e).$parse())["$[]"](1))?d:"",f(q["$key?"]("id"))&&(O=["id",q.$delete("id")],r(C,"[]=",a.to_a(O)),O[v(O.length,1)]),f(q["$key?"](2))&&(h=f(q["$key?"](3))?""+h+"?subject="+p(t,"Helpers").$uri_encode(q["$[]"](2))+"&amp;body="+p(t,"Helpers").$uri_encode(q["$[]"](3)):""+h+"?subject="+p(t,"Helpers").$uri_encode(q["$[]"](2)))):f(f(d=x.$compat_mode()["$!"]())?c["$include?"]("="):d)&&(c=f(d=(q=p(t,
"AttributeList").$new(c,e).$parse())["$[]"](1))?d:"",f(q["$key?"]("id"))&&(O=["id",q.$delete("id")],r(C,"[]=",a.to_a(O)),O[v(O.length,1)])),f(c["$end_with?"]("^"))&&(c=c.$chop(),f(q)?f(d=q["$[]"]("window"))?d:(O=["window","_blank"],r(q,"[]=",a.to_a(O)),O[v(O.length,1)]):q=z(["window"],{window:"_blank"})));f(c["$empty?"]())&&(f(k)?c=g["$[]"](2):(f(ka["$key?"]("hide-uri-scheme"))?f((c=h.$sub(p(t,"UriSniffRx"),""))["$empty?"]())&&(c=h):c=h,f(q)?(O=["role",f(q["$key?"]("role"))?"bare "+q["$[]"]("role"):
"bare"],r(q,"[]=",a.to_a(O)),O[v(O.length,1)]):q=z(["role"],{role:"bare"})));x.$register("links",(O=["target",h],r(C,"[]=",a.to_a(O)),O[v(O.length,1)]));f(q)&&(O=["attributes",q],r(C,"[]=",a.to_a(O)),O[v(O.length,1)]);return p(t,"Inline").$new(e,"anchor",c,C).$convert()},L.$$s=this,L.$$arity=0,L)));f(c["$include?"]("@"))&&(c=r(c,"gsub",[p(t,"InlineEmailRx")],(P=function(){var a=P.$$s||this,c,e,d=b,g=b;c=b;c=[(e=w["~"])===b?b:e["$[]"](0),(e=w["~"])===b?b:e["$[]"](1)];d=c[0];g=c[1];c;if(f(g))return g["$=="](p(t,
"RS"))?d.$slice(1,d.$length()):d;c="mailto:"+d;x.$register("links",c);return p(t,"Inline").$new(a,"anchor",d,z(["type","target"],{type:"link",target:c})).$convert()},P.$$s=this,P.$$arity=0,P)));f(f(e=Ta)?c["$include?"]("tnote"):e)&&(c=r(c,"gsub",[p(t,"InlineFootnoteMacroRx")],(ua=function(){var e=ua.$$s||this,d,g,h,k,q=b,v=b,C=q=g=b;g=b;null==w["~"]&&(w["~"]=b);q=w["~"];if(f(((d=w["~"])===b?b:d["$[]"](0))["$start_with?"](p(t,"RS"))))return q["$[]"](0).$slice(1,q["$[]"](0).$length());f(q["$[]"](1))?
(g=(f(h=q["$[]"](3))?h:"").$split(",",2),d=a.to_ary(g),v=null==d[0]?b:d[0],c=null==d[1]?b:d[1],g):(d=[q["$[]"](2),q["$[]"](3)],v=d[0],c=d[1],d);if(f(v))f(c)?(c=e.$restore_passthroughs(e.$sub_inline_xrefs(e.$sub_inline_anchors(e.$normalize_string(c,!0))),!1),g=x.$counter("footnote-number"),x.$register("footnotes",n(p(t,"Document"),"Footnote").$new(g,v,c)),d=["ref",b],q=d[0],C=d[1]):(f(g=r(x.$footnotes(),"find",[],(k=function(a){null==a&&(a=b);return a.$id()["$=="](v)},k.$$s=e,k.$$arity=1,k)))?d=[g.$index(),
g.$text()]:(e.$logger().$warn("invalid footnote reference: "+v),d=[b,v]),g=d[0],c=d[1],d,d=["xref",v,b],q=d[0],C=d[1],v=d[2]),d;else if(f(c))c=e.$restore_passthroughs(e.$sub_inline_xrefs(e.$sub_inline_anchors(e.$normalize_string(c,!0))),!1),g=x.$counter("footnote-number"),x.$register("footnotes",n(p(t,"Document"),"Footnote").$new(g,v,c)),q=C=b;else return q["$[]"](0);return p(t,"Inline").$new(e,"footnote",c,z(["attributes","id","target","type"],{attributes:z(["index"],{index:g}),id:v,target:C,type:q})).$convert()},
ua.$$s=this,ua.$$arity=0,ua)));return this.$sub_inline_xrefs(this.$sub_inline_anchors(c,ia),ia)}catch(I){if(I===a.returner)return I.$v;throw I;}},la.$$arity=1);a.def(L,"$sub_inline_anchors",H=function(a,c){var e,d,g,h,k;null==this.context&&(this.context=b);null==this.parent&&(this.parent=b);null==c&&(c=b);f((e=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(a=r(a,"sub",[p(t,"InlineBiblioAnchorRx")],(d=function(){var a=d.$$s||this,c,
e;return p(t,"Inline").$new(a,"anchor","["+(f(c=(e=w["~"])===b?b:e["$[]"](2))?c:(e=w["~"])===b?b:e["$[]"](1))+"]",z(["type","id","target"],{type:"bibref",id:(c=w["~"])===b?b:c["$[]"](1),target:(c=w["~"])===b?b:c["$[]"](1)})).$convert()},d.$$s=this,d.$$arity=0,d)));f(f(e=f(g=f(h=c["$!"]())?h:c["$[]"]("square_bracket"))?a["$include?"]("[["):g)?e:f(g=f(h=c["$!"]())?h:c["$[]"]("macroish"))?a["$include?"]("or:"):g)&&(a=r(a,"gsub",[p(t,"InlineAnchorRx")],(k=function(){var a=k.$$s||this,c,e,d=b,g=b;if(f((c=
w["~"])===b?b:c["$[]"](1)))return((c=w["~"])===b?b:c["$[]"](0)).$slice(1,((c=w["~"])===b?b:c["$[]"](0)).$length());f(d=(c=w["~"])===b?b:c["$[]"](2))?g=(c=w["~"])===b?b:c["$[]"](3):(d=(c=w["~"])===b?b:c["$[]"](4),f(f(c=g=(e=w["~"])===b?b:e["$[]"](5))?g["$include?"](p(t,"R_SB")):c)&&(g=g.$gsub(p(t,"ESC_R_SB"),p(t,"R_SB"))));return p(t,"Inline").$new(a,"anchor",g,z(["type","id","target"],{type:"ref",id:d,target:d})).$convert()},k.$$s=this,k.$$arity=0,k)));return a},H.$$arity=-2);a.def(L,"$sub_inline_xrefs",
aa=function(d,g){var q,l,m;null==g&&(g=b);f(f(q=f(l=f(g)?g["$[]"]("macroish"):d["$include?"]("["))?d["$include?"]("xref:"):l)?q:f(l=d["$include?"]("&"))?d["$include?"]("lt;&"):l)&&(d=r(d,"gsub",[p(t,"InlineXrefMacroRx")],(m=function(){var d=m.$$s||this,g,q,l=b,C=b,r=b,E=b,ua=l=b,ia=b,ga=b,O=b,Sa=O=b,u=b,T=b;null==d.document&&(d.document=b);null==w["~"]&&(w["~"]=b);null==w.VERBOSE&&(w.VERBOSE=b);l=w["~"];if(f(((g=w["~"])===b?b:g["$[]"](0))["$start_with?"](p(t,"RS"))))return l["$[]"](0).$slice(1,l["$[]"](0).$length());
g=[z([],{}),d.document];C=g[0];r=g[1];g;f(E=l["$[]"](1))?(q=E.$split(",",2),g=a.to_ary(q),E=null==g[0]?b:g[0],l=null==g[1]?b:g[1],q,f(l)&&(l=l.$lstrip())):(ua=!0,E=l["$[]"](2),f(l=l["$[]"](3))&&(f(l["$include?"](p(t,"R_SB")))&&(l=l.$gsub(p(t,"ESC_R_SB"),p(t,"R_SB"))),f(f(g=r.$compat_mode()["$!"]())?l["$include?"]("="):g)&&(l=p(t,"AttributeList").$new(l,d).$parse_into(C)["$[]"](1))));f(r.$compat_mode())?ia=E:f(ga=E.$index("#"))?f(h(ga,0))?(f(h(O=v(v(E.$length(),ga),1),0))?(g=[E.$slice(0,ga),E.$slice(c(ga,
1),O)],O=g[0],ia=g[1],g):O=E.$slice(0,ga),f((Sa=n("::","File").$extname(O))["$empty?"]())?u=O:f(p(t,"ASCIIDOC_EXTENSIONS")["$[]"](Sa))&&(u=O=O.$slice(0,v(O.$length(),Sa.$length())))):(g=[E,E.$slice(1,E.$length())],T=g[0],ia=g[1],g):f(f(g=ua)?E["$end_with?"](".adoc"):g)?u=O=E.$slice(0,v(E.$length(),5)):ia=E;f(T)?(E=ia,f(f(g=w.VERBOSE)?r.$catalog()["$[]"]("ids")["$key?"](E)["$!"]():g)&&d.$logger().$warn("invalid reference: "+E)):f(O)?f(f(g=u)?f(q=r.$attributes()["$[]"]("docname")["$=="](O))?q:r.$catalog()["$[]"]("includes")["$[]"](O):
g)?f(ia)?(g=[ia,b,"#"+ia],E=g[0],O=g[1],T=g[2],g,f(f(g=w.VERBOSE)?r.$catalog()["$[]"]("ids")["$key?"](E)["$!"]():g)&&d.$logger().$warn("invalid reference: "+E)):(g=[b,b,"#"],E=g[0],O=g[1],T=g[2],g):(g=[O,""+r.$attributes()["$[]"]("relfileprefix")+O+(f(u)?r.$attributes().$fetch("relfilesuffix",r.$outfilesuffix()):"")],E=g[0],O=g[1],g,f(ia)?(g=[""+E+"#"+ia,""+O+"#"+ia],E=g[0],T=g[1],g):T=O):f(f(g=r.$compat_mode())?g:p(t,"Compliance").$natural_xrefs()["$!"]())?(g=[ia,"#"+ia],E=g[0],T=g[1],g,f(f(g=w.VERBOSE)?
r.$catalog()["$[]"]("ids")["$key?"](E)["$!"]():g)&&d.$logger().$warn("invalid reference: "+E)):f(r.$catalog()["$[]"]("ids")["$key?"](ia))?(g=[ia,"#"+ia],E=g[0],T=g[1],g):f(f(g=E=r.$catalog()["$[]"]("ids").$key(ia))?f(q=ia["$include?"](" "))?q:ia.$downcase()["$!="](ia):g)?(g=[E,"#"+E],ia=g[0],T=g[1],g):(g=[ia,"#"+ia],E=g[0],T=g[1],g,f(w.VERBOSE)&&d.$logger().$warn("invalid reference: "+E));g=[O,ia,E];C["$[]="]("path",g[0]);C["$[]="]("fragment",g[1]);C["$[]="]("refid",g[2]);g;return p(t,"Inline").$new(d,
"anchor",l,z(["type","target","attributes"],{type:"xref",target:T,attributes:C})).$convert()},m.$$s=this,m.$$arity=0,m)));return d},aa.$$arity=-2);a.def(L,"$sub_callouts",ba=function(a){var d,g=b,h=b,g=f(this["$attr?"]("line-comment"))?p(t,"CalloutSourceRxMap")["$[]"](this.$attr("line-comment")):p(t,"CalloutSourceRx"),h=0;return r(a,"gsub",[g],(d=function(){var a=d.$$s||this,g;null==a.document&&(a.document=b);return f((g=w["~"])===b?b:g["$[]"](2))?((g=w["~"])===b?b:g["$[]"](0)).$sub(p(t,"RS"),""):
p(t,"Inline").$new(a,"callout",((g=w["~"])===b?b:g["$[]"](4))["$=="](".")?(h=c(h,1)).$to_s():(g=w["~"])===b?b:g["$[]"](4),z(["id","attributes"],{id:a.document.$callouts().$read_next_id(),attributes:z(["guard"],{guard:(g=w["~"])===b?b:g["$[]"](1)})})).$convert()},d.$$s=this,d.$$arity=0,d))},ba.$$arity=1);a.def(L,"$sub_post_replacements",ma=function(a){var c,e,d,h=b,k=b;null==this.document&&(this.document=b);null==this.attributes&&(this.attributes=b);if(f(f(c=this.document.$attributes()["$key?"]("hardbreaks"))?
c:this.attributes["$key?"]("hardbreaks-option"))){h=a.$split(p(t,"LF"),-1);if(f(g(h.$size(),2)))return a;k=h.$pop();return r(h,"map",[],(e=function(a){var c=e.$$s||this;null==a&&(a=b);return p(t,"Inline").$new(c,"break",f(a["$end_with?"](p(t,"HARD_LINE_BREAK")))?a.$slice(0,v(a.$length(),2)):a,z(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=1,e))["$<<"](k).$join(p(t,"LF"))}return f(f(c=a["$include?"](p(t,"PLUS")))?a["$include?"](p(t,"HARD_LINE_BREAK")):c)?r(a,"gsub",[p(t,"HardLineBreakRx")],
(d=function(){var a=d.$$s||this,c;return p(t,"Inline").$new(a,"break",(c=w["~"])===b?b:c["$[]"](1),z(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=0,d)):a},ma.$$arity=1);a.def(L,"$convert_quoted_text",M=function(a,c,e){var d=b,g=b,h=b,k=b,q=b;if(f(a["$[]"](0)["$start_with?"](p(t,"RS"))))if(f(e["$=="]("constrained")?d=a["$[]"](2):e["$=="]("constrained")))g="["+d+"]";else return a["$[]"](0).$slice(1,a["$[]"](0).$length());if(e["$=="]("constrained")){if(f(g))return""+g+p(t,"Inline").$new(this,
"quoted",a["$[]"](3),z(["type"],{type:c})).$convert();f(h=a["$[]"](2))&&(k=(q=this.$parse_quoted_text_attributes(h)).$delete("id"),c["$=="]("mark")&&(c="unquoted"));return""+a["$[]"](1)+p(t,"Inline").$new(this,"quoted",a["$[]"](3),z(["type","id","attributes"],{type:c,id:k,attributes:q})).$convert()}f(h=a["$[]"](1))&&(k=(q=this.$parse_quoted_text_attributes(h)).$delete("id"),c["$=="]("mark")&&(c="unquoted"));return p(t,"Inline").$new(this,"quoted",a["$[]"](2),z(["type","id","attributes"],{type:c,id:k,
attributes:q})).$convert()},M.$$arity=3);a.def(L,"$parse_quoted_text_attributes",da=function(c){var e,d=b,g=b,q=b,g=q=d=b;f(c["$include?"](p(t,"ATTR_REF_HEAD")))&&(c=this.$sub_attributes(c));f(c["$include?"](","))&&(c=c.$slice(0,c.$index(",")));return f((c=c.$strip())["$empty?"]())?z([],{}):f(f(e=c["$start_with?"](".","#"))?p(t,"Compliance").$shorthand_property_syntax():e)?(d=c.$split("#",2),f(h(d.$size(),1))?(c=d["$[]"](1).$split("."),e=a.to_ary(c),g=null==e[0]?b:e[0],q=m.call(e,1),c):(g=b,q=[]),
d=f(d["$[]"](0)["$empty?"]())?[]:d["$[]"](0).$split("."),f(h(d.$size(),1))&&d.$shift(),f(h(q.$size(),0))&&d.$concat(q),q=z([],{}),f(g)&&(g=["id",g],r(q,"[]=",a.to_a(g)),g[v(g.length,1)]),f(d["$empty?"]())||(g=["role",d.$join(" ")],r(q,"[]=",a.to_a(g)),g[v(g.length,1)]),q):z(["role"],{role:c})},da.$$arity=1);a.def(L,"$parse_attributes",ea=function(a,c,e){var d,g=b,h=b;null==this.document&&(this.document=b);null==c&&(c=[]);null==e&&(e=z([],{}));if(!f(f(d=a)?a["$empty?"]()["$!"]():d))return z([],{});
f(f(d=e["$[]"]("sub_input"))?a["$include?"](p(t,"ATTR_REF_HEAD")):d)&&(a=this.document.$sub_attributes(a));f(e["$[]"]("unescape_input"))&&(a=this.$unescape_bracketed_text(a));f(e["$[]"]("sub_result"))&&(g=this);return f(h=e["$[]"]("into"))?p(t,"AttributeList").$new(a,g).$parse_into(h,c):p(t,"AttributeList").$new(a,g).$parse(c)},ea.$$arity=-2);a.def(L,"$expand_subs",R=function(a){var d,g,h=b;if(f(n("::","Symbol")["$==="](a)))return a["$=="]("none")?b:f(d=p(t,"SUB_GROUPS")["$[]"](a))?d:[a];h=[];r(a,
"each",[],(g=function(a){var d=b;null==a&&(a=b);return a["$=="]("none")?b:f(d=p(t,"SUB_GROUPS")["$[]"](a))?h=c(h,d):h["$<<"](a)},g.$$s=this,g.$$arity=1,g));return f(h["$empty?"]())?b:h},R.$$arity=1);a.def(L,"$unescape_bracketed_text",Ea=function(a){f(a["$empty?"]())||f((a=a.$strip().$tr(p(t,"LF")," "))["$include?"](p(t,"R_SB")))&&(a=a.$gsub(p(t,"ESC_R_SB"),p(t,"R_SB")));return a},Ea.$$arity=1);a.def(L,"$normalize_string",Aa=function(a,b){var c;null==b&&(b=!1);f(a["$empty?"]())||(a=a.$strip().$tr(p(t,
"LF")," "),f(f(c=b)?a["$include?"](p(t,"R_SB")):c)&&(a=a.$gsub(p(t,"ESC_R_SB"),p(t,"R_SB"))));return a},Aa.$$arity=-2);a.def(L,"$unescape_brackets",Ba=function(a){f(a["$empty?"]())||f(a["$include?"](p(t,"RS")))&&(a=a.$gsub(p(t,"ESC_R_SB"),p(t,"R_SB")));return a},Ba.$$arity=1);a.def(L,"$split_simple_csv",wa=function(a){var c,e,d=b,g=b,h=b;f(a["$empty?"]())?d=[]:f(a["$include?"]('"'))?(d=[],g=[],h=!1,r(a,"each_char",[],(c=function(a){var c=b;null==a&&(a=b);return function(){c=a;if(","["$==="](c)){if(f(h))return g["$<<"](a);
d["$<<"](g.$join().$strip());return g=[]}return'"'["$==="](c)?h=h["$!"]():g["$<<"](a)}()},c.$$s=this,c.$$arity=1,c)),d["$<<"](g.$join().$strip())):d=r(a.$split(","),"map",[],(e=function(a){null==a&&(a=b);return a.$strip()},e.$$s=this,e.$$arity=1,e));return d},wa.$$arity=1);a.def(L,"$resolve_subs",oa=function(a,d,g,q){var l,z=b,n=b,E=b,F=b;null==d&&(d="block");null==g&&(g=b);null==q&&(q=b);if(f(a["$nil_or_empty?"]()))return b;z=b;f(a["$include?"](" "))&&(a=a.$delete(" "));n=p(t,"SubModifierSniffRx")["$match?"](a);
r(a.$split(","),"each",[],(l=function(a){var h,k,q=b,l=h=b,ga=l=b,q=b;null==a&&(a=b);q=b;f(n)&&((h=a.$chr())["$=="]("+")?(q="append",a=a.$slice(1,a.$length())):h["$=="]("-")?(q="remove",a=a.$slice(1,a.$length())):f(a["$end_with?"]("+"))&&(q="prepend",a=a.$chop()));a=a.$to_sym();f((h=d["$=="]("inline"))?f(k=a["$=="]("verbatim"))?k:a["$=="]("v"):d["$=="]("inline"))?l=p(t,"BASIC_SUBS"):f(p(t,"SUB_GROUPS")["$key?"](a))?l=p(t,"SUB_GROUPS")["$[]"](a):f(f(h=d["$=="]("inline")?a.$length()["$=="](1):d["$=="]("inline"))?
p(t,"SUB_HINTS")["$key?"](a):h)?(l=p(t,"SUB_HINTS")["$[]"](a),l=f(ga=p(t,"SUB_GROUPS")["$[]"](l))?ga:[l]):l=[a];if(f(q))return z=f(h=z)?h:f(g)?g.$drop(0):[],"append"["$==="](q)?z=c(z,l):"prepend"["$==="](q)?z=c(l,z):"remove"["$==="](q)?z=v(z,l):b;z=f(h=z)?h:[];return z=c(z,l)},l.$$s=this,l.$$arity=1,l));if(!f(z))return b;E=z["$&"](p(t,"SUB_OPTIONS")["$[]"](d));f(v(z,E)["$empty?"]())||(F=v(z,E),this.$logger().$warn("invalid substitution type"+(f(h(F.$size(),1))?"s":"")+(f(q)?" for ":"")+q+": "+F.$join(", ")));
return E},oa.$$arity=-2);a.def(L,"$resolve_block_subs",Fa=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},Fa.$$arity=3);a.def(L,"$resolve_pass_subs",Ua=function(a){return this.$resolve_subs(a,"inline",b,"passthrough macro")},Ua.$$arity=1);a.def(L,"$highlight_source",Qa=function(d,h,k){var q,l,E,m,u,L,C=b,N=b,x=b,ua=b,ia=b,ga=b,O=b,Sa=b,Ta=b,T=b,ka=b,P=C=b,y=b,I=b,J=b;null==this.document&&(this.document=b);null==this.passthroughs&&(this.passthroughs=b);null==k&&(k=b);C=k=f(q=k)?q:this.document.$attributes()["$[]"]("source-highlighter");
"coderay"["$==="](C)?f(f(q=f(l=N=n("::","CodeRay","skip_raise")?"constant":b)?l:(E=B.$$cvars["@@coderay_unavailable"],null!=E)?"class variable":b)?q:this.document.$attributes()["$[]"]("coderay-unavailable"))||(f(p(t,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?a.class_variable_set(B,"@@coderay_unavailable",!0):N=!0):"pygments"["$==="](C)?f(f(q=f(l=N=n("::","Pygments","skip_raise")?"constant":b)?l:(m=B.$$cvars["@@pygments_unavailable"],null!=m)?"class variable":b)?q:this.document.$attributes()["$[]"]("pygments-unavailable"))||
(f(p(t,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?a.class_variable_set(B,"@@pygments_unavailable",!0):N=!0):N=!1;if(!f(N))return this.$sub_source(d,h);x=0;ua=!1;f(h)?(ia=z([],{}),ga=-1,O=f(this["$attr?"]("line-comment"))?p(t,"CalloutExtractRxMap")["$[]"](this.$attr("line-comment")):p(t,"CalloutExtractRx"),d=r(d.$split(p(t,"LF"),-1),"map",[],(u=function(d){var g=u.$$s||this,h;null==d&&(d=b);x=c(x,1);return r(d,"gsub",[O],(h=function(){var c,e=b;if(f((c=w["~"])===b?b:c["$[]"](2)))return((c=
w["~"])===b?b:c["$[]"](0)).$sub(p(t,"RS"),"");(f(c=ia["$[]"](x))?c:(e=[x,[]],r(ia,"[]=",a.to_a(e)),e[v(e.length,1)]))["$<<"]([(c=w["~"])===b?b:c["$[]"](1),(c=w["~"])===b?b:c["$[]"](4)]);ga=x;return b},h.$$s=g,h.$$arity=0,h))},u.$$s=this,u.$$arity=1,u)).$join(p(t,"LF")),ua=ga["$=="](x),f(ia["$empty?"]())&&(ia=b)):ia=b;Ta=Sa=b;C=k;"coderay"["$==="](C)?(f(Sa=f(this["$attr?"]("linenums",b,!1))?(f(q=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?q:"table").$to_sym():b)&&(f(g(T=this.$attr("start",
b,1).$to_i(),1))&&(T=1),f(this["$attr?"]("highlight",b,!1))&&(Ta=this.$resolve_lines_to_highlight(d,this.$attr("highlight",b,!1)))),ka=n(n("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",z("css line_numbers line_number_start line_number_anchors highlight_lines bold_every".split(" "),{css:(f(q=this.document.$attributes()["$[]"]("coderay-css"))?q:"class").$to_sym(),line_numbers:Sa,line_number_start:T,line_number_anchors:!1,highlight_lines:Ta,bold_every:!1})).$highlight(d)):
"pygments"["$==="](C)&&(C=f(q=n(n("::","Pygments"),"Lexer").$find_by_alias(this.$attr("language","text",!1)))?q:n(n("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),P=z(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),C.$name()["$=="]("PHP")&&(y=["startinline",this["$option?"]("mixed")["$!"]()],r(P,"[]=",a.to_a(y)),y[v(y.length,1)]),(f(q=this.document.$attributes()["$[]"]("pygments-css"))?q:"class")["$=="]("class")||(y=["noclasses",
!0],r(P,"[]=",a.to_a(y)),y[v(y.length,1)],y=["style",f(q=this.document.$attributes()["$[]"]("pygments-style"))?q:n(p(t,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],r(P,"[]=",a.to_a(y)),y[v(y.length,1)]),f(this["$attr?"]("highlight",b,!1))&&!f((Ta=this.$resolve_lines_to_highlight(d,this.$attr("highlight",b,!1)))["$empty?"]())&&(y=["hl_lines",Ta.$join(" ")],r(P,"[]=",a.to_a(y)),y[v(y.length,1)]),f(f(q=f(l=this["$attr?"]("linenums",b,!1))?(y=["linenostart",f(g((T=this.$attr("start",1,!1)).$to_i(),1))?1:
T],r(P,"[]=",a.to_a(y)),y[v(y.length,1)]):l)?(y=["linenos",f(l=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?l:"table"],r(P,"[]=",a.to_a(y)),y[v(y.length,1)])["$=="]("table"):q)?(Sa="table",ka=f(ka=C.$highlight(d,z(["options"],{options:P})))?ka.$sub(p(t,"PygmentsWrapperDivRx"),"\\1").$gsub(p(t,"PygmentsWrapperPreRx"),"\\1"):this.$sub_specialchars(d)):f(ka=C.$highlight(d,z(["options"],{options:P})))?f(p(t,"PygmentsWrapperPreRx")["$=~"](ka))&&(ka=(q=w["~"])===b?b:q["$[]"](1)):ka=this.$sub_specialchars(d));
f(this.passthroughs["$empty?"]())||(ka=ka.$gsub(p(t,"HighlightedPassSlotRx"),""+p(t,"PASS_START")+"\\1"+p(t,"PASS_END")));return f(f(q=h)?ia:q)?(I=x=0,J=Sa["$!="]("table"),r(ka.$split(p(t,"LF"),-1),"map",[],(L=function(d){var g=L.$$s||this,h,q,v,O=b,C=b,l=b,ga=O=b,O=b;null==g.document&&(g.document=b);null==d&&(d=b);if(!f(J)){if(!f(d["$include?"]('<td class="code">')))return d;J=!0}x=c(x,1);if(f(O=ia.$delete(x))){C=b;f(f(h=f(q=ua)?ia["$empty?"]():q)?Sa["$=="]("table"):h)&&(f((h=k["$=="]("coderay"))?
l=d.$index("</pre>"):k["$=="]("coderay"))?(h=[d.$slice(0,l),d.$slice(l,d.$length())],d=h[0],C=h[1],h):f((h=k["$=="]("pygments"))?l=d["$start_with?"]("</td>"):k["$=="]("pygments"))&&(h=["",d],d=h[0],C=h[1],h));if(O.$size()["$=="](1))return q=O["$[]"](0),h=a.to_ary(q),O=null==h[0]?b:h[0],ga=null==h[1]?b:h[1],q,""+d+p(t,"Inline").$new(g,"callout",ga["$=="](".")?(I=c(I,1)).$to_s():ga,z(["id","attributes"],{id:g.document.$callouts().$read_next_id(),attributes:z(["guard"],{guard:O})})).$convert()+C;O=r(O,
"map",[],(v=function(a,d){var f=v.$$s||this;null==f.document&&(f.document=b);null==a&&(a=b);null==d&&(d=b);return p(t,"Inline").$new(f,"callout",d["$=="](".")?(I=c(I,1)).$to_s():d,z(["id","attributes"],{id:f.document.$callouts().$read_next_id(),attributes:z(["guard"],{guard:a})})).$convert()},v.$$s=g,v.$$arity=2,v)).$join(" ");return""+d+O+C}return d},L.$$s=this,L.$$arity=1,L)).$join(p(t,"LF"))):ka},Qa.$$arity=-3);a.def(L,"$resolve_lines_to_highlight",xa=function(d,h){var k,q=b,q=[];f(h["$include?"](" "))&&
(h=h.$delete(" "));r(f(h["$include?"](","))?h.$split(","):h.$split(";"),"map",[],(k=function(h){var k,l=b,z=b,E=z=b,z=b;null==h&&(h=b);l=!1;f(h["$start_with?"]("!"))&&(h=h.$slice(1,h.$length()),l=!0);return f(z=f(h["$include?"](".."))?"..":f(h["$include?"]("-"))?"-":b)?(k=h.$split(z,2),h=a.to_ary(k),z=null==h[0]?b:h[0],E=null==h[1]?b:h[1],k,f(f(h=E["$empty?"]())?h:g(E=E.$to_i(),0))&&(E=c(d.$count(p(t,"LF")),1)),z=n("::","Range").$new(z.$to_i(),E).$to_a(),f(l)?q=v(q,z):q.$concat(z)):f(l)?q.$delete(h.$to_i()):
q["$<<"](h.$to_i())},k.$$s=this,k.$$arity=1,k));return q.$sort().$uniq()},xa.$$arity=2);a.def(L,"$sub_source",ta=function(a,b){return f(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},ta.$$arity=2);a.def(L,"$lock_in_subs",Q=function(){var c,e,d,g,h=b,k=h=b,q=b,h=b;null==this.default_subs&&(this.default_subs=b);null==this.content_model&&(this.content_model=b);null==this.context&&(this.context=b);null==this.subs&&(this.subs=b);null==this.attributes&&(this.attributes=b);null==
this.style&&(this.style=b);null==this.document&&(this.document=b);if(!f(h=this.default_subs))if(h=this.content_model,"simple"["$==="](h))h=p(t,"NORMAL_SUBS");else if("verbatim"["$==="](h))h=f(f(c=this.context["$=="]("listing"))?c:(e=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?p(t,"VERBATIM_SUBS"):this.context["$=="]("verse")?p(t,"NORMAL_SUBS"):p(t,"BASIC_SUBS");else if("raw"["$==="](h))h=this.context["$=="]("stem")?p(t,"BASIC_SUBS"):p(t,
"NONE_SUBS");else return this.subs;f(k=this.attributes["$[]"]("subs"))?this.subs=f(c=this.$resolve_block_subs(k,h,this.context))?c:[]:this.subs=h.$drop(0);f(f(c=f(e=f(d=f(g=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):g)?this.document["$basebackend?"]("html"):d)?p(t,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):e)?q=this.subs.$index("specialcharacters"):c)&&(h=[q,"highlight"],
r(this.subs,"[]=",a.to_a(h)),h[v(h.length,1)]);return this.subs},Q.$$arity=0)})(x[0],x)}(l[0],l)};Opal.modules["asciidoctor/abstract_node"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var q=[],v=a.nil,g=a.const_get_qualified,l=a.const_get_relative,b=a.module,n=a.klass,p=a.hash2,m=a.truthy,r=a.send;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $converter $attributes $nil? $[]= $- $delete $+ $update $nil_or_empty? $split $include? $empty? $join $apply_reftext_subs $attr? $extname $attr $image_uri $< $safe $uriish? $uri_encode_spaces $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $slice $length $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open $content_type $read $base_dir $root? $path_resolver $system_path $web_path $=== $!= $normalize_lines_array $to_a $each_line $open_uri $fetch $read_asset $gsub".split(" "));
return function(q,d){function f(){}var u=[f=b(q,"Asciidoctor",f)].concat(d);(function(b,$super,d){function f(){}b=f=n(b,$super,"AbstractNode",f);var q=b.prototype,z=[b].concat(d),u,w,L,t,x,y,A,D,S,Y,U,fa,V,K,J,ya,G,qa,la,H,aa,ba,ma,M,da,ea,R,Ea,Aa,Ba,wa,oa;q.document=q.attributes=q.parent=v;b.$include(l(z,"Logging"));b.$include(l(z,"Substitutors"));b.$attr_reader("attributes");b.$attr_reader("context");b.$attr_reader("document");b.$attr_accessor("id");b.$attr_reader("node_name");b.$attr_reader("parent");
a.def(b,"$initialize",u=function(a,b,c){null==c&&(c=p([],{}));b["$=="]("document")?(a=[this,v],this.document=a[0],this.parent=a[1],a):m(a)?(a=[a.$document(),a],this.document=a[0],this.parent=a[1],a):this.document=this.parent=v;this.node_name=(this.context=b).$to_s();this.attributes=m(c["$key?"]("attributes"))?c["$[]"]("attributes").$dup():p([],{});return this.passthroughs=p([],{})},u.$$arity=-3);a.def(b,"$block?",w=function(){return this.$raise(g("::","NotImplementedError"))},w.$$arity=0);a.def(b,
"$inline?",L=function(){return this.$raise(g("::","NotImplementedError"))},L.$$arity=0);a.def(b,"$converter",t=function(){return this.document.$converter()},t.$$arity=0);a.def(b,"$parent=",x=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},x.$$arity=1);a.def(b,"$attr",y=function(a,b,c){var e,d;null==b&&(b=v);null==c&&(c=!0);a=a.$to_s();return m(e=this.attributes["$[]"](a))?e:m(m(d=c)?this.parent:d)?m(d=this.document.$attributes()["$[]"](a))?d:b:b},y.$$arity=-2);
a.def(b,"$attr?",A=function(a,b,c){var e,d,f;null==b&&(b=v);null==c&&(c=!0);a=a.$to_s();return m(b["$nil?"]())?m(e=this.attributes["$key?"](a))?e:m(d=m(f=c)?this.parent:f)?this.document.$attributes()["$key?"](a):d:b["$=="](m(e=this.attributes["$[]"](a))?e:m(m(d=c)?this.parent:d)?this.document.$attributes()["$[]"](a):v)},A.$$arity=-2);a.def(b,"$set_attr",D=function(b,d,f){var g=v;null==d&&(d="");null==f&&(f=!0);if(m(f["$=="](!1)?this.attributes["$key?"](b):f["$=="](!1)))return!1;g=[b,d];r(this.attributes,
"[]=",a.to_a(g));g[c(g.length,1)];return!0},D.$$arity=-2);a.def(b,"$remove_attr",S=function(a){return this.attributes.$delete(a)},S.$$arity=1);a.def(b,"$option?",Y=function(a){return this.attributes["$key?"](""+a+"-option")},Y.$$arity=1);a.def(b,"$set_option",U=function(b){var d=v,f=v,g=v;if(m((d=this.attributes)["$[]"]("options"))){if(m(d["$[]"](f=""+b+"-option")))return v;g=d["$[]"]("options");b=","+b;g=["options","number"===typeof g&&"number"===typeof b?g+b:g["$+"](b)];r(d,"[]=",a.to_a(g));g[c(g.length,
1)];g=[f,""];r(d,"[]=",a.to_a(g));return g[c(g.length,1)]}g=["options",b];r(d,"[]=",a.to_a(g));g[c(g.length,1)];g=[""+b+"-option",""];r(d,"[]=",a.to_a(g));return g[c(g.length,1)]},U.$$arity=1);a.def(b,"$update_attributes",fa=function(a){this.attributes.$update(a);return v},fa.$$arity=1);a.def(b,"$role",V=function(){var a;return m(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role")},V.$$arity=0);a.def(b,"$roles",K=function(){var a,b=v;return m((b=m(a=this.attributes["$[]"]("role"))?
a:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:b.$split()},K.$$arity=0);a.def(b,"$role?",J=function(a){var b;null==a&&(a=v);return m(a)?a["$=="](m(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role")):m(b=this.attributes["$key?"]("role"))?b:this.document.$attributes()["$key?"]("role")},J.$$arity=-1);a.def(b,"$has_role?",ya=function(a){var b,c=v;return m(c=m(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))?(" "+c+" ")["$include?"](" "+
a+" "):!1},ya.$$arity=1);a.def(b,"$add_role",G=function(b){var d=v,d=v;if(m((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]()))return d=["role",b],r(this.attributes,"[]=",a.to_a(d)),d[c(d.length,1)],!0;if(m((" "+d+" ")["$include?"](" "+b+" ")))return!1;d=["role",""+d+" "+b];r(this.attributes,"[]=",a.to_a(d));d[c(d.length,1)];return!0},G.$$arity=1);a.def(b,"$remove_role",qa=function(b){var d=v,d=v;return m((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?!1:m((d=d.$split()).$delete(b))?
(m(d["$empty?"]())?this.attributes.$delete("role"):(d=["role",d.$join(" ")],r(this.attributes,"[]=",a.to_a(d)),d[c(d.length,1)]),!0):!1},qa.$$arity=1);a.def(b,"$reftext",la=function(){var a=v;return m(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):v},la.$$arity=0);a.def(b,"$reftext?",H=function(){return this.attributes["$key?"]("reftext")},H.$$arity=0);a.def(b,"$icon_uri",aa=function(a){var b=v;m(this["$attr?"]("icon"))?m(g("::","File").$extname(b=this.$attr("icon"))["$empty?"]())&&
(b=""+b+"."+this.document.$attr("icontype","png")):b=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(b,"iconsdir")},aa.$$arity=1);a.def(b,"$image_uri",ba=function(a,b){var c,e,d,f,p=v,q=v;null==b&&(b="imagesdir");return m(m(c=h((p=this.document).$safe(),g(l(z,"SafeMode"),"SECURE")))?p["$attr?"]("data-uri"):c)?m(m(c=m(e=l(z,"Helpers")["$uriish?"](a))?a=this.$uri_encode_spaces(a):e)?c:m(e=m(d=m(f=b)?q=p.$attr(b):f)?l(z,"Helpers")["$uriish?"](q):d)?a=this.$normalize_web_path(a,
q,!1):e)?m(p["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,p["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,m(b)?p.$attr(b):v)},ba.$$arity=-2);a.def(b,"$media_uri",ma=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,m(b)?this.document.$attr(b):v)},ma.$$arity=-2);a.def(b,"$generate_data_uri",M=function(a,b){var c=v,e=c=v;null==b&&(b=v);c=g("::","File").$extname(a);c=c["$=="](".svg")?"image/svg+xml":"image/"+c.$slice(1,c.$length());
e=m(b)?this.$normalize_system_path(a,this.document.$attr(b),v,p(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(m(g("::","File")["$readable?"](e)))return"data:"+c+";base64,"+g("::","Base64").$strict_encode64(g("::","IO").$binread(e));this.$logger().$warn("image to embed not found or not readable: "+e);return"data:"+c+";base64,"},M.$$arity=-2);a.def(b,"$generate_data_uri_from_uri",da=function(b,c){var e,d=v,f=v;null==c&&(c=!1);m(c)?l(z,"Helpers").$require_library("open-uri/cached",
"open-uri-cached"):m(g("::","RUBY_ENGINE_OPAL")["$!"]())&&g("::","OpenURI");try{return d=v,f=r(this,"open",[b,"rb"],(e=function(a){null==a&&(a=v);d=a.$content_type();return a.$read()},e.$$s=this,e.$$arity=1,e)),"data:"+d+";base64,"+g("::","Base64").$strict_encode64(f)}catch(h){if(a.rescue(h,[l(z,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw h;}},da.$$arity=-2);a.def(b,"$normalize_asset_path",ea=function(a,b,
c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),v,p(["target_name","recover"],{target_name:b,recover:c}))},ea.$$arity=-2);a.def(b,"$normalize_system_path",R=function(a,b,c,e){var d=v;null==b&&(b=v);null==c&&(c=v);null==e&&(e=p([],{}));m(h((d=this.document).$safe(),g(l(z,"SafeMode"),"SAFE")))?m(b)?m(d.$path_resolver()["$root?"](b))||(b=g("::","File").$join(d.$base_dir(),b)):b=d.$base_dir():(m(b)||(b=d.$base_dir()),m(c)||(c=d.$base_dir()));return d.$path_resolver().$system_path(a,
b,c,e)},R.$$arity=-2);a.def(b,"$normalize_web_path",Ea=function(a,b,c){var e;null==b&&(b=v);null==c&&(c=!0);return m(m(e=c)?l(z,"Helpers")["$uriish?"](a):e)?this.$uri_encode_spaces(a):this.document.$path_resolver().$web_path(a,b)},Ea.$$arity=-2);a.def(b,"$read_asset",Aa=function(a,b){var c,e;null==b&&(b=p([],{}));m(g("::","Hash")["$==="](b))||(b=p(["warn_on_failure"],{warn_on_failure:b["$!="](!1)}));if(m(g("::","File")["$readable?"](a)))return m(b["$[]"]("normalize"))?l(z,"Helpers").$normalize_lines_array(r(g("::",
"File"),"open",[a,"rb"],(c=function(a){null==a&&(a=v);return a.$each_line().$to_a()},c.$$s=this,c.$$arity=1,c))).$join(l(z,"LF")):g("::","IO").$read(a);m(b["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(m(e=this.$attr("docfile"))?e:"<stdin>")+": "+(m(e=b["$[]"]("label"))?e:"file")+" does not exist or cannot be read: "+a);return v},Aa.$$arity=-2);a.def(b,"$read_contents",Ba=function(b,c){var e,d,f,h,k,q=v,t=v;null==c&&(c=p([],{}));q=this.document;if(m(m(e=l(z,"Helpers")["$uriish?"](b))?e:m(d=
m(f=t=c["$[]"]("start"))?l(z,"Helpers")["$uriish?"](t):f)?b=q.$path_resolver().$web_path(b,t):d))if(m(q["$attr?"]("allow-uri-read"))){m(q["$attr?"]("cache-uri"))&&l(z,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return m(c["$[]"]("normalize"))?l(z,"Helpers").$normalize_lines_array(r(g("::","OpenURI"),"open_uri",[b],(h=function(a){null==a&&(a=v);return a.$each_line().$to_a()},h.$$s=this,h.$$arity=1,h))).$join(l(z,"LF")):r(g("::","OpenURI"),"open_uri",[b],(k=function(a){null==
a&&(a=v);return a.$read()},k.$$s=this,k.$$arity=1,k))}catch(n){if(a.rescue(n,[l(z,"StandardError")]))try{return m(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(m(e=c["$[]"]("label"))?e:"asset")+" at URI: "+b),v}finally{a.pop_exception()}else throw n;}}else return m(c.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(m(e=c["$[]"]("label"))?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),v;else return b=
this.$normalize_system_path(b,c["$[]"]("start"),v,p(["target_name"],{target_name:m(e=c["$[]"]("label"))?e:"asset"})),this.$read_asset(b,p(["normalize","warn_on_failure","label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0),label:c["$[]"]("label")}))},Ba.$$arity=-2);a.def(b,"$uri_encode_spaces",wa=function(a){return m(a["$include?"](" "))?a.$gsub(" ","%20"):a},wa.$$arity=1);return(a.def(b,"$is_uri?",oa=function(a){return l(z,"Helpers")["$uriish?"](a)},oa.$$arity=
1),v)&&"is_uri?"})(u[0],null,u)}(q[0],q)};Opal.modules["asciidoctor/abstract_block"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var q=[],v=a.nil,g=a.const_get_qualified,l=a.const_get_relative,b=a.module,m=a.klass,p=a.hash2,n=a.send,r=a.truthy;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $!= $level $file $lineno $playback_attributes $convert $converter $join $map $to_s $parent $parent= $- $<< $! $empty? $> $find_by_internal $to_proc $[] $has_role? $replace $raise $=== $header? $each $flatten $context $blocks $+ $find_index $next_adjacent_block $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $include? $delete $reftext $sprintf $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $numeral= $numeral $caption= $assign_numeral $reindex_sections".split(" "));
return function(q,d){function f(){}var u=[f=b(q,"Asciidoctor",f)].concat(d);(function(b,$super,d){function f(){}b=f=m(b,$super,"AbstractBlock",f);var q=b.prototype,z=[b].concat(d),u,w,L,t,x,y,A,D,S,Y,U,fa,V,K,J,ya,G,qa,la,H,aa,ba,ma,M,da,ea,R,Ea;q.source_location=q.document=q.attributes=q.blocks=q.next_section_index=q.context=q.style=q.id=q.header=q.caption=q.title_converted=q.converted_title=q.title=q.subs=q.numeral=q.next_section_ordinal=v;b.$attr_reader("blocks");b.$attr_writer("caption");b.$attr_accessor("content_model");
b.$attr_accessor("level");b.$attr_accessor("numeral");a.alias(b,"number","numeral");a.alias(b,"number=","numeral=");b.$attr_accessor("source_location");b.$attr_accessor("style");b.$attr_reader("subs");a.def(b,"$initialize",u=function(b,c,e){var d=u.$$p,f=v,g=v,h=v;d&&(u.$$p=null);g=0;h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];null==e&&(e=p([],{}));n(this,a.find_super_dispatcher(this,"initialize",u,!1),f,d);this.content_model="compound";this.blocks=[];this.subs=[];this.id=this.title=
this.title_converted=this.caption=this.numeral=this.style=this.default_subs=this.source_location=v;c["$=="]("document")?this.level=0:r(r(b)?c["$!="]("section"):b)?this.level=b.$level():this.level=v;this.next_section_index=0;return this.next_section_ordinal=1},u.$$arity=-3);a.def(b,"$block?",w=function(){return!0},w.$$arity=0);a.def(b,"$inline?",L=function(){return!1},L.$$arity=0);a.def(b,"$file",t=function(){var a;return r(a=this.source_location)?this.source_location.$file():a},t.$$arity=0);a.def(b,
"$lineno",x=function(){var a;return r(a=this.source_location)?this.source_location.$lineno():a},x.$$arity=0);a.def(b,"$convert",y=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},y.$$arity=0);a.alias(b,"render","convert");a.def(b,"$content",A=function(){var a;return n(this.blocks,"map",[],(a=function(a){null==a&&(a=v);return a.$convert()},a.$$s=this,a.$$arity=1,a)).$join(l(z,"LF"))},A.$$arity=0);a.def(b,"$context=",D=function(a){return this.node_name=
(this.context=a).$to_s()},D.$$arity=1);a.def(b,"$<<",S=function(b){var d=v;b.$parent()["$=="](this)||(d=[this],n(b,"parent=",a.to_a(d)),d[c(d.length,1)]);this.blocks["$<<"](b);return this},S.$$arity=1);a.alias(b,"append","<<");a.def(b,"$blocks?",Y=function(){return this.blocks["$empty?"]()["$!"]()},Y.$$arity=0);a.def(b,"$sections?",U=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},U.$$arity=0);a.def(b,"$find_by",fa=function(b){var c=fa.$$p,e=c||v,d=v;c&&(fa.$$p=
null);c&&(fa.$$p=null);null==b&&(b=p([],{}));try{return n(this,"find_by_internal",[b,d=[]],e.$to_proc())}catch(f){if(a.rescue(f,[g("::","StopIteration")]))try{return d}finally{a.pop_exception()}else throw f;}},fa.$$arity=-1);a.alias(b,"query","find_by");a.def(b,"$find_by_internal",V=function(b,c){var e=V.$$p,d=e||v,f,h,k,q,t,l,z=v,m=v,E=v,F=v,u=v,w=v,w=v;e&&(V.$$p=null);e&&(V.$$p=null);null==b&&(b=p([],{}));null==c&&(c=[]);if(r(r(f=r(h=r(k=r(q=z=(m=b["$[]"]("context"))["$!"]())?q:m["$=="](this.context))?
r(q=(E=b["$[]"]("style"))["$!"]())?q:E["$=="](this.style):k)?r(k=(F=b["$[]"]("role"))["$!"]())?k:this["$has_role?"](F):h)?r(h=(u=b["$[]"]("id"))["$!"]())?h:u["$=="](this.id):f))if(r(u))c.$replace(d!==v?r(a.yield1(d,this))?[this]:[]:[this]),this.$raise(g("::","StopIteration"));else if(d!==v){if(r(w=a.yield1(d,this))){if("skip_children"["$==="](w))return c["$<<"](this),c;if("skip"["$==="](w))return c;c["$<<"](this)}}else c["$<<"](this);r(r(f=(h=this.context["$=="]("document"))?r(k=z)?k:m["$=="]("section"):
this.context["$=="]("document"))?this["$header?"]():f)&&n(this.header,"find_by_internal",[b,c],d.$to_proc());m["$=="]("document")||(this.context["$=="]("dlist")?r(r(f=z)?f:m["$!="]("section"))&&n(this.blocks.$flatten(),"each",[],(t=function(a){null==a&&(a=v);return r(a)?n(a,"find_by_internal",[b,c],d.$to_proc()):v},t.$$s=this,t.$$arity=1,t)):r(n(this.blocks,"each",[],(l=function(a){null==a&&(a=v);return r(m["$=="]("section")?a.$context()["$!="]("section"):m["$=="]("section"))?v:n(a,"find_by_internal",
[b,c],d.$to_proc())},l.$$s=this,l.$$arity=1,l))));return c},V.$$arity=-1);a.def(b,"$next_adjacent_block",K=function(){var a=v,b=v;return this.context["$=="]("document")?v:r(a=(b=this.$parent()).$blocks()["$[]"](h(b.$blocks().$find_index(this),1)))?a:b.$next_adjacent_block()},K.$$arity=0);a.def(b,"$sections",J=function(){var a;return n(this.blocks,"select",[],(a=function(a){null==a&&(a=v);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},J.$$arity=0);a.def(b,"$alt",ya=function(){var a=
v;if(r(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);a=this.$sub_specialchars(a);return r(l(z,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return v},ya.$$arity=0);a.def(b,"$caption",G=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},G.$$arity=0);a.def(b,"$captioned_title",qa=function(){return""+this.caption+this.$title()},qa.$$arity=0);a.def(b,"$list_marker_keyword",
la=function(a){var b;null==a&&(a=v);return l(z,"ORDERED_LIST_KEYWORDS")["$[]"](r(b=a)?b:this.style)},la.$$arity=-1);a.def(b,"$title",H=function(){var a,b;return r(this.title_converted)?this.converted_title:this.converted_title=r(a=r(b=this.title_converted=!0)?this.title:b)?this.$apply_title_subs(this.title):a},H.$$arity=0);a.def(b,"$title?",aa=function(){return r(this.title)?!0:!1},aa.$$arity=0);a.def(b,"$title=",ba=function(a){var b;return b=[a,v],this.title=b[0],this.title_converted=b[1],b},ba.$$arity=
1);a.def(b,"$sub?",ma=function(a){return this.subs["$include?"](a)},ma.$$arity=1);a.def(b,"$remove_sub",M=function(a){this.subs.$delete(a);return v},M.$$arity=1);a.def(b,"$xreftext",da=function(a){var b,c,e=v,d=v,f=d=v;null==a&&(a=v);r(r(b=e=this.$reftext())?e["$empty?"]()["$!"]():b)?b=e:(r(r(b=r(c=a)?this.title:c)?this.caption:b)?(d=a,"full"["$==="](d)?(d=this.$sprintf(this.$sub_quotes(r(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=r(r(b=this.numeral)?f=this.document.$attributes()["$[]"](this.context["$=="]("image")?
"figure-caption":""+this.context+"-caption"):b)?""+f+" "+this.numeral+", "+d:""+this.caption.$chomp(". ")+", "+d):a="short"["$==="](d)?r(r(b=this.numeral)?f=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+f+" "+this.numeral:this.caption.$chomp(". "):this.$title()):a=this.$title(),b=a);return b},da.$$arity=-1);a.def(b,"$assign_caption",ea=function(a,b){var c,e,d=v;null==a&&(a=v);null==b&&(b=v);!r(r(c=r(e=this.caption)?e:this.title["$!"]())?
c:this.caption=r(e=a)?e:this.document.$attributes()["$[]"]("caption"))&&r(d=this.document.$attributes()["$[]"](""+(b=r(c=b)?c:this.context)+"-caption"))&&(this.caption=""+d+" "+(this.numeral=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return v},ea.$$arity=-1);a.def(b,"$assign_numeral",R=function(b){var d,f=v,g=v,p=v,q=v;this.next_section_index=h((f=[this.next_section_index],n(b,"index=",a.to_a(f)),f[c(f.length,1)]),1);r(g=b.$numbered())&&((p=b.$sectname())["$=="]("appendix")?
(f=[this.document.$counter("appendix-number","A")],n(b,"numeral=",a.to_a(f)),f[c(f.length,1)],f=r(q=this.document.$attributes()["$[]"]("appendix-caption"))?[""+q+" "+b.$numeral()+": "]:[""+b.$numeral()+". "],n(b,"caption=",a.to_a(f)),f[c(f.length,1)]):r(r(d=p["$=="]("chapter"))?d:g["$=="]("chapter"))?(f=[this.document.$counter("chapter-number",1)],n(b,"numeral=",a.to_a(f)),f[c(f.length,1)]):(f=[this.next_section_ordinal],n(b,"numeral=",a.to_a(f)),f[c(f.length,1)],this.next_section_ordinal=h(this.next_section_ordinal,
1)));return v},R.$$arity=1);return(a.def(b,"$reindex_sections",Ea=function(){var a;this.next_section_index=0;this.next_section_ordinal=1;return n(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=v);return b.$context()["$=="]("section")?(c.$assign_numeral(b),b.$reindex_sections()):v},a.$$s=this,a.$$arity=1,a))},Ea.$$arity=0),v)&&"reindex_sections"})(u[0],l(u,"AbstractNode"),u)}(q[0],q)};Opal.modules["asciidoctor/attribute_list"]=function(a){function c(a,b){return"number"===typeof a&&
"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var q=[],v=a.nil,g=a.const_get_qualified,l=a.const_get_relative,b=a.module,m=a.klass,p=a.hash,n=a.hash2,r=a.truthy,z=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $start_with? $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(d,f){function q(){}var u=[q=b(d,"Asciidoctor",q)].concat(f);(function(b,$super,d){function f(){}b=f=m(b,$super,"AttributeList",f);var q=b.prototype,u=[b].concat(d),w,L,t,x,y,A,D,S,Y,U,fa,V;q.attributes=q.scanner=q.delimiter=q.block=q.delimiter_skip_pattern=q.delimiter_boundary_pattern=v;a.const_set(u[0],"BACKSLASH","\\");a.const_set(u[0],"APOS","'");a.const_set(u[0],"BoundaryRxs",p('"',/.*?[^\\](?=")/,l(u,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/));a.const_set(u[0],"EscapedQuotes",
p('"','\\"',l(u,"APOS"),"\\'"));a.const_set(u[0],"NameRx",new RegExp(""+l(u,"CG_WORD")+"["+l(u,"CC_WORD")+"\\-.]*"));a.const_set(u[0],"BlankRx",/[ \t]+/);a.const_set(u[0],"SkipRxs",n(["blank",","],{blank:l(u,"BlankRx"),",":/[ \t]*(,|$)/}));a.def(b,"$initialize",w=function(a,b,c){null==b&&(b=v);null==c&&(c=",");this.scanner=g("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=l(u,"SkipRxs")["$[]"](c);this.delimiter_boundary_pattern=l(u,"BoundaryRxs")["$[]"](c);
return this.attributes=v},w.$$arity=-2);a.def(b,"$parse_into",L=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},L.$$arity=-2);a.def(b,"$parse",t=function(a){var b=v;null==a&&(a=[]);if(r(this.attributes))return this.attributes;this.attributes=n([],{});for(b=0;r(this.$parse_attribute(b,a))&&!r(this.scanner["$eos?"]());)this.$skip_delimiter(),b=c(b,1);return this.attributes},t.$$arity=-1);a.def(b,"$rekey",x=function(a){return l(u,"AttributeList").$rekey(this.attributes,a)},x.$$arity=
1);a.defs(b,"$rekey",y=function(b,d){var f;z(d,"each_with_index",[],(f=function(d,f){var g=v,g=g=v;null==d&&(d=v);null==f&&(f=v);if(!r(d))return v;g=c(f,1);return r(g=b["$[]"](g))?(g=[d,g],z(b,"[]=",a.to_a(g)),g[h(g.length,1)]):v},f.$$s=this,f.$$arity=2,f));return b},y.$$arity=2);a.def(b,"$parse_attribute",A=function(b,d){var f,g,p=v,q=v,t=q=v,n=v,m=v,q=p=q=n=v;null==b&&(b=0);null==d&&(d=[]);p=!1;this.$skip_blank();if((q=this.scanner.$peek(1))["$=="]('"'))q=this.$parse_attribute_value(this.scanner.$get_byte()),
t=v;else if(q["$=="](l(u,"APOS")))q=this.$parse_attribute_value(this.scanner.$get_byte()),t=v,r(q["$start_with?"](l(u,"APOS")))||(p=!0);else{q=this.$scan_name();n=0;m=v;if(r(this.scanner["$eos?"]())){if(!r(q))return!1}else n=r(f=this.$skip_blank())?f:0,m=this.scanner.$get_byte();if(r(r(f=m["$!"]())?f:m["$=="](this.delimiter)))t=v;else if(r(r(f=m["$!="]("="))?f:q["$!"]()))q=""+q+" "["$*"](n)+m+this.$scan_to_delimiter(),t=v;else if(this.$skip_blank(),r(this.scanner.$peek(1)))if((m=this.scanner.$get_byte())["$=="]('"'))t=
this.$parse_attribute_value(m);else if(m["$=="](l(u,"APOS")))t=this.$parse_attribute_value(m),r(t["$start_with?"](l(u,"APOS")))||(p=!0);else if(m["$=="](this.delimiter))t="";else if(t=""+m+this.$scan_to_delimiter(),t["$=="]("None"))return!0}r(t)?(n=q,"options"["$==="](n)||"opts"["$==="](n)?(r(t["$include?"](","))?(r(t["$include?"](" "))&&(t=t.$delete(" ")),z(t.$split(","),"each",[],(g=function(b){var c=g.$$s||this,e=v;null==c.attributes&&(c.attributes=v);null==b&&(b=v);if(r(b["$empty?"]()))return v;
e=[""+b+"-option",""];z(c.attributes,"[]=",a.to_a(e));return e[h(e.length,1)]},g.$$s=this,g.$$arity=1,g))):(q=[""+(t=t.$strip())+"-option",""],z(this.attributes,"[]=",a.to_a(q)),q[h(q.length,1)]),q=["options",t]):r(r(f=p)?this.block:f)?(n=q,q="title"["$==="](n)||"reftext"["$==="](n)?[q,t]:[q,this.block.$apply_subs(t)]):q=[q,t]):(p=r(r(f=p)?this.block:f)?this.block.$apply_subs(q):q,r(q=d["$[]"](b))&&(q=[q,p],z(this.attributes,"[]=",a.to_a(q)),q[h(q.length,1)]),q=[c(b,1),p]);z(this.attributes,"[]=",
a.to_a(q));q[h(q.length,1)];return!0},A.$$arity=-1);a.def(b,"$parse_attribute_value",D=function(a){var b=v;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):r(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),r(b["$include?"](l(u,"BACKSLASH")))?b.$gsub(l(u,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},D.$$arity=1);a.def(b,"$skip_blank",S=function(){return this.scanner.$skip(l(u,"BlankRx"))},S.$$arity=0);a.def(b,"$skip_delimiter",Y=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},
Y.$$arity=0);a.def(b,"$scan_name",U=function(){return this.scanner.$scan(l(u,"NameRx"))},U.$$arity=0);a.def(b,"$scan_to_delimiter",fa=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},fa.$$arity=0);return(a.def(b,"$scan_to_quote",V=function(a){return this.scanner.$scan(l(u,"BoundaryRxs")["$[]"](a))},V.$$arity=1),v)&&"scan_to_quote"})(u[0],null,u)}(q[0],q)};Opal.modules["asciidoctor/block"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}
var h=[],q=a.nil,v=a.const_get_qualified,g=a.const_get_relative,l=a.module,b=a.klass,m=a.send,p=a.hash2,n=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $drop $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $join $< $size $empty? $rstrip $shift $pop $warn $logger $to_s $class $object_id $inspect".split(" "));return function(h,k){function d(){}var f=[d=l(h,"Asciidoctor",d)].concat(k);(function(d,$super,f){function h(){}d=h=b(d,$super,"Block",
h);var k=d.prototype,l=[d].concat(f),z,r,u,w;f=q;k.attributes=k.content_model=k.lines=k.subs=k.blocks=k.context=k.style=q;f=["simple"];m(a.const_set(l[0],"DEFAULT_CONTENT_MODEL",p("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(f));f[c(f.length,1)];a.alias(d,"blockname","context");
d.$attr_accessor("lines");a.def(d,"$initialize",z=function(b,d,f){var h,k=z.$$p,r=q,u=r=q,E=r=q,w=q;k&&(z.$$p=null);E=0;w=arguments.length;for(r=Array(w);E<w;E++)r[E]=arguments[E];null==f&&(f=p([],{}));m(this,a.find_super_dispatcher(this,"initialize",z,!1),r,k);this.content_model=n(h=f["$[]"]("content_model"))?h:g(l,"DEFAULT_CONTENT_MODEL")["$[]"](d);n(f["$key?"]("subs"))?n(r=f["$[]"]("subs"))?(r["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):n(v("::","Array")["$==="](r))?(this.default_subs=
r.$drop(0),this.attributes.$delete("subs")):(this.default_subs=q,r=["subs",""+r],m(this.attributes,"[]=",a.to_a(r)),r[c(r.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=q;return n((u=f["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:n(v("::","String")["$==="](u))?this.lines=g(l,"Helpers").$normalize_lines_from_string(u):this.lines=u.$drop(0)},z.$$arity=-3);a.def(d,"$content",r=function(){var b,c=r.$$p,e=this,d=q,f=q,h=q,k=q,p=q,v=q,
z=q;c&&(r.$$p=null);v=0;z=arguments.length;for(p=Array(z);v<z;v++)p[v]=arguments[v];return function(){d=e.content_model;if("compound"["$==="](d))return m(e,a.find_super_dispatcher(e,"content",r,!1),p,c);if("simple"["$==="](d))return e.$apply_subs(e.lines.$join(g(l,"LF")),e.subs);if("verbatim"["$==="](d)||"raw"["$==="](d)){f=e.$apply_subs(e.lines,e.subs);var v;v=f.$size();v="number"===typeof v?2>v:v["$<"](2);if(n(v))return f["$[]"](0);for(;n(n(b=h=f["$[]"](0))?h.$rstrip()["$empty?"]():b);)f.$shift();
for(;n(n(b=k=f["$[]"](-1))?k.$rstrip()["$empty?"]():b);)f.$pop();return f.$join(g(l,"LF"))}e.content_model["$=="]("empty")||e.$logger().$warn("Unknown content model '"+e.content_model+"' for block: "+e.$to_s());return q}()},r.$$arity=0);a.def(d,"$source",u=function(){return this.lines.$join(g(l,"LF"))},u.$$arity=0);return(a.def(d,"$to_s",w=function(){var a=q,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+
" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},w.$$arity=0),q)&&"to_s"})(f[0],g(f,"AbstractBlock"),f)}(h[0],h)};Opal.modules["asciidoctor/callouts"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var q=[],v=a.nil,g=a.module,l=a.klass,b=a.hash2,r=a.truthy,p=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));
return function(q,n){function z(){}var d=[z=g(q,"Asciidoctor",z)].concat(n);(function(d,$super,g){function q(){}d=q=l(d,$super,"Callouts",q);var z=d.prototype;[d].concat(g);var n,m,u,w,x,L,t,y,N;z.co_index=z.lists=z.list_index=v;a.def(d,"$initialize",n=function(){this.lists=[];this.list_index=0;return this.$next_list()},n.$$arity=0);a.def(d,"$register",m=function(a){var d=v;this.$current_list()["$<<"](b(["ordinal","id"],{ordinal:a.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=c(this.co_index,
1);return d},m.$$arity=1);a.def(d,"$read_next_id",u=function(){var a=v,b=v,a=v,b=this.$current_list(),d;d=this.co_index;var f=b.$size();d="number"===typeof d&&"number"===typeof f?d<=f:d["$<="](f);r(d)&&(a=b["$[]"](h(this.co_index,1))["$[]"]("id"));this.co_index=c(this.co_index,1);return a},u.$$arity=0);a.def(d,"$callout_ids",w=function(a){var b;return p(this.$current_list(),"map",[],(b=function(b){null==b&&(b=v);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,
b)).$join().$chop()},w.$$arity=1);a.def(d,"$current_list",x=function(){return this.lists["$[]"](h(this.list_index,1))},x.$$arity=0);a.def(d,"$next_list",L=function(){this.list_index=c(this.list_index,1);var a;a=this.lists.$size();var b=this.list_index;a="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);if(r(a))this.lists["$<<"]([]);this.co_index=1;return v},L.$$arity=0);a.def(d,"$rewind",t=function(){this.co_index=this.list_index=1;return v},t.$$arity=0);a.def(d,"$generate_next_callout_id",
y=function(){return this.$generate_callout_id(this.list_index,this.co_index)},y.$$arity=0);return(a.def(d,"$generate_callout_id",N=function(a,b){return"CO"+a+"-"+b},N.$$arity=2),v)&&"generate_callout_id"})(d[0],null,d)}(q[0],q)};Opal.modules["asciidoctor/converter/base"]=function(a){var c=[],h=a.nil,q=a.const_get_relative,v=a.module,g=a.klass,l=a.hash2,b=a.truthy;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(c,e){function n(){}var r=[n=v(c,"Asciidoctor",n)].concat(e);
(function(a,b){function c(){}[c=v(a,"Converter",c)].concat(b);h})(r[0],r);(function(a,$super,b){function c(){}a=c=g(a,$super,"Base",c);b=[a].concat(b);a.$include(q(b,"Logging"));return a.$include(q(b,"Converter"))})(q(r,"Converter"),null,r);(function(c,$super,e){function p(){}c=p=g(c,$super,"BuiltIn",p);e=[c].concat(e);var v,r,n,m;c.$include(q(e,"Logging"));a.def(c,"$initialize",v=function(a,b){null==b&&l([],{});return h},v.$$arity=-2);a.def(c,"$convert",r=function(a,c,e){var f;null==c&&(c=h);null==
e&&(e=l([],{}));c=b(f=c)?f:a.$node_name();return b(e["$empty?"]())?this.$send(c,a):this.$send(c,a,e)},r.$$arity=-2);a.alias(c,"handles?","respond_to?");a.def(c,"$content",n=function(a){return a.$content()},n.$$arity=1);a.alias(c,"pass","content");return(a.def(c,"$skip",m=function(a){return h},m.$$arity=1),h)&&"skip"})(q(r,"Converter"),null,r)}(c[0],c)};Opal.modules["asciidoctor/converter/factory"]=function(a){var c=[],h=a.nil,q=a.const_get_qualified,v=a.const_get_relative,g=a.module,l=a.klass,b=a.truthy,
r=a.hash2,p=a.send;a.add_stubs("$new $require $include? $include $warn $logger $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $supports_templates? $to_s $key?".split(" "));return function(c,e){function z(){}var d=[z=g(c,"Asciidoctor",z)].concat(e);(function(c,e){function d(){}var z=[d=g(c,"Converter",d)].concat(e);(function(c,$super,e){function d(){}c=d=l(c,$super,"Factory",d);var f=c.prototype,g=[c].concat(e),z,t,n,m,u;f.converters=
f.star_converter=h;c.__default__=h;(function(c,e){var d=[c].concat(e),f,g,p,t,l,z;a.def(c,"$default",f=function(c){var e,f;null==this.__default__&&(this.__default__=h);null==c&&(c=!0);if(b(c)){var g;if(b(e=this.__default__))g=e;else a:{try{b((f=q("::","Concurrent","skip_raise"))&&q(f,"Hash","skip_raise")?"constant":h)||this.$require(b(q("::","RUBY_MIN_VERSION_1_9"))?"concurrent/hash":"asciidoctor/core_ext/1.8.7/concurrent/hash");g=this.$new(q(q("::","Concurrent"),"Hash").$new());break a}catch(p){if(a.rescue(p,
[q("::","LoadError")]))try{b(this["$include?"](v(d,"Logging")))||this.$include(v(d,"Logging"));this.$logger().$warn("gem 'concurrent-ruby' is not installed. This gem is recommended when registering custom converters.");g=this.$new();break a}finally{a.pop_exception()}else throw p;}g=void 0}c=this.__default__=g}else c=b(e=this.__default__)?e:this.$new();return c},f.$$arity=-1);a.def(c,"$register",g=function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)},g.$$arity=-2);a.def(c,"$resolve",
p=function(a){return this.$default().$resolve(a)},p.$$arity=1);a.def(c,"$create",t=function(a,b){null==b&&(b=r([],{}));return this.$default().$create(a,b)},t.$$arity=-2);a.def(c,"$converters",l=function(){return this.$default().$converters()},l.$$arity=0);return(a.def(c,"$unregister_all",z=function(){return this.$default().$unregister_all()},z.$$arity=0),h)&&"unregister_all"})(a.get_singleton_class(c),g);c.$attr_reader("converters");a.def(c,"$initialize",z=function(a){var c;null==a&&(a=h);this.converters=
b(c=a)?c:r([],{});return this.star_converter=h},z.$$arity=-1);a.def(c,"$register",t=function(b,c){var e;null==c&&(c=["*"]);p(c,"each",[],(e=function(c){var d=e.$$s||this,f=h;null==d.converters&&(d.converters=h);null==c&&(c=h);f=[c,b];p(d.converters,"[]=",a.to_a(f));var g=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1);g[f];return c["$=="]("*")?d.star_converter=b:h},e.$$s=this,e.$$arity=1,e));return h},t.$$arity=-2);a.def(c,"$resolve",n=function(a){var c,e;return b(c=this.converters)?b(e=this.converters["$[]"](a))?
e:this.star_converter:c},n.$$arity=1);a.def(c,"$unregister_all",m=function(){this.converters.$clear();return this.star_converter=h},m.$$arity=0);return(a.def(c,"$create",u=function(a,c){var e,d,f,p,t,l,z,n,m,u,E,w,L,x=h,B=h,x=x=h;null==c&&(c=r([],{}));if(b(x=this.$resolve(a))){if(B=b(q("::","Class")["$==="](x))?x.$new(a,c):x,!b(b(e=q(v(g,"Converter"),"BackendInfo")["$==="](B))?B["$supports_templates?"]():e))return B}else x=a,"html5"["$==="](x)?(b((f=q("::","Asciidoctor","skip_raise"))&&(d=q(f,"Converter",
"skip_raise"))&&q(d,"Html5Converter","skip_raise")?"constant":h)||this.$require("asciidoctor/converter/html5".$to_s()),B=v(g,"Html5Converter").$new(a,c)):"docbook5"["$==="](x)?(b((t=q("::","Asciidoctor","skip_raise"))&&(p=q(t,"Converter","skip_raise"))&&q(p,"DocBook5Converter","skip_raise")?"constant":h)||this.$require("asciidoctor/converter/docbook5".$to_s()),B=v(g,"DocBook5Converter").$new(a,c)):"docbook45"["$==="](x)?(b((z=q("::","Asciidoctor","skip_raise"))&&(l=q(z,"Converter","skip_raise"))&&
q(l,"DocBook45Converter","skip_raise")?"constant":h)||this.$require("asciidoctor/converter/docbook45".$to_s()),B=v(g,"DocBook45Converter").$new(a,c)):"manpage"["$==="](x)&&(b((m=q("::","Asciidoctor","skip_raise"))&&(n=q(m,"Converter","skip_raise"))&&q(n,"ManPageConverter","skip_raise")?"constant":h)||this.$require("asciidoctor/converter/manpage".$to_s()),B=v(g,"ManPageConverter").$new(a,c));if(!b(c["$key?"]("template_dirs")))return B;b((E=q("::","Asciidoctor","skip_raise"))&&(u=q(E,"Converter","skip_raise"))&&
q(u,"TemplateConverter","skip_raise")?"constant":h)||this.$require("asciidoctor/converter/template".$to_s());x=v(g,"TemplateConverter").$new(a,c["$[]"]("template_dirs"),c);b((L=q("::","Asciidoctor","skip_raise"))&&(w=q(L,"Converter","skip_raise"))&&q(w,"CompositeConverter","skip_raise")?"constant":h)||this.$require("asciidoctor/converter/composite".$to_s());return v(g,"CompositeConverter").$new(a,x,B)},u.$$arity=-2),h)&&"create"})(z[0],null,z)})(d[0],d)}(c[0],c)};Opal.modules["asciidoctor/converter"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=a.top,q=[],v=a.nil,g=a.const_get_qualified,l=a.const_get_relative,b=a.module,r=a.send,p=a.truthy,n=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $slice $length $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" "));(function(h,k){function d(){}var f=[d=b(h,"Asciidoctor",d)].concat(k);(function(d,f){function h(){}var k=h=b(d,
"Converter",h),q=[k].concat(f),z,m;(function(c,e){function d(){}var f=d=b(c,"Config",d),g=[f].concat(e),h;a.def(f,"$register_for",h=function(b){var c,e,d,f=v;c=a.slice.call(arguments,0,arguments.length);l(g,"Factory").$register(this,c);f=function(a,b){[a].concat(b);return a}(a.get_singleton_class(this),g);c["$=="](["*"])?r(f,"send",["define_method","converts?"],(e=function(a){return!0},e.$$s=this,e.$$arity=1,e)):r(f,"send",["define_method","converts?"],(d=function(a){null==a&&(a=v);return c["$include?"](a)},
d.$$s=this,d.$$arity=1,d));return v},h.$$arity=-1)})(q[0],q);(function(d,f){function h(){}var k=h=b(d,"BackendInfo",h),q=[k].concat(f),z,m,u,E,w,x,y,P;a.def(k,"$backend_info",z=function(){var a;null==this.backend_info&&(this.backend_info=v);return this.backend_info=p(a=this.backend_info)?a:this.$setup_backend_info()},z.$$arity=0);a.def(k,"$setup_backend_info",m=function(){var a=v,b=v,c=v,e=v;null==this.backend&&(this.backend=v);p(this.backend)||this.$raise(g("::","ArgumentError"),"Cannot determine backend for converter: "+
this.$class());a=this.backend.$sub(l(q,"TrailingDigitsRx"),"");p(b=l(q,"DEFAULT_EXTENSIONS")["$[]"](a))?c=b.$slice(1,b.$length()):(a="html",b=".html",e=c="html");return n(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:a,outfilesuffix:b,filetype:c,htmlsyntax:e})},m.$$arity=0);a.def(k,"$filetype",u=function(b){var d=v;null==b&&(b=v);return p(b)?(d=["filetype",b],r(this.$backend_info(),"[]=",a.to_a(d)),d[c(d.length,1)]):this.$backend_info()["$[]"]("filetype")},u.$$arity=-1);a.def(k,
"$basebackend",E=function(b){var d=v;null==b&&(b=v);return p(b)?(d=["basebackend",b],r(this.$backend_info(),"[]=",a.to_a(d)),d[c(d.length,1)]):this.$backend_info()["$[]"]("basebackend")},E.$$arity=-1);a.def(k,"$outfilesuffix",w=function(b){var d=v;null==b&&(b=v);return p(b)?(d=["outfilesuffix",b],r(this.$backend_info(),"[]=",a.to_a(d)),d[c(d.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},w.$$arity=-1);a.def(k,"$htmlsyntax",x=function(b){var d=v;null==b&&(b=v);return p(b)?(d=["htmlsyntax",
b],r(this.$backend_info(),"[]=",a.to_a(d)),d[c(d.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},x.$$arity=-1);a.def(k,"$supports_templates",y=function(){var b=v,b=["supports_templates",!0];r(this.$backend_info(),"[]=",a.to_a(b));return b[c(b.length,1)]},y.$$arity=0);a.def(k,"$supports_templates?",P=function(){return this.$backend_info()["$[]"]("supports_templates")},P.$$arity=0)})(q[0],q);(function(b,c){var e=[b].concat(c),d;return(a.def(b,"$included",d=function(a){return a.$extend(l(e,"Config"))},
d.$$arity=1),v)&&"included"})(a.get_singleton_class(k),q);k.$include(l(q,"Config"));k.$include(l(q,"BackendInfo"));a.def(k,"$initialize",z=function(a,b){null==b&&n([],{});this.backend=a;return this.$setup_backend_info()},z.$$arity=-2);a.def(k,"$convert",m=function(a,b,c){null==c&&n([],{});return this.$raise(g("::","NotImplementedError"))},m.$$arity=-2);a.alias(k,"handles?","respond_to?");a.alias(k,"convert_with_options","convert")})(f[0],f);(function(c,e){function d(){}var f=d=b(c,"Writer",d),h=[f].concat(e),
k;a.def(f,"$write",k=function(a,b){p(b["$respond_to?"]("write"))?(b.$write(a.$chomp()),b.$write(l(h,"LF"))):g("::","IO").$write(b,a);return v},k.$$arity=2)})(f[0],f);(function(c,e){function d(){}var f=d=b(c,"VoidWriter",d),g=[f].concat(e),h;f.$include(l(g,"Writer"));a.def(f,"$write",h=function(a,b){return v},h.$$arity=2)})(f[0],f)})(q[0],q);h.$require("asciidoctor/converter/base");return h.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/document"]=function(a){function c(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var v=[],g=a.nil,l=a.const_get_qualified,b=a.const_get_relative,r=a.module,p=a.klass,n=a.send,m=a.truthy,z=a.hash2,d=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $inject $catalog $== $dup $attributes $safe $compat_mode $sourcemap $path_resolver $converter $extensions $each $end_with? $start_with? $slice $length $chop $downcase $extname $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $strftime $year $utc_offset $fetch $activate $create $to_proc $groups $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $doctitle $sectname= $title= $first_section $title $merge $> $< $find $context $assign_numeral $clear_playback_attributes $save_attributes $attribute_locked? $rewind $replace $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $Array $backend $default $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $write_alternate_pages $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $docinfo_processors? $compact $join $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(f,v){function u(){}var w=[u=r(f,"Asciidoctor",u)].concat(v);(function(f,$super,v){function r(){}f=r=p(f,$super,"Document",r);var u=f.prototype,w=[f].concat(v),F,t,x,y,A,D,S,Y,U,fa,V,K,J,H,G,qa,Z,ya,aa,ba,M,sa,da,ea,R,Ea,Aa,ja,wa,oa,Fa,Q,Qa,xa,La,Ma,Ca,Ga,Ha,Ia,Pa,Ra,Na,Oa,Va,C,W,Ja;u.attributes=u.safe=u.sourcemap=u.reader=u.base_dir=u.parsed=u.parent_document=u.extensions=u.options=u.counters=u.catalog=u.header=u.blocks=u.attributes_modified=u.id=u.header_attributes=u.max_attribute_value_size=
u.attribute_overrides=u.backend=u.doctype=u.converter=u.timings=u.outfilesuffix=u.docinfo_processor_extensions=u.document=g;a.const_set(w[0],"ImageReference",n(l("::","Struct"),"new",["target","imagesdir"],(F=function(){return a.alias(F.$$s||this,"to_s","target")},F.$$s=f,F.$$arity=0,F)));a.const_set(w[0],"Footnote",l("::","Struct").$new("index","id","text"));(function(b,$super,d){function f(){}b=f=p(b,$super,"AttributeEntry",f);[b].concat(d);var h,k;b.$attr_reader("name","value","negate");a.def(b,
"$initialize",h=function(a,b,c){null==c&&(c=g);this.name=a;this.value=b;return this.negate=m(c["$nil?"]())?b["$nil?"]():c},h.$$arity=-3);return(a.def(b,"$save_to",k=function(b){var d,f=g;(m(d=b["$[]"]("attribute_entries"))?d:(f=["attribute_entries",[]],n(b,"[]=",a.to_a(f)),f[c(f.length,1)]))["$<<"](this);return this},k.$$arity=1),g)&&"save_to"})(w[0],null,w);(function(c,$super,d){function e(){}c=e=p(c,$super,"Title",e);var f=c.prototype,h=[c].concat(d),k,q,l,v;f.sanitized=f.subtitle=f.combined=g;
c.$attr_reader("main");a.alias(c,"title","main");c.$attr_reader("subtitle");c.$attr_reader("combined");a.def(c,"$initialize",k=function(c,d){var e,f,k=g;null==d&&(d=z([],{}));m(m(e=this.sanitized=d["$[]"]("sanitize"))?c["$include?"]("<"):e)&&(c=c.$gsub(b(h,"XmlSanitizeRx"),"").$squeeze(" ").$strip());m(m(e=(k=m(f=d["$[]"]("separator"))?f:":")["$empty?"]())?e:c["$include?"](k=""+k+" ")["$!"]())?(this.main=c,this.subtitle=g):(f=c.$rpartition(k),e=a.to_ary(f),this.main=null==e[0]?g:e[0],this.subtitle=
null==e[2]?g:e[2],f);return this.combined=c},k.$$arity=-2);a.def(c,"$sanitized?",q=function(){return this.sanitized},q.$$arity=0);a.def(c,"$subtitle?",l=function(){return m(this.subtitle)?!0:!1},l.$$arity=0);return(a.def(c,"$to_s",v=function(){return this.combined},v.$$arity=0),g)&&"to_s"})(w[0],null,w);a.const_set(w[0],"Author",l("::","Struct").$new("name","firstname","middlename","lastname","initials","email"));f.$attr_reader("safe");f.$attr_reader("compat_mode");f.$attr_reader("backend");f.$attr_reader("doctype");
f.$attr_accessor("sourcemap");f.$attr_reader("catalog");a.alias(f,"references","catalog");f.$attr_reader("counters");f.$attr_reader("header");f.$attr_reader("base_dir");f.$attr_reader("options");f.$attr_reader("outfilesuffix");f.$attr_reader("parent_document");f.$attr_reader("reader");f.$attr_reader("path_resolver");f.$attr_reader("converter");f.$attr_reader("extensions");a.def(f,"$initialize",t=function(d,f){var p,v,C,r,u,F,E,x=g,I=g,y=g,L=g,J=g,A=J=J=g,K=g,D=A=g,V=A=A=g,ea=g,J=J=ea=A=x=g;t.$$p&&
(t.$$p=null);null==d&&(d=g);null==f&&(f=z([],{}));n(this,a.find_super_dispatcher(this,"initialize",t,!1),[this,"document"],null);if(m(x=f.$delete("parent")))this.parent_document=x,m(p=f["$[]"]("base_dir"))?p:(I=["base_dir",x.$base_dir()],n(f,"[]=",a.to_a(I)),I[c(I.length,1)]),m(x.$options()["$[]"]("catalog_assets"))&&(I=["catalog_assets",!0],n(f,"[]=",a.to_a(I)),I[c(I.length,1)]),this.catalog=n(x.$catalog(),"inject",[z([],{})],(v=function(b,d){var f,h,k=g;f=g;null==b&&(b=g);null==d&&(d=g);h=d;f=a.to_ary(h);
k=null==f[0]?g:f[0];f=null==f[1]?g:f[1];h;I=[k,k["$=="]("footnotes")?[]:f];n(b,"[]=",a.to_a(I));I[c(I.length,1)];return b},v.$$s=this,v.$$arity=2,v.$$has_top_level_mlhs_arg=!0,v)),this.attribute_overrides=y=x.$attributes().$dup(),L=y.$delete("doctype"),y.$delete("compat-mode"),y.$delete("toc"),y.$delete("toc-placement"),y.$delete("toc-position"),this.safe=x.$safe(),m(this.compat_mode=x.$compat_mode())&&(I=["compat-mode",""],n(this.attributes,"[]=",a.to_a(I)),I[c(I.length,1)]),this.sourcemap=x.$sourcemap(),
this.timings=g,this.path_resolver=x.$path_resolver(),this.converter=x.$converter(),J=!1,this.extensions=x.$extensions();else{this.parent_document=g;this.catalog=z("ids refs footnotes links images indexterms callouts includes".split(" "),{ids:z([],{}),refs:z([],{}),footnotes:[],links:[],images:[],indexterms:[],callouts:b(w,"Callouts").$new(),includes:z([],{})});this.attribute_overrides=y=z([],{});n(m(p=f["$[]"]("attributes"))?p:z([],{}),"each",[],(C=function(b,d){var f;null==b&&(b=g);null==d&&(d=g);
m(b["$end_with?"]("@"))?(f=m(b["$start_with?"]("!"))?[b.$slice(1,c(b.$length(),2)),!1]:m(b["$end_with?"]("!@"))?[b.$slice(0,c(b.$length(),2)),!1]:[b.$chop(),""+d+"@"],b=f[0],d=f[1],f):m(b["$start_with?"]("!"))?(f=[b.$slice(1,b.$length()),d["$=="]("@")?!1:g],b=f[0],d=f[1],f):m(b["$end_with?"]("!"))&&(f=[b.$chop(),d["$=="]("@")?!1:g],b=f[0],d=f[1],f);I=[b.$downcase(),d];n(y,"[]=",a.to_a(I));return I[c(I.length,1)]},C.$$s=this,C.$$arity=2,C));m(J=f["$[]"]("to_file"))&&(I=["outfilesuffix",l("::","File").$extname(J)],
n(y,"[]=",a.to_a(I)),I[c(I.length,1)]);if(m((J=f["$[]"]("safe"))["$!"]()))this.safe=l(b(w,"SafeMode"),"SECURE");else if(m(l("::","Integer")["$==="](J)))this.safe=J;else try{this.safe=b(w,"SafeMode").$value_for_name(J.$to_s())}catch(X){if(a.rescue(X,[b(w,"StandardError")]))try{this.safe=l(b(w,"SafeMode"),"SECURE")}finally{a.pop_exception()}else throw X;}this.compat_mode=y["$key?"]("compat-mode");this.sourcemap=f["$[]"]("sourcemap");this.timings=f.$delete("timings");this.path_resolver=b(w,"PathResolver").$new();
this.converter=g;J=(r=l("::","Asciidoctor","skip_raise"))&&(p=l(r,"Extensions","skip_raise"))?"constant":g;this.extensions=g}this.parsed=!1;this.header=this.header_attributes=g;this.counters=z([],{});this.attributes_modified=l("::","Set").$new();this.docinfo_processor_extensions=z([],{});A=m(u=f["$[]"]("header_footer"))?u:(I=["header_footer",!1],n(f,"[]=",a.to_a(I)),I[c(I.length,1)]);(this.options=f).$freeze();K=this.attributes;I=["sectids",""];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["toc-placement",
"auto"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];m(A)?(I=["copycss",""],n(K,"[]=",a.to_a(I)),I[c(I.length,1)],I=["embedded",g]):(I=["notitle",""],n(K,"[]=",a.to_a(I)),I[c(I.length,1)],I=["embedded",""]);n(y,"[]=",a.to_a(I));I[c(I.length,1)];I=["stylesheet",""];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["webfonts",""];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["prewrap",""];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["attribute-undefined",b(w,"Compliance").$attribute_undefined()];n(K,"[]=",a.to_a(I));I[c(I.length,
1)];I=["attribute-missing",b(w,"Compliance").$attribute_missing()];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["iconfont-remote",""];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["caution-caption","Caution"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["important-caption","Important"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["note-caption","Note"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["tip-caption","Tip"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["warning-caption","Warning"];n(K,"[]=",a.to_a(I));I[c(I.length,
1)];I=["example-caption","Example"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["figure-caption","Figure"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["table-caption","Table"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["toc-title","Table of Contents"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["section-refsig","Section"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["part-refsig","Part"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["chapter-refsig","Chapter"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["appendix-caption",
(I=["appendix-refsig","Appendix"],n(K,"[]=",a.to_a(I)),I[c(I.length,1)])];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["untitled-label","Untitled"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["version-label","Version"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["last-update-label","Last updated"];n(K,"[]=",a.to_a(I));I[c(I.length,1)];I=["asciidoctor",""];n(y,"[]=",a.to_a(I));I[c(I.length,1)];I=["asciidoctor-version",b(w,"VERSION")];n(y,"[]=",a.to_a(I));I[c(I.length,1)];I=["safe-mode-name",A=b(w,"SafeMode").$name_for_value(this.safe)];
n(y,"[]=",a.to_a(I));I[c(I.length,1)];I=["safe-mode-"+A,""];n(y,"[]=",a.to_a(I));I[c(I.length,1)];I=["safe-mode-level",this.safe];n(y,"[]=",a.to_a(I));I[c(I.length,1)];m(u=y["$[]"]("max-include-depth"))?u:(I=["max-include-depth",64],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=y["$[]"]("allow-uri-read"))?u:(I=["allow-uri-read",g],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]);I=["user-home",b(w,"USER_HOME")];n(y,"[]=",a.to_a(I));I[c(I.length,1)];m(y["$key?"]("numbered"))&&(I=["sectnums",y.$delete("numbered")],
n(y,"[]=",a.to_a(I)),I[c(I.length,1)]);m(D=f["$[]"]("base_dir"))?this.base_dir=(I=["docdir",l("::","File").$expand_path(D)],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]):m(y["$[]"]("docdir"))?this.base_dir=y["$[]"]("docdir"):this.base_dir=(I=["docdir",l("::","Dir").$pwd()],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]);m(A=f["$[]"]("backend"))&&(I=["backend",""+A],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]);m(A=f["$[]"]("doctype"))&&(I=["doctype",""+A],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]);m(h(this.safe,l(b(w,"SafeMode"),
"SERVER")))&&(m(u=y["$[]"]("copycss"))?u:(I=["copycss",g],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]),m(u=y["$[]"]("source-highlighter"))?u:(I=["source-highlighter",g],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]),m(u=y["$[]"]("backend"))?u:(I=["backend",b(w,"DEFAULT_BACKEND")],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]),m(m(u=x["$!"]())?y["$key?"]("docfile"):u)&&(I=["docfile",y["$[]"]("docfile")["$[]"](a.Range.$new(q(y["$[]"]("docdir").$length(),1),-1,!1))],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]),I=["docdir",""],
n(y,"[]=",a.to_a(I)),I[c(I.length,1)],I=["user-home","."],n(y,"[]=",a.to_a(I)),I[c(I.length,1)],m(h(this.safe,l(b(w,"SafeMode"),"SECURE")))&&(m(y["$key?"]("max-attribute-value-size"))||(I=["max-attribute-value-size",4096],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]),m(y["$key?"]("linkcss"))||(I=["linkcss",""],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]),m(u=y["$[]"]("icons"))?u:(I=["icons",g],n(y,"[]=",a.to_a(I)),I[c(I.length,1)])));this.max_attribute_value_size=m(V=m(u=y["$[]"]("max-attribute-value-size"))?
u:(I=["max-attribute-value-size",g],n(y,"[]=",a.to_a(I)),I[c(I.length,1)]))?V.$to_i().$abs():g;n(y,"delete_if",[],(F=function(b,d){var f,h=g;null==b&&(b=g);null==d&&(d=g);m(d)?(m(m(f=l("::","String")["$==="](d))?d["$end_with?"]("@"):f)&&(f=[d.$chop(),!0],d=f[0],h=f[1],f),I=[b,d],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]):(K.$delete(b),h=d["$=="](!1));return h},F.$$s=this,F.$$arity=2,F));if(m(x))return this.backend=K["$[]"]("backend"),(this.doctype=(I=["doctype",L],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]))["$=="](b(w,
"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(b(w,"DEFAULT_DOCTYPE")),this.reader=b(w,"Reader").$new(d,f["$[]"]("cursor")),m(this.sourcemap)&&(this.source_location=this.reader.$cursor()),b(w,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=g;(m(u=K["$[]"]("backend"))?u:(I=["backend",b(w,"DEFAULT_BACKEND")],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]))["$=="]("manpage")?this.doctype=(I=["doctype",(I=["doctype","manpage"],n(y,"[]=",a.to_a(I)),I[c(I.length,1)])],
n(K,"[]=",a.to_a(I)),I[c(I.length,1)]):this.doctype=m(u=K["$[]"]("doctype"))?u:(I=["doctype",b(w,"DEFAULT_DOCTYPE")],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]);this.$update_backend_attributes(K["$[]"]("backend"),!0);ea=m(l("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?l("::","Time").$at(this.$Integer(l("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():l("::","Time").$now();m(x=K["$[]"]("localdate"))?A=m(u=K["$[]"]("localyear"))?u:(I=["localyear",x.$index("-")["$=="](4)?x.$slice(0,4):g],n(K,"[]=",a.to_a(I)),
I[c(I.length,1)]):(x=(I=["localdate",ea.$strftime("%F")],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]),A=m(u=K["$[]"]("localyear"))?u:(I=["localyear",ea.$year().$to_s()],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]));ea=m(u=K["$[]"]("localtime"))?u:(I=["localtime",ea.$strftime("%T "+(ea.$utc_offset()["$=="](0)?"UTC":"%z"))],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=K["$[]"]("localdatetime"))?u:(I=["localdatetime",""+x+" "+ea],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=K["$[]"]("docdate"))?u:(I=["docdate",x],n(K,
"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=K["$[]"]("docyear"))?u:(I=["docyear",A],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=K["$[]"]("doctime"))?u:(I=["doctime",ea],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=K["$[]"]("docdatetime"))?u:(I=["docdatetime",""+x+" "+ea],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=K["$[]"]("stylesdir"))?u:(I=["stylesdir","."],n(K,"[]=",a.to_a(I)),I[c(I.length,1)]);m(u=K["$[]"]("iconsdir"))?u:(I=["iconsdir",""+K.$fetch("imagesdir","./images")+"/icons"],n(K,"[]=",a.to_a(I)),
I[c(I.length,1)]);m(J)&&(m(J=f["$[]"]("extension_registry"))?m(m(u=l(b(w,"Extensions"),"Registry")["$==="](J))?u:m(E=l("::","RUBY_ENGINE_JRUBY"))?l(l(l("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](J):E)&&(this.extensions=J.$activate(this)):m(l("::","Proc")["$==="](J=f["$[]"]("extensions")))?this.extensions=n(b(w,"Extensions"),"create",[],J.$to_proc()).$activate(this):m(b(w,"Extensions").$groups()["$empty?"]()["$!"]())&&(this.extensions=l(b(w,"Extensions"),"Registry").$new().$activate(this)));
this.reader=b(w,"PreprocessorReader").$new(this,d,l(b(w,"Reader"),"Cursor").$new(K["$[]"]("docfile"),this.base_dir),z(["normalize"],{normalize:!0}));return m(this.sourcemap)?this.source_location=this.reader.$cursor():g},t.$$arity=-1);a.def(f,"$parse",x=function(a){var c,d,e,f=g,h=g;null==a&&(a=g);if(m(this.parsed))return this;f=this;m(a)&&(this.reader=b(w,"PreprocessorReader").$new(f,a,l(b(w,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),z(["normalize"],{normalize:!0})),
m(this.sourcemap)&&(this.source_location=this.reader.$cursor()));m(m(c=h=m(this.parent_document)?g:this.extensions)?h["$preprocessors?"]():c)&&n(h.$preprocessors(),"each",[],(d=function(a){var b=d.$$s||this,c;null==b.reader&&(b.reader=g);null==a&&(a=g);return b.reader=m(c=a.$process_method()["$[]"](f,b.reader))?c:b.reader},d.$$s=this,d.$$arity=1,d));b(w,"Parser").$parse(this.reader,f,z(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();m(m(c=h)?h["$tree_processors?"]():
c)&&n(h.$tree_processors(),"each",[],(e=function(a){var c,d,e=g;null==a&&(a=g);return m(m(c=m(d=e=a.$process_method()["$[]"](f))?b(w,"Document")["$==="](e):d)?e["$!="](f):c)?f=e:g},e.$$s=this,e.$$arity=1,e));this.parsed=!0;return f},x.$$arity=-1);a.def(f,"$counter",y=function(b,d){var f,h=g,k=g,q=g;null==d&&(d=g);if(m(this.parent_document))return this.parent_document.$counter(b,d);q=m(m(f=h=(k=this.attributes["$[]"](b))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](b):f)?[b,(q=[b,this.$nextval(k)],
n(this.counters,"[]=",a.to_a(q)),q[c(q.length,1)])]:m(d)?[b,(q=[b,d["$=="](d.$to_i().$to_s())?d.$to_i():d],n(this.counters,"[]=",a.to_a(q)),q[c(q.length,1)])]:[b,(q=[b,this.$nextval(m(h)?k:0)],n(this.counters,"[]=",a.to_a(q)),q[c(q.length,1)])];n(this.attributes,"[]=",a.to_a(q));return q[c(q.length,1)]},y.$$arity=-2);a.def(f,"$increment_and_store_counter",A=function(a,c){return b(w,"AttributeEntry").$new(a,this.$counter(a)).$save_to(c.$attributes()).$value()},A.$$arity=2);a.alias(f,"counter_increment",
"increment_and_store_counter");a.def(f,"$nextval",D=function(a){var b=g;if(m(l("::","Integer")["$==="](a)))return q(a,1);b=a.$to_i();return m(b.$to_s()["$!="](a.$to_s()))?q(a["$[]"](0).$ord(),1).$chr():q(b,1)},D.$$arity=1);a.def(f,"$register",S=function(d,f){var h,k,p=this,l=g,v=g,t=g,C=g,z=g,r=g,u=g;return function(){l=d;if("ids"["$==="](l))return k=f,h=a.to_ary(k),v=null==h[0]?g:h[0],t=null==h[1]?g:h[1],k,C=p.catalog["$[]"]("ids"),m(h=C["$[]"](v))?h:(z=[v,m(k=t)?k:q(q("[",v),"]")],n(C,"[]=",a.to_a(z)),
z[c(z.length,1)]);if("refs"["$==="](l)){k=f;h=a.to_ary(k);v=null==h[0]?g:h[0];r=null==h[1]?g:h[1];t=null==h[2]?g:h[2];k;if(m((u=p.catalog["$[]"]("refs"))["$key?"](v)))return g;z=[v,m(h=t)?h:q(q("[",v),"]")];n(p.catalog["$[]"]("ids"),"[]=",a.to_a(z));z[c(z.length,1)];z=[v,r];n(u,"[]=",a.to_a(z));return z[c(z.length,1)]}return"footnotes"["$==="](l)||"indexterms"["$==="](l)?p.catalog["$[]"](d)["$<<"](f):m(p.options["$[]"]("catalog_assets"))?p.catalog["$[]"](d)["$<<"](d["$=="]("images")?b(w,"ImageReference").$new(f["$[]"](0),
f["$[]"](1)):f):g}()},S.$$arity=2);a.def(f,"$footnotes?",Y=function(){return m(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},Y.$$arity=0);a.def(f,"$footnotes",U=function(){return this.catalog["$[]"]("footnotes")},U.$$arity=0);a.def(f,"$callouts",fa=function(){return this.catalog["$[]"]("callouts")},fa.$$arity=0);a.def(f,"$nested?",V=function(){return m(this.parent_document)?!0:!1},V.$$arity=0);a.def(f,"$embedded?",K=function(){return this.attributes["$key?"]("embedded")},K.$$arity=0);a.def(f,
"$extensions?",J=function(){return m(this.extensions)?!0:!1},J.$$arity=0);a.def(f,"$source",H=function(){return m(this.reader)?this.reader.$source():g},H.$$arity=0);a.def(f,"$source_lines",G=function(){return m(this.reader)?this.reader.$source_lines():g},G.$$arity=0);a.def(f,"$basebackend?",qa=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},qa.$$arity=1);a.def(f,"$title",Z=function(){return this.$doctitle()},Z.$$arity=0);a.def(f,"$title=",ya=function(d){var f=g,h=g;m(f=this.header)||
(h=["header"],n(f=this.header=b(w,"Section").$new(this,0),"sectname=",a.to_a(h)),h[c(h.length,1)]);h=[d];n(f,"title=",a.to_a(h));return h[c(h.length,1)]},ya.$$arity=1);a.def(f,"$doctitle",aa=function(a){var c,d=g,e=g,f=g;null==a&&(a=z([],{}));if(!m(d=this.attributes["$[]"]("title")))if(m(e=this.$first_section()))d=e.$title();else if(m((m(c=a["$[]"]("use_fallback"))?d=this.attributes["$[]"]("untitled-label"):c)["$!"]()))return g;return m(f=a["$[]"]("partition"))?b(w,"Title").$new(d,a.$merge(z(["separator"],
{separator:f["$=="](!0)?this.attributes["$[]"]("title-separator"):f}))):m(m(c=a["$[]"]("sanitize"))?d["$include?"]("<"):c)?d.$gsub(b(w,"XmlSanitizeRx"),"").$squeeze(" ").$strip():d},aa.$$arity=-1);a.alias(f,"name","doctitle");a.def(f,"$author",ba=function(){return this.attributes["$[]"]("author")},ba.$$arity=0);a.def(f,"$authors",M=function(){var a,c=g,d=g,e=g,f=g;if(m((c=this.attributes)["$key?"]("author"))){d=[b(w,"Author").$new(c["$[]"]("author"),c["$[]"]("firstname"),c["$[]"]("middlename"),c["$[]"]("lastname"),
c["$[]"]("authorinitials"),c["$[]"]("email"))];f=e=m(a=c["$[]"]("authorcount"))?a:0;a="number"===typeof f?1<f:f["$>"](1);if(m(a))for(f=1;m("number"===typeof f&&"number"===typeof e?f<e:f["$<"](e));)f=q(f,1),d["$<<"](b(w,"Author").$new(c["$[]"]("author_"+f),c["$[]"]("firstname_"+f),c["$[]"]("middlename_"+f),c["$[]"]("lastname_"+f),c["$[]"]("authorinitials_"+f),c["$[]"]("email_"+f)));return d}return[]},M.$$arity=0);a.def(f,"$revdate",sa=function(){return this.attributes["$[]"]("revdate")},sa.$$arity=
0);a.def(f,"$notitle",da=function(){var a;return m(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},da.$$arity=0);a.def(f,"$noheader",ea=function(){return this.attributes["$key?"]("noheader")},ea.$$arity=0);a.def(f,"$nofooter",R=function(){return this.attributes["$key?"]("nofooter")},R.$$arity=0);a.def(f,"$first_section",Ea=function(){var a,b;return m(a=this.header)?a:n(this.blocks,"find",[],(b=function(a){null==a&&(a=g);return a.$context()["$=="]("section")},
b.$$s=this,b.$$arity=1,b))},Ea.$$arity=0);a.def(f,"$has_header?",Aa=function(){return m(this.header)?!0:!1},Aa.$$arity=0);a.alias(f,"header?","has_header?");a.def(f,"$<<",ja=function(b){var c=ja.$$p,d=g,e=g,f=g;c&&(ja.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_numeral(b);return n(this,a.find_super_dispatcher(this,"<<",ja,!1),d,c)},ja.$$arity=1);a.def(f,"$finalize_header",wa=function(b,d){var f=g;null==d&&(d=!0);this.$clear_playback_attributes(b);
this.$save_attributes();m(d)||(f=["invalid-header",!0],n(b,"[]=",a.to_a(f)),f[c(f.length,1)]);return b},wa.$$arity=-2);a.def(f,"$save_attributes",oa=function(){var d,f,h,k=g,q=g,p=g,l=q=g,v=g,t=g,C=g,t=l=g;(k=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(m(m(d=this["$attribute_locked?"]("toc"))?d:this.attributes_modified["$include?"]("toc"))||(q=["toc",""],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]),m(m(d=this["$attribute_locked?"]("sectnums"))?d:this.attributes_modified["$include?"]("sectnums"))||
(q=["sectnums",""],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]));m(m(d=k["$key?"]("doctitle"))?d:(p=this.$doctitle())["$!"]())||(q=["doctitle",p],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]);m(this.id)||(this.id=k["$[]"]("css-signature"));q=m(l=m(k.$delete("toc2"))?"left":k["$[]"]("toc"))?m(m(d=v=k.$fetch("toc-placement","macro"))?v["$!="]("auto"):d)?v:k["$[]"]("toc-position"):g;m(m(d=l)?m(f=l["$empty?"]()["$!"]())?f:q["$nil_or_empty?"]()["$!"]():d)&&(t="left",C="toc2",l=m(q["$nil_or_empty?"]()["$!"]())?q:m(l["$empty?"]()["$!"]())?
l:t,q=["toc",""],n(k,"[]=",a.to_a(q)),q[c(q.length,1)],q=["toc-placement","auto"],n(k,"[]=",a.to_a(q)),q[c(q.length,1)],t=l,"left"["$==="](t)||"<"["$==="](t)||"&lt;"["$==="](t)?(q=["toc-position","left"],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]):"right"["$==="](t)||">"["$==="](t)||"&gt;"["$==="](t)?(q=["toc-position","right"],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]):"top"["$==="](t)||"^"["$==="](t)?(q=["toc-position","top"],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]):"bottom"["$==="](t)||"v"["$==="](t)?(q=
["toc-position","bottom"],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]):("preamble"["$==="](t)||"macro"["$==="](t)?(q=["toc-position","content"],n(k,"[]=",a.to_a(q)),q[c(q.length,1)],q=["toc-placement",l],n(k,"[]=",a.to_a(q)),q[c(q.length,1)]):k.$delete("toc-position"),C=g),m(C)&&(m(d=k["$[]"]("toc-class"))?d:(q=["toc-class",C],n(k,"[]=",a.to_a(q)),q[c(q.length,1)])));m(this.compat_mode=k["$key?"]("compat-mode"))&&m(k["$key?"]("language"))&&(q=["source-language",k["$[]"]("language")],n(k,"[]=",a.to_a(q)),
q[c(q.length,1)]);this.outfilesuffix=k["$[]"]("outfilesuffix");this.header_attributes=k.$dup();return m(this.parent_document)?g:n(b(w,"FLEXIBLE_ATTRIBUTES"),"each",[],(h=function(a){var b=h.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=g);null==a&&(a=g);return m(m(c=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):c)?b.attribute_overrides.$delete(a):g},h.$$s=this,h.$$arity=1,h))},oa.$$arity=0);a.def(f,"$restore_attributes",Fa=function(){m(this.parent_document)||
this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},Fa.$$arity=0);a.def(f,"$clear_playback_attributes",Q=function(a){return a.$delete("attribute_entries")},Q.$$arity=1);a.def(f,"$playback_attributes",Qa=function(b){var d;return m(b["$key?"]("attribute_entries"))?n(b["$[]"]("attribute_entries"),"each",[],(d=function(b){var f=d.$$s||this,h=g,k=g;null==f.attributes&&(f.attributes=g);null==b&&(b=g);h=b.$name();if(m(b.$negate()))return f.attributes.$delete(h),
h["$=="]("compat-mode")?f.compat_mode=!1:g;k=[h,b.$value()];n(f.attributes,"[]=",a.to_a(k));k[c(k.length,1)];return h["$=="]("compat-mode")?f.compat_mode=!0:g},d.$$s=this,d.$$arity=1,d)):g},Qa.$$arity=1);a.def(f,"$set_attribute",xa=function(b,d){var f=g,h=g,h=g;null==d&&(d="");if(m(this["$attribute_locked?"](b)))return!1;f=m(this.max_attribute_value_size)?this.$apply_attribute_value_subs(d).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(d);h=b;"backend"["$==="](h)?
this.$update_backend_attributes(f,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](h)?this.$update_doctype_attributes(f):(h=[b,f],n(this.attributes,"[]=",a.to_a(h)),h[c(h.length,1)]);this.attributes_modified["$<<"](b);return f},xa.$$arity=-2);a.def(f,"$delete_attribute",La=function(a){if(m(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0},La.$$arity=1);a.def(f,"$attribute_locked?",Ma=function(a){return this.attribute_overrides["$key?"](a)},
Ma.$$arity=1);a.def(f,"$set_header_attribute",Ca=function(b,d,f){var h,k=g,q=g;null==d&&(d="");null==f&&(f=!0);k=m(h=this.header_attributes)?h:this.attributes;if(m(f["$=="](!1)?k["$key?"](b):f["$=="](!1)))return!1;q=[b,d];n(k,"[]=",a.to_a(q));q[c(q.length,1)];return!0},Ca.$$arity=-2);a.def(f,"$apply_attribute_value_subs",Ga=function(a){var c;return m(b(w,"AttributeEntryPassMacroRx")["$=~"](a))?m((c=d["~"])===g?g:c["$[]"](1))?this.$apply_subs((c=d["~"])===g?g:c["$[]"](2),this.$resolve_pass_subs((c=
d["~"])===g?g:c["$[]"](1))):(c=d["~"])===g?g:c["$[]"](2):this.$apply_header_subs(a)},Ga.$$arity=1);a.def(f,"$update_backend_attributes",Ha=function(d,f){var h,k,q=g,p=g,v=g,t=g,C=g,z=g,r=g,u=g,F=p=g,p=g;null==f&&(f=g);return m(m(h=f)?h:m(k=d)?d["$!="](this.backend):k)?(h=[this.backend,(q=this.attributes)["$[]"]("basebackend"),this.doctype],p=h[0],v=h[1],t=h[2],h,m(d["$start_with?"]("xhtml"))?(C=["htmlsyntax","xml"],n(q,"[]=",a.to_a(C)),C[c(C.length,1)],d=d.$slice(1,d.$length())):m(d["$start_with?"]("html"))&&
!q["$[]"]("htmlsyntax")["$=="]("xml")&&(C=["htmlsyntax","html"],n(q,"[]=",a.to_a(C)),C[c(C.length,1)]),m(z=b(w,"BACKEND_ALIASES")["$[]"](d))&&(d=z),m(t)?(m(p)&&(q.$delete("backend-"+p),q.$delete("backend-"+p+"-doctype-"+t)),C=["backend-"+d+"-doctype-"+t,""],n(q,"[]=",a.to_a(C)),C[c(C.length,1)],C=["doctype-"+t,""],n(q,"[]=",a.to_a(C)),C[c(C.length,1)]):m(p)&&q.$delete("backend-"+p),C=["backend-"+d,""],n(q,"[]=",a.to_a(C)),C[c(C.length,1)],this.backend=(C=["backend",d],n(q,"[]=",a.to_a(C)),C[c(C.length,
1)]),m(l(b(w,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(r=this.converter.$basebackend(),m(this["$attribute_locked?"]("outfilesuffix"))||(C=["outfilesuffix",this.converter.$outfilesuffix()],n(q,"[]=",a.to_a(C)),C[c(C.length,1)]),u=this.converter.$filetype()):m(this.converter)?(r=d.$sub(b(w,"TrailingDigitsRx"),""),m(p=b(w,"DEFAULT_EXTENSIONS")["$[]"](r))?u=p.$slice(1,p.$length()):(h=[".html","html","html"],p=h[0],r=h[1],u=h[2],h),m(this["$attribute_locked?"]("outfilesuffix"))||
(C=["outfilesuffix",p],n(q,"[]=",a.to_a(C)),C[c(C.length,1)])):this.$raise(l("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+d+"'. Processing aborted."),m(F=q["$[]"]("filetype"))&&q.$delete("filetype-"+F),C=["filetype",u],n(q,"[]=",a.to_a(C)),C[c(C.length,1)],C=["filetype-"+u,""],n(q,"[]=",a.to_a(C)),C[c(C.length,1)],m(p=b(w,"DEFAULT_PAGE_WIDTHS")["$[]"](r))?(C=["pagewidth",p],n(q,"[]=",a.to_a(C)),C[c(C.length,1)]):q.$delete("pagewidth"),m(r["$!="](v))&&(m(t)?(m(v)&&
(q.$delete("basebackend-"+v),q.$delete("basebackend-"+v+"-doctype-"+t)),C=["basebackend-"+r+"-doctype-"+t,""],n(q,"[]=",a.to_a(C)),C[c(C.length,1)]):m(v)&&q.$delete("basebackend-"+v),C=["basebackend-"+r,""],n(q,"[]=",a.to_a(C)),C[c(C.length,1)],C=["basebackend",r],n(q,"[]=",a.to_a(C)),C[c(C.length,1)]),d):g},Ha.$$arity=-2);a.def(f,"$update_doctype_attributes",Ia=function(b){var d,f=g,h=g,k=g,q=g,h=g;return m(m(d=b)?b["$!="](this.doctype):d)?(d=[this.backend,(f=this.attributes)["$[]"]("basebackend"),
this.doctype],h=d[0],k=d[1],q=d[2],d,m(q)?(f.$delete("doctype-"+q),m(h)&&(f.$delete("backend-"+h+"-doctype-"+q),h=["backend-"+h+"-doctype-"+b,""],n(f,"[]=",a.to_a(h)),h[c(h.length,1)]),m(k)&&(f.$delete("basebackend-"+k+"-doctype-"+q),h=["basebackend-"+k+"-doctype-"+b,""],n(f,"[]=",a.to_a(h)),h[c(h.length,1)])):(m(h)&&(h=["backend-"+h+"-doctype-"+b,""],n(f,"[]=",a.to_a(h)),h[c(h.length,1)]),m(k)&&(h=["basebackend-"+k+"-doctype-"+b,""],n(f,"[]=",a.to_a(h)),h[c(h.length,1)])),h=["doctype-"+b,""],n(f,
"[]=",a.to_a(h)),h[c(h.length,1)],this.doctype=(h=["doctype",b],n(f,"[]=",a.to_a(h)),h[c(h.length,1)])):g},Ia.$$arity=1);a.def(f,"$create_converter",Pa=function(){var d=g,f=g,h=g,k=g,q=g,f=g,d=z([],{}),f=["htmlsyntax",this.attributes["$[]"]("htmlsyntax")];n(d,"[]=",a.to_a(f));f[c(f.length,1)];m(h=this.options["$[]"]("template_dir"))?k=[h]:m(k=this.options["$[]"]("template_dirs"))&&(k=this.$Array(k));m(k)&&(f=["template_dirs",k],n(d,"[]=",a.to_a(f)),f[c(f.length,1)],f=["template_cache",this.options.$fetch("template_cache",
!0)],n(d,"[]=",a.to_a(f)),f[c(f.length,1)],f=["template_engine",this.options["$[]"]("template_engine")],n(d,"[]=",a.to_a(f)),f[c(f.length,1)],f=["template_engine_options",this.options["$[]"]("template_engine_options")],n(d,"[]=",a.to_a(f)),f[c(f.length,1)],f=["eruby",this.options["$[]"]("eruby")],n(d,"[]=",a.to_a(f)),f[c(f.length,1)],f=["safe",this.safe],n(d,"[]=",a.to_a(f)),f[c(f.length,1)]);f=m(q=this.options["$[]"]("converter"))?l(b(w,"Converter"),"Factory").$new(l("::","Hash")["$[]"](this.$backend(),
q)):l(b(w,"Converter"),"Factory").$default(!1);return f.$create(this.$backend(),d)},Pa.$$arity=0);a.def(f,"$convert",Ra=function(d){var f,q,p=g,v=g,t=g,C=g,r=g;null==d&&(d=z([],{}));m(this.timings)&&this.timings.$start("convert");m(this.parsed)||this.$parse();m(m(f=h(this.safe,l(b(w,"SafeMode"),"SERVER")))?f:d["$empty?"]())||(m((p=["outfile",d["$[]"]("outfile")],n(this.attributes,"[]=",a.to_a(p)),p[c(p.length,1)]))||this.attributes.$delete("outfile"),m((p=["outdir",d["$[]"]("outdir")],n(this.attributes,
"[]=",a.to_a(p)),p[c(p.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?m(v=m(f=this.blocks["$[]"](0))?f:this.header)&&(m(m(f=v.$content_model()["$=="]("compound"))?f:v.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):t=v.$content()):(C=m(m(d["$key?"]("header_footer"))?d["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?"document":"embedded",t=this.converter.$convert(this,
C));!m(this.parent_document)&&m(m(f=r=this.extensions)?r["$postprocessors?"]():f)&&n(r.$postprocessors(),"each",[],(q=function(a){var b=q.$$s||this;null==a&&(a=g);return t=a.$process_method()["$[]"](b,t)},q.$$s=this,q.$$arity=1,q));m(this.timings)&&this.timings.$record("convert");return t},Ra.$$arity=-1);a.alias(f,"render","convert");a.def(f,"$write",Na=function(a,c){var d;m(this.timings)&&this.timings.$start("write");m(b(w,"Writer")["$==="](this.converter))?this.converter.$write(a,c):(m(c["$respond_to?"]("write"))?
m(a["$nil_or_empty?"]())||(c.$write(a.$chomp()),c.$write(b(w,"LF"))):m(b(w,"COERCE_ENCODING"))?l("::","IO").$write(c,a,z(["encoding"],{encoding:l(l("::","Encoding"),"UTF_8")})):l("::","IO").$write(c,a),m(m(d=this.backend["$=="]("manpage")?l("::","String")["$==="](c):this.backend["$=="]("manpage"))?this.converter["$respond_to?"]("write_alternate_pages"):d)&&this.converter.$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),c));m(this.timings)&&this.timings.$record("write");
return g},Na.$$arity=2);a.def(f,"$content",Oa=function(){var b=Oa.$$p,c=g,d=g,e=g;b&&(Oa.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];this.attributes.$delete("title");return n(this,a.find_super_dispatcher(this,"content",Oa,!1),c,b)},Oa.$$arity=0);a.def(f,"$docinfo",Va=function(a,c){var d,e,f,p=g,v=g,t=g,C=g,r=g,u=g,F=g,C=F=g;null==a&&(a="head");null==c&&(c=g);if(m(h(this.$safe(),l(b(w,"SafeMode"),"SECURE"))))return"";p=[];a["$=="]("head")||(v="-"+a);m(c)||(c=this.outfilesuffix);
t=m((t=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?m(this.attributes["$key?"]("docinfo2"))?["private","shared"]:m(this.attributes["$key?"]("docinfo1"))?["shared"]:m(t)?["private"]:g:n(t.$split(","),"map",[],(d=function(a){null==a&&(a=g);return a.$strip()},d.$$s=this,d.$$arity=1,d));if(m(t)){e=["docinfo"+v+c,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];C=e[0];r=e[1];u=e[2];e;if(!m(t["$&"](["shared","shared-"+a])["$empty?"]())&&(F=this.$normalize_system_path(C,r),m(F=
this.$read_asset(F,z(["normalize"],{normalize:!0})))))p["$<<"](this.$apply_subs(F,u));if(!m(m(e=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?e:t["$&"](["private","private-"+a])["$empty?"]())&&(F=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+C,r),m(C=this.$read_asset(F,z(["normalize"],{normalize:!0})))))p["$<<"](this.$apply_subs(C,u))}m(m(e=this.extensions)?this["$docinfo_processors?"](a):e)&&(p=q(p,n(this.docinfo_processor_extensions["$[]"](a),"map",[],(f=function(a){var b=
f.$$s||this;null==a&&(a=g);return a.$process_method()["$[]"](b)},f.$$s=this,f.$$arity=1,f)).$compact()));return p.$join(b(w,"LF"))},Va.$$arity=-1);a.def(f,"$resolve_docinfo_subs",C=function(){return m(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",g,"docinfo"):["attributes"]},C.$$arity=0);a.def(f,"$docinfo_processors?",W=function(b){var d,f=g;null==b&&(b="head");if(m(this.docinfo_processor_extensions["$key?"](b)))return this.docinfo_processor_extensions["$[]"](b)["$!="](!1);
if(m(m(d=this.extensions)?this.document.$extensions()["$docinfo_processors?"](b):d))return(f=[b,this.document.$extensions().$docinfo_processors(b)],n(this.docinfo_processor_extensions,"[]=",a.to_a(f)),f[c(f.length,1)])["$!"]()["$!"]();f=[b,!1];n(this.docinfo_processor_extensions,"[]=",a.to_a(f));return f[c(f.length,1)]},W.$$arity=-1);return(a.def(f,"$to_s",Ja=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(m(this.header["$!="](g))?
this.header.$title():g).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Ja.$$arity=0),g)&&"to_s"})(w[0],b(w,"AbstractBlock"),w)}(v[0],v)};Opal.modules["asciidoctor/inline"]=function(a){var c=[],h=a.nil,q=a.const_get_relative,m=a.module,g=a.klass,l=a.hash2,b=a.send,n=a.truthy;a.add_stubs("$attr_reader $attr_accessor $[] $dup $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(c,e){function r(){}var z=[r=m(c,"Asciidoctor",r)].concat(e);(function(c,$super,e){function q(){}
c=q=g(c,$super,"Inline",q);var p=c.prototype;[c].concat(e);var m,v,r,z,u,w,y,t;p.text=p.type=h;c.$attr_reader("text");c.$attr_reader("type");c.$attr_accessor("target");a.def(c,"$initialize",m=function(c,d,e,g){var q=h;m.$$p&&(m.$$p=null);null==e&&(e=h);null==g&&(g=l([],{}));b(this,a.find_super_dispatcher(this,"initialize",m,!1),[c,d],null);this.node_name="inline_"+d;this.text=e;this.id=g["$[]"]("id");this.type=g["$[]"]("type");this.target=g["$[]"]("target");return n(q=g["$[]"]("attributes"))?this.attributes=
q.$dup():h},m.$$arity=-3);a.def(c,"$block?",v=function(){return!1},v.$$arity=0);a.def(c,"$inline?",r=function(){return!0},r.$$arity=0);a.def(c,"$convert",z=function(){return this.$converter().$convert(this)},z.$$arity=0);a.alias(c,"render","convert");a.def(c,"$alt",u=function(){return this.$attr("alt")},u.$$arity=0);a.def(c,"$reftext?",w=function(){var a,b;return n(a=this.text)?n(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},w.$$arity=0);a.def(c,"$reftext",y=function(){var a=h;return n(a=
this.text)?this.$apply_reftext_subs(a):h},y.$$arity=0);return(a.def(c,"$xreftext",t=function(a){return this.$reftext()},t.$$arity=-1),h)&&"xreftext"})(z[0],q(z,"AbstractNode"),z)}(c[0],c)};Opal.modules["asciidoctor/list"]=function(a){var c=[],h=a.nil,q=a.const_get_relative,m=a.module,g=a.klass,l=a.hash2,b=a.send,n=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $drop $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));
return function(c,e){function r(){}var z=[r=m(c,"Asciidoctor",r)].concat(e);(function(c,$super,e){function q(){}c=q=g(c,$super,"List",q);var p=c.prototype;[c].concat(e);var m,v,r,z;p.context=p.document=p.style=h;a.alias(c,"items","blocks");a.alias(c,"content","blocks");a.alias(c,"items?","blocks?");a.def(c,"$initialize",m=function(c,d,e){var g=m.$$p,q=h,p=h,v=h;g&&(m.$$p=null);p=0;v=arguments.length;for(q=Array(v);p<v;p++)q[p]=arguments[p];null==e&&(e=l([],{}));return b(this,a.find_super_dispatcher(this,
"initialize",m,!1),q,g)},m.$$arity=-3);a.def(c,"$outline?",v=function(){var a;return n(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},v.$$arity=0);a.def(c,"$convert",r=function(){var c=r.$$p,d=h,e=d=h,g=h;c&&(r.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];return this.context["$=="]("colist")?(d=b(this,a.find_super_dispatcher(this,"convert",r,!1),d,c),this.document.$callouts().$next_list(),d):b(this,a.find_super_dispatcher(this,"convert",r,!1),d,c)},r.$$arity=
0);a.alias(c,"render","convert");return(a.def(c,"$to_s",z=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},z.$$arity=0),h)&&"to_s"})(z[0],q(z,"AbstractBlock"),z);(function(c,$super,e){function p(){}c=p=g(c,$super,"ListItem",p);var m=c.prototype,v=[c].concat(e),l,r,z,u,w,y,t,x;m.text=m.subs=m.blocks=h;a.alias(c,"list","parent");c.$attr_accessor("marker");a.def(c,"$initialize",l=
function(c,d){l.$$p&&(l.$$p=null);null==d&&(d=h);b(this,a.find_super_dispatcher(this,"initialize",l,!1),[c,"list_item"],null);this.text=d;this.level=c.$level();return this.subs=q(v,"NORMAL_SUBS").$drop(0)},l.$$arity=-2);a.def(c,"$text?",r=function(){return this.text["$nil_or_empty?"]()["$!"]()},r.$$arity=0);a.def(c,"$text",z=function(){var a;return n(a=this.text)?this.$apply_subs(this.text,this.subs):a},z.$$arity=0);a.def(c,"$text=",u=function(a){return this.text=a},u.$$arity=1);a.def(c,"$simple?",
w=function(){var a,b,c=h;return n(a=this.blocks["$empty?"]())?a:n(b=this.blocks.$size()["$=="](1)?q(v,"List")["$==="](c=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?c["$outline?"]():b},w.$$arity=0);a.def(c,"$compound?",y=function(){return this["$simple?"]()["$!"]()},y.$$arity=0);a.def(c,"$fold_first",t=function(a,b){var c,d,e,g,p,m=h,l=h;null==a&&(a=!1);null==b&&(b=!1);n(n(c=n(d=m=this.blocks["$[]"](0))?q(v,"Block")["$==="](m):d)?n(d=m.$context()["$=="]("paragraph")?a["$!"]():m.$context()["$=="]("paragraph"))?
d:n(e=n(g=n(p=b)?p:a["$!"]())?m.$context()["$=="]("literal"):g)?m["$option?"]("listparagraph"):e:c)&&(l=this.$blocks().$shift(),n(this.text["$nil_or_empty?"]())||l.$lines().$unshift(this.text),this.text=l.$source());return h},t.$$arity=-1);return(a.def(c,"$to_s",x=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(n(a=this.blocks)?a:[]).$size()+"}>"},x.$$arity=0),h)&&"to_s"})(z[0],q(z,
"AbstractBlock"),z)}(c[0],c)};Opal.modules["asciidoctor/parser"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var l=[],b=a.nil,n=a.const_get_qualified,
p=a.const_get_relative,r=a.module,u=a.klass,z=a.send,d=a.truthy,f=a.hash2,w=a.gvars;a.add_stubs("$include $new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $parse_block_metadata_lines $attributes $is_next_line_doctitle? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $source_location= $header $attribute_locked? $[]= $id $parse_header_metadata $register $== $doctype $parse_manpage_header $=~ $downcase $include? $sub_attributes $error $logger $message_with_context $cursor_at_line $backend $skip_blank_lines $save $update $is_next_line_section? $initialize_section $join $map $read_lines_until $to_proc $title $split $lstrip $restore_save $discard_save $context $empty? $has_header? $delete $! $!= $attr? $attr $key? $document $+ $level $special $sectname $to_i $> $< $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $dup $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $* $length $end_with? $=== $parse_attributes $attribute_missing $clear $tr $basename $assign_caption $registered_for_block_macro? $config $process_method $replace $parse_callout_list $callouts $parse_list $match $parse_description_list $underline_style_section_titles $is_section_title? $peek_line $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $map! $slice $pop $build_block $apply_subs $chop $catalog_inline_anchors $rekey $index $strip $parse_table $concat $each $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $<= $nil? $lines $parse_blocks $parse_list_item $items $scan $gsub $count $pre_match $advance $callout_ids $next_list $catalog_inline_anchor $source_location $marker= $catalog_inline_biblio_anchor $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $find $delete_at $casecmp $sectname= $special= $numbered= $numbered $lineno $update_attributes $peek_lines $setext_section_title? $abs $line_length $cursor_at_prev_line $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $compact $Array $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $resolve_list_marker $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin".split(" "));
return function(l,y){function x(){}var B=[x=r(l,"Asciidoctor",x)].concat(y);(function(l,$super,r){function y(){}l=y=u(l,$super,"Parser",y);var x=[l].concat(r),t,E,B,A,D,N,Y,U,H,V,K,J,M,G,qa,la,Z,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Q,ja,xa,ta,Ma,Ca,Ga,Ha,Ia,Pa,Ra,Na,Oa,Va,C,W,Ja;l.$include(p(x,"Logging"));a.const_set(x[0],"BlockMatchData",p(x,"Struct").$new("context","masq","tip","terminator"));a.const_set(x[0],"TabRx",/\t/);a.const_set(x[0],"TabIndentRx",/^\t+/);a.const_set(x[0],"StartOfBlockProc",
z(l,"lambda",[],(t=function(a){var c=t.$$s||this,e,f;null==a&&(a=b);return d(e=d(f=a["$start_with?"]("["))?p(x,"BlockAttributeLineRx")["$match?"](a):f)?e:c["$is_delimited_block?"](a)},t.$$s=l,t.$$arity=1,t)));a.const_set(x[0],"StartOfListProc",z(l,"lambda",[],(E=function(a){null==a&&(a=b);return p(x,"AnyListRx")["$match?"](a)},E.$$s=l,E.$$arity=1,E)));a.const_set(x[0],"StartOfBlockOrListProc",z(l,"lambda",[],(B=function(a){var c=B.$$s||this,e,f,h;null==a&&(a=b);return d(e=d(f=c["$is_delimited_block?"](a))?
f:d(h=a["$start_with?"]("["))?p(x,"BlockAttributeLineRx")["$match?"](a):h)?e:p(x,"AnyListRx")["$match?"](a)},B.$$s=l,B.$$arity=1,B)));a.const_set(x[0],"NoOp",b);a.const_set(x[0],"TableCellHorzAlignments",f(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(x[0],"TableCellVertAlignments",f(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(x[0],"TableCellStyles",f("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));
a.def(l,"$initialize",A=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},A.$$arity=0);a.defs(l,"$parse",D=function(c,e,h){var g,k=g=b;null==h&&(h=f([],{}));g=this.$parse_document_header(c,e);if(!d(h["$[]"]("header_only")))for(;d(c["$has_more_lines?"]());)h=this.$next_section(c,e,g),g=a.to_ary(h),k=null==g[0]?b:g[0],g=null==g[1]?b:g[1],h,d(k)&&(e.$assign_numeral(k),e.$blocks()["$<<"](k));return e},D.$$arity=-3);a.defs(l,"$parse_document_header",
N=function(h,g){var k,q,p=b,l=b,m=b,v=b,t=b,n=q=b,C=b,p=q=m=C=q=m=b,p=this.$parse_block_metadata_lines(h,g),l=g.$attributes();if(d(d(k=m=this["$is_next_line_doctitle?"](h,p,l["$[]"]("leveloffset")))?p["$[]"]("title"):k))return g.$finalize_header(p,!1);v=b;d((t=l["$[]"]("doctitle"))["$nil_or_empty?"]())||(q=[v=t],z(g,"title=",a.to_a(q)),q[c(q.length,1)]);d(m)&&(d(g.$sourcemap())&&(n=h.$cursor()),q=this.$parse_section_title(h,g),k=a.to_ary(q),g["$id="](null==k[0]?b:k[0]),C=null==k[2]?b:k[2],m=null==
k[4]?b:k[4],q,d(v)||(q=[v=C],z(g,"title=",a.to_a(q)),q[c(q.length,1)]),d(n)&&(q=[n],z(g.$header(),"source_location=",a.to_a(q)),q[c(q.length,1)]),d(d(k=m)?k:g["$attribute_locked?"]("compat-mode"))||(q=["compat-mode",""],z(l,"[]=",a.to_a(q)),q[c(q.length,1)]),d(q=p["$[]"]("separator"))&&!d(g["$attribute_locked?"]("title-separator"))&&(q=["title-separator",q],z(l,"[]=",a.to_a(q)),q[c(q.length,1)]),q=["doctitle",C],z(l,"[]=",a.to_a(q)),q[c(q.length,1)],d(m=p["$[]"]("id"))?(q=[m],z(g,"id=",a.to_a(q)),
q[c(q.length,1)]):m=g.$id(),d(q=p["$[]"]("role"))&&(q=["docrole",q],z(l,"[]=",a.to_a(q)),q[c(q.length,1)]),d(p=p["$[]"]("reftext"))&&(q=["reftext",p],z(l,"[]=",a.to_a(q)),q[c(q.length,1)]),p=f([],{}),this.$parse_header_metadata(h,g),d(m)&&g.$register("refs",[m,g]));d(d(k=(t=l["$[]"]("doctitle"))["$nil_or_empty?"]())?k:t["$=="](C))||(q=[v=t],z(g,"title=",a.to_a(q)),q[c(q.length,1)]);d(v)&&(q=["doctitle",v],z(l,"[]=",a.to_a(q)),q[c(q.length,1)]);g.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(h,
g,p);return g.$finalize_header(p)},N.$$arity=2);a.defs(l,"$parse_manpage_header",Y=function(g,h,k){var q,l,m,v=b,t=b,n=b,C=b,r=b,u=b,F=u=b,y=b,E=b;d(p(x,"ManpageTitleVolnumRx")["$=~"]((v=h.$attributes())["$[]"]("doctitle")))?(t=["manvolnum",n=(q=w["~"])===b?b:q["$[]"](2)],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],t=["mantitle",(d((C=(q=w["~"])===b?b:q["$[]"](1))["$include?"](p(x,"ATTR_REF_HEAD")))?h.$sub_attributes(C):C).$downcase()]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",
f(["source_location"],{source_location:g.$cursor_at_line(1)}))),t=["mantitle",d(q=d(l=v["$[]"]("doctitle"))?l:v["$[]"]("docname"))?q:"command"],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],t=["manvolnum",n="1"]);z(v,"[]=",a.to_a(t));t[c(t.length,1)];d(d(q=r=v["$[]"]("manname"))?v["$[]"]("manpurpose"):q)?(d(q=v["$[]"]("manname-title"))?q:(t=["manname-title","Name"],z(v,"[]=",a.to_a(t)),t[c(t.length,1)]),t=["mannames",[r]],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],h.$backend()["$=="]("manpage")&&(t=["docname",
r],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],t=["outfilesuffix","."+n],z(v,"[]=",a.to_a(t)),t[c(t.length,1)])):(g.$skip_blank_lines(),g.$save(),k.$update(this.$parse_block_metadata_lines(g,h)),d(u=this["$is_next_line_section?"](g,f([],{})))?u["$=="](1)?(u=this.$initialize_section(g,h,f([],{})),F=z(g.$read_lines_until(f(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],"lstrip".$to_proc()).$join(" "),d(p(x,"ManpageNamePurposeRx")["$=~"](F))?(d(q=v["$[]"]("manname-title"))?
q:(t=["manname-title",u.$title()],z(v,"[]=",a.to_a(t)),t[c(t.length,1)]),d(u.$id())&&(t=["manname-id",u.$id()],z(v,"[]=",a.to_a(t)),t[c(t.length,1)]),t=["manpurpose",(q=w["~"])===b?b:q["$[]"](2)],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],d((r=(q=w["~"])===b?b:q["$[]"](1))["$include?"](p(x,"ATTR_REF_HEAD")))&&(r=h.$sub_attributes(r)),d(r["$include?"](","))?r=(y=z(r.$split(","),"map",[],(m=function(a){null==a&&(a=b);return a.$lstrip()},m.$$s=this,m.$$arity=1,m)))["$[]"](0):y=[r],t=["manname",r],z(v,"[]=",
a.to_a(t)),t[c(t.length,1)],t=["mannames",y],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],h.$backend()["$=="]("manpage")&&(t=["docname",r],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],t=["outfilesuffix","."+n],z(v,"[]=",a.to_a(t)),t[c(t.length,1)])):E="non-conforming name section body"):E="name section must be at level 1":E="name section expected",d(E)?(g.$restore_save(),this.$logger().$error(this.$message_with_context(E,f(["source_location"],{source_location:g.$cursor()}))),t=["manname",r=d(q=v["$[]"]("docname"))?
q:"command"],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],t=["mannames",[r]],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],h.$backend()["$=="]("manpage")&&(t=["docname",r],z(v,"[]=",a.to_a(t)),t[c(t.length,1)],t=["outfilesuffix","."+n],z(v,"[]=",a.to_a(t)),t[c(t.length,1)])):g.$discard_save());return b},Y.$$arity=3);a.defs(l,"$next_section",U=function(g,l,t){var n,C,r,u,w=b,F=b,y=b,E=b,B=b,J=b,K=b,A=b,D=b,ea=b,V=b,N=D=b,R=b,W=b,F=W=R=K=R=b;null==t&&(t=f([],{}));w=F=y=!1;d(d(n=(C=l.$context()["$=="]("document"))?
l.$blocks()["$empty?"]():l.$context()["$=="]("document"))?d(C=d(r=E=l["$has_header?"]())?r:t.$delete("invalid-header"))?C:this["$is_next_line_section?"](g,t)["$!"]():n)?(B=(J=l).$doctype()["$=="]("book"),d(d(n=E)?n:d(C=B)?t["$[]"](1)["$!="]("abstract"):C)&&(w=F=p(x,"Block").$new(l,"preamble",f(["content_model"],{content_model:"compound"})),d(d(n=B)?l["$attr?"]("preface-title"):n)&&(K=[l.$attr("preface-title")],z(w,"title=",a.to_a(K)),K[c(K.length,1)]),l.$blocks()["$<<"](w)),A=l,D=0,d(l.$attributes()["$key?"]("fragment"))?
ea=-1:d(B)?(n=[1,0],ea=n[0],V=n[1],n):ea=1):(B=(J=l.$document()).$doctype()["$=="]("book"),A=this.$initialize_section(g,l,t),t=d(D=t["$[]"]("title"))?f(["title"],{title:D}):f([],{}),ea=h(D=A.$level(),1),D["$=="](0)?y=B:d((n=D["$=="](1))?A.$special():D["$=="](1))&&!d(d(n=d(C=(N=A.$sectname())["$=="]("appendix"))?C:N["$=="]("preface"))?n:N["$=="]("abstract"))&&(ea=b));for(g.$skip_blank_lines();d(g["$has_more_lines?"]());){this.$parse_block_metadata_lines(g,J,t);if(d(R=this["$is_next_line_section?"](g,
t)))if(d(J["$attr?"]("leveloffset"))&&(R=h(R,J.$attr("leveloffset").$to_i())),d(q(R,D)))d(ea)?d(d(C=d(r=R["$=="](ea))?r:d(u=V)?R["$=="](V):u)?C:m(ea,0))||(W=d(V)?"expected levels "+V+" or "+ea:"expected level "+ea,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+W+", got level "+R,f(["source_location"],{source_location:g.$cursor()})))):this.$logger().$error(this.$message_with_context(""+N+" sections do not support nested sections",f(["source_location"],{source_location:g.$cursor()}))),
r=this.$next_section(g,A,t),C=a.to_ary(r),R=null==C[0]?b:C[0],t=null==C[1]?b:C[1],r,A.$assign_numeral(R),A.$blocks()["$<<"](R);else if(d((C=R["$=="](0))?A["$=="](J):R["$=="](0)))d(B)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",f(["source_location"],{source_location:g.$cursor()}))),r=this.$next_section(g,A,t),C=a.to_ary(r),R=null==C[0]?b:C[0],t=null==C[1]?b:C[1],r,A.$assign_numeral(R),A.$blocks()["$<<"](R);else break;else K=g.$cursor(),
d(R=this.$next_block(g,d(C=F)?C:A,t,f(["parse_metadata"],{parse_metadata:!1})))&&(d(y)&&(d(A["$blocks?"]()["$!"]())?d(R.$style()["$!="]("partintro"))&&(R.$context()["$=="]("paragraph")?(K=["open"],z(R,"context=",a.to_a(K)),K[c(K.length,1)],K=["partintro"],z(R,"style=",a.to_a(K)),K[c(K.length,1)]):(K=[F=p(x,"Block").$new(A,"open",f(["content_model"],{content_model:"compound"}))],z(R,"parent=",a.to_a(K)),K[c(K.length,1)],K=["partintro"],z(F,"style=",a.to_a(K)),K[c(K.length,1)],A.$blocks()["$<<"](F))):
A.$blocks().$size()["$=="](1)&&(W=A.$blocks()["$[]"](0),d(d(C=F["$!"]())?W.$content_model()["$=="]("compound"):C)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",f(["source_location"],{source_location:K}))):d(W.$content_model()["$!="]("compound"))&&(K=[F=p(x,"Block").$new(A,"open",f(["content_model"],{content_model:"compound"}))],z(R,"parent=",a.to_a(K)),K[c(K.length,1)],K=["partintro"],z(F,"style=",a.to_a(K)),K[c(K.length,1)],A.$blocks().$shift(),
W.$style()["$=="]("partintro")&&(K=["paragraph"],z(W,"context=",a.to_a(K)),K[c(K.length,1)],K=[b],z(W,"style=",a.to_a(K)),K[c(K.length,1)]),F["$<<"](W),A.$blocks()["$<<"](F)))),(d(C=F)?C:A).$blocks()["$<<"](R),t=f([],{}));if(d(C=g.$skip_blank_lines()))C;else break}if(d(y))d(d(n=A["$blocks?"]())?A.$blocks()["$[]"](-1).$context()["$=="]("section"):n)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",f(["source_location"],
{source_location:g.$cursor()})));else if(d(w))if(d(w["$blocks?"]())){if(!d(d(n=d(C=B)?C:J.$blocks()["$[]"](1))?n:p(x,"Compliance").$unwrap_standalone_preamble()["$!"]()))for(J.$blocks().$shift();d(F=w.$blocks().$shift());)J["$<<"](F)}else J.$blocks().$shift();return[d(A["$!="](l))?A:b,t.$dup()]},U.$$arity=-3);a.defs(l,"$next_block",H=function(h,k,l,t){try{var n,C,r,u,F,y,E,B=b,K=b,J=b,A=b,D=b,ea=b,R=b,V=b,N=b,W=b,X=b,Ja=b,S=b,aa=b,G=b,da=b,U=b,ba=b,Y=b,H=b,na=b,fa=b,ha=b,ca=b,Ea=b,qa=b,P=b,M=b,za=
b,Ka=b,ma=b,la=b,Aa=b,Ia=b,Z=b,Oa=b,Fa=b,Da=b,sa=b,Na=b,oa=b,Ba=b,pa=b,wa=b,Pa=b,xa=b,Q=b;null==w["~"]&&(w["~"]=b);null==l&&(l=f([],{}));null==t&&(t=f([],{}));if(!d(B=h.$skip_blank_lines()))return b;d(d(n=K=t["$[]"]("text"))?q(B,0):n)&&(t.$delete("text"),K=!1);J=k.$document();if(d(t.$fetch("parse_metadata",!0)))for(;d(this.$parse_block_metadata_line(h,J,l,t));)h.$shift(),d(C=h.$skip_blank_lines())?C:a.ret(b);d(A=J.$extensions())&&(n=[A["$blocks?"](),A["$block_macros?"]()],D=n[0],ea=n[1],n);h.$mark();
n=[h.$read_line(),J.$attributes(),l["$[]"](1)];R=n[0];V=n[1];N=n[2];n;W=X=Ja=S=b;d(aa=this["$is_delimited_block?"](R,!0))&&(X=Ja=aa.$context(),S=aa.$terminator(),d(N["$!"]())?N=(G=["style",X.$to_s()],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]):d(N["$!="](X.$to_s()))&&(d(aa.$masq()["$include?"](N))?X=N.$to_sym():d(d(n=aa.$masq()["$include?"]("admonition"))?p(x,"ADMONITION_STYLES")["$include?"](N):n)?X="admonition":d(d(n=D)?A["$registered_for_block?"](N,X):n)?X=N.$to_sym():(this.$logger().$warn(this.$message_with_context("invalid style for "+
X+" block: "+N,f(["source_location"],{source_location:h.$cursor_at_mark()}))),N=X.$to_s())));if(!d(aa))for(;d(!0);){if(d(d(C=d(r=N)?p(x,"Compliance").$strict_verbatim_paragraphs():r)?p(x,"VERBATIM_STYLES")["$include?"](N):C)){X=N.$to_sym();h.$unshift_line(R);break}if(d(K))da=R["$start_with?"](" ",p(x,"TAB"));else if(U=p(x,"Compliance").$markdown_syntax(),d(R["$start_with?"](" "))){if(C=[!0," "],da=C[0],ba=C[1],C,d(d(C=d(r=U)?z(R.$lstrip(),"start_with?",a.to_a(p(x,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):
r)?p(x,"MarkdownThematicBreakRx")["$match?"](R):C)){W=p(x,"Block").$new(k,"thematic_break",f(["content_model"],{content_model:"empty"}));break}}else if(d(R["$start_with?"](p(x,"TAB"))))C=[!0,p(x,"TAB")],da=C[0],ba=C[1],C;else if(C=[!1,R.$chr()],da=C[0],ba=C[1],C,Y=d(U)?p(x,"HYBRID_LAYOUT_BREAK_CHARS"):p(x,"LAYOUT_BREAK_CHARS"),d(d(C=Y["$key?"](ba))?d(U)?p(x,"ExtLayoutBreakRx")["$match?"](R):(r=R["$=="](g(ba,H=R.$length())))?q(H,2):R["$=="](g(ba,H=R.$length())):C)){W=p(x,"Block").$new(k,Y["$[]"](ba),
f(["content_model"],{content_model:"empty"}));break}else if(d(d(C=R["$end_with?"]("]"))?R["$include?"]("::"):C))if(d(d(C=d(r=ba["$=="]("i"))?r:R["$start_with?"]("video:","audio:"))?p(x,"BlockMediaMacroRx")["$=~"](R):C)){C=[((r=w["~"])===b?b:r["$[]"](1)).$to_sym(),(r=w["~"])===b?b:r["$[]"](2),(r=w["~"])===b?b:r["$[]"](3)];na=C[0];fa=C[1];ha=C[2];C;W=p(x,"Block").$new(k,na,f(["content_model"],{content_model:"empty"}));d(ha)&&(ca=na,Ea="video"["$==="](ca)?["poster","width","height"]:"audio"["$==="](ca)?
[]:["alt","width","height"],W.$parse_attributes(ha,Ea,f(["sub_input","into"],{sub_input:!0,into:l})));d(l["$key?"]("style"))&&l.$delete("style");if(d(d(C=fa["$include?"](p(x,"ATTR_REF_HEAD")))?(fa=W.$sub_attributes(fa,f(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():C)){if((d(C=V["$[]"]("attribute-missing"))?C:p(x,"Compliance").$attribute_missing())["$=="]("skip"))return p(x,"Block").$new(k,"paragraph",f(["content_model","source"],{content_model:"simple",source:[R]}));l.$clear();
return b}na["$=="]("image")&&(J.$register("images",[fa,(G=["imagesdir",V["$[]"]("imagesdir")],z(l,"[]=",a.to_a(G)),G[c(G.length,1)])]),d(C=l["$[]"]("alt"))?C:(G=["alt",d(r=N)?r:(G=["default-alt",p(x,"Helpers").$basename(fa,!0).$tr("_-"," ")],z(l,"[]=",a.to_a(G)),G[c(G.length,1)])],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),d((qa=l.$delete("scaledwidth"))["$nil_or_empty?"]())||(G=["scaledwidth",d(p(x,"TrailingDigitsRx")["$match?"](qa))?""+qa+"%":qa],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),d(l["$key?"]("title"))&&
(G=[l.$delete("title")],z(W,"title=",a.to_a(G)),G[c(G.length,1)],W.$assign_caption(l.$delete("caption"),"figure")));G=["target",fa];z(l,"[]=",a.to_a(G));G[c(G.length,1)];break}else if(d(d(C=(r=ba["$=="]("t"))?R["$start_with?"]("toc:"):ba["$=="]("t"))?p(x,"BlockTocMacroRx")["$=~"](R):C)){W=p(x,"Block").$new(k,"toc",f(["content_model"],{content_model:"empty"}));d((C=w["~"])===b?b:C["$[]"](1))&&W.$parse_attributes((C=w["~"])===b?b:C["$[]"](1),[],f(["into"],{into:l}));break}else if(d(d(C=d(r=ea)?p(x,
"CustomBlockMacroRx")["$=~"](R):r)?P=A["$registered_for_block_macro?"]((r=w["~"])===b?b:r["$[]"](1)):C)){C=[(r=w["~"])===b?b:r["$[]"](2),(r=w["~"])===b?b:r["$[]"](3)];fa=C[0];M=C[1];C;if(d(d(C=d(r=fa["$include?"](p(x,"ATTR_REF_HEAD")))?(fa=k.$sub_attributes(fa))["$empty?"]():r)?(d(r=V["$[]"]("attribute-missing"))?r:p(x,"Compliance").$attribute_missing())["$=="]("drop-line"):C))return l.$clear(),b;P.$config()["$[]"]("content_model")["$=="]("attributes")?d(M)&&J.$parse_attributes(M,d(C=P.$config()["$[]"]("pos_attrs"))?
C:[],f(["sub_input","into"],{sub_input:!0,into:l})):(G=["text",d(C=M)?C:""],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]);d(za=P.$config()["$[]"]("default_attrs"))&&z(l,"update",[za],(u=function(a,c){null==c&&(c=b);return c},u.$$s=this,u.$$arity=2,u));if(d(W=P.$process_method()["$[]"](k,fa,l))){l.$replace(W.$attributes());break}else return l.$clear(),b}if(d(d(C=d(r=da["$!"]())?(ba=d(F=ba)?F:R.$chr())["$=="]("<"):r)?p(x,"CalloutListRx")["$=~"](R):C)){h.$unshift_line(R);W=this.$parse_callout_list(h,w["~"],
k,J.$callouts());G=["style","arabic"];z(l,"[]=",a.to_a(G));G[c(G.length,1)];break}else if(d(p(x,"UnorderedListRx")["$match?"](R))){h.$unshift_line(R);d(d(C=d(r=N["$!"]())?p(x,"Section")["$==="](k):r)?k.$sectname()["$=="]("bibliography"):C)&&(G=["style",N="bibliography"],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]);W=this.$parse_list(h,"ulist",k,N);break}else if(d(Ka=p(x,"OrderedListRx").$match(R))){h.$unshift_line(R);W=this.$parse_list(h,"olist",k,N);d(W.$style())&&(G=["style",W.$style()],z(l,"[]=",a.to_a(G)),
G[c(G.length,1)]);break}else if(d(Ka=p(x,"DescriptionListRx").$match(R))){h.$unshift_line(R);W=this.$parse_description_list(h,Ka,k);break}else if(d(d(C=d(r=N["$=="]("float"))?r:N["$=="]("discrete"))?d(p(x,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](R,h.$peek_line()):d(r=da["$!"]())?this["$atx_section_title?"](R):r:C)){h.$unshift_line(R);r=this.$parse_section_title(h,J,l["$[]"]("id"));C=a.to_ary(r);ma=null==C[0]?b:C[0];la=null==C[1]?b:C[1];Aa=null==C[2]?b:C[2];Ia=null==
C[3]?b:C[3];r;d(la)&&(G=["reftext",la],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]);W=p(x,"Block").$new(k,"floating_title",f(["content_model"],{content_model:"empty"}));G=[Aa];z(W,"title=",a.to_a(G));G[c(G.length,1)];l.$delete("title");G=[d(C=ma)?C:d(V["$key?"]("sectids"))?p(x,"Section").$generate_id(W.$title(),J):b];z(W,"id=",a.to_a(G));G[c(G.length,1)];G=[Ia];z(W,"level=",a.to_a(G));G[c(G.length,1)];break}else if(d(d(C=N)?N["$!="]("normal"):C))if(d(p(x,"PARAGRAPH_STYLES")["$include?"](N))){X=N.$to_sym();
Ja="paragraph";h.$unshift_line(R);break}else if(d(p(x,"ADMONITION_STYLES")["$include?"](N))){X="admonition";Ja="paragraph";h.$unshift_line(R);break}else if(d(d(C=D)?A["$registered_for_block?"](N,"paragraph"):C)){X=N.$to_sym();Ja="paragraph";h.$unshift_line(R);break}else this.$logger().$warn(this.$message_with_context("invalid style for paragraph: "+N,f(["source_location"],{source_location:h.$cursor_at_mark()}))),N=b;h.$unshift_line(R);if(d(d(C=da)?N["$!"]():C))Z=this.$read_paragraph_lines(h,d(C=Oa=
p(x,"ListItem")["$==="](k))?B["$=="](0):C,f(["skip_line_comments"],{skip_line_comments:K})),this["$adjust_indentation!"](Z),W=p(x,"Block").$new(k,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",source:Z,attributes:l})),d(Oa)&&W.$set_option("listparagraph");else{Z=this.$read_paragraph_lines(h,(C=B["$=="](0))?p(x,"ListItem")["$==="](k):B["$=="](0),f(["skip_line_comments"],{skip_line_comments:!0}));if(d(K)){if(d(d(C=da)?N["$=="]("normal"):C))this["$adjust_indentation!"](Z);
W=p(x,"Block").$new(k,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:Z,attributes:l}))}else if(d(d(C=d(r=p(x,"ADMONITION_STYLE_HEADS")["$include?"](ba))?R["$include?"](":"):r)?p(x,"AdmonitionParagraphRx")["$=~"](R):C))G=[0,(C=w["~"])===b?b:C.$post_match()],z(Z,"[]=",a.to_a(G)),G[c(G.length,1)],G=["name",Fa=(G=["style",(C=w["~"])===b?b:C["$[]"](1)],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]).$downcase()],z(l,"[]=",a.to_a(G)),G[c(G.length,1)],G=["textlabel",d(C=l.$delete("caption"))?
C:V["$[]"](""+Fa+"-caption")],z(l,"[]=",a.to_a(G)),G[c(G.length,1)],W=p(x,"Block").$new(k,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:Z,attributes:l}));else if(d(d(C=d(r=U)?ba["$=="](">"):r)?R["$start_with?"]("> "):C)){z(Z,"map!",[],(y=function(a){null==a&&(a=b);return a["$=="](">")?a.$slice(1,a.$length()):d(a["$start_with?"]("> "))?a.$slice(2,a.$length()):a},y.$$s=this,y.$$arity=1,y));if(d(Z["$[]"](-1)["$start_with?"]("-- ")))for(Da=(Da=Z.$pop()).$slice(3,
Da.$length());d(Z["$[]"](-1)["$empty?"]());)Z.$pop();G=["style","quote"];z(l,"[]=",a.to_a(G));G[c(G.length,1)];W=this.$build_block("quote","compound",!1,k,p(x,"Reader").$new(Z),l);d(Da)&&(r=W.$apply_subs(Da).$split(", ",2),C=a.to_ary(r),sa=null==C[0]?b:C[0],Na=null==C[1]?b:C[1],r,d(sa)&&(G=["attribution",sa],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),d(Na)&&(G=["citetitle",Na],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]))}else if(d(d(C=d(r=(F=ba["$=="]('"'))?q(Z.$size(),1):ba["$=="]('"'))?Z["$[]"](-1)["$start_with?"]("-- "):
r)?Z["$[]"](-2)["$end_with?"]('"'):C)){G=[0,R.$slice(1,R.$length())];z(Z,"[]=",a.to_a(G));G[c(G.length,1)];for(Da=(Da=Z.$pop()).$slice(3,Da.$length());d(Z["$[]"](-1)["$empty?"]());)Z.$pop();Z["$<<"](Z.$pop().$chop());G=["style","quote"];z(l,"[]=",a.to_a(G));G[c(G.length,1)];W=p(x,"Block").$new(k,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:Z,attributes:l}));r=W.$apply_subs(Da).$split(", ",2);C=a.to_ary(r);sa=null==C[0]?b:C[0];Na=null==C[1]?b:C[1];r;d(sa)&&(G=["attribution",
sa],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]);d(Na)&&(G=["citetitle",Na],z(l,"[]=",a.to_a(G)),G[c(G.length,1)])}else{if(d(d(C=da)?N["$=="]("normal"):C))this["$adjust_indentation!"](Z);W=p(x,"Block").$new(k,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:Z,attributes:l}))}this.$catalog_inline_anchors(Z.$join(p(x,"LF")),W,J,h)}break}if(!d(W))if(d(d(n=X["$=="]("abstract"))?n:X["$=="]("partintro"))&&(X="open"),ca=X,"admonition"["$==="](ca))G=["name",Fa=N.$downcase()],
z(l,"[]=",a.to_a(G)),G[c(G.length,1)],G=["textlabel",d(n=l.$delete("caption"))?n:V["$[]"](""+Fa+"-caption")],z(l,"[]=",a.to_a(G)),G[c(G.length,1)],W=this.$build_block(X,"compound",S,k,h,l);else{if("comment"["$==="](ca))return this.$build_block(X,"skip",S,k,h,l),l.$clear(),b;if("example"["$==="](ca))W=this.$build_block(X,"compound",S,k,h,l);else if("listing"["$==="](ca)||"literal"["$==="](ca))W=this.$build_block(X,"verbatim",S,k,h,l);else if("source"["$==="](ca))p(x,"AttributeList").$rekey(l,[b,"language",
"linenums"]),!d(l["$key?"]("language"))&&d(V["$key?"]("source-language"))&&(G=["language",d(n=V["$[]"]("source-language"))?n:"text"],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),!d(l["$key?"]("linenums"))&&d(d(n=l["$key?"]("linenums-option"))?n:V["$key?"]("source-linenums-option"))&&(G=["linenums",""],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),!d(l["$key?"]("indent"))&&d(V["$key?"]("source-indent"))&&(G=["indent",V["$[]"]("source-indent")],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),W=this.$build_block("listing",
"verbatim",S,k,h,l);else if("fenced_code"["$==="](ca))G=["style","source"],z(l,"[]=",a.to_a(G)),G[c(G.length,1)],(H=R.$length())["$=="](3)?oa=b:d(Ba=(oa=R.$slice(3,H)).$index(","))?d(q(Ba,0))?(oa=oa.$slice(0,Ba).$strip(),d(m(Ba,c(H,4)))&&(G=["linenums",""],z(l,"[]=",a.to_a(G)),G[c(G.length,1)])):(oa=b,d(q(H,4))&&(G=["linenums",""],z(l,"[]=",a.to_a(G)),G[c(G.length,1)])):oa=oa.$lstrip(),d(oa["$nil_or_empty?"]())?d(V["$key?"]("source-language"))&&(G=["language",d(n=V["$[]"]("source-language"))?n:"text"],
z(l,"[]=",a.to_a(G)),G[c(G.length,1)]):(G=["language",oa],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),!d(l["$key?"]("linenums"))&&d(d(n=l["$key?"]("linenums-option"))?n:V["$key?"]("source-linenums-option"))&&(G=["linenums",""],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),!d(l["$key?"]("indent"))&&d(V["$key?"]("source-indent"))&&(G=["indent",V["$[]"]("source-indent")],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),S=S.$slice(0,3),W=this.$build_block("listing","verbatim",S,k,h,l);else if("pass"["$==="](ca))W=this.$build_block(X,
"raw",S,k,h,l);else if("stem"["$==="](ca)||"latexmath"["$==="](ca)||"asciimath"["$==="](ca))X["$=="]("stem")&&(G=["style",p(x,"STEM_TYPE_ALIASES")["$[]"](d(n=l["$[]"](2))?n:V["$[]"]("stem"))],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),W=this.$build_block("stem","raw",S,k,h,l);else if("open"["$==="](ca)||"sidebar"["$==="](ca))W=this.$build_block(X,"compound",S,k,h,l);else if("table"["$==="](ca))pa=h.$cursor(),wa=p(x,"Reader").$new(h.$read_lines_until(f(["terminator","skip_line_comments","context","cursor"],
{terminator:S,skip_line_comments:!0,context:"table",cursor:"at_mark"})),pa),d(S["$start_with?"]("|","!"))||(d(n=l["$[]"]("format"))?n:(G=["format",d(S["$start_with?"](","))?"csv":"dsv"],z(l,"[]=",a.to_a(G)),G[c(G.length,1)])),W=this.$parse_table(wa,k,l);else if("quote"["$==="](ca)||"verse"["$==="](ca))p(x,"AttributeList").$rekey(l,[b,"attribution","citetitle"]),W=this.$build_block(X,X["$=="]("verse")?"verbatim":"compound",S,k,h,l);else if(d(d(n=D)?P=A["$registered_for_block?"](X,Ja):n)){if(d((Pa=
P.$config()["$[]"]("content_model"))["$!="]("skip"))&&(d((xa=d(n=P.$config()["$[]"]("pos_attrs"))?n:[])["$empty?"]()["$!"]())&&p(x,"AttributeList").$rekey(l,[b].$concat(xa)),d(za=P.$config()["$[]"]("default_attrs"))&&z(za,"each",[],(E=function(f,h){var g;null==f&&(f=b);null==h&&(h=b);return d(g=l["$[]"](f))?g:(G=[f,h],z(l,"[]=",a.to_a(G)),G[c(G.length,1)])},E.$$s=this,E.$$arity=2,E)),G=["cloaked-context",Ja],z(l,"[]=",a.to_a(G)),G[c(G.length,1)]),W=this.$build_block(X,Pa,S,k,h,l,f(["extension"],{extension:P})),
!d(W))return l.$clear(),b}else this.$raise("Unsupported block type "+X+" at "+h.$cursor())}d(J.$sourcemap())&&(G=[h.$cursor_at_mark()],z(W,"source_location=",a.to_a(G)),G[c(G.length,1)]);d(l["$key?"]("title"))&&(G=[l.$delete("title")],z(W,"title=",a.to_a(G)),G[c(G.length,1)]);G=[l["$[]"]("style")];z(W,"style=",a.to_a(G));G[c(G.length,1)];d(Q=d(n=W.$id())?n:(G=[l["$[]"]("id")],z(W,"id=",a.to_a(G)),G[c(G.length,1)]))&&!d(J.$register("refs",[Q,W,d(n=l["$[]"]("reftext"))?n:d(W["$title?"]())?W.$title():
b]))&&this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+Q,f(["source_location"],{source_location:h.$cursor_at_mark()})));d(l["$empty?"]())||W.$attributes().$update(l);W.$lock_in_subs();d(W["$sub?"]("callouts"))&&!d(this.$catalog_callouts(W.$source(),J))&&W.$remove_sub("callouts");return W}catch(ja){if(ja===a.returner)return ja.$v;throw ja;}},H.$$arity=-3);a.defs(l,"$read_paragraph_lines",V=function(h,g,k){var q=b,q=b;null==k&&(k=f([],{}));q=["break_on_blank_lines",
!0];z(k,"[]=",a.to_a(q));q[c(q.length,1)];q=["break_on_list_continuation",!0];z(k,"[]=",a.to_a(q));q[c(q.length,1)];q=["preserve_last_line",!0];z(k,"[]=",a.to_a(q));q[c(q.length,1)];q=d(g)?d(p(x,"Compliance").$block_terminates_paragraph())?p(x,"StartOfBlockOrListProc"):p(x,"StartOfListProc"):d(p(x,"Compliance").$block_terminates_paragraph())?p(x,"StartOfBlockProc"):p(x,"NoOp");return z(h,"read_lines_until",[k],q.$to_proc())},V.$$arity=-3);a.defs(l,"$is_delimited_block?",K=function(f,h){var k,l,t=
l=b,C=b,n=b,r=b,n=C=b;null==h&&(h=!1);if(!d(d(k=q(l=f.$length(),1))?p(x,"DELIMITED_BLOCK_HEADS")["$include?"](f.$slice(0,2)):k))return b;if(l["$=="](2))t=f,C=2;else{d("number"===typeof l?4>=l:l["$<="](4))?(t=f,C=l):(t=f.$slice(0,4),C=4);n=!1;if(d(p(x,"Compliance").$markdown_syntax())&&(r=C["$=="](4)?t.$chop():t,r["$=="]("```"))){if(d(C["$=="](4)?t["$end_with?"]("`"):C["$=="](4)))return b;t=r;C=3;n=!0}if(d((k=C["$=="](3))?n["$!"]():C["$=="](3)))return b}if(d(p(x,"DELIMITED_BLOCKS")["$key?"](t))){if(d(d(k=
m(C,4))?k:C["$=="](l)))return d(h)?(l=p(x,"DELIMITED_BLOCKS")["$[]"](t),k=a.to_ary(l),C=null==k[0]?b:k[0],n=null==k[1]?b:k[1],l,p(x,"BlockMatchData").$new(C,n,t,t)):!0;if((""+t+g(t.$slice(-1,1),c(l,C)))["$=="](f))return d(h)?(l=p(x,"DELIMITED_BLOCKS")["$[]"](t),k=a.to_ary(l),C=null==k[0]?b:k[0],n=null==k[1]?b:k[1],l,p(x,"BlockMatchData").$new(C,n,t,f)):!0}return b},K.$$arity=-2);a.defs(l,"$build_block",J=function(h,g,k,l,t,C,m){var n,v,r=b,u=b,w=r=u=b;n=w=w=w=w=b;null==m&&(m=f([],{}));n=g["$=="]("skip")?
[!0,"simple"]:g["$=="]("raw")?[!1,"simple"]:[!1,g];r=n[0];u=n[1];n;d(k["$nil?"]())?(u["$=="]("verbatim")?u=t.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(g["$=="]("compound")&&(g="simple"),u=this.$read_paragraph_lines(t,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:r}))),r=b):d(u["$!="]("compound"))?(u=t.$read_lines_until(f(["terminator","skip_processing","context","cursor"],
{terminator:k,skip_processing:r,context:h,cursor:"at_mark"})),r=b):k["$=="](!1)?(u=b,r=t):(u=b,w=t.$cursor(),r=p(x,"Reader").$new(t.$read_lines_until(f(["terminator","skip_processing","context","cursor"],{terminator:k,skip_processing:r,context:h,cursor:"at_mark"})),w));if(g["$=="]("verbatim"))if(d(w=C["$[]"]("indent")))this["$adjust_indentation!"](u,w,d(n=C["$[]"]("tabsize"))?n:l.$document().$attributes()["$[]"]("tabsize"));else{if(d(q(w=(d(n=C["$[]"]("tabsize"))?n:l.$document().$attributes()["$[]"]("tabsize")).$to_i(),
0)))this["$adjust_indentation!"](u,b,w)}else if(g["$=="]("skip"))return b;if(d(w=m["$[]"]("extension")))if(C.$delete("style"),d(w=w.$process_method()["$[]"](l,d(n=r)?n:p(x,"Reader").$new(u),C.$dup())))C.$replace(w.$attributes()),d((n=w.$content_model()["$=="]("compound"))?(u=w.$lines())["$nil_or_empty?"]()["$!"]():w.$content_model()["$=="]("compound"))&&(g="compound",r=p(x,"Reader").$new(u));else return b;else w=p(x,"Block").$new(l,h,f(["content_model","source","attributes"],{content_model:g,source:u,
attributes:C}));d(d(n=d(v=C["$key?"]("title"))?w.$context()["$!="]("admonition"):v)?l.$document().$attributes()["$key?"](""+w.$context()+"-caption"):n)&&(n=[C.$delete("title")],z(w,"title=",a.to_a(n)),n[c(n.length,1)],w.$assign_caption(C.$delete("caption")));g["$=="]("compound")&&this.$parse_blocks(r,w);return w},J.$$arity=-7);a.defs(l,"$parse_blocks",M=function(a,c){for(var e,f,h=b;d(d(e=d(f=h=this.$next_block(a,c))?c.$blocks()["$<<"](h):f)?e:a["$has_more_lines?"]()););},M.$$arity=2);a.defs(l,"$parse_list",
G=function(a,c,e,f){var h,g,k=b,q=b,l=b;null==w["~"]&&(w["~"]=b);for(k=p(x,"List").$new(e,c);d(d(h=a["$has_more_lines?"]())?(q=d(g=q)?g:p(x,"ListRxMap")["$[]"](c))["$=~"](a.$peek_line()):h);){if(d(l=this.$parse_list_item(a,k,w["~"],(h=w["~"])===b?b:h["$[]"](1),f)))k.$items()["$<<"](l);if(d(h=a.$skip_blank_lines()))h;else break}return k},G.$$arity=4);a.defs(l,"$catalog_callouts",qa=function(a,c){var e,f=b,g=b,f=!1,g=0;d(a["$include?"]("<"))&&z(a,"scan",[p(x,"CalloutScanRx")],(e=function(){var a,e,
q=b,p=b;a=[(e=w["~"])===b?b:e["$[]"](0),(e=w["~"])===b?b:e["$[]"](2)];q=a[0];p=a[1];a;d(q["$start_with?"]("\\"))||c.$callouts().$register(p["$=="](".")?(g=h(g,1)).$to_s():p);return f=!0},e.$$s=this,e.$$arity=0,e));return f},qa.$$arity=2);a.defs(l,"$catalog_inline_anchor",la=function(a,c,e,h,g){var k;null==g&&(g=b);g=d(k=g)?k:e.$document();d(d(k=c)?c["$include?"](p(x,"ATTR_REF_HEAD")):k)&&(c=g.$sub_attributes(c));d(g.$register("refs",[a,p(x,"Inline").$new(e,"anchor",c,f(["type","id"],{type:"ref",id:a})),
c]))||(d(p(x,"Reader")["$==="](h))&&(h=h.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+a,f(["source_location"],{source_location:h}))));return b},la.$$arity=-5);a.defs(l,"$catalog_inline_anchors",Z=function(a,c,e,g){var l,t;d(d(l=a["$include?"]("[["))?l:a["$include?"]("or:"))&&z(a,"scan",[p(x,"InlineAnchorScanRx")],(t=function(){var a=t.$$s||this,l,C=b,n=b,m=b,v=b,r=b;null==w["~"]&&(w["~"]=b);C=w["~"];if(d(n=(l=w["~"])===b?b:l["$[]"](1))){if(d(m=
(l=w["~"])===b?b:l["$[]"](2))&&d(d(l=m["$include?"](p(x,"ATTR_REF_HEAD")))?(m=e.$sub_attributes(m))["$empty?"]():l))return b}else if(n=(l=w["~"])===b?b:l["$[]"](3),d(m=(l=w["~"])===b?b:l["$[]"](4))&&(d(m["$include?"]("]"))&&(m=m.$gsub("\\]","]")),d(d(l=m["$include?"](p(x,"ATTR_REF_HEAD")))?(m=e.$sub_attributes(m))["$empty?"]():l)))return b;if(d(e.$register("refs",[n,p(x,"Inline").$new(c,"anchor",m,f(["type","id"],{type:"ref",id:n})),m])))return b;v=g.$cursor_at_mark();d(q(r=h(C.$pre_match().$count(p(x,
"LF")),d(C["$[]"](0)["$start_with?"](p(x,"LF")))?1:0),0))&&(v=v.$dup()).$advance(r);return a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+n,f(["source_location"],{source_location:v})))},t.$$s=this,t.$$arity=0,t));return b},Z.$$arity=4);a.defs(l,"$catalog_inline_biblio_anchor",aa=function(a,c,e,h){var g=b;d(e.$document().$register("refs",[a,p(x,"Inline").$new(e,"anchor",g="["+(d(c)?c:a)+"]",f(["type","id"],{type:"bibref",id:a})),g]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+
a,f(["source_location"],{source_location:h.$cursor()})));return b},aa.$$arity=4);a.defs(l,"$parse_description_list",ba=function(f,h,g){for(var k,q,l=b,t=b,C=b,m=b,n=b,m=b,l=p(x,"List").$new(g,"dlist"),t=b,C=p(x,"DescriptionListSiblingRx")["$[]"](h["$[]"](2));d(d(k=h)?k:d(q=f["$has_more_lines?"]())?h=C.$match(f.$peek_line()):q);){q=this.$parse_list_item(f,l,h,C);k=a.to_ary(q);m=null==k[0]?b:k[0];n=null==k[1]?b:k[1];q;if(d(d(k=t)?t["$[]"](1)["$!"]():k))t["$[]"](0)["$<<"](m),m=[1,n],z(t,"[]=",a.to_a(m)),
m[c(m.length,1)];else l.$items()["$<<"](t=[[m],n]);h=b}return l},ba.$$arity=3);a.defs(l,"$parse_callout_list",ma=function(g,q,l,t){for(var C,m,n=b,v=b,r=b,u=b,w=u=b,w=b,n=p(x,"List").$new(l,"colist"),v=1,r=0;d(d(C=q)?C:d(m=q=p(x,"CalloutListRx").$match(g.$peek_line()))?g.$mark():m);)(u=q["$[]"](1))["$=="](".")&&(u=(r=h(r,1)).$to_s()),u["$=="](v.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+v+", got "+u,f(["source_location"],{source_location:g.$cursor_at_mark()}))),
d(u=this.$parse_list_item(g,n,q,"<1>"))&&(n.$items()["$<<"](u),d((w=t.$callout_ids(n.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+n.$items().$size()+">",f(["source_location"],{source_location:g.$cursor_at_mark()}))):(w=["coids",w],z(u.$attributes(),"[]=",a.to_a(w)),w[c(w.length,1)])),v=h(v,1),q=b;t.$next_list();return n},ma.$$arity=4);a.defs(l,"$parse_list_item",sa=function(h,g,k,q,l){var t,C,m=b,n=b,v=b,r=b,u=b,F=b,y=r=b,E=b,B=b,J=b,B=
u=y=u=y=m=y=b;null==l&&(l=b);(m=g.$context())["$=="]("dlist")?(n=!0,v=p(x,"ListItem").$new(g,r=k["$[]"](1)),d(d(t=r["$start_with?"]("[["))?p(x,"LeadingInlineAnchorRx")["$=~"](r):t)&&this.$catalog_inline_anchor((t=w["~"])===b?b:t["$[]"](1),d(t=(C=w["~"])===b?b:C["$[]"](2))?t:((C=w["~"])===b?b:C.$post_match()).$lstrip(),v,h),d(u=k["$[]"](3))&&(F=!0),r=p(x,"ListItem").$new(g,u),d(g.$document().$sourcemap())&&(y=[h.$cursor()],z(v,"source_location=",a.to_a(y)),y[c(y.length,1)],d(F)?(y=[v.$source_location()],
z(r,"source_location=",a.to_a(y)),y[c(y.length,1)]):E=!0)):(F=!0,r=p(x,"ListItem").$new(g,u=k["$[]"](2)),d(g.$document().$sourcemap())&&(y=[h.$cursor()],z(r,"source_location=",a.to_a(y)),y[c(y.length,1)]),m["$=="]("ulist")?(y=[q],z(r,"marker=",a.to_a(y)),y[c(y.length,1)],d(u["$start_with?"]("["))&&(d(d(t=l)?l["$=="]("bibliography"):t)?d(p(x,"InlineBiblioAnchorRx")["$=~"](u))&&this.$catalog_inline_biblio_anchor((t=w["~"])===b?b:t["$[]"](1),(t=w["~"])===b?b:t["$[]"](2),r,h):d(u["$start_with?"]("[["))?
d(p(x,"LeadingInlineAnchorRx")["$=~"](u))&&this.$catalog_inline_anchor((t=w["~"])===b?b:t["$[]"](1),(t=w["~"])===b?b:t["$[]"](2),r,h):d(u["$start_with?"]("[ ] ","[x] ","[*] "))&&(y=["checklist-option",""],z(g.$attributes(),"[]=",a.to_a(y)),y[c(y.length,1)],y=["checkbox",""],z(r.$attributes(),"[]=",a.to_a(y)),y[c(y.length,1)],d(u["$start_with?"]("[ "))||(y=["checked",""],z(r.$attributes(),"[]=",a.to_a(y)),y[c(y.length,1)]),y=[u.$slice(4,u.$length())],z(r,"text=",a.to_a(y)),y[c(y.length,1)]))):m["$=="]("olist")?
(C=this.$resolve_ordered_list_marker(q,B=g.$items().$size(),!0,h),t=a.to_ary(C),q=null==t[0]?b:t[0],J=null==t[1]?b:t[1],C,y=[q],z(r,"marker=",a.to_a(y)),y[c(y.length,1)],d((t=B["$=="](0))?l["$!"]():B["$=="](0))&&(y=[d(t=J)?t:(d(C=p(x,"ORDERED_LIST_STYLES")["$[]"](c(q.$length(),1)))?C:"arabic").$to_s()],z(g,"style=",a.to_a(y)),y[c(y.length,1)]),d(d(t=u["$start_with?"]("[["))?p(x,"LeadingInlineAnchorRx")["$=~"](u):t)&&this.$catalog_inline_anchor((t=w["~"])===b?b:t["$[]"](1),(t=w["~"])===b?b:t["$[]"](2),
r,h)):(y=[q],z(r,"marker=",a.to_a(y)),y[c(y.length,1)]));h.$shift();y=h.$cursor();m=p(x,"Reader").$new(this.$read_lines_for_list_item(h,m,q,F),y);if(d(m["$has_more_lines?"]())){d(E)&&(y=[y],z(r,"source_location=",a.to_a(y)),y[c(y.length,1)]);y=m.$skip_line_comments();d(u=m.$peek_line())?(d(y["$empty?"]())||m.$unshift_lines(y),d(y=u["$empty?"]())?u=!1:(u=!0,d(n)||(F=b))):u=y=!1;if(d(B=this.$next_block(m,r,f([],{}),f(["text"],{text:F["$!"]()}))))r.$blocks()["$<<"](B);for(;d(m["$has_more_lines?"]());)if(d(B=
this.$next_block(m,r)))r.$blocks()["$<<"](B);r.$fold_first(y,u)}return d(n)?d(d(t=r["$text?"]())?t:r["$blocks?"]())?[v,r]:[v]:r},sa.$$arity=-5);a.defs(l,"$read_lines_for_list_item",da=function(h,g,k,q){var l,t,C,m,n,v,r,u,y=b,F=b,E=b,B=b,J=b,K=b,K=C=C=b;null==k&&(k=b);null==q&&(q=!0);y=[];F="inactive";E=!1;for(B=b;d(h["$has_more_lines?"]());){J=h.$read_line();if(d(this["$is_sibling_list_item?"](J,g,k)))break;K=d(y["$empty?"]())?b:y["$[]"](-1);if(K["$=="](p(x,"LIST_CONTINUATION"))&&(F["$=="]("inactive")&&
(F="active",q=!0,d(E)||(C=[-1,""],z(y,"[]=",a.to_a(C)),C[c(C.length,1)])),J["$=="](p(x,"LIST_CONTINUATION")))){d(F["$!="]("frozen"))&&(F="frozen",y["$<<"](J));J=b;continue}if(d(C=this["$is_delimited_block?"](J,!0)))if(F["$=="]("active"))y["$<<"](J),y.$concat(h.$read_lines_until(f(["terminator","read_last_line","context"],{terminator:C.$terminator(),read_last_line:!0,context:b}))),F="inactive";else break;else if(d(d(t=(C=g["$=="]("dlist"))?F["$!="]("active"):g["$=="]("dlist"))?p(x,"BlockAttributeLineRx")["$match?"](J):
t))break;else if(d((t=F["$=="]("active"))?J["$empty?"]()["$!"]():F["$=="]("active")))if(d(p(x,"LiteralParagraphRx")["$match?"](J)))h.$unshift_line(J),y.$concat(z(h,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(m=function(a){var c=m.$$s||this;null==a&&(a=b);return g["$=="]("dlist")?c["$is_sibling_list_item?"](a,g,k):g["$=="]("dlist")},m.$$s=this,m.$$arity=1,m))),F="inactive";
else if(d(d(t=d(C=p(x,"BlockTitleRx")["$match?"](J))?C:p(x,"BlockAttributeLineRx")["$match?"](J))?t:p(x,"AttributeEntryRx")["$match?"](J)))y["$<<"](J);else d(K=z(d(E)?["dlist"]:p(x,"NESTABLE_LIST_CONTEXTS"),"find",[],(n=function(a){null==a&&(a=b);return p(x,"ListRxMap")["$[]"](a)["$match?"](J)},n.$$s=this,n.$$arity=1,n)))&&(E=!0,d((t=K["$=="]("dlist"))?((C=w["~"])===b?b:C["$[]"](3))["$nil_or_empty?"]():K["$=="]("dlist"))&&(q=!1)),y["$<<"](J),F="inactive";else if(d(d(t=K)?K["$empty?"]():t)){if(d(J["$empty?"]())){if(!d(J=
d(t=h.$skip_blank_lines())?h.$read_line():t))break;if(d(this["$is_sibling_list_item?"](J,g,k)))break}if(J["$=="](p(x,"LIST_CONTINUATION")))B=y.$size(),y["$<<"](J);else if(d(q))if(d(this["$is_sibling_list_item?"](J,g,k)))break;else if(d(K=z(p(x,"NESTABLE_LIST_CONTEXTS"),"find",[],(v=function(a){null==a&&(a=b);return p(x,"ListRxMap")["$[]"](a)["$=~"](J)},v.$$s=this,v.$$arity=1,v))))y["$<<"](J),E=!0,d((t=K["$=="]("dlist"))?((C=w["~"])===b?b:C["$[]"](3))["$nil_or_empty?"]():K["$=="]("dlist"))&&(q=!1);
else if(d(p(x,"LiteralParagraphRx")["$match?"](J)))h.$unshift_line(J),y.$concat(z(h,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(r=function(a){var c=r.$$s||this;null==a&&(a=b);return g["$=="]("dlist")?c["$is_sibling_list_item?"](a,g,k):g["$=="]("dlist")},r.$$s=this,r.$$arity=1,r)));else break;else d(E)||y.$pop(),y["$<<"](J),q=!0}else d(J["$empty?"]()["$!"]())&&(q=!0),
d(K=z(d(E)?["dlist"]:p(x,"NESTABLE_LIST_CONTEXTS"),"find",[],(u=function(a){null==a&&(a=b);return p(x,"ListRxMap")["$[]"](a)["$=~"](J)},u.$$s=this,u.$$arity=1,u)))&&(E=!0,d((t=K["$=="]("dlist"))?((C=w["~"])===b?b:C["$[]"](3))["$nil_or_empty?"]():K["$=="]("dlist"))&&(q=!1)),y["$<<"](J);J=b}d(J)&&h.$unshift_line(J);for(d(B)&&y.$delete_at(B);d(d(t=y["$empty?"]()["$!"]())?y["$[]"](-1)["$empty?"]():t);)y.$pop();d(d(l=y["$empty?"]()["$!"]())?y["$[]"](-1)["$=="](p(x,"LIST_CONTINUATION")):l)&&y.$pop();return y},
da.$$arity=-3);a.defs(l,"$initialize_section",ea=function(h,g,k){var l,t,C=b,m=b,n=b,v=b,r=b,u=b,w=b,y=b,F=b,E=b,B=b,J=n=b,K=b,G=r=b;null==k&&(k=f([],{}));C=g.$document();m=(n=C.$doctype())["$=="]("book");d(C.$sourcemap())&&(v=h.$cursor());r=k["$[]"](1);t=this.$parse_section_title(h,C,k["$[]"]("id"));l=a.to_ary(t);u=null==l[0]?b:l[0];w=null==l[1]?b:l[1];y=null==l[2]?b:l[2];F=null==l[3]?b:l[3];E=null==l[4]?b:l[4];t;d(w)?(B=["reftext",w],z(k,"[]=",a.to_a(B)),B[c(B.length,1)]):w=k["$[]"]("reftext");
d(r)?d(d(l=m)?r["$=="]("abstract"):l)?(l=["chapter",1],n=l[0],F=l[1],l):(l=[r,!0],n=l[0],J=l[1],l,F["$=="](0)&&(F=1),K=r["$=="]("appendix")):d(m)?n=F["$=="](0)?"part":d(q(F,1))?"section":"chapter":d(n["$=="]("manpage")?y.$casecmp("synopsis")["$=="](0):n["$=="]("manpage"))?(l=["synopsis",!0],n=l[0],J=l[1],l):n="section";r=p(x,"Section").$new(g,F);l=[u,y,n,v];r["$id="](l[0]);r["$title="](l[1]);r["$sectname="](l[2]);r["$source_location="](l[3]);l;d(J)?(B=[!0],z(r,"special=",a.to_a(B)),B[c(B.length,1)],
d(K)?(B=[!0],z(r,"numbered=",a.to_a(B)),B[c(B.length,1)]):C.$attributes()["$[]"]("sectnums")["$=="]("all")&&(B=[d(d(l=m)?F["$=="](1):l)?"chapter":!0],z(r,"numbered=",a.to_a(B)),B[c(B.length,1)])):d(d(l=C.$attributes()["$[]"]("sectnums"))?q(F,0):l)?(B=[d(r.$special())?d(l=g.$numbered())?!0:l:!0],z(r,"numbered=",a.to_a(B)),B[c(B.length,1)]):d(d(l=d(t=m)?F["$=="](0):t)?C.$attributes()["$[]"]("partnums"):l)&&(B=[!0],z(r,"numbered=",a.to_a(B)),B[c(B.length,1)]);d(G=d(l=r.$id())?l:(B=[d(C.$attributes()["$key?"]("sectids"))?
p(x,"Section").$generate_id(r.$title(),C):b],z(r,"id=",a.to_a(B)),B[c(B.length,1)]))&&!d(C.$register("refs",[G,r,d(l=w)?l:r.$title()]))&&this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+G,f(["source_location"],{source_location:h.$cursor_at_line(c(h.$lineno(),d(E)?1:2))})));r.$update_attributes(k);h.$skip_blank_lines();return r},ea.$$arity=-3);a.defs(l,"$is_next_line_section?",R=function(a,c){var e,f,h=b,g=b;return d(d(e=h=c["$[]"](1))?d(f=h["$=="]("discrete"))?
f:h["$=="]("float"):e)?b:d(p(x,"Compliance").$underline_style_section_titles())?(g=a.$peek_lines(2,d(e=h)?h["$=="]("comment"):e),this["$is_section_title?"](d(e=g["$[]"](0))?e:"",g["$[]"](1))):this["$atx_section_title?"](d(e=a.$peek_line())?e:"")},R.$$arity=2);a.defs(l,"$is_next_line_doctitle?",Ea=function(a,c,e){var f,g=b;return d(e)?d(f=g=this["$is_next_line_section?"](a,c))?h(g,e.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,c)["$=="](0)},Ea.$$arity=3);a.defs(l,"$is_section_title?",Aa=function(a,
c){var e;null==c&&(c=b);return d(e=this["$atx_section_title?"](a))?e:d(c["$nil_or_empty?"]())?b:this["$setext_section_title?"](a,c)},Aa.$$arity=-2);a.defs(l,"$atx_section_title?",Ba=function(a){var f;return d(d(p(x,"Compliance").$markdown_syntax())?d(f=a["$start_with?"]("=","#"))?p(x,"ExtAtxSectionTitleRx")["$=~"](a):f:d(f=a["$start_with?"]("="))?p(x,"AtxSectionTitleRx")["$=~"](a):f)?c(((f=w["~"])===b?b:f["$[]"](1)).$length(),1):b},Ba.$$arity=1);a.defs(l,"$setext_section_title?",wa=function(a,f){var h,
k,q,l=b,t=b,C=b;return d(d(h=d(k=d(q=l=p(x,"SETEXT_SECTION_LEVELS")["$[]"](t=f.$chr()))?g(t,C=f.$length())["$=="](f):q)?p(x,"SetextSectionTitleRx")["$match?"](a):k)?m(c(this.$line_length(a),C).$abs(),2):h)?l:b},wa.$$arity=2);a.defs(l,"$parse_section_title",oa=function(a,f,q){var l,t,C,n,r,u=b,z=b,y=b,F=b,E=b,B=b,J=b,K=b;null==q&&(q=b);u=b;z=a.$read_line();d(d(p(x,"Compliance").$markdown_syntax())?d(l=z["$start_with?"]("=","#"))?p(x,"ExtAtxSectionTitleRx")["$=~"](z):l:d(l=z["$start_with?"]("="))?p(x,
"AtxSectionTitleRx")["$=~"](z):l)?(l=[c(((t=w["~"])===b?b:t["$[]"](1)).$length(),1),(t=w["~"])===b?b:t["$[]"](2),!0],y=l[0],F=l[1],E=l[2],l,!d(q)&&d(d(l=d(t=F["$end_with?"]("]]"))?p(x,"InlineSectionAnchorRx")["$=~"](F):t)?((t=w["~"])===b?b:t["$[]"](1))["$!"]():l)&&(l=[F.$slice(0,c(F.$length(),((t=w["~"])===b?b:t["$[]"](0)).$length())),(t=w["~"])===b?b:t["$[]"](2),(t=w["~"])===b?b:t["$[]"](3)],F=l[0],q=l[1],u=l[2],l)):d(d(l=d(t=d(C=d(n=d(r=p(x,"Compliance").$underline_style_section_titles())?B=a.$peek_line(!0):
r)?y=p(x,"SETEXT_SECTION_LEVELS")["$[]"](J=B.$chr()):n)?g(J,K=B.$length())["$=="](B):C)?F=d(C=p(x,"SetextSectionTitleRx")["$=~"](z))?(n=w["~"])===b?b:n["$[]"](1):C:t)?m(c(this.$line_length(z),K).$abs(),2):l)?(E=!1,!d(q)&&d(d(l=d(t=F["$end_with?"]("]]"))?p(x,"InlineSectionAnchorRx")["$=~"](F):t)?((t=w["~"])===b?b:t["$[]"](1))["$!"]():l)&&(l=[F.$slice(0,c(F.$length(),((t=w["~"])===b?b:t["$[]"](0)).$length())),(t=w["~"])===b?b:t["$[]"](2),(t=w["~"])===b?b:t["$[]"](3)],F=l[0],q=l[1],u=l[2],l),a.$shift()):
this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());d(f["$attr?"]("leveloffset"))&&(y=h(y,f.$attr("leveloffset").$to_i()));return[q,u,F,y,E]},oa.$$arity=-3);d(p(x,"FORCE_UNICODE_LINE_LENGTH"))?a.defs(l,"$line_length",Fa=function(a){return a.$scan(p(x,"UnicodeCharScanRx")).$size()},Fa.$$arity=1):a.defs(l,"$line_length",Q=function(a){return a.$length()},Q.$$arity=1);a.defs(l,"$parse_header_metadata",ja=function(g,q){var l,t,C,m,v=b,r=b,u=b,w=b,y=b,E=b,B=b,J=b,K=b,G=b,A=J=b,D=b,K=B=y=w=
r=b;null==q&&(q=b);v=d(l=q)?q.$attributes():l;this.$process_attribute_entries(g,q);l=[r=f([],{}),b,b];u=l[0];w=l[1];y=l[2];l;d(d(l=g["$has_more_lines?"]())?g["$next_line_empty?"]()["$!"]():l)?(d((E=this.$process_authors(g.$read_line()))["$empty?"]())||(d(q)&&(z(E,"each",[],(t=function(f,h){var g=b;null==f&&(f=b);null==h&&(h=b);if(d(v["$key?"](f)))return b;g=[f,d(n("::","String")["$==="](h))?q.$apply_header_subs(h):h];z(v,"[]=",a.to_a(g));return g[c(g.length,1)]},t.$$s=this,t.$$arity=2,t)),w=v["$[]"]("author"),
y=v["$[]"]("authorinitials"),r=v["$[]"]("authors")),u=E),this.$process_attribute_entries(g,q),B=f([],{}),d(d(l=g["$has_more_lines?"]())?g["$next_line_empty?"]()["$!"]():l)&&(J=g.$read_line(),d(K=p(x,"RevisionInfoLineRx").$match(J))?(d(K["$[]"](1))&&(G=["revnumber",K["$[]"](1).$rstrip()],z(B,"[]=",a.to_a(G)),G[c(G.length,1)]),d((J=K["$[]"](2).$strip())["$empty?"]())||(G=d(d(l=K["$[]"](1)["$!"]())?J["$start_with?"]("v"):l)?["revnumber",J.$slice(1,J.$length())]:["revdate",J],z(B,"[]=",a.to_a(G)),G[c(G.length,
1)]),d(K["$[]"](3))&&(G=["revremark",K["$[]"](3).$rstrip()],z(B,"[]=",a.to_a(G)),G[c(G.length,1)])):g.$unshift_line(J)),d(B["$empty?"]())||(d(q)&&z(B,"each",[],(C=function(f,h){null==f&&(f=b);null==h&&(h=b);if(d(v["$key?"](f)))return b;G=[f,q.$apply_header_subs(h)];z(v,"[]=",a.to_a(G));return G[c(G.length,1)]},C.$$s=this,C.$$arity=2,C)),u.$update(B)),this.$process_attribute_entries(g,q),g.$skip_blank_lines()):E=f([],{});if(d(q)){if(d(d(l=v["$key?"]("author"))?(A=v["$[]"]("author"))["$!="](w):l))E=
this.$process_authors(A,!0,!1),d(v["$[]"]("authorinitials")["$!="](y))&&E.$delete("authorinitials");else if(d(d(l=v["$key?"]("authors"))?(A=v["$[]"]("authors"))["$!="](r):l))E=this.$process_authors(A,!0);else{l=[[],1,"author_1",!1,!1];D=l[0];r=l[1];w=l[2];y=l[3];B=l[4];for(l;d(v["$key?"](w));)(K=v["$[]"](w))["$=="](E["$[]"](w))?(D["$<<"](b),B=!0):(D["$<<"](K),y=!0),w="author_"+(r=h(r,1));d(y)?(d(B)&&z(D,"each_with_index",[],(m=function(f,g){var q=m.$$s||this,l,p=b;null==f&&(f=b);null==g&&(g=b);if(d(f))return b;
G=[g,z([E["$[]"]("firstname_"+(p=h(g,1))),E["$[]"]("middlename_"+p),E["$[]"]("lastname_"+p)].$compact(),"map",[],(l=function(a){null==a&&(a=b);return a.$tr(" ","_")},l.$$s=q,l.$$arity=1,l)).$join(" ")];z(D,"[]=",a.to_a(G));return G[c(G.length,1)]},m.$$s=this,m.$$arity=2,m)),E=this.$process_authors(D,!0,!1)):E=f([],{})}d(E["$empty?"]())?d(l=u["$[]"]("authorcount"))?l:(G=["authorcount",(G=["authorcount",0],z(v,"[]=",a.to_a(G)),G[c(G.length,1)])],z(u,"[]=",a.to_a(G)),G[c(G.length,1)]):(v.$update(E),
d(d(l=v["$key?"]("email")["$!"]())?v["$key?"]("email_1"):l)&&(G=["email",v["$[]"]("email_1")],z(v,"[]=",a.to_a(G)),G[c(G.length,1)]))}return u},ja.$$arity=-2);a.defs(l,"$process_authors",xa=function(g,q,l){var t,C,m=this,n=b,v=b,r=b,u=b,u=b;null==q&&(q=!1);null==l&&(l=!0);n=f([],{});v=0;r="author authorinitials firstname middlename lastname email".split(" ");u=function(){return d(l)?z(g.$split(";"),"map",[],(t=function(a){null==a&&(a=b);return a.$strip()},t.$$s=m,t.$$arity=1,t)):m.$Array(g)}();z(u,
"each",[],(C=function(g){var l=C.$$s||this,t,m,u,w,y=b,F=b,E=b,B=b,J=b,K=b,G=b,O=b;null==g&&(g=b);if(d(g["$empty?"]()))return b;v=h(v,1);y=f([],{});v["$=="](1)?z(r,"each",[],(t=function(d){var f=b;null==d&&(d=b);f=[d.$to_sym(),d];z(y,"[]=",a.to_a(f));return f[c(f.length,1)]},t.$$s=l,t.$$arity=1,t)):z(r,"each",[],(m=function(d){var f=b;null==d&&(d=b);f=[d.$to_sym(),""+d+"_"+v];z(y,"[]=",a.to_a(f));return f[c(f.length,1)]},m.$$s=l,m.$$arity=1,m));if(d(q)){if(d(g["$include?"]("<"))&&(F=[y["$[]"]("author"),
g.$tr("_"," ")],z(n,"[]=",a.to_a(F)),F[c(F.length,1)],g=g.$gsub(p(x,"XmlSanitizeRx"),"")),(E=g.$split(b,3)).$size()["$=="](3))E["$<<"](E.$pop().$squeeze(" "))}else d(B=p(x,"AuthorInfoLineRx").$match(g))&&(E=B.$to_a()).$shift();d(E)?(J=(F=[y["$[]"]("firstname"),K=E["$[]"](0).$tr("_"," ")],z(n,"[]=",a.to_a(F)),F[c(F.length,1)]),F=[y["$[]"]("authorinitials"),K.$chr()],z(n,"[]=",a.to_a(F)),F[c(F.length,1)],d(E["$[]"](1))&&(d(E["$[]"](2))?(F=[y["$[]"]("middlename"),G=E["$[]"](1).$tr("_"," ")],z(n,"[]=",
a.to_a(F)),F[c(F.length,1)],F=[y["$[]"]("lastname"),O=E["$[]"](2).$tr("_"," ")],z(n,"[]=",a.to_a(F)),F[c(F.length,1)],J=h(h(h(h(K," "),G)," "),O),F=[y["$[]"]("authorinitials"),""+K.$chr()+G.$chr()+O.$chr()]):(F=[y["$[]"]("lastname"),O=E["$[]"](1).$tr("_"," ")],z(n,"[]=",a.to_a(F)),F[c(F.length,1)],J=h(h(K," "),O),F=[y["$[]"]("authorinitials"),""+K.$chr()+O.$chr()]),z(n,"[]=",a.to_a(F)),F[c(F.length,1)]),d(u=n["$[]"](y["$[]"]("author")))?u:(F=[y["$[]"]("author"),J],z(n,"[]=",a.to_a(F)),F[c(F.length,
1)]),d(d(u=q)?u:E["$[]"](3)["$!"]())||(F=[y["$[]"]("email"),E["$[]"](3)],z(n,"[]=",a.to_a(F)),F[c(F.length,1)])):(F=[y["$[]"]("author"),(F=[y["$[]"]("firstname"),K=g.$squeeze(" ").$strip()],z(n,"[]=",a.to_a(F)),F[c(F.length,1)])],z(n,"[]=",a.to_a(F)),F[c(F.length,1)],F=[y["$[]"]("authorinitials"),K.$chr()],z(n,"[]=",a.to_a(F)),F[c(F.length,1)]);v["$=="](1)?F=["authors",n["$[]"](y["$[]"]("author"))]:(v["$=="](2)&&z(r,"each",[],(w=function(f){null==f&&(f=b);return d(n["$key?"](f))?(F=[""+f+"_1",n["$[]"](f)],
z(n,"[]=",a.to_a(F)),F[c(F.length,1)]):b},w.$$s=l,w.$$arity=1,w)),F=["authors",""+n["$[]"]("authors")+", "+n["$[]"](y["$[]"]("author"))]);z(n,"[]=",a.to_a(F));return F[c(F.length,1)]},C.$$s=m,C.$$arity=1,C));u=["authorcount",v];z(n,"[]=",a.to_a(u));u[c(u.length,1)];return n},xa.$$arity=-2);a.defs(l,"$parse_block_metadata_lines",ta=function(a,b,c,e){var g;null==c&&(c=f([],{}));for(null==e&&(e=f([],{}));d(this.$parse_block_metadata_line(a,b,c,e));)if(a.$shift(),d(g=a.$skip_blank_lines()))g;else break;
return c},ta.$$arity=-3);a.defs(l,"$parse_block_metadata_line",Ma=function(h,k,q,l){var t,C,n=b,m=b,v=b,v=v=v=b;null==w["~"]&&(w["~"]=b);null==l&&(l=f([],{}));if(d(d(t=n=h.$peek_line())?d(l["$[]"]("text"))?n["$start_with?"]("[","/"):m=n["$start_with?"]("[",".","/",":"):t))if(d(n["$start_with?"]("[")))if(d(n["$start_with?"]("[["))){if(d(d(t=n["$end_with?"]("]]"))?p(x,"BlockAnchorRx")["$=~"](n):t))return v=["id",(t=w["~"])===b?b:t["$[]"](1)],z(q,"[]=",a.to_a(v)),v[c(v.length,1)],d(v=(t=w["~"])===b?
b:t["$[]"](2))&&(v=["reftext",d(v["$include?"](p(x,"ATTR_REF_HEAD")))?k.$sub_attributes(v):v],z(q,"[]=",a.to_a(v)),v[c(v.length,1)]),!0}else{if(d(d(t=n["$end_with?"]("]"))?p(x,"BlockAttributeListRx")["$=~"](n):t))return v=q["$[]"](1),d(k.$parse_attributes((t=w["~"])===b?b:t["$[]"](1),[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:q}))["$[]"](1))&&(v=[1,d(t=this.$parse_style_attribute(q,h))?t:v],z(q,"[]=",a.to_a(v)),v[c(v.length,1)]),!0}else if(d(d(t=m)?n["$start_with?"]("."):
t)){if(d(p(x,"BlockTitleRx")["$=~"](n)))return v=["title",(t=w["~"])===b?b:t["$[]"](1)],z(q,"[]=",a.to_a(v)),v[c(v.length,1)],!0}else if(d(d(t=m["$!"]())?t:n["$start_with?"]("/"))){if(d(n["$start_with?"]("//"))){if(n["$=="]("//"))return!0;if(d(d(t=m)?g("/",v=n.$length())["$=="](n):t)){if(v["$=="](3))return b;h.$read_lines_until(f(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:n,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"}));
return!0}return d(n["$start_with?"]("///"))?b:!0}}else if(d(d(t=d(C=m)?n["$start_with?"](":"):C)?p(x,"AttributeEntryRx")["$=~"](n):t))return this.$process_attribute_entry(h,k,q,w["~"]),!0;return b},Ma.$$arity=-4);a.defs(l,"$process_attribute_entries",Ca=function(a,c,e){null==e&&(e=b);for(a.$skip_comment_lines();d(this.$process_attribute_entry(a,c,e));)a.$shift(),a.$skip_comment_lines()},Ca.$$arity=-3);a.defs(l,"$process_attribute_entry",Ga=function(a,f,g,h){var k,q,l,t=b,C=b,n=b,m=b;null==g&&(g=b);
null==h&&(h=b);if(d(h=d(k=h)?k:d(a["$has_more_lines?"]())?p(x,"AttributeEntryRx").$match(a.$peek_line()):b)){if(d((t=h["$[]"](2))["$nil_or_empty?"]()))t="";else if(d(t["$end_with?"](p(x,"LINE_CONTINUATION"),p(x,"LINE_CONTINUATION_LEGACY"))))for(k=[t.$slice(-2,2),t.$slice(0,c(t.$length(),2)).$rstrip()],C=k[0],t=k[1],k;d(d(q=a.$advance())?(n=d(l=a.$peek_line())?l:"")["$empty?"]()["$!"]():q)&&(n=n.$lstrip(),d(m=n["$end_with?"](C))&&(n=n.$slice(0,c(n.$length(),2)).$rstrip()),t=""+t+(d(t["$end_with?"](p(x,
"HARD_LINE_BREAK")))?p(x,"LF"):" ")+n,d(m)););this.$store_attribute(h["$[]"](1),t,f,g);return!0}return b},Ga.$$arity=-3);a.defs(l,"$store_attribute",Ha=function(a,f,g,q){var l,t=b;null==g&&(g=b);null==q&&(q=b);d(a["$end_with?"]("!"))?(l=[a.$chop(),b],a=l[0],f=l[1],l):d(a["$start_with?"]("!"))&&(l=[a.$slice(1,a.$length()),b],a=l[0],f=l[1],l);a=this.$sanitize_attribute_name(a);a["$=="]("numbered")&&(a="sectnums");d(g)?d(f)?(a["$=="]("leveloffset")&&(d(f["$start_with?"]("+"))?f=h(g.$attr("leveloffset",
0).$to_i(),f.$slice(1,f.$length()).$to_i()).$to_s():d(f["$start_with?"]("-"))&&(f=c(g.$attr("leveloffset",0).$to_i(),f.$slice(1,f.$length()).$to_i()).$to_s())),d(t=g.$set_attribute(a,f))&&(f=t,d(q)&&n(p(x,"Document"),"AttributeEntry").$new(a,f).$save_to(q))):d(d(l=g.$delete_attribute(a))?q:l)&&n(p(x,"Document"),"AttributeEntry").$new(a,f).$save_to(q):d(q)&&n(p(x,"Document"),"AttributeEntry").$new(a,f).$save_to(q);return[a,f]},Ha.$$arity=-3);a.defs(l,"$resolve_list_marker",Ia=function(a,c,d,e,f){null==
d&&(d=0);null==e&&(e=!1);null==f&&(f=b);return a["$=="]("ulist")?c:a["$=="]("olist")?this.$resolve_ordered_list_marker(c,d,e,f)["$[]"](0):"<1>"},Ia.$$arity=-3);a.defs(l,"$resolve_ordered_list_marker",Pa=function(a,c,e,g){var q,l,t=b,C=b,n=b,m=b;null==c&&(c=0);null==e&&(e=!1);null==g&&(g=b);if(d(a["$start_with?"](".")))return[a];t=C=z(p(x,"ORDERED_LIST_STYLES"),"find",[],(q=function(c){null==c&&(c=b);return p(x,"OrderedListMarkerRxMap")["$[]"](c)["$match?"](a)},q.$$s=this,q.$$arity=1,q));"arabic"["$==="](t)?
(d(e)&&(n=h(c,1),m=a.$to_i()),a="1."):"loweralpha"["$==="](t)?(d(e)&&(n=h("a"["$[]"](0).$ord(),c).$chr(),m=a.$chop()),a="a."):"upperalpha"["$==="](t)?(d(e)&&(n=h("A"["$[]"](0).$ord(),c).$chr(),m=a.$chop()),a="A."):"lowerroman"["$==="](t)?(d(e)&&(n=p(x,"Helpers").$int_to_roman(h(c,1)).$downcase(),m=a.$chop()),a="i)"):"upperroman"["$==="](t)&&(d(e)&&(n=p(x,"Helpers").$int_to_roman(h(c,1)),m=a.$chop()),a="I)");d(d(l=e)?n["$!="](m):l)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+
n+", got "+m,f(["source_location"],{source_location:g.$cursor()})));return[a,C]},Pa.$$arity=-2);a.defs(l,"$is_sibling_list_item?",Ra=function(a,c,e){var f,g=b,h=b;d(n("::","Regexp")["$==="](e))?g=e:(g=p(x,"ListRxMap")["$[]"](c),h=e);return d(g["$=~"](a))?d(h)?h["$=="](this.$resolve_list_marker(c,(f=w["~"])===b?b:f["$[]"](1))):!0:!1},Ra.$$arity=3);a.defs(l,"$parse_table",Na=function(f,g,l){var t,C,m,v=b,r=b,u=b,w=b,y=b,E=b,B=b,J=b,K=b,G=b,A=b,D=y=b,R=b,W=y=D=b,N=W=b,v=p(x,"Table").$new(g,l);d(l["$key?"]("title"))&&
(r=[l.$delete("title")],z(v,"title=",a.to_a(r)),r[c(r.length,1)],v.$assign_caption(l.$delete("caption")));d(d(t=l["$key?"]("cols"))?(u=this.$parse_colspecs(l["$[]"]("cols")))["$empty?"]()["$!"]():t)&&(v.$create_columns(u),w=!0);y=d(t=f.$skip_blank_lines())?t:0;E=n(p(x,"Table"),"ParserContext").$new(f,v,l);t=[E.$format(),-1,b];B=t[0];J=t[1];K=t[2];t;d(d(t=d(C=q(y,0))?C:l["$key?"]("header-option"))?t:l["$key?"]("noheader-option"))||(G=!0);for(t=!1;t||d(A=f.$read_line());){t=!1;d(d(C=y=q(J=h(J,1),0))?
A["$empty?"]():C)?(A=b,d(K)&&(K=h(K,1))):B["$=="]("psv")&&(d(E["$starts_with_delimiter?"](A))?(A=A.$slice(1,A.$length()),E.$close_open_cell(),d(K)&&(K=b)):(m=this.$parse_cellspec(A,"start",E.$delimiter()),C=a.to_ary(m),D=null==C[0]?b:C[0],A=null==C[1]?b:C[1],m,d(D)?(E.$close_open_cell(D),d(K)&&(K=b)):d(d(C=K)?K["$=="](J):C)&&(C=[!1,b],G=C[0],K=C[1],C)));d(y)||(f.$mark(),d(G)&&(d(d(C=f["$has_more_lines?"]())?f.$peek_line()["$empty?"]():C)?K=1:G=!1));for(C=!1;C||d(!0);)if(C=!1,d(d(m=A)?R=E.$match_delimiter(A):
m)){m=[R.$pre_match(),R.$post_match()];D=m[0];y=m[1];m;W=B;if("csv"["$==="](W)){if(d(E["$buffer_has_unclosed_quotes?"](D))){E.$skip_past_delimiter(D);if(d((A=y)["$empty?"]()))break;C=!0;continue}r=[""+E.$buffer()+D]}else if("dsv"["$==="](W)){if(d(D["$end_with?"]("\\"))){E.$skip_past_escaped_delimiter(D);if(d((A=y)["$empty?"]())){r=[""+E.$buffer()+p(x,"LF")];z(E,"buffer=",a.to_a(r));r[c(r.length,1)];E.$keep_cell_open();break}C=!0;continue}r=[""+E.$buffer()+D]}else{if(d(D["$end_with?"]("\\"))){E.$skip_past_escaped_delimiter(D);
if(d((A=y)["$empty?"]())){r=[""+E.$buffer()+p(x,"LF")];z(E,"buffer=",a.to_a(r));r[c(r.length,1)];E.$keep_cell_open();break}C=!0;continue}g=this.$parse_cellspec(D);m=a.to_ary(g);D=null==m[0]?b:m[0];W=null==m[1]?b:m[1];g;E.$push_cellspec(D);r=[""+E.$buffer()+W]}z(E,"buffer=",a.to_a(r));r[c(r.length,1)];d((A=y)["$empty?"]())&&(A=b);E.$close_cell()}else{r=[""+E.$buffer()+A+p(x,"LF")];z(E,"buffer=",a.to_a(r));r[c(r.length,1)];W=B;"csv"["$==="](W)?d(E["$buffer_has_unclosed_quotes?"]())?(d(d(m=K)?J["$=="](0):
m)&&(m=[!1,b],G=m[0],K=m[1],m),E.$keep_cell_open()):E.$close_cell(!0):"dsv"["$==="](W)?E.$close_cell(!0):E.$keep_cell_open();break}if(d(E["$cell_open?"]()))d(f["$has_more_lines?"]())||E.$close_cell(!0);else if(d(C=f.$skip_blank_lines()))C;else break}d(d(t=(N=v.$attributes(),d(C=N["$[]"]("colcount"))?C:(r=["colcount",v.$columns().$size()],z(N,"[]=",a.to_a(r)),r[c(r.length,1)]))["$=="](0))?t:w)||v.$assign_column_widths();d(G)&&(r=[!0],z(v,"has_header_option=",a.to_a(r)),r[c(r.length,1)],r=["header-option",
""],z(l,"[]=",a.to_a(r)),r[c(r.length,1)],r=["options",d(l["$key?"]("options"))?""+l["$[]"]("options")+",header":"header"],z(l,"[]=",a.to_a(r)),r[c(r.length,1)]);v.$partition_header_footer(l);return v},Na.$$arity=3);a.defs(l,"$parse_colspecs",Oa=function(g){var h,k,q=b;d(g["$include?"](" "))&&(g=g.$delete(" "));if(g["$=="](g.$to_i().$to_s()))return z(n("::","Array"),"new",[g.$to_i()],(h=function(){return f(["width"],{width:1})},h.$$s=this,h.$$arity=0,h));q=[];z(d(g["$include?"](","))?g.$split(",",
-1):g.$split(";",-1),"each",[],(k=function(g){var h=k.$$s||this,l,t,C=b,n=b,m=b,v=b,r=m=b;null==g&&(g=b);return d(g["$empty?"]())?q["$<<"](f(["width"],{width:1})):d(C=p(x,"ColumnSpecRx").$match(g))?(n=f([],{}),d(C["$[]"](2))&&(g=C["$[]"](2).$split("."),l=a.to_ary(g),m=null==l[0]?b:l[0],v=null==l[1]?b:l[1],g,d(d(l=m["$nil_or_empty?"]()["$!"]())?p(x,"TableCellHorzAlignments")["$key?"](m):l)&&(m=["halign",p(x,"TableCellHorzAlignments")["$[]"](m)],z(n,"[]=",a.to_a(m)),m[c(m.length,1)]),d(d(l=v["$nil_or_empty?"]()["$!"]())?
p(x,"TableCellVertAlignments")["$key?"](v):l)&&(m=["valign",p(x,"TableCellVertAlignments")["$[]"](v)],z(n,"[]=",a.to_a(m)),m[c(m.length,1)])),m=d(r=C["$[]"](3))?["width",r["$=="]("~")?-1:r.$to_i()]:["width",1],z(n,"[]=",a.to_a(m)),m[c(m.length,1)],d(d(l=C["$[]"](4))?p(x,"TableCellStyles")["$key?"](C["$[]"](4)):l)&&(m=["style",p(x,"TableCellStyles")["$[]"](C["$[]"](4))],z(n,"[]=",a.to_a(m)),m[c(m.length,1)]),d(C["$[]"](1))?z(1,"upto",[C["$[]"](1).$to_i()],(t=function(){return q["$<<"](n.$dup())},t.$$s=
h,t.$$arity=0,t)):q["$<<"](n)):b},k.$$s=this,k.$$arity=1,k));return q},Oa.$$arity=1);a.defs(l,"$parse_cellspec",Va=function(g,h,k){var q,l=b,t=b,C=l=b,m=b,n=b,m=b;null==h&&(h="end");null==k&&(k=b);q=[b,""];q;if(h["$=="]("start"))if(d(g["$include?"](k)))if(h=g.$split(k,2),q=a.to_ary(h),l=null==q[0]?b:q[0],t=null==q[1]?b:q[1],h,d(l=p(x,"CellSpecStartRx").$match(l))){if(d(l["$[]"](0)["$empty?"]()))return[f([],{}),t]}else return[b,g];else return[b,g];else if(d(l=p(x,"CellSpecEndRx").$match(g))){if(d(l["$[]"](0).$lstrip()["$empty?"]()))return[f([],
{}),g.$rstrip()];t=l.$pre_match()}else return[f([],{}),g];C=f([],{});d(l["$[]"](1))&&(h=l["$[]"](1).$split("."),q=a.to_ary(h),m=null==q[0]?b:q[0],n=null==q[1]?b:q[1],h,m=d(m["$nil_or_empty?"]())?1:m.$to_i(),n=d(n["$nil_or_empty?"]())?1:n.$to_i(),l["$[]"](2)["$=="]("+")?(m["$=="](1)||(m=["colspan",m],z(C,"[]=",a.to_a(m)),m[c(m.length,1)]),n["$=="](1)||(m=["rowspan",n],z(C,"[]=",a.to_a(m)),m[c(m.length,1)])):l["$[]"](2)["$=="]("*")&&!m["$=="](1)&&(m=["repeatcol",m],z(C,"[]=",a.to_a(m)),m[c(m.length,
1)]));d(l["$[]"](3))&&(h=l["$[]"](3).$split("."),q=a.to_ary(h),m=null==q[0]?b:q[0],n=null==q[1]?b:q[1],h,d(d(q=m["$nil_or_empty?"]()["$!"]())?p(x,"TableCellHorzAlignments")["$key?"](m):q)&&(m=["halign",p(x,"TableCellHorzAlignments")["$[]"](m)],z(C,"[]=",a.to_a(m)),m[c(m.length,1)]),d(d(q=n["$nil_or_empty?"]()["$!"]())?p(x,"TableCellVertAlignments")["$key?"](n):q)&&(m=["valign",p(x,"TableCellVertAlignments")["$[]"](n)],z(C,"[]=",a.to_a(m)),m[c(m.length,1)]));d(d(q=l["$[]"](4))?p(x,"TableCellStyles")["$key?"](l["$[]"](4)):
q)&&(m=["style",p(x,"TableCellStyles")["$[]"](l["$[]"](4))],z(C,"[]=",a.to_a(m)),m[c(m.length,1)]);return[C,t]},Va.$$arity=-2);a.defs(l,"$parse_style_attribute",C=function(g,h){var k,q,l,t,C,m=b,n=b,v=b,r=b,u=b,w=b,y=b,F=b,E=b,B=b;null==h&&(h=b);if(d(d(k=d(q=m=g["$[]"](1))?m["$include?"](" ")["$!"]():q)?p(x,"Compliance").$shorthand_property_syntax():k)){k=["style",[],f([],{})];n=k[0];v=k[1];r=k[2];k;u=z(this,"lambda",[],(l=function(){var g=l.$$s||this,k,q=b,t=b;if(d(v["$empty?"]()))return n["$=="]("style")?
b:d(h)?g.$logger().$warn(g.$message_with_context("invalid empty "+n+" detected in style attribute",f(["source_location"],{source_location:h.$cursor_at_prev_line()}))):g.$logger().$warn("invalid empty "+n+" detected in style attribute");q=n;if("role"["$==="](q)||"option"["$==="](q))(d(k=r["$[]"](n))?k:(t=[n,[]],z(r,"[]=",a.to_a(t)),t[c(t.length,1)]))["$<<"](v.$join());else"id"["$==="](q)&&d(r["$key?"]("id"))&&(d(h)?g.$logger().$warn(g.$message_with_context("multiple ids detected in style attribute",
f(["source_location"],{source_location:h.$cursor_at_prev_line()}))):g.$logger().$warn("multiple ids detected in style attribute")),t=[n,v.$join()],z(r,"[]=",a.to_a(t)),t[c(t.length,1)];return v=[]},l.$$s=this,l.$$arity=0,l));z(m,"each_char",[],(t=function(a){var c,e,f=b;null==a&&(a=b);return d(d(c=d(e=a["$=="]("."))?e:a["$=="]("#"))?c:a["$=="]("%"))?(u.$call(),f=a,"."["$==="](f)?n="role":"#"["$==="](f)?n="id":"%"["$==="](f)?n="option":b):v["$<<"](a)},t.$$s=this,t.$$arity=1,t));if(n["$=="]("style"))return w=
["style",m],z(g,"[]=",a.to_a(w)),w[c(w.length,1)];u.$call();d(r["$key?"]("style"))&&(y=(w=["style",r["$[]"]("style")],z(g,"[]=",a.to_a(w)),w[c(w.length,1)]));d(r["$key?"]("id"))&&(w=["id",r["$[]"]("id")],z(g,"[]=",a.to_a(w)),w[c(w.length,1)]);d(r["$key?"]("role"))&&(w=["role",d((F=g["$[]"]("role"))["$nil_or_empty?"]())?r["$[]"]("role").$join(" "):""+F+" "+r["$[]"]("role").$join(" ")],z(g,"[]=",a.to_a(w)),w[c(w.length,1)]);d(r["$key?"]("option"))&&(z(E=r["$[]"]("option"),"each",[],(C=function(d){null==
d&&(d=b);w=[""+d+"-option",""];z(g,"[]=",a.to_a(w));return w[c(w.length,1)]},C.$$s=this,C.$$arity=1,C)),w=["options",d((B=g["$[]"]("options"))["$nil_or_empty?"]())?E.$join(","):""+B+","+E.$join(",")],z(g,"[]=",a.to_a(w)),w[c(w.length,1)]);return y}w=["style",m];z(g,"[]=",a.to_a(w));return w[c(w.length,1)]},C.$$arity=-2);a.defs(l,"$adjust_indentation!",W=function(f,l,t){var C,m,n,v,r,u,y=this,F=b,E=b,B=b;null==l&&(l=0);null==t&&(t=0);if(d(f["$empty?"]()))return b;d(d(C=q(t=t.$to_i(),0))?f.$join()["$include?"](p(x,
"TAB")):C)&&(F=g(" ",t),z(f,"map!",[],(m=function(a){var f=m.$$s||this,q,l,C=b;null==a&&(a=b);if(d(a["$empty?"]()))return a;d(a["$start_with?"](p(x,"TAB")))&&(a=z(a,"sub",[p(x,"TabIndentRx")],(q=function(){var a;return g(F,((a=w["~"])===b?b:a["$[]"](0)).$length())},q.$$s=f,q.$$arity=0,q)));return d(a["$include?"](p(x,"TAB")))?(C=0,a=z(a,"gsub",[p(x,"TabRx")],(l=function(){var a=b,d=b;null==w["~"]&&(w["~"]=b);if((a=h(w["~"].$begin(0),C))["$%"](t)["$=="](0))return C=h(C,c(t,1)),F;(d=c(t,a["$%"](t)))["$=="](1)||
(C=h(C,c(d,1)));return g(" ",d)},l.$$s=f,l.$$arity=0,l))):a},m.$$s=y,m.$$arity=1,m)));if(!d(d(C=l)?q(l=l.$to_i(),-1):C))return b;E=b;(function(){var g=a.new_brk();try{return z(f,"each",[],(n=function(f){var h,k=b;null==f&&(f=b);if(d(f["$empty?"]()))return b;if((k=c(f.$length(),f.$lstrip().$length()))["$=="](0))E=b,a.brk(b,g);else return d(d(h=E)?q(k,E):h)?b:E=k},n.$$s=y,n.$$brk=g,n.$$arity=1,n))}catch(h){if(h===g)return h.$v;throw h;}})();l["$=="](0)?d(E)&&z(f,"map!",[],(v=function(a){null==a&&(a=
b);return d(a["$empty?"]())?a:a.$slice(E,a.$length())},v.$$s=y,v.$$arity=1,v)):(B=g(" ",l),d(E)?z(f,"map!",[],(r=function(a){null==a&&(a=b);return d(a["$empty?"]())?a:h(B,a.$slice(E,a.$length()))},r.$$s=y,r.$$arity=1,r)):z(f,"map!",[],(u=function(a){null==a&&(a=b);return d(a["$empty?"]())?a:h(B,a)},u.$$s=y,u.$$arity=1,u)));return b},W.$$arity=-2);return(a.defs(l,"$sanitize_attribute_name",Ja=function(a){return a.$gsub(p(x,"InvalidAttributeNameCharsRx"),"").$downcase()},Ja.$$arity=1),b)&&"sanitize_attribute_name"})(B[0],
null,B)}(l[0],l)};Opal.modules["asciidoctor/path_resolver"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=[],q=a.nil,l=a.const_get_qualified,g=a.const_get_relative,m=a.module,b=a.klass,n=a.truthy,p=a.hash2,r=a.send;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $to_s $relative_path_from $new $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $join $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $end_with? $uri_prefix $gsub".split(" "));
return function(h,k){function d(){}var f=[d=m(h,"Asciidoctor",d)].concat(k);(function(d,$super,f){function h(){}d=h=b(d,$super,"PathResolver",h);var k=d.prototype,m=[d].concat(f),u,w,z,x,t,y,B,A,D,S,Y,U,H;k.file_separator=k._partition_path_web=k._partition_path_sys=k.working_dir=q;d.$include(g(m,"Logging"));a.const_set(m[0],"DOT",".");a.const_set(m[0],"DOT_DOT","..");a.const_set(m[0],"DOT_SLASH","./");a.const_set(m[0],"SLASH","/");a.const_set(m[0],"BACKSLASH","\\");a.const_set(m[0],"DOUBLE_SLASH",
"//");a.const_set(m[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/);d.$attr_accessor("file_separator");d.$attr_accessor("working_dir");a.def(d,"$initialize",u=function(a,b){var c,d;null==a&&(a=q);null==b&&(b=q);this.file_separator=n(c=n(d=a)?d:l(l("::","File"),"ALT_SEPARATOR"))?c:l(l("::","File"),"SEPARATOR");this.working_dir=n(b)?n(this["$root?"](b))?this.$posixify(b):l("::","File").$expand_path(b):l("::","Dir").$pwd();this._partition_path_sys=p([],{});return this._partition_path_web=p([],{})},u.$$arity=
-1);a.def(d,"$absolute_path?",w=function(a){var b;return n(b=a["$start_with?"](g(m,"SLASH")))?b:this.file_separator["$=="](g(m,"BACKSLASH"))?g(m,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](g(m,"BACKSLASH"))},w.$$arity=1);n(g(m,"RUBY_ENGINE")["$=="]("opal")?l("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):g(m,"RUBY_ENGINE")["$=="]("opal"))?a.def(d,"$root?",z=function(a){var b;return n(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},z.$$arity=
1):a.alias(d,"root?","absolute_path?");a.def(d,"$unc?",x=function(a){return a["$start_with?"](g(m,"DOUBLE_SLASH"))},x.$$arity=1);a.def(d,"$web_root?",t=function(a){return a["$start_with?"](g(m,"SLASH"))},t.$$arity=1);a.def(d,"$descends_from?",y=function(a,b){var d;return b["$=="](a)?0:b["$=="](g(m,"SLASH"))?n(d=a["$start_with?"](g(m,"SLASH")))?1:d:n(d=a["$start_with?"](c(b,g(m,"SLASH"))))?c(b.$length(),1):d},y.$$arity=2);a.def(d,"$relative_path",B=function(a,b){var c=q;return n(this["$root?"](a))?
n(c=this["$descends_from?"](a,b))?a.$slice(c,a.$length()):g(m,"Pathname").$new(a).$relative_path_from(g(m,"Pathname").$new(b)).$to_s():a},B.$$arity=2);a.def(d,"$posixify",A=function(a){return n(a)?n(this.file_separator["$=="](g(m,"BACKSLASH"))?a["$include?"](g(m,"BACKSLASH")):this.file_separator["$=="](g(m,"BACKSLASH")))?a.$tr(g(m,"BACKSLASH"),g(m,"SLASH")):a:""},A.$$arity=1);a.alias(d,"posixfy","posixify");a.def(d,"$expand_path",D=function(b){var c,d,e,f=q,h=c=q;d=this.$partition_path(b);c=a.to_ary(d);
f=null==c[0]?q:c[0];c=null==c[1]?q:c[1];d;return n(b["$include?"](g(m,"DOT_DOT")))?(h=[],r(f,"each",[],(e=function(a){null==a&&(a=q);return a["$=="](g(m,"DOT_DOT"))?h.$pop():h["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(h,c)):this.$join_path(f,c)},D.$$arity=1);a.def(d,"$partition_path",S=function(b,d){var f=q,h=q,k=f=q,f=f=q;null==d&&(d=q);if(n(f=(h=n(d)?this._partition_path_web:this._partition_path_sys)["$[]"](b)))return f;f=this.$posixify(b);n(d)?n(this["$web_root?"](f))?k=g(m,"SLASH"):
n(f["$start_with?"](g(m,"DOT_SLASH")))&&(k=g(m,"DOT_SLASH")):n(this["$root?"](f))?k=n(this["$unc?"](f))?g(m,"DOUBLE_SLASH"):n(f["$start_with?"](g(m,"SLASH")))?g(m,"SLASH"):f.$slice(0,c(f.$index(g(m,"SLASH")),1)):n(f["$start_with?"](g(m,"DOT_SLASH")))&&(k=g(m,"DOT_SLASH"));f=(n(k)?f.$slice(k.$length(),f.$length()):f).$split(g(m,"SLASH"));f.$delete(g(m,"DOT"));f=[b,[f,k]];r(h,"[]=",a.to_a(f));h=f;k=f.length;k="number"===typeof k?k-1:k["$-"](1);return h[k]},S.$$arity=-2);a.def(d,"$join_path",Y=function(a,
b){null==b&&(b=q);return n(b)?""+b+a.$join(g(m,"SLASH")):a.$join(g(m,"SLASH"))},Y.$$arity=-2);a.def(d,"$system_path",U=function(b,d,f,h){var k,t,u,w,z=q,x=q,y=q,E=q,B=z=q,A=q,D=q,L=B=q;null==d&&(d=q);null==f&&(f=q);null==h&&(h=p([],{}));n(f)&&(n(this["$root?"](f))||this.$raise(l("::","SecurityError"),"Jail is not an absolute path: "+f),f=this.$posixify(f));if(n(b)){if(n(this["$root?"](b))){z=this.$expand_path(b);if(n(n(k=f)?this["$descends_from?"](z,f)["$!"]():k)){if(n(h.$fetch("recover",!0)))return this.$logger().$warn(""+
(n(k=h["$[]"]("target_name"))?k:"path")+" is outside of jail; recovering automatically"),t=this.$partition_path(z),k=a.to_ary(t),x=null==k[0]?q:k[0],t,t=this.$partition_path(f),k=a.to_ary(t),y=null==k[0]?q:k[0],E=null==k[1]?q:k[1],t,this.$join_path(c(y,x),E);this.$raise(l("::","SecurityError"),""+(n(k=h["$[]"]("target_name"))?k:"path")+" "+b+" is outside of jail: "+f+" (disallowed in safe mode)")}return z}t=this.$partition_path(b);k=a.to_ary(t);x=null==k[0]?q:k[0];t}else x=[];if(n(x["$empty?"]())){if(n(d["$nil_or_empty?"]()))return n(k=
f)?k:this.working_dir;if(n(this["$root?"](d)))if(n(f))d=this.$posixify(d);else return this.$expand_path(d);else t=this.$partition_path(d),k=a.to_ary(t),x=null==k[0]?q:k[0],t,d=n(k=f)?k:this.working_dir}else n(d["$nil_or_empty?"]())?d=n(k=f)?k:this.working_dir:n(this["$root?"](d))?n(f)&&(d=this.$posixify(d)):d=""+(n(k=f)?k:this.working_dir).$chomp("/")+"/"+d;n(n(k=n(t=f)?z=this["$descends_from?"](d,f)["$!"]():t)?this.file_separator["$=="](g(m,"BACKSLASH")):k)?(t=this.$partition_path(d),k=a.to_ary(t),
B=null==k[0]?q:k[0],A=null==k[1]?q:k[1],t,t=this.$partition_path(f),k=a.to_ary(t),y=null==k[0]?q:k[0],E=null==k[1]?q:k[1],t,n(A["$!="](E))&&(n(h.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(n(k=h["$[]"]("target_name"))?k:"path")+" is outside of jail root; recovering automatically"),B=y,z=!1):this.$raise(l("::","SecurityError"),"start path for "+(n(k=h["$[]"]("target_name"))?k:"path")+" "+d+" refers to location outside jail root: "+f+" (disallowed in safe mode)"))):(t=this.$partition_path(d),
k=a.to_ary(t),B=null==k[0]?q:k[0],E=null==k[1]?q:k[1],t);n((D=c(B,x))["$include?"](g(m,"DOT_DOT")))&&(k=[D,[]],B=k[0],D=k[1],k,n(f)?(n(y)||(t=this.$partition_path(f),k=a.to_ary(t),y=null==k[0]?q:k[0],t),L=!1,r(B,"each",[],(u=function(a){var c=u.$$s||this,d;null==a&&(a=q);if(a["$=="](g(m,"DOT_DOT"))){a=D.$size();var e=y.$size();a="number"===typeof a&&"number"===typeof e?a>e:a["$>"](e);if(n(a))return D.$pop();if(n(h.$fetch("recover",!0))){if(n(L))return q;c.$logger().$warn(""+(n(d=h["$[]"]("target_name"))?
d:"path")+" has illegal reference to ancestor of jail; recovering automatically");return L=!0}return c.$raise(l("::","SecurityError"),""+(n(d=h["$[]"]("target_name"))?d:"path")+" "+b+" refers to location outside jail: "+f+" (disallowed in safe mode)")}return D["$<<"](a)},u.$$s=this,u.$$arity=1,u))):r(B,"each",[],(w=function(a){null==a&&(a=q);return a["$=="](g(m,"DOT_DOT"))?D.$pop():D["$<<"](a)},w.$$s=this,w.$$arity=1,w)));return n(z)?(z=this.$join_path(D,E),n(this["$descends_from?"](z,f))?z:n(h.$fetch("recover",
!0))?(this.$logger().$warn(""+(n(k=h["$[]"]("target_name"))?k:"path")+" is outside of jail; recovering automatically"),n(y)||(t=this.$partition_path(f),k=a.to_ary(t),y=null==k[0]?q:k[0],t),this.$join_path(c(y,x),E)):this.$raise(l("::","SecurityError"),""+(n(k=h["$[]"]("target_name"))?k:"path")+" "+b+" is outside of jail: "+f+" (disallowed in safe mode)")):this.$join_path(D,E)},U.$$arity=-2);return(a.def(d,"$web_path",H=function(b,c){var d,e,f,h=q,k=q,l=q,t=q,p=q;null==c&&(c=q);b=this.$posixify(b);
c=this.$posixify(c);h=q;n(n(d=c["$nil_or_empty?"]())?d:this["$web_root?"](b))||(b=n(c["$end_with?"](g(m,"SLASH")))?""+c+b:""+c+g(m,"SLASH")+b,n(h=g(m,"Helpers").$uri_prefix(b))&&(b=b["$[]"](a.Range.$new(h.$length(),-1,!1))));e=this.$partition_path(b,!0);d=a.to_ary(e);k=null==d[0]?q:d[0];l=null==d[1]?q:d[1];e;t=[];r(k,"each",[],(f=function(a){var b;null==a&&(a=q);return a["$=="](g(m,"DOT_DOT"))?n(t["$empty?"]())?n(n(b=l)?l["$!="](g(m,"DOT_SLASH")):b)?q:t["$<<"](a):t["$[]"](-1)["$=="](g(m,"DOT_DOT"))?
t["$<<"](a):t.$pop():t["$<<"](a)},f.$$s=this,f.$$arity=1,f));n((p=this.$join_path(t,l))["$include?"](" "))&&(p=p.$gsub(" ","%20"));return n(h)?""+h+p:p},H.$$arity=-2),q)&&"web_path"})(f[0],null,f)}(h[0],h)};Opal.modules["asciidoctor/reader"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,
b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var m=[],b=a.nil,n=a.const_get_qualified,p=a.const_get_relative,r=a.module,u=a.klass,w=a.hash2,d=a.truthy,f=a.send,x=a.gvars,y=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $prepare_lines $drop $[] $normalize_lines_from_string $normalize_lines_array $empty? $nil_or_empty? $peek_line $> $slice $length $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $join $read_lines $unshift $start_with? $== $* $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $new $each $instance_variables $instance_variable_get $dup $instance_variable_set $to_i $attributes $< $catalog $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $pop_include $downcase $error $none? $key? $any? $all? $strip $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse_attributes $>= $safe $resolve_include_path $split_delimited_value $/ $to_a $uniq $sort $open $each_line $infinite? $push_include $delete $value? $force_encoding $create_include_cursor $rindex $delete_at $nil? $keys $read $uriish? $attr? $require_library $parse $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_s $path= $extname $rootname $<= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $map".split(" "));
return function(m,E){function B(){}var A=[B=r(m,"Asciidoctor",B)].concat(E);(function(g,$super,l){function m(){}g=m=u(g,$super,"Reader",m);var t=g.prototype,v=[g].concat(l),r,x,y,E,B,A,D,N,K,J,H,G,M,Z,ha,aa,ba,ma,sa,da,ea,R,Ea,Aa,Ba,wa,oa,Fa,Q,ja,xa,ta,ya,Ca,Ga,Ha;t.file=t.lines=t.process_lines=t.look_ahead=t.unescape_next_line=t.lineno=t.dir=t.path=t.mark=t.source_lines=t.saved=b;g.$include(p(v,"Logging"));(function(d,$super,f){function g(){}d=g=u(d,$super,"Cursor",g);var h=d.prototype;[d].concat(f);
var k,q,l;h.lineno=h.path=b;d.$attr_reader("file","dir","path","lineno");a.def(d,"$initialize",k=function(a,c,d,e){var f;null==c&&(c=b);null==d&&(d=b);null==e&&(e=1);return f=[a,c,d,e],this.file=f[0],this.dir=f[1],this.path=f[2],this.lineno=f[3],f},k.$$arity=-2);a.def(d,"$advance",q=function(a){return this.lineno=c(this.lineno,a)},q.$$arity=1);a.def(d,"$line_info",l=function(){return""+this.path+": line "+this.lineno},l.$$arity=0);return a.alias(d,"to_s","line_info")})(v[0],null,v);g.$attr_reader("file");
g.$attr_reader("dir");g.$attr_reader("path");g.$attr_reader("lineno");g.$attr_reader("source_lines");g.$attr_accessor("process_lines");g.$attr_accessor("unterminated");a.def(g,"$initialize",r=function(c,e,f){var g;null==c&&(c=b);null==e&&(e=b);null==f&&(f=w([],{}));d(e["$!"]())?(this.file=b,this.dir=".",this.path="<stdin>",this.lineno=1):d(n("::","String")["$==="](e))?(this.file=e,e=n("::","File").$split(this.file),g=a.to_ary(e),this.dir=null==g[0]?b:g[0],this.path=null==g[1]?b:g[1],e,this.lineno=
1):(d(this.file=e.$file())?(this.dir=d(g=e.$dir())?g:n("::","File").$dirname(this.file),this.path=d(g=e.$path())?g:n("::","File").$basename(this.file)):(this.dir=d(g=e.$dir())?g:".",this.path=d(g=e.$path())?g:"<stdin>"),this.lineno=d(g=e.$lineno())?g:1);this.lines=d(c)?this.$prepare_lines(c,f):[];this.source_lines=this.lines.$drop(0);this.mark=b;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.saved=this.unterminated=b},r.$$arity=-1);a.def(g,"$prepare_lines",x=function(a,
b){null==b&&(b=w([],{}));return d(n("::","String")["$==="](a))?d(b["$[]"]("normalize"))?p(v,"Helpers").$normalize_lines_from_string(a):a.$split(p(v,"LF"),-1):d(b["$[]"]("normalize"))?p(v,"Helpers").$normalize_lines_array(a):a.$drop(0)},x.$$arity=-2);a.def(g,"$process_line",y=function(a){d(this.process_lines)&&(this.look_ahead=c(this.look_ahead,1));return a},y.$$arity=1);a.def(g,"$has_more_lines?",E=function(){return d(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},E.$$arity=0);a.def(g,"$empty?",
B=function(){return d(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},B.$$arity=0);a.alias(g,"eof?","empty?");a.def(g,"$next_line_empty?",A=function(){return this.$peek_line()["$nil_or_empty?"]()},A.$$arity=0);a.def(g,"$peek_line",D=function(a){var c,e=b;null==a&&(a=!1);return d(d(c=a)?c:h(this.look_ahead,0))?d(this.unescape_next_line)?(e=this.lines["$[]"](0)).$slice(1,e.$length()):this.lines["$[]"](0):d(this.lines["$empty?"]())?(this.look_ahead=0,b):d(e=this.$process_line(this.lines["$[]"](0)))?
e:this.$peek_line()},D.$$arity=-1);a.def(g,"$peek_lines",N=function(c,e){var g,h,k=this,l=b,t=b;null==c&&(c=b);null==e&&(e=!1);l=k.look_ahead;t=[];(function(){var l=a.new_brk();try{return f(d(g=c)?g:p(v,"MAX_INT"),"times",[],(h=function(){var c=h.$$s||this,f=b;null==c.lineno&&(c.lineno=b);if(d(f=d(e)?c.$shift():c.$read_line()))return t["$<<"](f);d(e)&&(c.lineno=q(c.lineno,1));a.brk(b,l)},h.$$s=k,h.$$brk=l,h.$$arity=0,h))}catch(n){if(n===l)return n.$v;throw n;}})();d(t["$empty?"]())||(k.$unshift_all(t),
d(e)&&(k.look_ahead=l));return t},N.$$arity=-1);a.def(g,"$read_line",K=function(){var a;return d(d(a=h(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():b},K.$$arity=0);a.def(g,"$read_lines",J=function(){for(var a=b,a=[];d(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},J.$$arity=0);a.alias(g,"readlines","read_lines");a.def(g,"$read",H=function(){return this.$read_lines().$join(p(v,"LF"))},H.$$arity=0);a.def(g,"$advance",G=function(){return d(this.$shift())?!0:!1},G.$$arity=
0);a.def(g,"$unshift_line",M=function(a){this.$unshift(a);return b},M.$$arity=1);a.alias(g,"restore_line","unshift_line");a.def(g,"$unshift_lines",Z=function(a){this.$unshift_all(a);return b},Z.$$arity=1);a.alias(g,"restore_lines","unshift_lines");a.def(g,"$replace_next_line",ha=function(a){this.$shift();this.$unshift(a);return!0},ha.$$arity=1);a.alias(g,"replace_line","replace_next_line");a.def(g,"$skip_blank_lines",aa=function(){var a=b,f=b;if(d(this["$empty?"]()))return b;for(a=0;d(f=this.$peek_line());)if(d(f["$empty?"]()))this.$shift(),
a=c(a,1);else return a},aa.$$arity=0);a.def(g,"$skip_comment_lines",ba=function(){var a,c=b,e=b;if(d(this["$empty?"]()))return b;for(;d(d(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(d(c["$start_with?"]("//")))if(d(c["$start_with?"]("///")))if(d(d(a=h(e=c.$length(),3))?c["$=="]("/"["$*"](e)):a))this.$read_lines_until(w(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:c,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;
else this.$shift();else break;return b},ba.$$arity=0);a.def(g,"$skip_line_comments",ma=function(){var a,c=b,e=b;if(d(this["$empty?"]()))return[];for(c=[];d(d(a=e=this.$peek_line())?e["$empty?"]()["$!"]():a);)if(d(e["$start_with?"]("//")))c["$<<"](this.$shift());else break;return c},ma.$$arity=0);a.def(g,"$terminate",sa=function(){this.lineno=c(this.lineno,this.lines.$size());this.lines.$clear();this.look_ahead=0;return b},sa.$$arity=0);a.def(g,"$read_lines_until",da=function(c){var e,g,h,k,l=da.$$p,
t=l||b,n=b,m=b,r=b,u=b,x=b,y=b,E=b,F=b,B=b,A=b,J=b,K=b,D=b;l&&(da.$$p=null);null==c&&(c=w([],{}));n=[];d(d(e=this.process_lines)?c["$[]"]("skip_processing"):e)&&(this.process_lines=!1,m=!0);d(r=c["$[]"]("terminator"))?(u=d(e=c["$[]"]("cursor"))?e:this.$cursor(),y=x=!1):(x=c["$[]"]("break_on_blank_lines"),y=c["$[]"]("break_on_list_continuation"));E=c["$[]"]("skip_line_comments");F=B=A=b;for(d(c["$[]"]("skip_first_line"))&&this.$shift();d(d(g=F["$!"]())?J=this.$read_line():g);)F=function(){for(;d(!0);)return d(d(h=
r)?J["$=="](r):h)||d(d(h=x)?J["$empty?"]():h)?!0:d(d(h=d(k=y)?B:k)?J["$=="](p(v,"LIST_CONTINUATION")):h)?(K=["preserve_last_line",!0],f(c,"[]=",a.to_a(K)),K[q(K.length,1)],!0):d((h=t!==b)?a.yield1(t,J):t!==b)?!0:!1;return b}(),d(F)?(d(c["$[]"]("read_last_line"))&&(n["$<<"](J),B=!0),d(c["$[]"]("preserve_last_line"))&&(this.$unshift(J),A=!0)):d(d(g=d(h=E)?J["$start_with?"]("//"):h)?J["$start_with?"]("///")["$!"]():g)||(n["$<<"](J),B=!0);d(m)&&(this.process_lines=!0,d(d(e=A)?r["$!"]():e)&&(this.look_ahead=
q(this.look_ahead,1)));d(d(e=d(g=r)?r["$!="](J):g)?D=c.$fetch("context",r):e)&&(u["$=="]("at_mark")&&(u=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+D+" block",w(["source_location"],{source_location:u}))),this.unterminated=!0);return n},da.$$arity=-1);a.def(g,"$shift",ea=function(){this.lineno=c(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=q(this.look_ahead,1));return this.lines.$shift()},ea.$$arity=0);a.def(g,"$unshift",R=function(a){this.lineno=
q(this.lineno,1);this.look_ahead=c(this.look_ahead,1);return this.lines.$unshift(a)},R.$$arity=1);a.def(g,"$unshift_all",Ea=function(b){this.lineno=q(this.lineno,b.$size());this.look_ahead=c(this.look_ahead,b.$size());return f(this.lines,"unshift",a.to_a(b))},Ea.$$arity=1);a.def(g,"$cursor",Aa=function(){return p(v,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},Aa.$$arity=0);a.def(g,"$cursor_at_line",Ba=function(a){return p(v,"Cursor").$new(this.file,this.dir,this.path,a)},Ba.$$arity=1);
a.def(g,"$cursor_at_mark",wa=function(){return d(this.mark)?f(p(v,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},wa.$$arity=0);a.def(g,"$cursor_before_mark",oa=function(){var c,e,f=b,g=b,h=b;c=b;return d(this.mark)?(e=this.mark,c=a.to_ary(e),f=null==c[0]?b:c[0],g=null==c[1]?b:c[1],h=null==c[2]?b:c[2],c=null==c[3]?b:c[3],e,p(v,"Cursor").$new(f,g,h,q(c,1))):p(v,"Cursor").$new(this.file,this.dir,this.path,q(this.lineno,1))},oa.$$arity=0);a.def(g,"$cursor_at_prev_line",Fa=function(){return p(v,"Cursor").$new(this.file,
this.dir,this.path,q(this.lineno,1))},Fa.$$arity=0);a.def(g,"$mark",Q=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},Q.$$arity=0);a.def(g,"$line_info",ja=function(){return""+this.path+": line "+this.lineno},ja.$$arity=0);a.def(g,"$lines",xa=function(){return this.lines.$drop(0)},xa.$$arity=0);a.def(g,"$string",ta=function(){return this.lines.$join(p(v,"LF"))},ta.$$arity=0);a.def(g,"$source",ya=function(){return this.source_lines.$join(p(v,"LF"))},ya.$$arity=0);a.def(g,"$save",
Ca=function(){var c,e=b,e=w([],{});f(this.$instance_variables(),"each",[],(c=function(g){var h=c.$$s||this,k,l=b,t=b;null==g&&(g=b);if(d(d(k=g["$=="]("@saved"))?k:g["$=="]("@source_lines")))return b;l=[g,d(n("::","Array")["$==="](t=h.$instance_variable_get(g)))?t.$dup():t];f(e,"[]=",a.to_a(l));return l[q(l.length,1)]},c.$$s=this,c.$$arity=1,c));this.saved=e;return b},Ca.$$arity=0);a.def(g,"$restore_save",Ga=function(){var a;return d(this.saved)?(f(this.saved,"each",[],(a=function(c,d){var e=a.$$s||
this;null==c&&(c=b);null==d&&(d=b);return e.$instance_variable_set(c,d)},a.$$s=this,a.$$arity=2,a)),this.saved=b):b},Ga.$$arity=0);a.def(g,"$discard_save",Ha=function(){return this.saved=b},Ha.$$arity=0);return a.alias(g,"to_s","line_info")})(A[0],null,A);(function(m,$super,r){function E(){}m=E=u(m,$super,"PreprocessorReader",E);var t=m.prototype,B=[m].concat(r),A,D,N,S,Y,U,H,V,K,J,M,G,Z,la,ha,aa,ba,ma,sa,da;t.document=t.lineno=t.process_lines=t.look_ahead=t.skipping=t.include_stack=t.conditional_stack=
t.path=t.include_processor_extensions=t.maxdepth=t.dir=t.lines=t.file=t.includes=t.unescape_next_line=b;m.$attr_reader("include_stack");a.def(m,"$initialize",A=function(c,e,g,h){var k=b;A.$$p&&(A.$$p=null);null==e&&(e=b);null==g&&(g=b);null==h&&(h=w([],{}));this.document=c;f(this,a.find_super_dispatcher(this,"initialize",A,!1),[e,g,h],null);k=c.$attributes().$fetch("max-include-depth",64).$to_i();d(l(k,0))&&(k=0);this.maxdepth=w(["abs","rel"],{abs:k,rel:k});this.include_stack=[];this.includes=c.$catalog()["$[]"]("includes");
this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=b},A.$$arity=-2);a.def(m,"$prepare_lines",D=function(g,h){var k,l,t=D.$$p,m=b,n=b,v=b,r=b,u=b,x=v=m=b;t&&(D.$$p=null);v=0;x=arguments.length;for(m=Array(x);v<x;v++)m[v]=arguments[v];null==h&&(h=w([],{}));m=f(this,a.find_super_dispatcher(this,"prepare_lines",D,!1),m,t);d(d(k=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):k)&&d(n=this["$skip_front_matter!"](m))&&(v=["front-matter",n.$join(p(B,
"LF"))],f(this.document.$attributes(),"[]=",a.to_a(v)),v[q(v.length,1)]);if(d(h.$fetch("condense",!0))){for(;d(d(l=r=m["$[]"](0))?r["$empty?"]():l);)d(l=m.$shift())?this.lineno=c(this.lineno,1):l;for(;d(d(l=u=m["$[]"](-1))?u["$empty?"]():l);)m.$pop()}if(d(h["$[]"]("indent")))p(B,"Parser")["$adjust_indentation!"](m,h["$[]"]("indent"),this.document.$attr("tabsize"));return m},D.$$arity=-2);a.def(m,"$process_line",N=function(a){var f,g;if(!d(this.process_lines))return a;if(d(a["$empty?"]()))return this.look_ahead=
c(this.look_ahead,1),a;if(d(d(f=d(g=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():g)?a["$include?"]("::"):f)){if(d(d(f=a["$include?"]("if"))?p(B,"ConditionalDirectiveRx")["$=~"](a):f)){if(((f=x["~"])===b?b:f["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=c(this.look_ahead,1),a.$slice(1,a.$length());if(d(this.$preprocess_conditional_directive((f=x["~"])===b?b:f["$[]"](2),(f=x["~"])===b?b:f["$[]"](3),(f=x["~"])===b?b:f["$[]"](4),(f=x["~"])===b?b:f["$[]"](5))))return this.$shift(),
b;this.look_ahead=c(this.look_ahead,1);return a}if(d(this.skipping))return this.$shift(),b;if(d(d(f=a["$start_with?"]("inc","\\inc"))?p(B,"IncludeDirectiveRx")["$=~"](a):f)){if(((f=x["~"])===b?b:f["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=c(this.look_ahead,1),a.$slice(1,a.$length());if(d(this.$preprocess_include_directive((f=x["~"])===b?b:f["$[]"](2),(f=x["~"])===b?b:f["$[]"](3))))return b;this.look_ahead=c(this.look_ahead,1);return a}this.look_ahead=c(this.look_ahead,
1);return a}if(d(this.skipping))return this.$shift(),b;this.look_ahead=c(this.look_ahead,1);return a},N.$$arity=1);a.def(m,"$has_more_lines?",S=function(){return d(this.$peek_line())?!0:!1},S.$$arity=0);a.def(m,"$empty?",Y=function(){return d(this.$peek_line())?!1:!0},Y.$$arity=0);a.alias(m,"eof?","empty?");a.def(m,"$peek_line",U=function(c){var e=U.$$p,g=b,h=g=b,k=b;e&&(U.$$p=null);h=0;k=arguments.length;for(g=Array(k);h<k;h++)g[h]=arguments[h];null==c&&(c=!1);if(d(g=f(this,a.find_super_dispatcher(this,
"peek_line",U,!1),g,e)))return g;if(d(this.include_stack["$empty?"]()))return b;this.$pop_include();return this.$peek_line(c)},U.$$arity=-1);a.def(m,"$preprocess_conditional_directive",H=function(a,c,e,g){var h,k,l,t,m,n,v,r=b,u=b,y=b,E=b,F=E=r=b;d(r=c["$empty?"]())||(c=c.$downcase());if(d(d(h=d(k=r)?d(l=a["$=="]("ifdef"))?l:a["$=="]("ifndef"):k)?h:d(k=g)?a["$=="]("endif"):k))return!1;if(a["$=="]("endif"))return d(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched macro: endif::"+
c+"[]",w(["source_location"],{source_location:this.$cursor()}))):d(d(h=r)?h:c["$=="]((u=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=d(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$logger().$error(this.$message_with_context("mismatched macro: endif::"+c+"[], expected endif::"+u["$[]"]("target")+"[]",w(["source_location"],{source_location:this.$cursor()}))),!0;if(d(this.skipping))y=!1;else if(E=
a,"ifdef"["$==="](E))E=e,y=","["$==="](E)?f(c.$split(",",-1),"none?",[],(t=function(a){var c=t.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$key?"](a)},t.$$s=this,t.$$arity=1,t)):"+"["$==="](E)?f(c.$split("+",-1),"any?",[],(m=function(a){var c=m.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$key?"](a)["$!"]()},m.$$s=this,m.$$arity=1,m)):this.document.$attributes()["$key?"](c)["$!"]();else if("ifndef"["$==="](E))E=
e,y=","["$==="](E)?f(c.$split(",",-1),"any?",[],(n=function(a){var c=n.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$key?"](a)},n.$$s=this,n.$$arity=1,n)):"+"["$==="](E)?f(c.$split("+",-1),"all?",[],(v=function(a){var c=v.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$key?"](a)},v.$$s=this,v.$$arity=1,v)):this.document.$attributes()["$key?"](c);else if("ifeval"["$==="](E)){if(!d(d(h=r)?p(B,"EvalExpressionRx")["$=~"](g.$strip()):
h))return!1;h=[(k=x["~"])===b?b:k["$[]"](1),(k=x["~"])===b?b:k["$[]"](2),(k=x["~"])===b?b:k["$[]"](3)];r=h[0];E=h[1];F=h[2];h;r=this.$resolve_expr_val(r);F=this.$resolve_expr_val(F);y=E["$=="]("!=")?r.$send("==",F):r.$send(E.$to_sym(),F)["$!"]()}d(d(h=a["$=="]("ifeval"))?h:g["$!"]())?(d(y)&&(this.skipping=!0),this.conditional_stack["$<<"](w(["target","skip","skipping"],{target:c,skip:y,skipping:this.skipping}))):d(d(h=this.skipping)?h:y)||(this.$replace_next_line(g.$rstrip()),this.$unshift(""),d(g["$start_with?"]("include::"))&&
(this.look_ahead=q(this.look_ahead,1)));return!0},H.$$arity=4);a.def(m,"$preprocess_include_directive",V=function(t,m){var r,u,E,A,J,K,D,G,L=this,N=b,X=b,S=b,V=b,U=N=b,ba=b,da=V=b,aa=b,H=b,Y=b,ca=b,C=b,W=b,Ja=b,ua=b,ia=b,ga=b,O=b,na=b,fa=W=b,N=L.document;if(d(d(r=(X=t)["$include?"](p(B,"ATTR_REF_HEAD")))?(X=N.$sub_attributes(t,w(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():r))return L.$shift(),(d(r=N.$attributes()["$[]"]("attribute-missing"))?r:p(B,"Compliance").$attribute_missing())["$=="]("skip")&&
L.$unshift("Unresolved directive in "+L.path+" - include::"+t+"["+m+"]"),!0;if(d(d(r=L["$include_processors?"]())?S=f(L.include_processor_extensions,"find",[],(u=function(a){null==a&&(a=b);return a.$instance()["$handles?"](X)},u.$$s=L,u.$$arity=1,u)):r))return L.$shift(),S.$process_method()["$[]"](N,L,X,N.$parse_attributes(m,[],w(["sub_input"],{sub_input:!0}))),!0;if(d(g(N.$safe(),n(p(B,"SafeMode"),"SECURE"))))return L.$replace_next_line("link:"+X+"[]");if(d(h(V=L.maxdepth["$[]"]("abs"),0))){if(d(g(L.include_stack.$size(),
V)))return L.$logger().$error(L.$message_with_context("maximum include depth of "+L.maxdepth["$[]"]("rel")+" exceeded",w(["source_location"],{source_location:L.$cursor()}))),b;N=N.$parse_attributes(m,[],w(["sub_input"],{sub_input:!0}));u=L.$resolve_include_path(X,m,N);r=a.to_ary(u);U=null==r[0]?b:r[0];ba=null==r[1]?b:r[1];V=null==r[2]?b:r[2];u;if(!d(ba))return U;da=aa=b;d(m)&&(d(N["$key?"]("lines"))?(da=[],f(L.$split_delimited_value(N["$[]"]("lines")),"each",[],(E=function(f){var g,h=b,k=b;null==
f&&(f=b);return d(f["$include?"](".."))?(g=f.$split("..",2),f=a.to_ary(g),h=null==f[0]?b:f[0],k=null==f[1]?b:f[1],g,da=c(da,d(d(f=k["$empty?"]())?f:l(k=k.$to_i(),0))?[h.$to_i(),1/0]:n("::","Range").$new(h.$to_i(),k).$to_a())):da["$<<"](f.$to_i())},E.$$s=L,E.$$arity=1,E)),da=d(da["$empty?"]())?b:da.$sort().$uniq()):d(N["$key?"]("tag"))?d(d(r=(H=N["$[]"]("tag"))["$empty?"]())?r:H["$=="]("!"))||(aa=d(H["$start_with?"]("!"))?y(H.$slice(1,H.$length()),!1):y(H,!0)):d(N["$key?"]("tags"))&&(aa=w([],{}),f(L.$split_delimited_value(N["$[]"]("tags")),
"each",[],(A=function(c){var e,g=b;null==c&&(c=b);if(d(d(e=c["$empty?"]())?e:c["$=="]("!")))return b;g=d(c["$start_with?"]("!"))?[c.$slice(1,c.$length()),!1]:[c,!0];f(aa,"[]=",a.to_a(g));return g[q(g.length,1)]},A.$$s=L,A.$$arity=1,A)),d(aa["$empty?"]())&&(aa=b)));if(d(da)){r=[[],b,0];Y=r[0];ca=r[1];C=r[2];r;try{(function(){var g=a.new_brk();try{return f(L,"open",[U,"rb"],(J=function(g){var h=J.$$s||this,k,q=b;null==g&&(g=b);q=b;return function(){var l=a.new_brk();try{return f(g,"each_line",[],(k=
function(f){var g,h,k=b;null==f&&(f=b);C=c(C,1);if(d(d(g=q)?g:d(h=n("::","Float")["$==="](k=da["$[]"](0)))?q=k["$infinite?"]():h))return ca=d(g=ca)?g:C,Y["$<<"](f);k["$=="](C)&&(ca=d(g=ca)?g:C,Y["$<<"](f),da.$shift());if(d(da["$empty?"]()))a.brk(b,l);else return b},k.$$s=h,k.$$brk=l,k.$$arity=1,k))}catch(t){if(t===l)return t.$v;throw t;}}()},J.$$s=L,J.$$brk=g,J.$$arity=1,J))}catch(h){if(h===g)return h.$v;throw h;}})()}catch(T){if(a.rescue(T,[p(B,"StandardError")]))try{return L.$logger().$error(L.$message_with_context("include "+
ba+" not readable: "+U,w(["source_location"],{source_location:L.$cursor()}))),L.$replace_next_line("Unresolved directive in "+L.path+" - include::"+X+"["+m+"]")}finally{a.pop_exception()}else throw T;}L.$shift();d(ca)&&(W=["partial-option",!0],f(N,"[]=",a.to_a(W)),W[q(W.length,1)],L.$push_include(Y,U,V,ca,N))}else if(d(aa)){r=[[],b,0,[],n("::","Set").$new(),b];Y=r[0];ca=r[1];C=r[2];Ja=r[3];ua=r[4];ia=r[5];r;d(aa["$key?"]("**"))?d(aa["$key?"]("*"))?(ga=O=aa.$delete("**"),na=aa.$delete("*")):ga=O=na=
aa.$delete("**"):(ga=O=aa["$value?"](!0)["$!"](),na=aa.$delete("*"));try{f(L,"open",[U,"rb"],(K=function(g){var h=K.$$s||this,k,q,l=b,t=b,m=b;null==g&&(g=b);k=["::","[]"];l=k[0];t=k[1];k;d(p(B,"COERCE_ENCODING"))&&(m=n(n("::","Encoding"),"UTF_8"));return f(g,"each_line",[],(q=function(g){var h=q.$$s||this,k,n,v,r=b,u=b,y=b;null==g&&(g=b);C=c(C,1);d(m)&&g.$force_encoding(m);return d(d(k=d(n=g["$include?"](l))?g["$include?"](t):n)?p(B,"TagDirectiveRx")["$=~"](g):k)?d((k=x["~"])===b?b:k["$[]"](1))?(r=
(k=x["~"])===b?b:k["$[]"](2))["$=="](ia)?(Ja.$pop(),n=d(Ja["$empty?"]())?[b,O]:Ja["$[]"](-1),k=a.to_ary(n),ia=null==k[0]?b:k[0],ga=null==k[1]?b:k[1],n):d(aa["$key?"](r))?(u=h.$create_include_cursor(U,X,C),d(y=f(Ja,"rindex",[],(v=function(a,c){null==a&&(a=b);return a["$=="](r)},v.$$s=h,v.$$arity=2,v)))?(y["$=="](0)?Ja.$shift():Ja.$delete_at(y),h.$logger().$warn(h.$message_with_context("mismatched end tag (expected '"+ia+"' but found '"+r+"') at line "+C+" of include "+ba+": "+U,w(["source_location",
"include_location"],{source_location:h.$cursor(),include_location:u})))):h.$logger().$warn(h.$message_with_context("unexpected end tag '"+r+"' at line "+C+" of include "+ba+": "+U,w(["source_location","include_location"],{source_location:h.$cursor(),include_location:u})))):b:d(aa["$key?"](r=(k=x["~"])===b?b:k["$[]"](2)))?(ua["$<<"](r),Ja["$<<"]([ia=r,ga=aa["$[]"](r),C])):d(na["$nil?"]()["$!"]())?(ga=d(d(k=ia)?ga["$!"]():k)?!1:na,Ja["$<<"]([ia=r,ga,C])):b:d(ga)?(ca=d(k=ca)?k:C,Y["$<<"](g)):b},q.$$s=
h,q.$$arity=1,q))},K.$$s=L,K.$$arity=1,K))}catch(T){if(a.rescue(T,[p(B,"StandardError")]))try{return L.$logger().$error(L.$message_with_context("include "+ba+" not readable: "+U,w(["source_location"],{source_location:L.$cursor()}))),L.$replace_next_line("Unresolved directive in "+L.path+" - include::"+X+"["+m+"]")}finally{a.pop_exception()}else throw T;}d(Ja["$empty?"]())||f(Ja,"each",[],(D=function(a,c,d){c=D.$$s||this;null==a&&(a=b);null==d&&(d=b);return c.$logger().$warn(c.$message_with_context("detected unclosed tag '"+
a+"' starting at line "+d+" of include "+ba+": "+U,w(["source_location","include_location"],{source_location:c.$cursor(),include_location:c.$create_include_cursor(U,X,d)})))},D.$$s=L,D.$$arity=3,D));d((W=q(aa.$keys().$to_a(),ua.$to_a()))["$empty?"]())||L.$logger().$warn(L.$message_with_context("tag"+(d(h(W.$size(),1))?"s":"")+" '"+W.$join(", ")+"' not found in include "+ba+": "+U,w(["source_location"],{source_location:L.$cursor()})));L.$shift();d(ca)&&(d(d(r=d(u=O)?na:u)?aa["$empty?"]():r)||(W=["partial-option",
!0],f(N,"[]=",a.to_a(W)),W[q(W.length,1)]),L.$push_include(Y,U,V,ca,N))}else try{fa=function(){return f(L,"open",[U,"rb"],(G=function(a){null==a&&(a=b);return a.$read()},G.$$s=L,G.$$arity=1,G))}(),L.$shift(),L.$push_include(fa,U,V,1,N)}catch(T){if(a.rescue(T,[p(B,"StandardError")]))try{return L.$logger().$error(L.$message_with_context("include "+ba+" not readable: "+U,w(["source_location"],{source_location:L.$cursor()}))),L.$replace_next_line("Unresolved directive in "+L.path+" - include::"+X+"["+
m+"]")}finally{a.pop_exception()}else throw T;}return!0}return b},V.$$arity=2);a.def(m,"$resolve_include_path",K=function(a,c,e){var f,g,h=b,k=b,h=b,h=this.document;if(d(d(f=p(B,"Helpers")["$uriish?"](a))?f:d(n("::","String")["$==="](this.dir))?b:a=""+this.dir+"/"+a)){if(!d(h["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+c+"]");d(h["$attr?"]("cache-uri"))?d((g=n("::","OpenURI","skip_raise"))&&n(g,"Cache","skip_raise")?"constant":b)||p(B,"Helpers").$require_library("open-uri/cached",
"open-uri-cached"):d(n("::","RUBY_ENGINE_OPAL")["$!"]())&&n("::","OpenURI");return[n("::","URI").$parse(a),"uri",a]}k=h.$normalize_system_path(a,this.dir,b,w(["target_name"],{target_name:"include file"}));if(!d(n("::","File")["$file?"](k))){if(d(e["$key?"]("optional-option")))return this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+k,w(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+this.path+
" - include::"+a+"["+c+"]")}h=h.$path_resolver().$relative_path(k,h.$base_dir());return[k,"file",h]},K.$$arity=3);a.def(m,"$push_include",J=function(g,h,k,l,t){var m,v=b,r=b,v=v=b;null==h&&(h=b);null==k&&(k=b);null==l&&(l=1);null==t&&(t=w([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);d(this.file=h)?(d(n("::","String")["$==="](h))?this.dir=n("::","File").$dirname(h):d(n("::","RUBY_ENGINE_OPAL"))?this.dir=n("::","URI").$parse(n("::",
"File").$dirname(h=h.$to_s())):(v=[(r=n("::","File").$dirname(h.$path()))["$=="]("/")?"":r],f(this.dir=h.$dup(),"path=",a.to_a(v)),v[q(v.length,1)],h=h.$to_s()),k=d(m=k)?m:n("::","File").$basename(h),this.process_lines=p(B,"ASCIIDOC_EXTENSIONS")["$[]"](n("::","File").$extname(h))):(this.dir=".",this.process_lines=!0);d(k)?(this.path=k,d(this.process_lines)&&(v=[p(B,"Helpers").$rootname(k),d(t["$[]"]("partial-option"))?b:!0],f(this.includes,"[]=",a.to_a(v)),v[q(v.length,1)])):this.path="<stdin>";this.lineno=
l;d(t["$key?"]("depth"))&&(v=t["$[]"]("depth").$to_i(),d("number"===typeof v?0>=v:v["$<="](0))&&(v=1),this.maxdepth=w(["abs","rel"],{abs:c(q(this.include_stack.$size(),1),v),rel:v}));if(d((this.lines=this.$prepare_lines(g,w(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:t["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(d(t["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+t["$[]"]("leveloffset"));this.lines["$<<"]("");if(d(v=
this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+v);else this.lines["$<<"](":leveloffset!:");this.lineno=q(this.lineno,2)}this.look_ahead=0}return this},J.$$arity=-2);a.def(m,"$create_include_cursor",M=function(a,c,e){var f=b;d(n("::","String")["$==="](a))?f=n("::","File").$dirname(a):d(n("::","RUBY_ENGINE_OPAL"))?f=n("::","File").$dirname(a=a.$to_s()):(f=(f=n("::","File").$dirname(a.$path()))["$=="]("")?"/":f,a=a.$to_s());return p(B,"Cursor").$new(a,f,c,e)},M.$$arity=3);a.def(m,
"$pop_include",G=function(){var c,e;d(h(this.include_stack.$size(),0))&&(e=this.include_stack.$pop(),c=a.to_ary(e),this.lines=null==c[0]?b:c[0],this.file=null==c[1]?b:c[1],this.dir=null==c[2]?b:c[2],this.path=null==c[3]?b:c[3],this.lineno=null==c[4]?b:c[4],this.maxdepth=null==c[5]?b:c[5],this.process_lines=null==c[6]?b:c[6],e,this.look_ahead=0);return b},G.$$arity=0);a.def(m,"$include_depth",Z=function(){return this.include_stack.$size()},Z.$$arity=0);a.def(m,"$exceeded_max_depth?",la=function(){var a,
c=b;return d(d(a=h(c=this.maxdepth["$[]"]("abs"),0))?g(this.include_stack.$size(),c):a)?this.maxdepth["$[]"]("rel"):!1},la.$$arity=0);a.def(m,"$shift",ha=function(){var c=ha.$$p,e=b,g=b,h=b,k=b;c&&(ha.$$p=null);h=0;k=arguments.length;for(g=Array(k);h<k;h++)g[h]=arguments[h];return d(this.unescape_next_line)?(this.unescape_next_line=!1,(e=f(this,a.find_super_dispatcher(this,"shift",ha,!1),g,c)).$slice(1,e.$length())):f(this,a.find_super_dispatcher(this,"shift",ha,!1),g,c)},ha.$$arity=0);a.def(m,"$split_delimited_value",
aa=function(a){return d(a["$include?"](","))?a.$split(","):a.$split(";")},aa.$$arity=1);a.def(m,"$skip_front_matter!",ba=function(g,h){var k,q=b,l=b;null==h&&(h=!0);q=b;if(g["$[]"](0)["$=="]("---")){l=g.$drop(0);g.$shift();q=[];d(h)&&(this.lineno=c(this.lineno,1));for(;d(d(k=g["$empty?"]()["$!"]())?g["$[]"](0)["$!="]("---"):k);)q["$<<"](g.$shift()),d(h)&&(this.lineno=c(this.lineno,1));d(g["$empty?"]())?(f(g,"unshift",a.to_a(l)),d(h)&&(this.lineno=0),q=b):(g.$shift(),d(h)&&(this.lineno=c(this.lineno,
1)))}return q},ba.$$arity=-2);a.def(m,"$resolve_expr_val",ma=function(a){var c,e,f=b;d(d(c=d(e=a["$start_with?"]('"'))?a["$end_with?"]('"'):e)?c:d(e=a["$start_with?"]("'"))?a["$end_with?"]("'"):e)?(f=!0,a=a.$slice(1,q(a.$length(),1))):f=!1;d(a["$include?"](p(B,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,w(["attribute_missing"],{attribute_missing:"drop"})));return d(f)?a:d(a["$empty?"]())?b:a["$=="]("true")?!0:a["$=="]("false")?!1:d(a.$rstrip()["$empty?"]())?" ":d(a["$include?"]("."))?a.$to_f():
a.$to_i()},ma.$$arity=1);a.def(m,"$include_processors?",sa=function(){var a;return d(this.include_processor_extensions["$nil?"]())?d(d(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},sa.$$arity=0);return(a.def(m,"$to_s",da=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+
" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+f(this.include_stack,"map",[],(a=function(a){null==a&&(a=b);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},da.$$arity=0),b)&&"to_s"})(A[0],p(A,"Reader"),A)}(m[0],m)};Opal.modules["asciidoctor/section"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=[],q=a.nil,l=a.const_get_relative,g=a.module,m=a.klass,b=a.hash2,
n=a.send,p=a.truthy;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $== $> $sectnum $int_to_roman $to_i $reftext $! $empty? $sprintf $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));return function(h,k){function r(){}var d=[r=g(h,"Asciidoctor",r)].concat(k);(function(d,$super,
g){function h(){}d=h=m(d,$super,"Section",h);var k=d.prototype,r=[d].concat(g),u,w,x,z,y,t,A;k.document=k.level=k.numeral=k.parent=k.numbered=k.sectname=k.title=k.blocks=q;d.$attr_accessor("index");d.$attr_accessor("sectname");d.$attr_accessor("special");d.$attr_accessor("numbered");d.$attr_reader("caption");a.def(d,"$initialize",u=function(d,f,g,h){var k;u.$$p&&(u.$$p=null);null==d&&(d=q);null==f&&(f=q);null==g&&(g=!1);null==h&&(h=b([],{}));n(this,a.find_super_dispatcher(this,"initialize",u,!1),
[d,"section",h],null);d=p(l(r,"Section")["$==="](d))?[p(k=f)?k:c(d.$level(),1),d.$special()]:[p(k=f)?k:1,!1];this.level=d[0];this.special=d[1];d;this.numbered=g;return this.index=0},u.$$arity=-1);a.alias(d,"name","title");a.def(d,"$generate_id",w=function(){return l(r,"Section").$generate_id(this.$title(),this.document)},w.$$arity=0);a.def(d,"$sectnum",x=function(a,b){var c;null==a&&(a=".");null==b&&(b=q);b=p(c=b)?c:b["$=="](!1)?"":a;this.level["$=="](1)?c=""+this.numeral+b:(c=this.level,c="number"===
typeof c?1<c:c["$>"](1),c=p(c)?p(l(r,"Section")["$==="](this.parent))?""+this.parent.$sectnum(a,a)+this.numeral+b:""+this.numeral+b:""+l(r,"Helpers").$int_to_roman(this.numeral.$to_i())+b);return c},x.$$arity=-1);a.def(d,"$xreftext",z=function(a){var b,c=q,d=q,e=q,f=d=q;null==a&&(a=q);p(p(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:p(a)?(p(this.numbered)?(d=a,"full"["$==="](d)?(d=p(p(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):
this.$sprintf(this.$sub_quotes(p(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=p(f=this.document.$attributes()["$[]"](""+e+"-refsig"))?""+f+" "+this.$sectnum(".",",")+" "+d:""+this.$sectnum(".",",")+" "+d):a="short"["$==="](d)?p(f=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+f+" "+this.$sectnum(".",""):this.$sectnum(".",""):p(p(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title()):
a=p(p(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},z.$$arity=-1);a.def(d,"$<<",y=function(b){var c=y.$$p,d=q,e=q,f=q;c&&(y.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_numeral(b);return n(this,a.find_super_dispatcher(this,"<<",y,!1),d,c)},y.$$arity=1);a.def(d,"$to_s",t=function(){var b=t.$$p,c=q,d=c=q,e=q;b&&
(t.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return p(this.title)?(c=p(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+c.$inspect()+", blocks: "+this.blocks.$size()+"}>"):n(this,a.find_super_dispatcher(this,"to_s",t,!1),c,b)},t.$$arity=0);return(a.defs(d,"$generate_id",A=function(b,d){var f,g,h=q,k=q,t=q,m=q,u=g=q,w=g=k=h=q,h=d.$attributes(),k=p(f=h["$[]"]("idprefix"))?f:"_";p(t=
h["$[]"]("idseparator"))?(p(f=t.$length()["$=="](1))?h=f:p(g=(m=t["$empty?"]())["$!"]())?(g=["idseparator",t.$chr()],n(h,"[]=",a.to_a(g)),t=g,h=g.length,h="number"===typeof h?h-1:h["$-"](1),h=t=t[h]):h=g,p(h)&&(u=p(p(f=t["$=="]("-"))?f:t["$=="]("."))?" .-":" "+t+".-")):(f=["_"," _.-"],t=f[0],u=f[1],f);h=""+k+b.$downcase().$gsub(l(r,"InvalidSectionIdCharsRx"),"");p(m)?h=h.$delete(" "):(h=h.$tr_s(u,t),p(h["$end_with?"](t))&&(h=h.$chop()),p(p(f=k["$empty?"]())?h["$start_with?"](t):f)&&(h=h.$slice(1,
h.$length())));if(p(d.$catalog()["$[]"]("ids")["$key?"](h))){f=[d.$catalog()["$[]"]("ids"),l(r,"Compliance").$unique_id_start_index()];k=f[0];g=f[1];for(f;p(k["$key?"](w=""+h+t+g));)g=c(g,1);return w}return h},A.$$arity=2),q)&&"generate_id"})(d[0],l(d,"AbstractBlock"),d)}(h[0],h)};Opal.modules["asciidoctor/stylesheets"]=function(a){var c=[],h=a.nil,q=a.const_get_qualified,l=a.const_get_relative,g=a.module,m=a.klass,b=a.truthy,n=a.hash2,p=a.gvars,r=a.send;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $=~ $css $[] $sub $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));
return function(c,e){function d(){}var f=[d=g(c,"Asciidoctor",d)].concat(e);(function(c,$super,d){function e(){}var f=e=m(c,$super,"Stylesheets",e);c=f.prototype;var g=[f].concat(d),u,w,x,y,t,z,A,D,H,S,M,U,fa,V,K;c.primary_stylesheet_data=c.coderay_stylesheet_data=c.pygments_stylesheet_data=h;a.const_set(g[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(g[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(g[0],"STYLESHEETS_DATA_PATH",q("::","File").$join(l(g,"DATA_PATH"),"stylesheets"));
a.const_set(g[0],"PygmentsBgColorRx",/^\.pygments +\{ *background: *([^;]+);/);f.__instance__=f.$new();a.defs(f,"$instance",u=function(){null==this.__instance__&&(this.__instance__=h);return this.__instance__},u.$$arity=0);a.def(f,"$primary_stylesheet_name",w=function(){return l(g,"DEFAULT_STYLESHEET_NAME")},w.$$arity=0);a.def(f,"$primary_stylesheet_data",x=function(){var b=a.const_get_relative([],"File"),c;c=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===b.$basename(__dirname)&&
"dist"===b.$basename(b.$dirname(__dirname))?b.$join(b.$dirname(__dirname),"css"):b.$join(__dirname,"css"):a.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===b.$basename(__DIR__)&&"dist"===b.$basename(b.$dirname(__DIR__))?b.$join(b.$dirname(__DIR__),"css"):b.$join(__DIR__,"css"):"css";return!1!==($a=f.primary_stylesheet_data)&&$a!==h&&null!=$a?$a:f.primary_stylesheet_data=a.const_get_relative([],"IO").$read(b.$join(c,"asciidoctor.css")).$chomp()},x.$$arity=0);a.def(f,"$embed_primary_stylesheet",
y=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},y.$$arity=0);a.def(f,"$write_primary_stylesheet",t=function(a){null==a&&(a=".");return q("::","IO").$write(q("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},t.$$arity=-1);a.def(f,"$coderay_stylesheet_name",z=function(){return"coderay-asciidoctor.css"},z.$$arity=0);a.def(f,"$coderay_stylesheet_data",A=function(){var a;return this.coderay_stylesheet_data=b(a=this.coderay_stylesheet_data)?
a:q("::","IO").$read(q("::","File").$join(l(g,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$rstrip()},A.$$arity=0);a.def(f,"$embed_coderay_stylesheet",D=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},D.$$arity=0);a.def(f,"$write_coderay_stylesheet",H=function(a){null==a&&(a=".");return q("::","IO").$write(q("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},H.$$arity=-1);a.def(f,"$pygments_stylesheet_name",S=function(a){var c;
null==a&&(a=h);return"pygments-"+(b(c=a)?c:l(g,"DEFAULT_PYGMENTS_STYLE"))+".css"},S.$$arity=-1);a.def(f,"$pygments_background",M=function(a){var c,d;null==a&&(a=h);return b(b(c=this.$load_pygments())?l(g,"PygmentsBgColorRx")["$=~"](q("::","Pygments").$css(".pygments",n(["style"],{style:b(d=a)?d:l(g,"DEFAULT_PYGMENTS_STYLE")}))):c)?(c=p["~"])===h?h:c["$[]"](1):h},M.$$arity=-1);a.def(f,"$pygments_stylesheet_data",U=function(c){var d,e,f=h;null==c&&(c=h);return b(this.$load_pygments())?(c=b(d=c)?d:l(g,
"DEFAULT_PYGMENTS_STYLE"),b(d=(this.pygments_stylesheet_data=b(e=this.pygments_stylesheet_data)?e:n([],{}))["$[]"](c))?f=d:(f=[c,(b(e=q("::","Pygments").$css(".listingblock .pygments",n(["classprefix","style"],{classprefix:"tok-",style:c})))?e:"/* Failed to load Pygments CSS. */").$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],r(this.pygments_stylesheet_data=b(e=this.pygments_stylesheet_data)?e:n([],{}),"[]=",a.to_a(f)),c=f,f=f.length,f="number"===typeof f?
f-1:f["$-"](1),f=c[f]),f):"/* Pygments CSS disabled. Pygments is not available. */"},U.$$arity=-1);a.def(f,"$embed_pygments_stylesheet",fa=function(a){null==a&&(a=h);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},fa.$$arity=-1);a.def(f,"$write_pygments_stylesheet",V=function(a,b){null==a&&(a=".");null==b&&(b=h);return q("::","IO").$write(q("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b))},V.$$arity=-1);return(a.def(f,"$load_pygments",K=
function(){return b(q("::","Pygments","skip_raise")?"constant":h)?!0:l(g,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},K.$$arity=0),h)&&"load_pygments"})(f[0],null,f)}(c[0],c)};Opal.modules["asciidoctor/table"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,
b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var b=[],n=a.nil,p=a.const_get_qualified,r=a.const_get_relative,u=a.module,w=a.klass,d=a.send,f=a.truthy,x=a.hash2,y=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $shift $style= $head= $pop $foot= $parent $sourcemap $dup $header_row? $table $delete $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $unshift $nil? $=~ $catalog_inline_anchor $apply_subs $convert $map $text $! $file $lineno $to_s $include $to_set $mark $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" "));
return function(b,E){function A(){}var D=[A=u(b,"Asciidoctor",A)].concat(E);(function(b,$super,p){function u(){}b=u=w(b,$super,"Table",u);var t=b.prototype,y=[b].concat(p),E,A,D,H,M;t.attributes=t.document=t.has_header_option=t.rows=t.columns=n;a.const_set(y[0],"DEFAULT_PRECISION_FACTOR",1E4);(function(b,$super,c){function d(){}b=d=w(b,$super,"Rows",d);var e=b.prototype;[b].concat(c);var f,g;e.head=e.body=e.foot=n;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",f=function(a,b,c){null==
a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},f.$$arity=-1);a.alias(b,"[]","send");return(a.def(b,"$by_section",g=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},g.$$arity=0),n)&&"by_section"})(y[0],null,y);b.$attr_accessor("columns");b.$attr_accessor("rows");b.$attr_accessor("has_header_option");b.$attr_reader("caption");a.def(b,"$initialize",E=function(b,t){var m,p,u=n,w=n,x=n;E.$$p&&(E.$$p=null);d(this,a.find_super_dispatcher(this,
"initialize",E,!1),[b,"table"],null);this.rows=r(y,"Rows").$new();this.columns=[];this.has_header_option=t["$key?"]("header-option");f(u=t["$[]"]("width"))?f(f(m=c(w=u.$to_i(),100))?m:h(w,1))&&!f((m=w["$=="](0))?f(p=u["$=="]("0"))?p:u["$=="]("0%"):w["$=="](0))&&(w=100):w=100;x=["tablepcwidth",w];d(this.attributes,"[]=",a.to_a(x));x[q(x.length,1)];f(this.document.$attributes()["$key?"]("pagewidth"))&&(f(m=this.attributes["$[]"]("tableabswidth"))?m:(x=["tableabswidth",l(g(this.attributes["$[]"]("tablepcwidth").$to_f(),
100),this.document.$attributes()["$[]"]("pagewidth")).$round()],d(this.attributes,"[]=",a.to_a(x)),x[q(x.length,1)]));return f(t["$key?"]("rotate-option"))?(x=["orientation","landscape"],d(t,"[]=",a.to_a(x)),x[q(x.length,1)]):n},E.$$arity=2);a.def(b,"$header_row?",A=function(){var a;return f(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},A.$$arity=0);a.def(b,"$create_columns",D=function(b){var g,l,t=n,p=n,v=n,u=n,u=n,t=[],p=n,v=0;d(b,"each",[],(g=function(a){var b=g.$$s||this,c,d=n;null==
a&&(a=n);d=a["$[]"]("width");t["$<<"](r(y,"Column").$new(b,t.$size(),a));return f(h(d,0))?(p=f(c=p)?c:[])["$<<"](t["$[]"](-1)):v=m(v,d)},g.$$s=this,g.$$arity=1,g));f(c(u=(this.columns=t).$size(),0))&&(u=["colcount",u],d(this.attributes,"[]=",a.to_a(u)),u[q(u.length,1)],f(f(l=c(v,0))?l:p)||(v=n),this.$assign_column_widths(v,p));return n},D.$$arity=1);a.def(b,"$assign_column_widths",H=function(a,b){var h,k,t,p=n,u=n,w=n,z=n,E=n;null==a&&(a=n);null==b&&(b=n);p=r(y,"DEFAULT_PRECISION_FACTOR");u=w=0;f(a)?
(f(b)&&(f(c(a,100))?(z=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(z=g(l(g(q(100,a),b.$size()),p).$to_i(),p),z.$to_i()["$=="](z)&&(z=z.$to_i()),a=100),E=x(["width","autowidth-option"],{width:z,"autowidth-option":""}),d(b,"each",[],(h=function(a){null==a&&(a=n);return a.$update_attributes(E)},h.$$s=this,h.$$arity=1,h))),d(this.columns,"each",[],(k=function(b){null==b&&(b=n);return u=m(u,w=b.$assign_width(n,a,p))},k.$$s=this,k.$$arity=
1,k))):(w=g(g(l(100,p),this.columns.$size()).$to_i(),p),w.$to_i()["$=="](w)&&(w=w.$to_i()),d(this.columns,"each",[],(t=function(a){null==a&&(a=n);return u=m(u,a.$assign_width(w))},t.$$s=this,t.$$arity=1,t)));u["$=="](100)||this.columns["$[]"](-1).$assign_width(g(l(m(q(100,u),w),p).$round(),p));return n},H.$$arity=-1);return(a.def(b,"$partition_header_footer",M=function(b){var g,h,k=n,l=n,t=n,k=["rowcount",this.rows.$body().$size()];d(this.attributes,"[]=",a.to_a(k));k[q(k.length,1)];l=this.rows.$body().$size();
f(f(g=c(l,0))?this.has_header_option:g)&&(t=this.rows.$body().$shift(),l=q(l,1),d(t,"each",[],(h=function(b){null==b&&(b=n);k=[n];d(b,"style=",a.to_a(k));return k[q(k.length,1)]},h.$$s=this,h.$$arity=1,h)),k=[[t]],d(this.rows,"head=",a.to_a(k)),k[q(k.length,1)]);f(f(g=c(l,0))?b["$key?"]("footer-option"):g)&&(k=[[this.rows.$body().$pop()]],d(this.rows,"foot=",a.to_a(k)),k[q(k.length,1)]);return n},M.$$arity=1),n)&&"partition_header_footer"})(D[0],r(D,"AbstractBlock"),D);(function(b,$super,c){function e(){}
b=e=w(b,$super,"Column",e);var h=b.prototype;[b].concat(c);var k,p;h.attributes=n;b.$attr_accessor("style");a.def(b,"$initialize",k=function(b,c,e){var g,h=n;k.$$p&&(k.$$p=null);null==e&&(e=x([],{}));d(this,a.find_super_dispatcher(this,"initialize",k,!1),[b,"column"],null);this.style=e["$[]"]("style");h=["colnumber",m(c,1)];d(e,"[]=",a.to_a(h));h[q(h.length,1)];f(g=e["$[]"]("width"))?g:(h=["width",1],d(e,"[]=",a.to_a(h)),h[q(h.length,1)]);f(g=e["$[]"]("halign"))?g:(h=["halign","left"],d(e,"[]=",a.to_a(h)),
h[q(h.length,1)]);f(g=e["$[]"]("valign"))?g:(h=["valign","top"],d(e,"[]=",a.to_a(h)),h[q(h.length,1)]);return this.$update_attributes(e)},k.$$arity=-3);a.alias(b,"table","parent");return(a.def(b,"$assign_width",p=function(b,c,e){var h=n;null==c&&(c=n);null==e&&(e=1E4);f(c)&&(b=g(l(l(g(this.attributes["$[]"]("width").$to_f(),c),100),e).$to_i(),e),b.$to_i()["$=="](b)&&(b=b.$to_i()));h=["colpcwidth",b];d(this.attributes,"[]=",a.to_a(h));h[q(h.length,1)];f(this.$parent().$attributes()["$key?"]("tableabswidth"))&&
(h=["colabswidth",l(g(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],d(this.attributes,"[]=",a.to_a(h)),h[q(h.length,1)]);return b},p.$$arity=-2),n)&&"assign_width"})(r(D,"Table"),r(D,"AbstractNode"),D);(function(b,$super,c){function e(){}b=e=w(b,$super,"Cell",e);var g=b.prototype,l=[b].concat(c),p,v,u,E,A,D,H;g.document=g.text=g.subs=g.style=g.inner_document=g.source_location=g.colspan=g.rowspan=g.attributes=n;b.$attr_reader("source_location");b.$attr_accessor("style");b.$attr_accessor("subs");
b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",p=function(b,c,e,g){var t,v,u=n,w=n,z=n,E=n,A=n,D=n,L=n,H=A=n,R=n,X=n,A=n;p.$$p&&(p.$$p=null);null==e&&(e=x([],{}));null==g&&(g=x([],{}));d(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"cell"],null);f(this.document.$sourcemap())&&(this.source_location=g["$[]"]("cursor").$dup());f(b)&&(f(u=b.$table()["$header_row?"]())||(w=b.$attributes()["$[]"]("style")),
this.$update_attributes(b.$attributes()));if(f(e))if(f(e["$empty?"]())?this.colspan=this.rowspan=n:(t=[e.$delete("colspan"),e.$delete("rowspan")],this.colspan=t[0],this.rowspan=t[1],t,f(u)||(w=f(t=e["$[]"]("style"))?t:w),this.$update_attributes(e)),w["$=="]("asciidoc"))if(z=!0,E=g["$[]"]("cursor"),f((c=c.$rstrip())["$start_with?"](r(l,"LF")))){for(A=1;f((c=c.$slice(1,c.$length()))["$start_with?"](r(l,"LF")));)A=m(A,1);E.$advance(A)}else c=c.$lstrip();else if(f(f(t=D=w["$=="]("literal"))?t:w["$=="]("verse")))for(c=
c.$rstrip();f(c["$start_with?"](r(l,"LF")));)c=c.$slice(1,c.$length());else L=!0,c=f(c)?c.$strip():"";else this.colspan=this.rowspan=n,w["$=="]("asciidoc")&&(z=!0,E=g["$[]"]("cursor"));f(z)?(A=this.document.$attributes().$delete("doctitle"),H=c.$split(r(l,"LF"),-1),!f(H["$empty?"]())&&f((R=H["$[]"](0))["$include?"]("::"))&&(X=r(l,"PreprocessorReader").$new(this.document,[R]).$readlines(),f(R["$=="](X["$[]"](0))?h(X.$size(),2):R["$=="](X["$[]"](0)))||(H.$shift(),f(X["$empty?"]())||d(H,"unshift",a.to_a(X)))),
this.inner_document=r(l,"Document").$new(H,x(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:E})),f(A["$nil?"]())||(A=["doctitle",A],d(this.document.$attributes(),"[]=",a.to_a(A)),A[q(A.length,1)]),this.subs=n):f(D)?this.subs=r(l,"BASIC_SUBS"):(f(f(t=f(v=L)?c["$start_with?"]("[["):v)?r(l,"LeadingInlineAnchorRx")["$=~"](c):t)&&r(l,"Parser").$catalog_inline_anchor((t=y["~"])===n?n:t["$[]"](1),(t=y["~"])===n?n:t["$[]"](2),this,g["$[]"]("cursor"),this.document),this.subs=
r(l,"NORMAL_SUBS"));this.text=c;return this.style=w},p.$$arity=-3);a.def(b,"$text",v=function(){return this.$apply_subs(this.text,this.subs)},v.$$arity=0);a.def(b,"$text=",u=function(a){return this.text=a},u.$$arity=1);a.def(b,"$content",E=function(){var a;return this.style["$=="]("asciidoc")?this.inner_document.$convert():d(this.$text().$split(r(l,"BlankLineRx")),"map",[],(a=function(b){var c=a.$$s||this,d;null==c.style&&(c.style=n);null==b&&(b=n);return f(f(d=c.style["$!"]())?d:c.style["$=="]("header"))?
b:r(l,"Inline").$new(c.$parent(),"quoted",b,x(["type"],{type:c.style})).$convert()},a.$$s=this,a.$$arity=1,a))},E.$$arity=0);a.def(b,"$file",A=function(){var a;return f(a=this.source_location)?this.source_location.$file():a},A.$$arity=0);a.def(b,"$lineno",D=function(){var a;return f(a=this.source_location)?this.source_location.$lineno():a},D.$$arity=0);return(a.def(b,"$to_s",H=function(){var b,c=H.$$p,e=n,g=n,h=n;c&&(H.$$p=null);g=0;h=arguments.length;for(e=Array(h);g<h;g++)e[g]=arguments[g];return""+
d(this,a.find_super_dispatcher(this,"to_s",H,!1),e,c).$to_s()+" - [text: "+this.text+", colspan: "+(f(b=this.colspan)?b:1)+", rowspan: "+(f(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},H.$$arity=0),n)&&"to_s"})(r(D,"Table"),r(D,"AbstractNode"),D);(function(b,$super,g){function h(){}b=h=w(b,$super,"ParserContext",h);var k=b.prototype,l=[b].concat(g),v,u,y,E,A,D,H,V,K,J,M,G,P,la,Z,aa,ba,ma,ha;k.delimiter=k.delimiter_re=k.buffer=k.cellspecs=k.cell_open=k.format=k.start_cursor_data=k.reader=
k.table=k.current_row=k.colcount=k.column_visits=k.active_rowspans=k.linenum=n;b.$include(r(l,"Logging"));a.const_set(l[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(l[0],"DELIMITERS",x(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));b.$attr_accessor("table");b.$attr_accessor("format");b.$attr_reader("colcount");b.$attr_accessor("buffer");b.$attr_reader("delimiter");b.$attr_reader("delimiter_re");a.def(b,"$initialize",
v=function(b,c,d){var e=n,g=n;null==d&&(d=x([],{}));this.start_cursor_data=(this.reader=b).$mark();this.table=c;f(d["$key?"]("format"))?f(r(l,"FORMATS")["$include?"](e=d["$[]"]("format")))?e["$=="]("tsv")?this.format="csv":f((this.format=e)["$=="]("psv")?c.$document()["$nested?"]():(this.format=e)["$=="]("psv"))&&(e="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+e,x(["source_location"],{source_location:b.$cursor_at_prev_line()}))),b=["psv",f(c.$document()["$nested?"]())?
"!sv":"psv"],this.format=b[0],e=b[1],b):(b=["psv",f(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],e=b[1],b);f(d["$key?"]("separator"))?f((g=d["$[]"]("separator"))["$nil_or_empty?"]())?(d=r(l,"DELIMITERS")["$[]"](e),b=a.to_ary(d),this.delimiter=null==b[0]?n:b[0],this.delimiter_re=null==b[1]?n:b[1],d):g["$=="]("\\t")?(d=r(l,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(d),this.delimiter=null==b[0]?n:b[0],this.delimiter_re=null==b[1]?n:b[1],d):(b=[g,new RegExp(p("::","Regexp").$escape(g))],this.delimiter=
b[0],this.delimiter_re=b[1],b):(d=r(l,"DELIMITERS")["$[]"](e),b=a.to_ary(d),this.delimiter=null==b[0]?n:b[0],this.delimiter_re=null==b[1]?n:b[1],d);this.colcount=f(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},v.$$arity=-3);a.def(b,"$starts_with_delimiter?",u=function(a){return a["$start_with?"](this.delimiter)},u.$$arity=1);a.def(b,"$match_delimiter",y=
function(a){return this.delimiter_re.$match(a)},y.$$arity=1);a.def(b,"$skip_past_delimiter",E=function(a){this.buffer=""+this.buffer+a+this.delimiter;return n},E.$$arity=1);a.def(b,"$skip_past_escaped_delimiter",A=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return n},A.$$arity=1);a.def(b,"$buffer_has_unclosed_quotes?",D=function(a){var b,c,d=n,e=n;null==a&&(a=n);return(d=f(a)?m(this.buffer,a).$strip():this.buffer.$strip())["$=="]('"')?!0:f(d["$start_with?"]('"'))?f(f(b=f(c=e=d["$end_with?"]('"'))?
d["$end_with?"]('""'):c)?b:d["$start_with?"]('""'))?f(b=(d=d.$gsub('""',""))["$start_with?"]('"'))?d["$end_with?"]('"')["$!"]():b:e["$!"]():!1},D.$$arity=-1);a.def(b,"$take_cellspec",H=function(){return this.cellspecs.$shift()},H.$$arity=0);a.def(b,"$push_cellspec",V=function(a){var b;null==a&&(a=x([],{}));this.cellspecs["$<<"](f(b=a)?b:x([],{}));return n},V.$$arity=-1);a.def(b,"$keep_cell_open",K=function(){this.cell_open=!0;return n},K.$$arity=0);a.def(b,"$mark_cell_closed",J=function(){this.cell_open=
!1;return n},J.$$arity=0);a.def(b,"$cell_open?",M=function(){return this.cell_open},M.$$arity=0);a.def(b,"$cell_closed?",G=function(){return this.cell_open["$!"]()},G.$$arity=0);a.def(b,"$close_open_cell",P=function(a){null==a&&(a=x([],{}));this.$push_cellspec(a);f(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return n},P.$$arity=-1);a.def(b,"$close_cell",la=function(b){try{var g,h,k=n,t=n,v=n;null==b&&(b=!1);this.format["$=="]("psv")?(k=this.buffer,this.buffer="",f(t=this.$take_cellspec())?
v=f(g=t.$delete("repeatcol"))?g:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",x(["source_location"],{source_location:d(p(r(l,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),t=x([],{}),v=1)):(k=this.buffer.$strip(),this.buffer="",t=n,v=1,f(f(g=this.format["$=="]("csv")?k["$empty?"]()["$!"]():this.format["$=="]("csv"))?k["$include?"]('"'):g)&&(f(f(g=k["$start_with?"]('"'))?k["$end_with?"]('"'):g)?f(k=k.$slice(1,q(k.$length(),
2)))?k=k.$strip().$squeeze('"'):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",x(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),k=""):k=k.$squeeze('"')));d(1,"upto",[v],(h=function(g){var u=h.$$s||this,w,y,z,E,A=n,D=n,K=n,A=n;null==u.colcount&&(u.colcount=n);null==u.table&&(u.table=n);null==u.current_row&&(u.current_row=n);null==u.reader&&(u.reader=n);null==u.column_visits&&(u.column_visits=n);null==u.linenum&&(u.linenum=
n);null==g&&(g=n);u.colcount["$=="](-1)?(u.table.$columns()["$<<"](A=p(r(l,"Table"),"Column").$new(u.table,q(m(u.table.$columns().$size(),g),1))),f(f(w=f(y=t)?t["$key?"]("colspan"):y)?c(D=q(t["$[]"]("colspan").$to_i(),1),0):w)&&(K=u.table.$columns().$size(),d(D,"times",[],(z=function(a){var b=z.$$s||this;null==b.table&&(b.table=n);null==a&&(a=n);return b.table.$columns()["$<<"](p(r(l,"Table"),"Column").$new(b.table,m(K,a)))},z.$$s=u,z.$$arity=1,z)))):f(A=u.table.$columns()["$[]"](u.current_row.$size()))||
(u.$logger().$error(u.$message_with_context("dropping cell because it exceeds specified number of columns",x(["source_location"],{source_location:u.reader.$cursor_before_mark()}))),a.ret(n));A=p(r(l,"Table"),"Cell").$new(A,k,t,x(["cursor"],{cursor:u.reader.$cursor_before_mark()}));u.reader.$mark();f(f(w=A.$rowspan()["$!"]())?w:A.$rowspan()["$=="](1))||u.$activate_rowspan(A.$rowspan(),f(w=A.$colspan())?w:1);u.column_visits=m(u.column_visits,f(w=A.$colspan())?w:1);u.current_row["$<<"](A);return f(f(w=
u["$end_of_row?"]())?f(y=f(E=u.colcount["$!="](-1))?E:c(u.linenum,0))?y:f(E=b)?g["$=="](v):E:w)?u.$close_row():n},h.$$s=this,h.$$arity=1,h));this.cell_open=!1;return n}catch(u){if(u===a.returner)return u.$v;throw u;}},la.$$arity=-1);a.def(b,"$close_row",Z=function(){var b,c=n;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();f(b=this.active_rowspans["$[]"](0))?b:(c=
[0,0],d(this.active_rowspans,"[]=",a.to_a(c)),c[q(c.length,1)]);return n},Z.$$arity=0);a.def(b,"$activate_rowspan",aa=function(b,c){var e;d((1).$upto(q(b,1)),"each",[],(e=function(b){var g=e.$$s||this,h,k=n;null==g.active_rowspans&&(g.active_rowspans=n);null==b&&(b=n);k=[b,m(f(h=g.active_rowspans["$[]"](b))?h:0,c)];d(g.active_rowspans,"[]=",a.to_a(k));return k[q(k.length,1)]},e.$$s=this,e.$$arity=1,e));return n},aa.$$arity=2);a.def(b,"$end_of_row?",ba=function(){var a;return f(a=this.colcount["$=="](-1))?
a:this.$effective_column_visits()["$=="](this.colcount)},ba.$$arity=0);a.def(b,"$effective_column_visits",ma=function(){return m(this.column_visits,this.active_rowspans["$[]"](0))},ma.$$arity=0);return(a.def(b,"$advance",ha=function(){return this.linenum=m(this.linenum,1)},ha.$$arity=0),n)&&"advance"})(r(D,"Table"),null,D)}(b[0],b)};Opal.modules["asciidoctor/converter/composite"]=function(a){var c=[],h=a.nil,l=a.const_get_qualified,n=a.const_get_relative,g=a.module,m=a.klass,b=a.send,r=a.truthy,p=
a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));return function(c,e){function u(){}var d=[u=g(c,"Asciidoctor",u)].concat(e);(function(c,$super,d){function e(){}c=e=m(c,$super,"CompositeConverter",e);var g=c.prototype;[c].concat(d);var l,q,n,v;g.converter_map=g.converters=h;c.$attr_reader("converters");a.def(c,"$initialize",l=function(c,d){var e,f;e=a.slice.call(arguments,1,
arguments.length);this.backend=c;b(this.converters=e.$flatten().$compact(),"each",[],(f=function(a){var b=f.$$s||this;null==a&&(a=h);return r(a["$respond_to?"]("composed"))?a.$composed(b):h},f.$$s=this,f.$$arity=1,f));return this.converter_map=p([],{})},l.$$arity=-2);a.def(c,"$convert",q=function(a,b,c){var d;null==b&&(b=h);null==c&&(c=p([],{}));b=r(d=b)?d:a.$node_name();return this.$converter_for(b).$convert(a,b,c)},q.$$arity=-2);a.alias(c,"convert_with_options","convert");a.def(c,"$converter_for",
n=function(c){var d;d=h;r(d=this.converter_map["$[]"](c))?c=d:(d=[c,this.$find_converter(c)],b(this.converter_map,"[]=",a.to_a(d)),c=d,d=d.length,d="number"===typeof d?d-1:d["$-"](1),c=c[d]);return c},n.$$arity=1);return(a.def(c,"$find_converter",v=function(c){try{var d;b(this.converters,"each",[],(d=function(b){null==b&&(b=h);if(r(b["$handles?"](c)))a.ret(b);else return h},d.$$s=this,d.$$arity=1,d));return this.$raise("Could not find a converter to handle transform: "+c)}catch(e){if(e===a.returner)return e.$v;
throw e;}},v.$$arity=1),h)&&"find_converter"})(n(d,"Converter"),l(n(d,"Converter"),"Base"),d)}(c[0],c)};Opal.modules["asciidoctor/converter/html5"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a<b:a["$<"](b)}var m=[],b=a.nil,r=a.const_get_qualified,p=a.const_get_relative,u=a.module,w=a.klass,x=a.send,d=a.hash2,f=a.truthy,y=a.gvars;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $attr? $<< $include? $gsub $extname $slice $length $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $join $noheader $outline $generate_manname_section $has_header? $notitle $title $header $each $authors $> $name $email $sub_macros $+ $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $to_i $attributes $document $sections $level $caption $captioned_title $numbered $<= $< $sectname $sectnum $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_quotes $append_link_constraint_attrs $pygments_background $to_sym $* $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $type $catalog $xreftext $target $map $chop $upcase $read_contents $sub $match".split(" "));
return function(m,B){function E(){}var A=[E=u(m,"Asciidoctor",E)].concat(B);(function(m,$super,u){function E(){}m=E=w(m,$super,"Html5Converter",E);var B=m.prototype,t=[m].concat(u),A,D,N,H,S,M,U,fa,V,K,J,Q,G,Z,la,Da,aa,ba,ma,sa,da,ea,R,ja,Aa,Ba,wa,oa,Fa,ta,Qa,xa,La,Ma,Ca,Ga,Ha,Ia,Pa,Ra,Na,Oa,Va;u=b;B.xml_mode=B.void_element_slash=B.stylesheets=B.pygments_bg=B.refs=b;u=[["","",!1]];x(a.const_set(t[0],"QUOTE_TAGS",d("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),
{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(u));u[c(u.length,1)];a.const_set(t[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/);a.const_set(t[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);a.const_set(t[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);
a.const_set(t[0],"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(t[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.def(m,"$initialize",A=function(a,c){null==c&&(c=d([],{}));this.xml_mode=c["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=f(this.xml_mode)?"/":b;return this.stylesheets=p(t,"Stylesheets").$instance()},A.$$arity=-2);a.def(m,"$document",D=function(a){var c,e,g,n,m,v=b,u=b,w=b,y=b,E=b,B=b,A=b,D=b,K=A=b,J=b,L=K=E=E=K=A=K=A=A=b,G=b,N=b,v=v=E=E=b,v=this.void_element_slash,
u="<br"+v+">";f((w=a.$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":");y=""+w+"//cdnjs.cloudflare.com/ajax/libs";E=a["$attr?"]("linkcss");B=["<!DOCTYPE html>"];A=f(a["$attr?"]("nolang"))?"":' lang="'+a.$attr("lang","en")+'"';B["$<<"]("<html"+(f(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+A+">");B["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+v+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+v+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
v+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+v+">");if(f(a["$attr?"]("app-name")))B["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+v+">");if(f(a["$attr?"]("description")))B["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+v+">");if(f(a["$attr?"]("keywords")))B["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+v+">");if(f(a["$attr?"]("authors")))B["$<<"]('<meta name="author" content="'+(f((D=a.$attr("authors"))["$include?"]("<"))?
D.$gsub(p(t,"XmlSanitizeRx"),""):D)+'"'+v+">");if(f(a["$attr?"]("copyright")))B["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+v+">");f(a["$attr?"]("favicon"))&&(f((A=a.$attr("favicon"))["$empty?"]())?(c=["favicon.ico","image/x-icon"],A=c[0],K=c[1],c):K=(J=r("::","File").$extname(A))["$=="](".ico")?"image/x-icon":"image/"+J.$slice(1,J.$length()),B["$<<"]('<link rel="icon" type="'+K+'" href="'+A+'"'+v+">"));B["$<<"]("<title>"+a.$doctitle(d(["sanitize","use_fallback"],{sanitize:!0,
use_fallback:!0}))+"</title>");if(f(p(t,"DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))){if(f(A=a.$attr("webfonts")))B["$<<"]('<link rel="stylesheet" href="'+w+"//fonts.googleapis.com/css?family="+(f(A["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":A)+'"'+v+">");if(f(E))B["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(p(t,"DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+
v+">");else B["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(f(a["$attr?"]("stylesheet")))if(f(E))B["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+v+">");else B["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),d(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(f(a["$attr?"]("icons","font")))if(f(a["$attr?"]("iconfont-remote")))B["$<<"]('<link rel="stylesheet" href="'+
a.$attr("iconfont-cdn",""+y+"/font-awesome/"+p(t,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+v+">");else A=""+a.$attr("iconfont-name","font-awesome")+".css",B["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(A,a.$attr("stylesdir",""),!1)+'"'+v+">");K=A=a.$attr("source-highlighter");if("coderay"["$==="](K)){if(a.$attr("coderay-css","class")["$=="]("class"))if(f(E))B["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",
""),!1)+'"'+v+">");else B["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](K)&&a.$attr("pygments-css","class")["$=="]("class"))if(K=a.$attr("pygments-style"),f(E))B["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(K),a.$attr("stylesdir",""),!1)+'"'+v+">");else B["$<<"](this.stylesheets.$embed_pygments_stylesheet(K));if(!f((E=a.$docinfo())["$empty?"]()))B["$<<"](E);B["$<<"]("</head>");E=f(a.$id())?['id="'+a.$id()+
'"']:[];L=f(f(c=f(e=f(g=K=a["$sections?"]())?a["$attr?"]("toc-class"):g)?a["$attr?"]("toc"):e)?a["$attr?"]("toc-placement","auto"):c)?[a.$doctype(),a.$attr("toc-class"),"toc-"+a.$attr("toc-position","header")]:[a.$doctype()];if(f(a["$attr?"]("docrole")))L["$<<"](a.$attr("docrole"));E["$<<"]('class="'+L.$join(" ")+'"');if(f(a["$attr?"]("max-width")))E["$<<"]('style="max-width: '+a.$attr("max-width")+';"');B["$<<"]("<body "+E.$join(" ")+">");if(!f(a.$noheader())){B["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){B["$<<"]("<h1>"+
a.$doctitle()+" Manual Page</h1>");if(f(f(c=f(e=K)?a["$attr?"]("toc"):e)?a["$attr?"]("toc-placement","auto"):c))B["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");if(f(a["$attr?"]("manpurpose")))B["$<<"](this.$generate_manname_section(a))}else{if(f(a["$has_header?"]())){if(!f(a.$notitle()))B["$<<"]("<h1>"+a.$header().$title()+"</h1>");G=[];N=1;x(a.$authors(),"each",[],(n=function(c){null==c&&(c=b);G["$<<"]('<span id="author'+
(f(h(N,1))?N:"")+'" class="author">'+c.$name()+"</span>"+u);if(f(c.$email()))G["$<<"]('<span id="email'+(f(h(N,1))?N:"")+'" class="email">'+a.$sub_macros(c.$email())+"</span>"+u);return N=l(N,1)},n.$$s=this,n.$$arity=1,n));if(f(a["$attr?"]("revnumber")))G["$<<"]('<span id="revnumber">'+(f(c=a.$attr("version-label"))?c:"").$downcase()+" "+a.$attr("revnumber")+(f(a["$attr?"]("revdate"))?",":"")+"</span>");if(f(a["$attr?"]("revdate")))G["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if(f(a["$attr?"]("revremark")))G["$<<"](""+
u+'<span id="revremark">'+a.$attr("revremark")+"</span>");f(G["$empty?"]())||(B["$<<"]('<div class="details">'),B.$concat(G),B["$<<"]("</div>"))}if(f(f(c=f(e=K)?a["$attr?"]("toc"):e)?a["$attr?"]("toc-placement","auto"):c))B["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}B["$<<"]("</div>")}B["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");f(f(c=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():
c)&&(B["$<<"]('<div id="footnotes">\n<hr'+v+">"),x(a.$footnotes(),"each",[],(m=function(a){null==a&&(a=b);return B["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},m.$$s=this,m.$$arity=1,m)),B["$<<"]("</div>"));if(!f(a.$nofooter())){B["$<<"]('<div id="footer">');B["$<<"]('<div id="footer-text">');if(f(a["$attr?"]("revnumber")))B["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+u);if(f(f(c=
a["$attr?"]("last-update-label"))?a["$attr?"]("reproducible")["$!"]():c))B["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));B["$<<"]("</div>");B["$<<"]("</div>")}if(!f((E=a.$docinfo("footer"))["$empty?"]()))B["$<<"](E);K=A;"highlightjs"["$==="](K)||"highlight.js"["$==="](K)?(E=a.$attr("highlightjsdir",""+y+"/highlight.js/9.13.1"),B["$<<"]('<link rel="stylesheet" href="'+E+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+v+">"),B["$<<"]('<script src="'+E+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](K)&&(E=a.$attr("prettifydir",""+y+"/prettify/r298"),B["$<<"]('<link rel="stylesheet" href="'+E+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+v+">"),B["$<<"]('<script src="'+E+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));f(a["$attr?"]("stem"))&&(v=a.$attr("eqnums","none"),f(v["$empty?"]())&&(v="AMS"),v=' equationNumbers: { autoNumber: "'+v+'" } ',B["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+
p(t,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+p(t,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+p(t,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+v+'}\n});\n\x3c/script>\n<script src="'+y+"/mathjax/"+p(t,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));B["$<<"]("</body>");
B["$<<"]("</html>");return B.$join(p(t,"LF"))},D.$$arity=1);a.def(m,"$embedded",N=function(a){var c,d,e,g,h=b,k=b,l=b,h=[];if(a.$doctype()["$=="]("manpage")){if(f(a.$notitle())||(k=f(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$doctitle()+" Manual Page</h1>")),f(a["$attr?"]("manpurpose")))h["$<<"](this.$generate_manname_section(a))}else f(f(c=a["$has_header?"]())?a.$notitle()["$!"]():c)&&(k=f(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if(f(f(c=f(d=
f(e=a["$sections?"]())?a["$attr?"]("toc"):e)?(l=a.$attr("toc-placement"))["$!="]("macro"):d)?l["$!="]("preamble"):c))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");h["$<<"](a.$content());f(f(c=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():c)&&(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),x(a.$footnotes(),"each",[],(g=function(a){null==a&&(a=b);return h["$<<"]('<div class="footnote" id="_footnotedef_'+
a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</div>"));return h.$join(p(t,"LF"))},N.$$arity=1);a.def(m,"$outline",H=function(a,c){var e,h,k,l=b,q=b,m=b,r=b;null==c&&(c=d([],{}));if(!f(a["$sections?"]()))return b;l=f(e=c["$[]"]("sectnumlevels"))?e:(f(h=a.$document().$attributes()["$[]"]("sectnumlevels"))?h:3).$to_i();q=f(e=c["$[]"]("toclevels"))?e:(f(h=a.$document().$attributes()["$[]"]("toclevels"))?h:2).$to_i();
m=a.$sections();r=['<ul class="sectlevel'+m["$[]"](0).$level()+'">'];x(m,"each",[],(k=function(c){var e=k.$$s||this,h,m=b,u=b,w=b,x=b;null==c&&(c=b);m=c.$level();u=f(c.$caption())?c.$captioned_title():f(f(h=c.$numbered())?n(m,l):h)?f(f(h=g(m,2))?a.$document().$doctype()["$=="]("book"):h)?c.$sectname()["$=="]("chapter")?""+(f(w=a.$document().$attributes()["$[]"]("chapter-signifier"))?""+w+" ":"")+c.$sectnum()+" "+c.$title():c.$sectname()["$=="]("part")?""+(f(w=a.$document().$attributes()["$[]"]("part-signifier"))?
""+w+" ":"")+c.$sectnum(b,":")+" "+c.$title():""+c.$sectnum()+" "+c.$title():""+c.$sectnum()+" "+c.$title():c.$title();f(u["$include?"]("<a"))&&(u=u.$gsub(p(t,"DropAnchorRx"),""));return f(f(h=g(m,q))?x=e.$outline(c,d(["toclevels","sectnumlevels"],{toclevels:q,sectnumlevels:l})):h)?(r["$<<"]('<li><a href="#'+c.$id()+'">'+u+"</a>"),r["$<<"](x),r["$<<"]("</li>")):r["$<<"]('<li><a href="#'+c.$id()+'">'+u+"</a></li>")},k.$$s=this,k.$$arity=1,k));r["$<<"]("</ul>");return r.$join(p(t,"LF"))},H.$$arity=
-2);a.def(m,"$section",S=function(a){var c,d,e=b,h=b,k=b,m=b,t=b,p=b,r=b,e=a.$document().$attributes(),h=a.$level(),k=f(a.$caption())?a.$captioned_title():f(f(c=a.$numbered())?n(h,(f(d=e["$[]"]("sectnumlevels"))?d:3).$to_i()):c)?f(f(c=g(h,2))?a.$document().$doctype()["$=="]("book"):c)?a.$sectname()["$=="]("chapter")?""+(f(m=e["$[]"]("chapter-signifier"))?""+m+" ":"")+a.$sectnum()+" "+a.$title():a.$sectname()["$=="]("part")?""+(f(m=e["$[]"]("part-signifier"))?""+m+" ":"")+a.$sectnum(b,":")+" "+a.$title():
""+a.$sectnum()+" "+a.$title():""+a.$sectnum()+" "+a.$title():a.$title();f(a.$id())?(t=' id="'+(p=a.$id())+'"',f(e["$[]"]("sectlinks"))&&(k='<a class="link" href="#'+p+'">'+k+"</a>"),f(e["$[]"]("sectanchors"))&&(k=e["$[]"]("sectanchors")["$=="]("after")?""+k+'<a class="anchor" href="#'+p+'"></a>':'<a class="anchor" href="#'+p+'"></a>'+k)):t="";return h["$=="](0)?"<h1"+t+' class="sect0'+(f(r=a.$role())?" "+r:"")+'">'+k+"</h1>\n"+a.$content():'<div class="sect'+h+(f(r=a.$role())?" "+r:"")+'">\n<h'+
l(h,1)+t+">"+k+"</h"+l(h,1)+">\n"+(h["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},S.$$arity=1);a.def(m,"$admonition",M=function(a){var c,d=b,e=b,h=b,g=b,k=b,d=f(a.$id())?' id="'+a.$id()+'"':"",e=a.$attr("name"),h=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",g=f(a.$document()["$attr?"]("icons"))?f(f(c=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():c)?'<i class="fa icon-'+e+'" title="'+a.$attr("textlabel")+'"></i>':
'<img src="'+a.$icon_uri(e)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+d+' class="admonitionblock '+e+(f(k=a.$role())?" "+k:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+h+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},M.$$arity=1);a.def(m,"$audio",U=function(a){var c,d=b,e=b,h=b,g=h=b,k=b,l=b,k=b,d=this.xml_mode,e=f(a.$id())?' id="'+a.$id()+'"':"",h=["audioblock",a.$role()].$compact(),
h=' class="'+h.$join(" ")+'"',g=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",k=a.$attr("start",b,!1),l=a.$attr("end",b,!1),k=f(f(c=k)?c:l)?"#t="+(f(c=k)?c:"")+(f(l)?","+l:""):"";return"<div"+e+h+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+k+'"'+(f(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",d):"")+(f(a["$option?"]("nocontrols"))?"":this.$append_boolean_attribute("controls",d))+(f(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",
d):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},U.$$arity=1);a.def(m,"$colist",fa=function(a){var c,d,e=b,h=b,g=b,k=g=b,n=b,e=[],h=f(a.$id())?' id="'+a.$id()+'"':"",g=["colist",a.$style(),a.$role()].$compact(),g=' class="'+g.$join(" ")+'"';e["$<<"]("<div"+h+g+">");if(f(a["$title?"]()))e["$<<"]('<div class="title">'+a.$title()+"</div>");f(a.$document()["$attr?"]("icons"))?(e["$<<"]("<table>"),c=[a.$document()["$attr?"]("icons","font"),0],k=c[0],n=c[1],c,x(a.$items(),
"each",[],(d=function(c){var h=d.$$s||this,g=b;null==h.void_element_slash&&(h.void_element_slash=b);null==c&&(c=b);n=l(n,1);g=f(k)?'<i class="conum" data-value="'+n+'"></i><b>'+n+"</b>":'<img src="'+a.$icon_uri("callouts/"+n)+'" alt="'+n+'"'+h.void_element_slash+">";return e["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+c.$text()+(f(c["$blocks?"]())?l(p(t,"LF"),c.$content()):"")+"</td>\n</tr>")},d.$$s=this,d.$$arity=1,d)),e["$<<"]("</table>")):(e["$<<"]("<ol>"),x(a.$items(),"each",[],(c=function(a){null==a&&
(a=b);return e["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(f(a["$blocks?"]())?l(p(t,"LF"),a.$content()):"")+"\n</li>")},c.$$s=this,c.$$arity=1,c)),e["$<<"]("</ol>"));e["$<<"]("</div>");return e.$join(p(t,"LF"))},fa.$$arity=1);a.def(m,"$dlist",V=function(c){var d,e,h,g,k=b,l=b,q=b,n=q=q=b,m=l=b,k=[],l=f(c.$id())?' id="'+c.$id()+'"':"",q=c.$style(),q=("qanda"["$==="](q)?["qlist","qanda",c.$role()]:"horizontal"["$==="](q)?["hdlist",c.$role()]:["dlist",c.$style(),c.$role()]).$compact(),q=' class="'+q.$join(" ")+
'"';k["$<<"]("<div"+l+q+">");if(f(c["$title?"]()))k["$<<"]('<div class="title">'+c.$title()+"</div>");q=c.$style();"qanda"["$==="](q)?(k["$<<"]("<ol>"),x(c.$items(),"each",[],(d=function(c,e){var h=d.$$s||this,g;null==c&&(c=b);null==e&&(e=b);k["$<<"]("<li>");x([].concat(a.to_a(c)),"each",[],(g=function(a){null==a&&(a=b);return k["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=h,g.$$arity=1,g));if(f(e)){if(f(e["$text?"]()))k["$<<"]("<p>"+e.$text()+"</p>");if(f(e["$blocks?"]()))k["$<<"](e.$content())}return k["$<<"]("</li>")},
d.$$s=this,d.$$arity=2,d)),k["$<<"]("</ol>")):"horizontal"["$==="](q)?(n=this.void_element_slash,k["$<<"]("<table>"),f(f(e=c["$attr?"]("labelwidth"))?e:c["$attr?"]("itemwidth"))&&(k["$<<"]("<colgroup>"),l=f(c["$attr?"]("labelwidth"))?' style="width: '+c.$attr("labelwidth").$chomp("%")+'%;"':"",k["$<<"]("<col"+l+n+">"),l=f(c["$attr?"]("itemwidth"))?' style="width: '+c.$attr("itemwidth").$chomp("%")+'%;"':"",k["$<<"]("<col"+l+n+">"),k["$<<"]("</colgroup>")),x(c.$items(),"each",[],(h=function(d,e){var g=
h.$$s||this,l,q=b,m=b;null==d&&(d=b);null==e&&(e=b);k["$<<"]("<tr>");k["$<<"]('<td class="hdlist1'+(f(c["$option?"]("strong"))?" strong":"")+'">');q=[].concat(a.to_a(d));m=q["$[]"](-1);x(q,"each",[],(l=function(a){null==a&&(a=b);k["$<<"](a.$text());return f(a["$!="](m))?k["$<<"]("<br"+n+">"):b},l.$$s=g,l.$$arity=1,l));k["$<<"]("</td>");k["$<<"]('<td class="hdlist2">');if(f(e)){if(f(e["$text?"]()))k["$<<"]("<p>"+e.$text()+"</p>");if(f(e["$blocks?"]()))k["$<<"](e.$content())}k["$<<"]("</td>");return k["$<<"]("</tr>")},
h.$$s=this,h.$$arity=2,h)),k["$<<"]("</table>")):(k["$<<"]("<dl>"),m=f(c.$style())?"":' class="hdlist1"',x(c.$items(),"each",[],(g=function(c,d){var e=g.$$s||this,h;null==c&&(c=b);null==d&&(d=b);x([].concat(a.to_a(c)),"each",[],(h=function(a){null==a&&(a=b);return k["$<<"]("<dt"+m+">"+a.$text()+"</dt>")},h.$$s=e,h.$$arity=1,h));if(f(d)){k["$<<"]("<dd>");if(f(d["$text?"]()))k["$<<"]("<p>"+d.$text()+"</p>");if(f(d["$blocks?"]()))k["$<<"](d.$content());return k["$<<"]("</dd>")}return b},g.$$s=this,g.$$arity=
2,g)),k["$<<"]("</dl>"));k["$<<"]("</div>");return k.$join(p(t,"LF"))},V.$$arity=1);a.def(m,"$example",K=function(a){var c=b,d=b,e=b,c=f(a.$id())?' id="'+a.$id()+'"':"",d=f(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+c+' class="exampleblock'+(f(e=a.$role())?" "+e:"")+'">\n'+d+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},K.$$arity=1);a.def(m,"$floating_title",J=function(a){var c=b,d=b,e=b,c="h"+l(a.$level(),1),d=f(a.$id())?' id="'+a.$id()+'"':
"",e=[a.$style(),a.$role()].$compact();return"<"+c+d+' class="'+e.$join(" ")+'">'+a.$title()+"</"+c+">"},J.$$arity=1);a.def(m,"$image",Q=function(a){var c,d,e,h=b,k=b,l=b,q=b,n=b,m=b,v=b,l=k=k=h=b,h=a.$attr("target"),k=f(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",l=f(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";f(f(c=f(d=f(e=a["$attr?"]("format","svg",!1))?e:h["$include?"](".svg"))?g(a.$document().$safe(),r(p(t,"SafeMode"),"SECURE")):d)?f(d=q=a["$option?"]("inline"))?
d:n=a["$option?"]("interactive"):c)&&(f(q)?m=f(c=this.$read_svg_contents(a,h))?c:'<span class="alt">'+a.$alt()+"</span>":f(n)&&(v=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+k+l+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",m='<object type="image/svg+xml" data="'+a.$image_uri(h)+'"'+k+l+">"+v+"</object>"));m=f(c=m)?c:'<img src="'+a.$image_uri(h)+'" alt="'+this.$encode_quotes(a.$alt())+'"'+k+l+this.void_element_slash+
">";f(a["$attr?"]("link",b,!1))&&(m='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+m+"</a>");h=f(a.$id())?' id="'+a.$id()+'"':"";k=["imageblock"];if(f(a["$attr?"]("float")))k["$<<"](a.$attr("float"));if(f(a["$attr?"]("align")))k["$<<"]("text-"+a.$attr("align"));if(f(a.$role()))k["$<<"](a.$role());k=' class="'+k.$join(" ")+'"';l=f(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+h+k+'>\n<div class="content">\n'+m+
"\n</div>"+l+"\n</div>"},Q.$$arity=1);a.def(m,"$listing",G=function(a){var c,d=b,e=b,h=b,g=b,k=g=d=h=d=b,l=b,d=f(c=a.$document()["$attr?"]("prewrap")["$!"]())?c:a["$option?"]("nowrap");a.$style()["$=="]("source")?(h=f(e=a.$attr("language",b,!1))?' data-lang="'+e+'"':"",g=a.$document().$attr("source-highlighter"),"coderay"["$==="](g)?d=' class="CodeRay highlight'+(f(d)?" nowrap":"")+'"':"pygments"["$==="](g)?f(a.$document()["$attr?"]("pygments-css","inline"))?(f((c=this.pygments_bg,null!=c&&c!==b)?
"instance-variable":b)||(this.pygments_bg=this.stylesheets.$pygments_background(a.$document().$attr("pygments-style"))),d=' class="pygments highlight'+(f(d)?" nowrap":"")+'" style="background: '+this.pygments_bg+'"'):d=' class="pygments highlight'+(f(d)?" nowrap":"")+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(d=' class="highlightjs highlight'+(f(d)?" nowrap":"")+'"',f(e)&&(h=' class="language-'+e+' hljs"'+h)):"prettify"["$==="](g)?(d=' class="prettyprint highlight'+(f(d)?" nowrap":"")+
(f(a["$attr?"]("linenums",b,!1))?" linenums":"")+'"',f(e)&&(h=' class="language-'+e+'"'+h)):"html-pipeline"["$==="](g)?(d=f(e)?' lang="'+e+'"':"",h=""):(d=' class="highlight'+(f(d)?" nowrap":"")+'"',f(e)&&(h=' class="language-'+e+'"'+h)),h="<pre"+d+"><code"+h+">",d="</code></pre>"):(h="<pre"+(f(d)?' class="nowrap"':"")+">",d="</pre>");g=f(a.$id())?' id="'+a.$id()+'"':"";k=f(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+g+' class="listingblock'+(f(l=a.$role())?
" "+l:"")+'">\n'+k+'<div class="content">\n'+h+a.$content()+d+"\n</div>\n</div>"},G.$$arity=1);a.def(m,"$literal",Z=function(a){var c,d=b,e=b,h=b,g=b,d=f(a.$id())?' id="'+a.$id()+'"':"",e=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",h=f(c=a.$document()["$attr?"]("prewrap")["$!"]())?c:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(f(g=a.$role())?" "+g:"")+'">\n'+e+'<div class="content">\n<pre'+(f(h)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},
Z.$$arity=1);a.def(m,"$stem",la=function(c){var d,e,h,g=b,k=b,l=b,q=b,n=b,m=e=b,r=b,g=f(c.$id())?' id="'+c.$id()+'"':"",k=f(c["$title?"]())?'<div class="title">'+c.$title()+"</div>\n":"";e=p(t,"BLOCK_MATH_DELIMITERS")["$[]"](l=c.$style().$to_sym());d=a.to_ary(e);q=null==d[0]?b:d[0];n=null==d[1]?b:d[1];e;e=c.$content();f((d=l["$=="]("asciimath"))?e["$include?"](p(t,"LF")):l["$=="]("asciimath"))&&(m="<br"+this.void_element_slash+">"+p(t,"LF"),e=x(e,"gsub",[p(t,"StemBreakRx")],(h=function(){var a,c=
""+n,d=((a=y["~"])===b?b:a["$[]"](0)).$count(p(t,"LF"));a="number"===typeof m&&"number"===typeof d?m*d:m["$*"](d);return c+a+q},h.$$s=this,h.$$arity=0,h)));f(f(d=e["$start_with?"](q))?e["$end_with?"](n):d)||(e=""+q+e+n);return"<div"+g+' class="stemblock'+(f(r=c.$role())?" "+r:"")+'">\n'+k+'<div class="content">\n'+e+"\n</div>\n</div>"},la.$$arity=1);a.def(m,"$olist",Da=function(a){var c,d=b,e=b,h=b,g=e=h=b,k=h=b,d=[],e=f(a.$id())?' id="'+a.$id()+'"':"",h=["olist",a.$style(),a.$role()].$compact(),
h=' class="'+h.$join(" ")+'"';d["$<<"]("<div"+e+h+">");if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");e=f(g=a.$list_marker_keyword())?' type="'+g+'"':"";h=f(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";k=f(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):"";d["$<<"]('<ol class="'+a.$style()+'"'+e+h+k+">");x(a.$items(),"each",[],(c=function(a){null==a&&(a=b);d["$<<"]("<li>");d["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))d["$<<"](a.$content());
return d["$<<"]("</li>")},c.$$s=this,c.$$arity=1,c));d["$<<"]("</ol>");d["$<<"]("</div>");return d.$join(p(t,"LF"))},Da.$$arity=1);a.def(m,"$open",aa=function(a){var c,d,e,g=b,l=b,q=b,n=b;if((g=a.$style())["$=="]("abstract")){if(f(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";l=f(a.$id())?' id="'+
a.$id()+'"':"";q=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+l+' class="quoteblock abstract'+(f(n=a.$role())?" "+n:"")+'">\n'+q+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(f((c=g["$=="]("partintro"))?f(d=f(e=h(a.$level(),0))?e:a.$parent().$context()["$!="]("section"))?d:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),
"";l=f(a.$id())?' id="'+a.$id()+'"':"";q=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+l+' class="openblock'+(f(f(c=g)?g["$!="]("open"):c)?" "+g:"")+(f(n=a.$role())?" "+n:"")+'">\n'+q+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},aa.$$arity=1);a.def(m,"$page_break",ba=function(a){return'<div style="page-break-after: always;"></div>'},ba.$$arity=1);a.def(m,"$paragraph",ma=function(a){var c=b,c=b,c=f(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',
c=f(a.$id())?'id="'+a.$id()+'" '+c:c;return f(a["$title?"]())?"<div "+c+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+c+">\n<p>"+a.$content()+"</p>\n</div>"},ma.$$arity=1);a.def(m,"$preamble",sa=function(a){var c,d,e=b,h=b,h=f(f(c=f(d=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():d)?e["$attr?"]("toc"):c)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+
"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+h+"\n</div>"},sa.$$arity=1);a.def(m,"$quote",da=function(a){var c,d=b,e=b,h=e=b,g=b,k=b,l=b,l=g=b,d=f(a.$id())?' id="'+a.$id()+'"':"",e=["quoteblock",a.$role()].$compact(),e=' class="'+e.$join(" ")+'"',h=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):b,k=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):b;f(f(c=g)?c:k)?(l=f(k)?"<cite>"+
k+"</cite>":"",g=f(g)?"&#8212; "+g+(f(k)?"<br"+this.void_element_slash+">\n":""):"",l='\n<div class="attribution">\n'+g+l+"\n</div>"):l="";return"<div"+d+e+">"+h+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+l+"\n</div>"},da.$$arity=1);a.def(m,"$thematic_break",ea=function(a){return"<hr"+this.void_element_slash+">"},ea.$$arity=1);a.def(m,"$sidebar",R=function(a){var c=b,d=b,e=b,c=f(a.$id())?' id="'+a.$id()+'"':"",d=f(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+
c+' class="sidebarblock'+(f(e=a.$role())?" "+e:"")+'">\n<div class="content">\n'+d+a.$content()+"\n</div>\n</div>"},R.$$arity=1);a.def(m,"$table",ja=function(a){var c,d,e,g=b,n=b,m=b,r=b,v=b,u=r=b,w=v=m=u=b,g=[],n=f(a.$id())?' id="'+a.$id()+'"':"",m=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")];if(f(r=a.$attr("stripes")))m["$<<"]("stripes-"+r);v=[];if(f(f(c=r=a.$attributes()["$[]"]("autowidth-option"))?a["$attr?"]("width",b,!1)["$!"]():c))m["$<<"]("fit-content");else if((u=
a.$attr("tablepcwidth"))["$=="](100))m["$<<"]("stretch");else v["$<<"]("width: "+u+"%;");if(f(a["$attr?"]("float")))m["$<<"](a.$attr("float"));if(f(u=a.$role()))m["$<<"](u);m=' class="'+m.$join(" ")+'"';v=f(v["$empty?"]())?"":' style="'+v.$join(" ")+'"';g["$<<"]("<table"+n+m+v+">");if(f(a["$title?"]()))g["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");f(h(a.$attr("rowcount"),0))&&(w=this.void_element_slash,g["$<<"]("<colgroup>"),f(r)?g=l(g,p(t,"Array").$new(a.$columns().$size(),
"<col"+w+">")):x(a.$columns(),"each",[],(d=function(a){null==a&&(a=b);return g["$<<"](f(a.$attributes()["$[]"]("autowidth-option"))?"<col"+w+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+w+">")},d.$$s=this,d.$$arity=1,d)),g["$<<"]("</colgroup>"),x(a.$rows().$by_section(),"each",[],(e=function(c,d){var h=e.$$s||this,k;null==c&&(c=b);null==d&&(d=b);if(f(d["$empty?"]()))return b;g["$<<"]("<t"+c+">");x(d,"each",[],(k=function(d){var e=k.$$s||this,h;null==d&&(d=b);g["$<<"]("<tr>");x(d,"each",[],
(h=function(d){var e,h=b,k=b,l=k=b,q=b,n=b,m=b;null==d&&(d=b);c["$=="]("head")?h=d.$text():(k=d.$style(),h="asciidoc"["$==="](k)?'<div class="content">'+d.$content()+"</div>":"verse"["$==="](k)?'<div class="verse">'+d.$text()+"</div>":"literal"["$==="](k)?'<div class="literal"><pre>'+d.$text()+"</pre></div>":f((h=d.$content())["$empty?"]())?"":'<p class="tableblock">'+h.$join('</p>\n<p class="tableblock">')+"</p>");k=f(f(e=c["$=="]("head"))?e:d.$style()["$=="]("header"))?"th":"td";l=' class="tableblock halign-'+
d.$attr("halign")+" valign-"+d.$attr("valign")+'"';q=f(d.$colspan())?' colspan="'+d.$colspan()+'"':"";n=f(d.$rowspan())?' rowspan="'+d.$rowspan()+'"':"";m=f(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return g["$<<"]("<"+k+l+q+n+m+">"+h+"</"+k+">")},h.$$s=e,h.$$arity=1,h));return g["$<<"]("</tr>")},k.$$s=h,k.$$arity=1,k));return g["$<<"]("</t"+c+">")},e.$$s=this,e.$$arity=2,e)));g["$<<"]("</table>");return g.$join(p(t,"LF"))},ja.$$arity=
1);a.def(m,"$toc",Aa=function(a){var c,e,h=b,g=b,k=b,l=b,q=b,n=b;if(!f(f(c=f(e=(h=a.$document())["$attr?"]("toc-placement","macro"))?h["$sections?"]():e)?h["$attr?"]("toc"):c))return"\x3c!-- toc disabled --\x3e";f(a.$id())?(g=' id="'+a.$id()+'"',k=' id="'+a.$id()+'title"'):(g=' id="toc"',k=' id="toctitle"');l=f(a["$title?"]())?a.$title():h.$attr("toc-title");q=f(a["$attr?"]("levels"))?a.$attr("levels").$to_i():b;n=f(a["$role?"]())?a.$role():h.$attr("toc-class","toc");return"<div"+g+' class="'+n+'">\n<div'+
k+' class="title">'+l+"</div>\n"+this.$outline(h,d(["toclevels"],{toclevels:q}))+"\n</div>"},Aa.$$arity=1);a.def(m,"$ulist",Ba=function(a){var c,d=b,e=b,h=b,g=b,k=b,l=b,q=b,d=[],e=f(a.$id())?' id="'+a.$id()+'"':"",h=["ulist",a.$style(),a.$role()].$compact(),g=k="";f(l=a["$option?"]("checklist"))?(h.$unshift(h.$shift(),"checklist"),q=' class="checklist"',f(a["$option?"]("interactive"))?f(this.xml_mode)?(g='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '):
(g='<input type="checkbox" data-item-complete="1" checked> ',k='<input type="checkbox" data-item-complete="0"> '):f(a.$document()["$attr?"]("icons","font"))?(g='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(g="&#10003; ",k="&#10063; ")):q=f(a.$style())?' class="'+a.$style()+'"':"";d["$<<"]("<div"+e+' class="'+h.$join(" ")+'">');if(f(a["$title?"]()))d["$<<"]('<div class="title">'+a.$title()+"</div>");d["$<<"]("<ul"+q+">");x(a.$items(),"each",[],(c=function(a){var c;null==
a&&(a=b);d["$<<"]("<li>");if(f(f(c=l)?a["$attr?"]("checkbox"):c))d["$<<"]("<p>"+(f(a["$attr?"]("checked"))?g:k)+a.$text()+"</p>");else d["$<<"]("<p>"+a.$text()+"</p>");if(f(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},c.$$s=this,c.$$arity=1,c));d["$<<"]("</ul>");d["$<<"]("</div>");return d.$join(p(t,"LF"))},Ba.$$arity=1);a.def(m,"$verse",wa=function(a){var c,d=b,e=b,h=e=b,g=b,k=b,l=b,l=g=b,d=f(a.$id())?' id="'+a.$id()+'"':"",e=["verseblock",a.$role()].$compact(),e=' class="'+
e.$join(" ")+'"',h=f(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",g=f(a["$attr?"]("attribution"))?a.$attr("attribution"):b,k=f(a["$attr?"]("citetitle"))?a.$attr("citetitle"):b;f(f(c=g)?c:k)?(l=f(k)?"<cite>"+k+"</cite>":"",g=f(g)?"&#8212; "+g+(f(k)?"<br"+this.void_element_slash+">\n":""):"",l='\n<div class="attribution">\n'+g+l+"\n</div>"):l="";return"<div"+d+e+">"+h+'\n<pre class="content">'+a.$content()+"</pre>"+l+"\n</div>"},wa.$$arity=1);a.def(m,"$video",oa=function(c){var d,
e,h=this,g=b,k=b,l=b,q=b,n=b,m=b,t=b,p=b,r=b,v=b,u=b,w=b,x=b,y=b,z=b,E=b,B=b,F=b,A=b,D=b,K=b,J=b,L=b,G=b,N=b,H=b,ba=b,aa=b,X=b,V=b,S=b,R=b,M=b,g=h.xml_mode,k=f(c.$id())?' id="'+c.$id()+'"':"",l=["videoblock"];if(f(c["$attr?"]("float")))l["$<<"](c.$attr("float"));if(f(c["$attr?"]("align")))l["$<<"]("text-"+c.$attr("align"));if(f(c.$role()))l["$<<"](c.$role());q=' class="'+l.$join(" ")+'"';n=f(c["$title?"]())?'\n<div class="title">'+c.$title()+"</div>":"";m=f(c["$attr?"]("width"))?' width="'+c.$attr("width")+
'"':"";t=f(c["$attr?"]("height"))?' height="'+c.$attr("height")+'"':"";return function(){p=c.$attr("poster");if("vimeo"["$==="](p))return f((r=c.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(r=""+r+":"),v=f(c["$attr?"]("start",b,!1))?"#at="+c.$attr("start"):"",u="?",f(c["$option?"]("autoplay"))?(w=""+u+"autoplay=1",u="&amp;"):w="",x=f(c["$option?"]("loop"))?""+u+"loop=1":"","<div"+k+q+">"+n+'\n<div class="content">\n<iframe'+m+t+' src="'+r+"//player.vimeo.com/video/"+c.$attr("target")+
v+w+x+'" frameborder="0"'+(f(c["$option?"]("nofullscreen"))?"":h.$append_boolean_attribute("allowfullscreen",g))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](p))return f((r=c.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(r=""+r+":"),y=f(c["$option?"]("related"))?1:0,z=f(c["$attr?"]("start",b,!1))?"&amp;start="+c.$attr("start"):"",E=f(c["$attr?"]("end",b,!1))?"&amp;end="+c.$attr("end"):"",w=f(c["$option?"]("autoplay"))?"&amp;autoplay=1":"",x=f(B=c["$option?"]("loop"))?"&amp;loop=1":
"",F=f(c["$option?"]("nocontrols"))?"&amp;controls=0":"",f(c["$option?"]("nofullscreen"))?(A="&amp;fs=0",D=""):(A="",D=h.$append_boolean_attribute("allowfullscreen",g)),K=f(c["$option?"]("modest"))?"&amp;modestbranding=1":"",J=f(c["$attr?"]("theme",b,!1))?"&amp;theme="+c.$attr("theme"):"",L=f(c["$attr?"]("lang"))?"&amp;hl="+c.$attr("lang"):"",e=c.$attr("target").$split("/",2),d=a.to_ary(e),G=null==d[0]?b:d[0],N=null==d[1]?b:d[1],e,f(N=f(d=N)?d:c.$attr("list",b,!1))?H="&amp;list="+N:(e=G.$split(",",
2),d=a.to_ary(e),G=null==d[0]?b:d[0],ba=null==d[1]?b:d[1],e,H=f(ba=f(d=ba)?d:c.$attr("playlist",b,!1))?"&amp;playlist="+ba:f(B)?"&amp;playlist="+G:""),"<div"+k+q+">"+n+'\n<div class="content">\n<iframe'+m+t+' src="'+r+"//www.youtube.com/embed/"+G+"?rel="+y+z+E+w+x+F+H+A+K+J+L+'" frameborder="0"'+D+"></iframe>\n</div>\n</div>";aa=f((X=c.$attr("poster",b,!1))["$nil_or_empty?"]())?"":' poster="'+c.$media_uri(X)+'"';V=f((X=c.$attr("preload",b,!1))["$nil_or_empty?"]())?"":' preload="'+X+'"';S=c.$attr("start",
b,!1);R=c.$attr("end",b,!1);M=f(f(d=S)?d:R)?"#t="+(f(d=S)?d:"")+(f(R)?","+R:""):"";return"<div"+k+q+">"+n+'\n<div class="content">\n<video src="'+c.$media_uri(c.$attr("target"))+M+'"'+m+t+aa+(f(c["$option?"]("autoplay"))?h.$append_boolean_attribute("autoplay",g):"")+(f(c["$option?"]("nocontrols"))?"":h.$append_boolean_attribute("controls",g))+(f(c["$option?"]("loop"))?h.$append_boolean_attribute("loop",g):"")+V+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},oa.$$arity=
1);a.def(m,"$inline_anchor",Fa=function(a){var c,d=this,e=b,h=b,g=b,k=b,l=b,q=b;return function(){e=a.$type();if("xref"["$==="](e))return f(h=a.$attributes()["$[]"]("path"))?(g=d.$append_link_constraint_attrs(a,f(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),k=f(c=a.$text())?c:h):(g=f(a.$role())?' class="'+a.$role()+'"':"",f(k=a.$text())||(l=a.$attributes()["$[]"]("refid"),k=f(p(t,"AbstractNode")["$==="](q=(d.refs=f(c=d.refs)?c:a.$document().$catalog()["$[]"]("refs"))["$[]"](l)))?f(c=q.$xreftext(a.$attr("xrefstyle")))?
c:"["+l+"]":"["+l+"]")),'<a href="'+a.$target()+'"'+g+">"+k+"</a>";if("ref"["$==="](e))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](e)){g=f(a.$id())?[' id="'+a.$id()+'"']:[];if(f(a.$role()))g["$<<"](' class="'+a.$role()+'"');if(f(a["$attr?"]("title",b,!1)))g["$<<"](' title="'+a.$attr("title")+'"');return'<a href="'+a.$target()+'"'+d.$append_link_constraint_attrs(a,g).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](e))return'<a id="'+a.$id()+'"></a>'+a.$text();d.$logger().$warn("unknown anchor type: "+
a.$type().$inspect());return b}()},Fa.$$arity=1);a.def(m,"$inline_break",ta=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},ta.$$arity=1);a.def(m,"$inline_button",Qa=function(a){return'<b class="button">'+a.$text()+"</b>"},Qa.$$arity=1);a.def(m,"$inline_callout",xa=function(a){var c=b;return f(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":f(a.$document()["$attr?"]("icons"))?(c=a.$icon_uri("callouts/"+a.$text()),
'<img src="'+c+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):""+a.$attributes()["$[]"]("guard")+'<b class="conum">('+a.$text()+")</b>"},xa.$$arity=1);a.def(m,"$inline_footnote",La=function(a){var c=b,d=b;if(f(c=a.$attr("index",b,!1))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+c+'" title="View footnote.">'+c+"</a>]</sup>";d=f(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+d+'>[<a id="_footnoteref_'+c+'" class="footnote" href="#_footnotedef_'+
c+'" title="View footnote.">'+c+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":b},La.$$arity=1);a.def(m,"$inline_image",Ma=function(a){var c,e,h,k,l,q,n=b,m=b,v=c=b,u=b,w=b,y=b,E=b,B=b,A=b;f((c=(n=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(n=a.$type())["$=="]("icon"))?(m="fa fa-"+a.$target(),x(d(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(e=
function(c,d){null==c&&(c=b);null==d&&(d=b);return f(a["$attr?"](c))?m=""+m+" "+d+a.$attr(c):b},e.$$s=this,e.$$arity=2,e)),c=f(a["$attr?"]("title"))?' title="'+a.$attr("title")+'"':"",v='<i class="'+m+'"'+c+"></i>"):f((c=n["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():n["$=="]("icon"))?v="["+a.$alt()+"]":(u=a.$target(),w=x(["width","height","title"],"map",[],(h=function(c){null==c&&(c=b);return f(a["$attr?"](c))?" "+c+'="'+a.$attr(c)+'"':""},h.$$s=this,h.$$arity=1,h)).$join(),f(f(c=f(k=
f(l=n["$!="]("icon"))?f(q=a["$attr?"]("format","svg",!1))?q:u["$include?"](".svg"):l)?g(a.$document().$safe(),r(p(t,"SafeMode"),"SECURE")):k)?f(k=y=a["$option?"]("inline"))?k:E=a["$option?"]("interactive"):c)&&(f(y)?v=f(c=this.$read_svg_contents(a,u))?c:'<span class="alt">'+a.$alt()+"</span>":f(E)&&(B=f(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+w+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",v='<object type="image/svg+xml" data="'+
a.$image_uri(u)+'"'+w+">"+B+"</object>")),v=f(c=v)?c:'<img src="'+(n["$=="]("icon")?a.$icon_uri(u):a.$image_uri(u))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+w+this.void_element_slash+">");f(a["$attr?"]("link",b,!1))&&(v='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+v+"</a>");m=f(A=a.$role())?f(a["$attr?"]("float"))?""+n+" "+a.$attr("float")+" "+A:""+n+" "+A:f(a["$attr?"]("float"))?""+n+" "+a.$attr("float"):n;return'<span class="'+m+'">'+v+"</span>"},
Ma.$$arity=1);a.def(m,"$inline_indexterm",Ca=function(a){return a.$type()["$=="]("visible")?a.$text():""},Ca.$$arity=1);a.def(m,"$inline_kbd",Ga=function(a){var c=b;return(c=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+c["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+c.$join("</kbd>+<kbd>")+"</kbd></span>"},Ga.$$arity=1);a.def(m,"$inline_menu",Ha=function(a){var c=b,d=b,e=b,h=b,g=b,c=f(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',
d="</b>"+c+'<b class="submenu">',e=a.$attr("menu");return f((h=a.$attr("submenus"))["$empty?"]())?f(g=a.$attr("menuitem",b,!1))?'<span class="menuseq"><b class="menu">'+e+"</b>"+c+'<b class="menuitem">'+g+"</b></span>":'<b class="menuref">'+e+"</b>":'<span class="menuseq"><b class="menu">'+e+"</b>"+c+'<b class="submenu">'+h.$join(d)+"</b>"+c+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Ha.$$arity=1);a.def(m,"$inline_quoted",Ia=function(c){var d,e,h=b,g=b,k=b,l=b,q=b;e=p(t,"QUOTE_TAGS")["$[]"](c.$type());
d=a.to_ary(e);h=null==d[0]?b:d[0];g=null==d[1]?b:d[1];k=null==d[2]?b:d[2];e;f(c.$role())&&(l=' class="'+c.$role()+'"');f(c.$id())&&(q=' id="'+c.$id()+'"');return f(f(d=l)?d:q)?f(k)?""+h.$chop()+(f(d=q)?d:"")+(f(d=l)?d:"")+">"+c.$text()+g:"<span"+(f(d=q)?d:"")+(f(d=l)?d:"")+">"+h+c.$text()+g+"</span>":""+h+c.$text()+g},Ia.$$arity=1);a.def(m,"$append_boolean_attribute",Pa=function(a,b){return f(b)?" "+a+'="'+a+'"':" "+a},Pa.$$arity=2);a.def(m,"$encode_quotes",Ra=function(a){return f(a["$include?"]('"'))?
a.$gsub('"',"&quot;"):a},Ra.$$arity=1);a.def(m,"$generate_manname_section",Na=function(a){var c,d=b,e=b,h=b,g=b,k=b,d=a.$attr("manname-title","Name");f(f(c=e=a.$sections()["$[]"](0))?(h=e.$title())["$=="](h.$upcase()):c)&&(d=d.$upcase());g=f(k=a.$attr("manname-id"))?' id="'+k+'"':"";return"<h2"+g+">"+d+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Na.$$arity=1);a.def(m,"$append_link_constraint_attrs",Oa=function(a,c){var d,e=b,h=b;null==c&&
(c=[]);f(a["$option?"]("nofollow"))&&(e="nofollow");if(f(h=a.$attributes()["$[]"]("window"))){if(c["$<<"](' target="'+h+'"'),f(f(d=h["$=="]("_blank"))?d:a["$option?"]("noopener")))c["$<<"](f(e)?' rel="'+e+' noopener"':' rel="noopener"')}else if(f(e))c["$<<"](' rel="'+e+'"');return c},Oa.$$arity=-2);return(a.def(m,"$read_svg_contents",Va=function(c,e){var h,g=b,k=b,l=b;f(g=c.$read_contents(e,d(["start","normalize","label"],{start:c.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(f(g["$start_with?"]("<svg"))||
(g=g.$sub(p(t,"SvgPreambleRx"),"")),k=l=b,x(["width","height"],"each",[],(h=function(a){null==a&&(a=b);return f(c["$attr?"](a))?(f(l)||(l=(k=g.$match(p(t,"SvgStartTagRx"))["$[]"](0)).$gsub(p(t,"DimensionAttributeRx"),"")),l=""+l.$chop()+" "+a+'="'+c.$attr(a)+'px">'):b},h.$$s=this,h.$$arity=1,h)),f(l)&&(g=""+l+g["$[]"](a.Range.$new(k.$length(),-1,!1))));return g},Va.$$arity=2),b)&&"read_svg_contents"})(p(A,"Converter"),r(p(A,"Converter"),"BuiltIn"),A)}(m[0],m)};Opal.modules["asciidoctor/extensions"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var g=a.top,m=[],b=a.nil,r=a.const_get_qualified,p=a.const_get_relative,u=a.truthy,w=a.module,x=a.klass,d=a.hash2,f=a.send,y=a.hash;a.add_stubs("$require $to_s $[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $== $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $assign_caption $=== $next_block $dup $<< $has_more_lines? $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $respond_to? $include? $split $to_i $compact $inspect $attr_accessor $to_set $match? $resolve_regexp $method $register $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $instance_variable_get $kind $private $join $map $capitalize $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $reduce $const_defined?".split(" "));
u(p(m,"Asciidoctor","skip_raise")?"constant":b)||g.$require("asciidoctor".$to_s());return function(g,m){function E(){}var B=[E=w(g,"Asciidoctor",E)].concat(m);(function(g,m){function E(){}var B=E=w(g,"Extensions",E),A=[B].concat(m);(function(g,$super,n){function m(){}g=m=x(g,$super,"Processor",m);var v=g.prototype,w=[g].concat(n),y,E,B,A,D,J,L,G,H,M,P;v.config=b;(function(g,h){var k=[g].concat(h),l,q,n;a.def(g,"$config",l=function(){var a;null==this.config&&(this.config=b);return this.config=u(a=
this.config)?a:d([],{})},l.$$arity=0);a.def(g,"$option",q=function(d,g){var h=b,h=[d,g];f(this.$config(),"[]=",a.to_a(h));return h[c(h.length,1)]},q.$$arity=2);a.def(g,"$use_dsl",n=function(){return u(this.$name()["$nil_or_empty?"]())?u((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):b:u((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):b},n.$$arity=0);a.alias(g,"extend_dsl","use_dsl");return a.alias(g,"include_dsl",
"use_dsl")})(a.get_singleton_class(g),w);g.$attr_reader("config");a.def(g,"$initialize",y=function(a){null==a&&(a=d([],{}));return this.config=this.$class().$config().$merge(a)},y.$$arity=-1);a.def(g,"$update_config",E=function(a){return this.config.$update(a)},E.$$arity=1);a.def(g,"$process",B=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(r("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},B.$$arity=-1);a.def(g,
"$create_section",A=function(g,n,m,t){var r,v=b,x=b,y=b,z=b,E=b,B=b,A=b,F=y=b,x=b;null==t&&(t=d([],{}));v=g.$document();x=(y=v.$doctype())["$=="]("book");z=u(r=t["$[]"]("level"))?r:h(g.$level(),1);u(E=m.$delete("style"))?u(u(r=x)?E["$=="]("abstract"):r)?(r=["chapter",1],B=r[0],z=r[1],r):(r=[E,!0],B=r[0],A=r[1],r,z["$=="](0)&&(z=1)):u(x)?B=z["$=="](0)?"part":u(l(z,1))?"section":"chapter":u(y["$=="]("manpage")?n.$casecmp("synopsis")["$=="](0):y["$=="]("manpage"))?(r=["synopsis",!0],B=r[0],A=r[1],r):
B="section";y=p(w,"Section").$new(g,z);r=[n,B];y["$title="](r[0]);y["$sectname="](r[1]);r;u(A)?(F=[!0],f(y,"special=",a.to_a(F)),F[c(F.length,1)],u(t.$fetch("numbered",E["$=="]("appendix")))?(F=[!0],f(y,"numbered=",a.to_a(F)),F[c(F.length,1)]):u(u(r=t["$key?"]("numbered")["$!"]())?v["$attr?"]("sectnums","all"):r)&&(F=[u(u(r=x)?z["$=="](1):r)?"chapter":!0],f(y,"numbered=",a.to_a(F)),F[c(F.length,1)])):u(l(z,0))?u(t.$fetch("numbered",v["$attr?"]("sectnums")))&&(F=[u(y.$special())?u(r=g.$numbered())?
!0:r:!0],f(y,"numbered=",a.to_a(F)),F[c(F.length,1)]):u(t.$fetch("numbered",u(r=x)?v["$attr?"]("partnums"):r))&&(F=[!0],f(y,"numbered=",a.to_a(F)),F[c(F.length,1)]);(x=m.$delete("id"))["$=="](!1)||(F=[(F=["id",u(r=x)?r:u(v["$attr?"]("sectids"))?p(w,"Section").$generate_id(y.$title(),v):b],f(m,"[]=",a.to_a(F)),F[c(F.length,1)])],f(y,"id=",a.to_a(F)),F[c(F.length,1)]);y.$update_attributes(m);return y},A.$$arity=-4);a.def(g,"$create_block",D=function(a,b,c,e,f){null==f&&(f=d([],{}));return p(w,"Block").$new(a,
b,d(["source","attributes"],{source:c,attributes:e}).$merge(f))},D.$$arity=-5);a.def(g,"$create_list",J=function(a,c,d){var e=b;null==d&&(d=b);e=p(w,"List").$new(a,c);u(d)&&e.$update_attributes(d);return e},J.$$arity=-3);a.def(g,"$create_list_item",L=function(a,c){null==c&&(c=b);return p(w,"ListItem").$new(a,c)},L.$$arity=-2);a.def(g,"$create_image_block",G=function(g,h,k){var l,q=b,n=b,m=q=b;null==k&&(k=d([],{}));u(q=h["$[]"]("target"))||this.$raise(r("::","ArgumentError"),"Unable to create an image block, target attribute is required");
u(l=h["$[]"]("alt"))?l:(n=["alt",(n=["default-alt",p(w,"Helpers").$basename(q,!0).$tr("_-"," ")],f(h,"[]=",a.to_a(n)),n[c(n.length,1)])],f(h,"[]=",a.to_a(n)),n[c(n.length,1)]);q=u(h["$key?"]("title"))?h.$delete("title"):b;m=this.$create_block(g,"image",b,h,k);u(q)&&(n=[q],f(m,"title=",a.to_a(n)),n[c(n.length,1)],m.$assign_caption(h.$delete("caption"),u(l=k["$[]"]("caption_context"))?l:"figure"));return m},G.$$arity=-3);a.def(g,"$create_inline",H=function(a,b,c,e){null==e&&(e=d([],{}));return p(w,
"Inline").$new(a,b,c,e)},H.$$arity=-4);a.def(g,"$parse_content",M=function(a,c,e){var f,g,h=b,k=b;null==e&&(e=b);for(h=u(p(w,"Reader")["$==="](c))?c:p(w,"Reader").$new(c);u(u(f=u(g=k=p(w,"Parser").$next_block(h,a,u(e)?e.$dup():d([],{})))?a["$<<"](k):g)?f:h["$has_more_lines?"]()););return a},M.$$arity=-3);return f([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],
["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(P=function(c,d,e){var g=P.$$s||this,h;null==c&&(c=b);null==d&&(d=b);null==e&&(e=b);return f(g,"define_method",[c],(h=function(b){var c=h.$$s||this,g;g=a.slice.call(arguments,0,arguments.length);g.$unshift(g.$shift(),e);return f(c,"send",[d].concat(a.to_a(g)))},h.$$s=g,h.$$arity=-1,h))},P.$$s=g,P.$$arity=3,P))})(A[0],null,A);(function(d,g){function h(){}
var k=h=w(d,"ProcessorDsl",h);[k].concat(g);var l,q,n;a.def(k,"$option",l=function(d,g){var h=b,h=[d,g];f(this.$config(),"[]=",a.to_a(h));return h[c(h.length,1)]},l.$$arity=2);a.def(k,"$process",q=function(c){var d=q.$$p,e=d||b,g;null==this.process_block&&(this.process_block=b);d&&(q.$$p=null);d&&(q.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e!==b?(u(d["$empty?"]())||this.$raise(r("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.process_block=
e):u((g=this.process_block,null!=g&&g!==b)?"instance-variable":b)?f(this.process_block,"call",a.to_a(d)):this.$raise(r("::","NotImplementedError"))},q.$$arity=-1);a.def(k,"$process_block_given?",n=function(){var a;return(a=this.process_block,null!=a&&a!==b)?"instance-variable":b},n.$$arity=0)})(A[0],A);(function(b,c){function d(){}var e=d=w(b,"DocumentProcessorDsl",d),f=[e].concat(c),g;e.$include(p(f,"ProcessorDsl"));a.def(e,"$prefer",g=function(){return this.$option("position",">>")},g.$$arity=0)})(A[0],
A);(function(g,h){function k(){}var n=k=w(g,"SyntaxProcessorDsl",k),m=[n].concat(h),v,x,y,z,E;n.$include(p(m,"ProcessorDsl"));a.def(n,"$named",v=function(a){return u(p(m,"Processor")["$==="](this))?this.name=a:this.$option("name",a)},v.$$arity=1);a.alias(n,"match_name","named");a.def(n,"$content_model",x=function(a){return this.$option("content_model",a)},x.$$arity=1);a.alias(n,"parse_content_as","content_model");a.alias(n,"parses_content_as","content_model");a.def(n,"$positional_attrs",y=function(b){var c;
c=a.slice.call(arguments,0,arguments.length);return this.$option("pos_attrs",c.$flatten())},y.$$arity=-1);a.alias(n,"name_attributes","positional_attrs");a.alias(n,"name_positional_attributes","positional_attrs");a.def(n,"$default_attrs",z=function(a){return this.$option("default_attrs",a)},z.$$arity=1);a.def(n,"$resolves_attributes",E=function(g){var h,k,n,m,t=this,p=b,v=b,w=b;h=a.slice.call(arguments,0,arguments.length);u(l(h.$size(),1))||u((h=h.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(h=[h]);
return function(){p=h;return(!0)["$==="](p)?(t.$option("pos_attrs",[]),t.$option("default_attrs",d([],{}))):r("::","Array")["$==="](p)?(k=[[],d([],{})],v=k[0],w=k[1],k,f(h,"each",[],(n=function(d){var h,g=b,k=b,l=b,l=b;null==d&&(d=b);return u((d=d.$to_s())["$include?"]("="))?(h=d.$split("=",2),d=a.to_ary(h),g=null==d[0]?b:d[0],k=null==d[1]?b:d[1],h,u(g["$include?"](":"))&&(h=g.$split(":",2),d=a.to_ary(h),l=null==d[0]?b:d[0],g=null==d[1]?b:d[1],h,l=l["$=="]("@")?v.$size():l.$to_i(),l=[l,g],f(v,"[]=",
a.to_a(l)),l[c(l.length,1)]),l=[g,k],f(w,"[]=",a.to_a(l)),l[c(l.length,1)]):u(d["$include?"](":"))?(h=d.$split(":",2),d=a.to_ary(h),l=null==d[0]?b:d[0],g=null==d[1]?b:d[1],h,l=l["$=="]("@")?v.$size():l.$to_i(),l=[l,g],f(v,"[]=",a.to_a(l)),l[c(l.length,1)]):v["$<<"](d)},n.$$s=t,n.$$arity=1,n)),t.$option("pos_attrs",v.$compact()),t.$option("default_attrs",w)):r("::","Hash")["$==="](p)?(k=[[],d([],{})],v=k[0],w=k[1],k,f(h,"each",[],(m=function(d,h){var g,k,l=g=b;k=b;null==d&&(d=b);null==h&&(h=b);u((g=
d.$to_s())["$include?"](":"))&&(k=g.$split(":",2),g=a.to_ary(k),l=null==g[0]?b:g[0],g=null==g[1]?b:g[1],k,l=l["$=="]("@")?v.$size():l.$to_i(),k=[l,g],f(v,"[]=",a.to_a(k)),k[c(k.length,1)]);return u(h)?(k=[g,h],f(w,"[]=",a.to_a(k)),k[c(k.length,1)]):b},m.$$s=t,m.$$arity=2,m)),t.$option("pos_attrs",v.$compact()),t.$option("default_attrs",w)):t.$raise(r("::","ArgumentError"),"unsupported attributes specification for macro: "+h.$inspect())}()},E.$$arity=-1);a.alias(n,"resolve_attributes","resolves_attributes")})(A[0],
A);(function(c,$super,d){function e(){}c=e=x(c,$super,"Preprocessor",e);[c].concat(d);var f;return(a.def(c,"$process",f=function(a,b){return this.$raise(r("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},f.$$arity=2),b)&&"process"})(A[0],p(A,"Processor"),A);a.const_set(p(A,"Preprocessor"),"DSL",p(A,"DocumentProcessorDsl"));(function(c,$super,d){function e(){}c=e=x(c,$super,"TreeProcessor",e);[c].concat(d);var f;return(a.def(c,"$process",
f=function(a){return this.$raise(r("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},f.$$arity=1),b)&&"process"})(A[0],p(A,"Processor"),A);a.const_set(p(A,"TreeProcessor"),"DSL",p(A,"DocumentProcessorDsl"));a.const_set(A[0],"Treeprocessor",p(A,"TreeProcessor"));(function(c,$super,d){function e(){}c=e=x(c,$super,"Postprocessor",e);[c].concat(d);var f;return(a.def(c,"$process",f=function(a,b){return this.$raise(r("::","NotImplementedError"),
"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},f.$$arity=2),b)&&"process"})(A[0],p(A,"Processor"),A);a.const_set(p(A,"Postprocessor"),"DSL",p(A,"DocumentProcessorDsl"));(function(c,$super,d){function e(){}c=e=x(c,$super,"IncludeProcessor",e);[c].concat(d);var f,g;a.def(c,"$process",f=function(a,b,c,d){return this.$raise(r("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},f.$$arity=4);return(a.def(c,
"$handles?",g=function(a){return!0},g.$$arity=1),b)&&"handles?"})(A[0],p(A,"Processor"),A);(function(c,d){function e(){}var f=e=w(c,"IncludeProcessorDsl",e),g=[f].concat(d),h;f.$include(p(g,"DocumentProcessorDsl"));a.def(f,"$handles?",h=function(c){var d=h.$$p,e=d||b,f;null==this.handles_block&&(this.handles_block=b);d&&(h.$$p=null);d&&(h.$$p=null);d=a.slice.call(arguments,0,arguments.length);return e!==b?(u(d["$empty?"]())||this.$raise(r("::","ArgumentError"),"wrong number of arguments (given "+
d.$size()+", expected 0)"),this.handles_block=e):u((f=this.handles_block,null!=f&&f!==b)?"instance-variable":b)?this.handles_block.$call(d["$[]"](0)):!0},h.$$arity=-1)})(A[0],A);a.const_set(p(A,"IncludeProcessor"),"DSL",p(A,"IncludeProcessorDsl"));(function(g,$super,h){function k(){}g=k=x(g,$super,"DocinfoProcessor",k);var l=g.prototype;[g].concat(h);var q,n;l.config=b;g.$attr_accessor("location");a.def(g,"$initialize",q=function(g){var h,k=b;q.$$p&&(q.$$p=null);null==g&&(g=d([],{}));f(this,a.find_super_dispatcher(this,
"initialize",q,!1),[g],null);return u(h=this.config["$[]"]("location"))?h:(k=["location","head"],f(this.config,"[]=",a.to_a(k)),k[c(k.length,1)])},q.$$arity=-1);return(a.def(g,"$process",n=function(a){return this.$raise(r("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},n.$$arity=1),b)&&"process"})(A[0],p(A,"Processor"),A);(function(b,c){function d(){}var e=d=w(b,"DocinfoProcessorDsl",d),f=[e].concat(c),g;e.$include(p(f,"DocumentProcessorDsl"));
a.def(e,"$at_location",g=function(a){return this.$option("location",a)},g.$$arity=1)})(A[0],A);a.const_set(p(A,"DocinfoProcessor"),"DSL",p(A,"DocinfoProcessorDsl"));(function(g,$super,h){function k(){}g=k=x(g,$super,"BlockProcessor",k);var l=g.prototype;[g].concat(h);var q,n;l.config=b;g.$attr_accessor("name");a.def(g,"$initialize",q=function(g,h){var k,l=b,n=b;q.$$p&&(q.$$p=null);null==g&&(g=b);null==h&&(h=d([],{}));f(this,a.find_super_dispatcher(this,"initialize",q,!1),[h],null);this.name=u(k=g)?
k:this.config["$[]"]("name");l=this.config["$[]"]("contexts");r("::","NilClass")["$==="](l)?u(k=this.config["$[]"]("contexts"))?k:(n=["contexts",["open","paragraph"].$to_set()],f(this.config,"[]=",a.to_a(n)),n[c(n.length,1)]):(n=r("::","Symbol")["$==="](l)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],f(this.config,"[]=",a.to_a(n)),n[c(n.length,1)]);return u(k=this.config["$[]"]("content_model"))?k:(n=["content_model","compound"],f(this.config,
"[]=",a.to_a(n)),n[c(n.length,1)])},q.$$arity=-1);return(a.def(g,"$process",n=function(a,b,c){return this.$raise(r("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},n.$$arity=3),b)&&"process"})(A[0],p(A,"Processor"),A);(function(b,c){function d(){}var e=d=w(b,"BlockProcessorDsl",d),f=[e].concat(c),g;e.$include(p(f,"SyntaxProcessorDsl"));a.def(e,"$contexts",g=function(b){var c;c=a.slice.call(arguments,0,arguments.length);return this.$option("contexts",
c.$flatten().$to_set())},g.$$arity=-1);a.alias(e,"on_contexts","contexts");a.alias(e,"on_context","contexts");a.alias(e,"bound_to","contexts")})(A[0],A);a.const_set(p(A,"BlockProcessor"),"DSL",p(A,"BlockProcessorDsl"));(function(g,$super,h){function k(){}g=k=x(g,$super,"MacroProcessor",k);var l=g.prototype;[g].concat(h);var q,n;l.config=b;g.$attr_accessor("name");a.def(g,"$initialize",q=function(g,h){var k,l=b;q.$$p&&(q.$$p=null);null==g&&(g=b);null==h&&(h=d([],{}));f(this,a.find_super_dispatcher(this,
"initialize",q,!1),[h],null);this.name=u(k=g)?k:this.config["$[]"]("name");return u(k=this.config["$[]"]("content_model"))?k:(l=["content_model","attributes"],f(this.config,"[]=",a.to_a(l)),l[c(l.length,1)])},q.$$arity=-1);return(a.def(g,"$process",n=function(a,b,c){return this.$raise(r("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},n.$$arity=3),b)&&"process"})(A[0],p(A,"Processor"),A);(function(c,d){function e(){}var g=e=w(c,"MacroProcessorDsl",
e),h=[g].concat(d),k;g.$include(p(h,"SyntaxProcessorDsl"));a.def(g,"$resolves_attributes",k=function(c){var d,e=k.$$p,g=b,h=d=b;e&&(k.$$p=null);d=0;h=arguments.length;for(g=Array(h);d<h;d++)g[d]=arguments[d];d=a.slice.call(arguments,0,arguments.length);if(u(d.$size()["$=="](1)?d["$[]"](0)["$!"]():d.$size()["$=="](1)))return this.$option("content_model","text"),b;f(this,a.find_super_dispatcher(this,"resolves_attributes",k,!1),g,e);return this.$option("content_model","attributes")},k.$$arity=-1);a.alias(g,
"resolve_attributes","resolves_attributes")})(A[0],A);(function(c,$super,d){function e(){}c=e=x(c,$super,"BlockMacroProcessor",e);var f=c.prototype,g=[c].concat(d),h;f.name=b;return(a.def(c,"$name",h=function(){u(p(g,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(r("::","ArgumentError"),"invalid name for block macro: "+this.name);return this.name},h.$$arity=0),b)&&"name"})(A[0],p(A,"MacroProcessor"),A);a.const_set(p(A,"BlockMacroProcessor"),"DSL",p(A,"MacroProcessorDsl"));(function(g,
$super,h){function k(){}g=k=x(g,$super,"InlineMacroProcessor",k);var l=g.prototype,q=[g].concat(h),n,m;l.config=l.name=b;a.class_variable_set(k,"@@rx_cache",d([],{}));a.def(g,"$regexp",n=function(){var d,g=b;return u(d=this.config["$[]"]("regexp"))?d:(g=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],f(this.config,"[]=",a.to_a(g)),g[c(g.length,1)])},n.$$arity=0);return(a.def(g,"$resolve_regexp",m=function(d,g){var h,l,n=b;u(p(q,"MacroNameRx")["$match?"](d))||this.$raise(r("::",
"ArgumentError"),"invalid name for inline macro: "+d);return u(h=(null==(l=k.$$cvars["@@rx_cache"])?b:l)["$[]"]([d,g]))?h:(n=[[d,g],new RegExp("\\\\?"+d+":"+(g["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],f(null==(l=k.$$cvars["@@rx_cache"])?b:l,"[]=",a.to_a(n)),n[c(n.length,1)])},m.$$arity=2),b)&&"resolve_regexp"})(A[0],p(A,"MacroProcessor"),A);(function(b,c){function d(){}var e=d=w(b,"InlineMacroProcessorDsl",d),f=[e].concat(c),g,h;e.$include(p(f,"MacroProcessorDsl"));a.def(e,"$with_format",
g=function(a){return this.$option("format",a)},g.$$arity=1);a.alias(e,"using_format","with_format");a.def(e,"$matches",h=function(a){return this.$option("regexp",a)},h.$$arity=1);a.alias(e,"match","matches");a.alias(e,"matching","matches")})(A[0],A);a.const_set(p(A,"InlineMacroProcessor"),"DSL",p(A,"InlineMacroProcessorDsl"));(function(c,$super,d){function e(){}c=e=x(c,$super,"Extension",e);[c].concat(d);var f;c.$attr_reader("kind");c.$attr_reader("config");c.$attr_reader("instance");return(a.def(c,
"$initialize",f=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},f.$$arity=3),b)&&"initialize"})(A[0],null,A);(function(c,$super,d){function e(){}c=e=x(c,$super,"ProcessorExtension",e);[c].concat(d);var g;c.$attr_reader("process_method");return(a.def(c,"$initialize",g=function(c,d,e){var h;g.$$p&&(g.$$p=null);null==e&&(e=b);f(this,a.find_super_dispatcher(this,"initialize",g,!1),[c,d,d.$config()],null);return this.process_method=u(h=e)?h:d.$method("process")},g.$$arity=-3),b)&&"initialize"})(A[0],
p(A,"Extension"),A);(function(c,$super,d){function e(){}c=e=x(c,$super,"Group",e);d=[c].concat(d);var f;(function(c,d){var e=[c].concat(d),f;return(a.def(c,"$register",f=function(a){null==a&&(a=b);return p(e,"Extensions").$register(a,this)},f.$$arity=-1),b)&&"register"})(a.get_singleton_class(c),d);return(a.def(c,"$activate",f=function(a){return this.$raise(r("::","NotImplementedError"))},f.$$arity=1),b)&&"activate"})(A[0],null,A);(function(g,$super,m){function w(){}g=w=x(g,$super,"Registry",w);var y=
g.prototype,E=[g].concat(m),B,A,D,L,K,J,H,G,M,P,Q,aa,ba,Z,pa,da,ea,R,ha,ja,ra,va,oa,Fa,ta,ya,xa,La,Ma,Ca,Ga,Ha,Ia,Pa,Ra;y.groups=y.preprocessor_extensions=y.tree_processor_extensions=y.postprocessor_extensions=y.include_processor_extensions=y.docinfo_processor_extensions=y.block_extensions=y.block_macro_extensions=y.inline_macro_extensions=b;g.$attr_reader("document");g.$attr_reader("groups");a.def(g,"$initialize",B=function(a){null==a&&(a=d([],{}));this.groups=a;return this.document=this.preprocessor_extensions=
this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=b},B.$$arity=-1);a.def(g,"$activate",A=function(a){var c,d=b;this.document=a;u((d=h(p(E,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||f(d,"each",[],(c=function(a){var d=c.$$s||this,e=b;null==a&&(a=b);e=a;r("::","Proc")["$==="](e)?(e=a.$arity(),a=0["$==="](e)||-1["$==="](e)?
f(d,"instance_exec",[],a.$to_proc()):1["$==="](e)?a.$call(d):b):a=r("::","Class")["$==="](e)?a.$new().$activate(d):a.$activate(d);return a},c.$$s=this,c.$$arity=1,c));return this},A.$$arity=1);a.def(g,"$preprocessor",D=function(c){var d=D.$$p,e=d||b;d&&(D.$$p=null);d&&(D.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["preprocessor",d],e.$to_proc())},D.$$arity=-1);a.def(g,"$preprocessors?",L=function(){return this.preprocessor_extensions["$!"]()["$!"]()},
L.$$arity=0);a.def(g,"$preprocessors",K=function(){return this.preprocessor_extensions},K.$$arity=0);a.def(g,"$tree_processor",J=function(c){var d=J.$$p,e=d||b;d&&(J.$$p=null);d&&(J.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["tree_processor",d],e.$to_proc())},J.$$arity=-1);a.def(g,"$tree_processors?",H=function(){return this.tree_processor_extensions["$!"]()["$!"]()},H.$$arity=0);a.def(g,"$tree_processors",G=function(){return this.tree_processor_extensions},
G.$$arity=0);a.alias(g,"treeprocessor","tree_processor");a.alias(g,"treeprocessors?","tree_processors?");a.alias(g,"treeprocessors","tree_processors");a.def(g,"$postprocessor",M=function(c){var d=M.$$p,e=d||b;d&&(M.$$p=null);d&&(M.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["postprocessor",d],e.$to_proc())},M.$$arity=-1);a.def(g,"$postprocessors?",P=function(){return this.postprocessor_extensions["$!"]()["$!"]()},P.$$arity=0);a.def(g,"$postprocessors",
Q=function(){return this.postprocessor_extensions},Q.$$arity=0);a.def(g,"$include_processor",aa=function(c){var d=aa.$$p,e=d||b;d&&(aa.$$p=null);d&&(aa.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["include_processor",d],e.$to_proc())},aa.$$arity=-1);a.def(g,"$include_processors?",ba=function(){return this.include_processor_extensions["$!"]()["$!"]()},ba.$$arity=0);a.def(g,"$include_processors",Z=function(){return this.include_processor_extensions},
Z.$$arity=0);a.def(g,"$docinfo_processor",pa=function(c){var d=pa.$$p,e=d||b;d&&(pa.$$p=null);d&&(pa.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_document_processor",["docinfo_processor",d],e.$to_proc())},pa.$$arity=-1);a.def(g,"$docinfo_processors?",da=function(a){var c;null==a&&(a=b);return u(this.docinfo_processor_extensions)?u(a)?f(this.docinfo_processor_extensions,"any?",[],(c=function(c){null==c&&(c=b);return c.$config()["$[]"]("location")["$=="](a)},c.$$s=this,
c.$$arity=1,c)):!0:!1},da.$$arity=-1);a.def(g,"$docinfo_processors",ea=function(a){var c;null==a&&(a=b);return u(this.docinfo_processor_extensions)?u(a)?f(this.docinfo_processor_extensions,"select",[],(c=function(c){null==c&&(c=b);return c.$config()["$[]"]("location")["$=="](a)},c.$$s=this,c.$$arity=1,c)):this.docinfo_processor_extensions:b},ea.$$arity=-1);a.def(g,"$block",R=function(c){var d=R.$$p,e=d||b;d&&(R.$$p=null);d&&(R.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_syntax_processor",
["block",d],e.$to_proc())},R.$$arity=-1);a.def(g,"$blocks?",ha=function(){return this.block_extensions["$!"]()["$!"]()},ha.$$arity=0);a.def(g,"$registered_for_block?",ja=function(a,c){var d=b;return u(d=this.block_extensions["$[]"](a.$to_sym()))?u(d.$config()["$[]"]("contexts")["$include?"](c))?d:!1:!1},ja.$$arity=2);a.def(g,"$find_block_extension",ra=function(a){return this.block_extensions["$[]"](a.$to_sym())},ra.$$arity=1);a.def(g,"$block_macro",va=function(c){var d=va.$$p,e=d||b;d&&(va.$$p=null);
d&&(va.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_syntax_processor",["block_macro",d],e.$to_proc())},va.$$arity=-1);a.def(g,"$block_macros?",oa=function(){return this.block_macro_extensions["$!"]()["$!"]()},oa.$$arity=0);a.def(g,"$registered_for_block_macro?",Fa=function(a){var c=b;return u(c=this.block_macro_extensions["$[]"](a.$to_sym()))?c:!1},Fa.$$arity=1);a.def(g,"$find_block_macro_extension",ta=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},
ta.$$arity=1);a.def(g,"$inline_macro",ya=function(c){var d=ya.$$p,e=d||b;d&&(ya.$$p=null);d&&(ya.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(this,"add_syntax_processor",["inline_macro",d],e.$to_proc())},ya.$$arity=-1);a.def(g,"$inline_macros?",xa=function(){return this.inline_macro_extensions["$!"]()["$!"]()},xa.$$arity=0);a.def(g,"$registered_for_inline_macro?",La=function(a){var c=b;return u(c=this.inline_macro_extensions["$[]"](a.$to_sym()))?c:!1},La.$$arity=1);a.def(g,"$find_inline_macro_extension",
Ma=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},Ma.$$arity=1);a.def(g,"$inline_macros",Ca=function(){return this.inline_macro_extensions.$values()},Ca.$$arity=0);a.def(g,"$prefer",Ga=function(c){var d=Ga.$$p,e=d||b,g=b,h=b,k=b;d&&(Ga.$$p=null);d&&(Ga.$$p=null);d=a.slice.call(arguments,0,arguments.length);g=u(p(E,"ProcessorExtension")["$==="](h=d.$shift()))?h:f(this,"send",[h].concat(a.to_a(d)),e.$to_proc());k=this.$instance_variable_get(("@"+g.$kind()+"_extensions").$to_sym());
k.$unshift(k.$delete(g));return g},Ga.$$arity=-1);g.$private();a.def(g,"$add_document_processor",Ha=function(c,d){var e=Ha.$$p,g=e||b,h,k,l,q=this,m=b,t=b,w=b,x=b,y=t=b,z=b,B=b,A=b,D=b;e&&(Ha.$$p=null);e&&(Ha.$$p=null);m=c.$to_s().$tr("_"," ");t=f(m.$split(),"map",[],(h=function(a){null==a&&(a=b);return a.$capitalize()},h.$$s=q,h.$$arity=1,h)).$join().$to_sym();w=p(E,"Extensions").$const_get(t);x=u(r("::","AsciidoctorJ","skip_raise")?"constant":b)?r(r("::","AsciidoctorJ"),"Extensions").$const_get(t):
b;t=u(k=q.$instance_variable_get(("@"+c+"_extensions").$to_sym()))?k:q.$instance_variable_set(("@"+c+"_extensions").$to_sym(),[]);y=function(){if(g!==b)return z=q.$resolve_args(d,1),B=w.$new(z),u(w.$constants().$grep("DSL"))&&B.$extend(w.$const_get("DSL")),f(B,"instance_exec",[],g.$to_proc()),B.$freeze(),u(B["$process_block_given?"]())||q.$raise(r("::","ArgumentError"),"No block specified to process "+m+" extension at "+g.$source_location()),p(E,"ProcessorExtension").$new(c,B);l=q.$resolve_args(d,
2);k=a.to_ary(l);B=null==k[0]?b:k[0];z=null==k[1]?b:k[1];l;return u(A=p(E,"Extensions").$resolve_class(B))?(u(u(k=n(A,w))?k:u(l=x)?n(A,x):l)||q.$raise(r("::","ArgumentError"),"Invalid type for "+m+" extension: "+B),D=A.$new(z),D.$freeze(),p(E,"ProcessorExtension").$new(c,D)):u(u(k=w["$==="](B))?k:u(l=x)?x["$==="](B):l)?(B.$update_config(z),B.$freeze(),p(E,"ProcessorExtension").$new(c,B)):q.$raise(r("::","ArgumentError"),"Invalid arguments specified for registering "+m+" extension: "+d)}();if(y.$config()["$[]"]("position")["$=="](">>"))t.$unshift(y);
else t["$<<"](y);return y},Ha.$$arity=2);a.def(g,"$add_syntax_processor",Ia=function(g,h){var k=Ia.$$p,l=k||b,q,m,t=b,w=b,x=b,y=b,z=w=b,B=b,A=b,D=x=b,x=b;k&&(Ia.$$p=null);k&&(Ia.$$p=null);t=g.$to_s().$tr("_"," ");w=f(t.$split(),"map",[],(q=function(a){null==a&&(a=b);return a.$capitalize()},q.$$s=this,q.$$arity=1,q)).$push("Processor").$join().$to_sym();x=p(E,"Extensions").$const_get(w);y=u(r("::","AsciidoctorJ","skip_raise")?"constant":b)?r(r("::","AsciidoctorJ"),"Extensions").$const_get(w):b;w=u(m=
this.$instance_variable_get(("@"+g+"_extensions").$to_sym()))?m:this.$instance_variable_set(("@"+g+"_extensions").$to_sym(),d([],{}));if(l!==b)return k=this.$resolve_args(h,2),m=a.to_ary(k),z=null==m[0]?b:m[0],B=null==m[1]?b:m[1],k,A=x.$new(this.$as_symbol(z),B),u(x.$constants().$grep("DSL"))&&A.$extend(x.$const_get("DSL")),l.$arity()["$=="](1)?a.yield1(l,A):f(A,"instance_exec",[],l.$to_proc()),u(z=this.$as_symbol(A.$name()))||this.$raise(r("::","ArgumentError"),"No name specified for "+t+" extension at "+
l.$source_location()),u(A["$process_block_given?"]())||this.$raise(r("::","NoMethodError"),"No block specified to process "+t+" extension at "+l.$source_location()),A.$freeze(),x=[z,p(E,"ProcessorExtension").$new(g,A)],f(w,"[]=",a.to_a(x)),x[c(x.length,1)];k=this.$resolve_args(h,3);m=a.to_ary(k);A=null==m[0]?b:m[0];z=null==m[1]?b:m[1];B=null==m[2]?b:m[2];k;return u(D=p(E,"Extensions").$resolve_class(A))?(u(u(m=n(D,x))?m:u(k=y)?n(D,y):k)||this.$raise(r("::","ArgumentError"),"Class specified for "+
t+" extension does not inherit from "+x+": "+A),x=D.$new(this.$as_symbol(z),B),u(z=this.$as_symbol(x.$name()))||this.$raise(r("::","ArgumentError"),"No name specified for "+t+" extension: "+A),x.$freeze(),x=[z,p(E,"ProcessorExtension").$new(g,x)],f(w,"[]=",a.to_a(x)),x[c(x.length,1)]):u(u(m=x["$==="](A))?m:u(k=y)?y["$==="](A):k)?(A.$update_config(B),u(z)?(x=[this.$as_symbol(z)],f(A,"name=",a.to_a(x)),l=x[c(x.length,1)]):l=this.$as_symbol(A.$name()),u(z=l)||this.$raise(r("::","ArgumentError"),"No name specified for "+
t+" extension: "+A),A.$freeze(),x=[z,p(E,"ProcessorExtension").$new(g,A)],f(w,"[]=",a.to_a(x)),x[c(x.length,1)]):this.$raise(r("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+h)},Ia.$$arity=2);a.def(g,"$resolve_args",Pa=function(a,f){var g=b,m=b,g=u(r("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():d([],{});if(f["$=="](1))return g;u(l(m=c(c(f,1),a.$size()),0))?a=h(a,r("::","Array").$new(m)):u(n(m,0))&&a.$pop(m["$-@"]());a["$<<"](g);return a},Pa.$$arity=2);return(a.def(g,
"$as_symbol",Ra=function(a){return u(a)?a.$to_sym():b},Ra.$$arity=1),b)&&"as_symbol"})(A[0],null,A);(function(g,l){var q=[g].concat(l),n,m,v,w,x,z,E,B,A,D,G;a.def(g,"$generate_name",n=function(){return"extgrp"+this.$next_auto_id()},n.$$arity=0);a.def(g,"$next_auto_id",m=function(){var a;null==this.auto_id&&(this.auto_id=b);this.auto_id=u(a=this.auto_id)?a:-1;return this.auto_id=h(this.auto_id,1)},m.$$arity=0);a.def(g,"$groups",v=function(){var a;null==this.groups&&(this.groups=b);return this.groups=
u(a=this.groups)?a:d([],{})},v.$$arity=0);a.def(g,"$create",w=function(a){var c=w.$$p,d=c||b,e;c&&(w.$$p=null);c&&(w.$$p=null);null==a&&(a=b);return d!==b?p(q,"Registry").$new(y(u(e=a)?e:this.$generate_name(),d)):p(q,"Registry").$new()},w.$$arity=-1);a.alias(g,"build_registry","create");a.def(g,"$register",x=function(d){var g=x.$$p,h=g||b,k,l=b,q=b,n=b,m=b,l=b;g&&(x.$$p=null);g&&(x.$$p=null);g=a.slice.call(arguments,0,arguments.length);l=g.$size();h!==b?q=h:u(n=g.$pop())?q=u(k=this.$resolve_class(n))?
k:n:this.$raise(r("::","ArgumentError"),"Extension group to register not specified");m=u(k=g.$pop())?k:this.$generate_name();u(g["$empty?"]())||this.$raise(r("::","ArgumentError"),"Wrong number of arguments ("+l+" for 1..2)");l=[m.$to_sym(),q];f(this.$groups(),"[]=",a.to_a(l));return l[c(l.length,1)]},x.$$arity=-1);a.def(g,"$unregister_all",z=function(){this.groups=d([],{});return b},z.$$arity=0);a.def(g,"$unregister",E=function(c){var d,e;d=a.slice.call(arguments,0,arguments.length);f(d,"each",[],
(e=function(a){var c=e.$$s||this;null==c.groups&&(c.groups=b);null==a&&(a=b);return c.groups.$delete(a.$to_sym())},e.$$s=this,e.$$arity=1,e));return b},E.$$arity=-1);a.def(g,"$resolve_class",B=function(a){var c=b,c=a;return r("::","Class")["$==="](c)?a:r("::","String")["$==="](c)?this.$class_for_name(a):b},B.$$arity=1);return u(r("::","RUBY_MIN_VERSION_2"))?(a.def(g,"$class_for_name",A=function(c){var d=b;try{return d=r("::","Object").$const_get(c,!1),u(r("::","Class")["$==="](d))||this.$raise(),
d}catch(e){if(a.rescue(e,[p(q,"StandardError")]))try{return this.$raise(r("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw e;}},A.$$arity=1),b)&&"class_for_name":u(r("::","RUBY_MIN_VERSION_1_9"))?(a.def(g,"$class_for_name",D=function(c){var d,e=b;try{return e=f(c.$split("::"),"reduce",[r("::","Object")],(d=function(a,c){null==a&&(a=b);null==c&&(c=b);return u(c["$empty?"]())?a:a.$const_get(c,!1)},d.$$s=this,d.$$arity=2,d)),u(r("::","Class")["$==="](e))||
this.$raise(),e}catch(g){if(a.rescue(g,[p(q,"StandardError")]))try{return this.$raise(r("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw g;}},D.$$arity=1),b)&&"class_for_name":(a.def(g,"$class_for_name",G=function(c){var d,e=b;try{return e=f(c.$split("::"),"reduce",[r("::","Object")],(d=function(a,c){var e=d.$$s||this;null==a&&(a=b);null==c&&(c=b);return u(c["$empty?"]())?a:u(a["$const_defined?"](c))?a.$const_get(c):e.$raise()},d.$$s=this,d.$$arity=2,
d)),u(r("::","Class")["$==="](e))||this.$raise(),e}catch(g){if(a.rescue(g,[p(q,"StandardError")]))try{return this.$raise(r("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw g;}},G.$$arity=1),b)&&"class_for_name"})(a.get_singleton_class(B),A)})(B[0],B)}(m[0],m)};Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(a){var c=[],h=a.nil,l=a.const_get_relative,n=a.module,g=a.klass,m=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));
return function(b,c){function e(){}var r=[e=n(b,"Asciidoctor",e)].concat(c);(function(b,$super,c){function e(){}b=e=g(b,$super,"PreprocessorReader",e);var n=b.prototype,r=[b].concat(c),p;n.path_resolver=n.document=n.include_stack=n.dir=h;return(a.def(b,"$resolve_include_path",p=function(a,b,c){var d,e=h,g=h,f=h,n=f=e=h;c=h;e=(this.path_resolver=m(d=this.path_resolver)?d:l(r,"PathResolver").$new("\\")).$posixify(a);d=["file",this.document.$base_dir()];g=d[1];d;if(m(e["$start_with?"]("file://")))f=
e;else if(m(l(r,"Helpers")["$uriish?"](e))){if(!m(m(d=this.path_resolver["$descends_from?"](e,g))?d:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");f=e}else if(m(this.path_resolver["$absolute_path?"](e)))f=e="file://"+(m(e["$start_with?"]("/"))?"":"/")+e;else if((f=m(n=this.include_stack["$empty?"]())?g:this.dir)["$=="]("."))f=e;else if(m(m(d=f["$start_with?"]("file://"))?d:l(r,"Helpers")["$uriish?"](f)["$!"]()))f=""+f+"/"+e,e=m(n)?e:m(m(d=
g["$=="]("."))?d:(c=this.path_resolver["$descends_from?"](f,g))["$!"]())?f:f.$slice(c,f.$length());else if(m(n))f=""+f+"/"+e;else if(m(m(d=c=this.path_resolver["$descends_from?"](f,g))?d:this.document.$attributes()["$key?"]("allow-uri-read")))f=""+f+"/"+e,e=m(c)?f.$slice(c,f.$length()):e;else return this.$replace_next_line("link:"+a+"["+b+"]");return[f,"file",e]},p.$$arity=3),h)&&"resolve_include_path"})(r[0],l(r,"Reader"),r)}(c[0],c)};Opal.modules["asciidoctor/js/postscript"]=function(a){var c=a.top,
h=a.nil,l=a.const_get_relative;a.add_stubs(["$require","$=="]);c.$require("asciidoctor/converter/composite");c.$require("asciidoctor/converter/html5");c.$require("asciidoctor/extensions");return l([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?c.$require("asciidoctor/js/opal_ext/browser/reader"):h};(function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var l=a.top,n=[],g=a.nil,
m=a.const_get_qualified,b=a.const_get_relative,r=a.truthy,p=a.gvars,u=a.module,w=a.hash2,x=a.send,d=a.hash;null==p[":"]&&(p[":"]=g);a.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $default= $to_a $escape $drop $insert $dup $start $logger $logger= $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $utc_offset $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $mkdir_p $directory? $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $file? $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
r(b(n,"RUBY_ENGINE","skip_raise")?"constant":g)||a.const_set(n[0],"RUBY_ENGINE","unknown");a.const_set(n[0],"RUBY_ENGINE_OPAL",b(n,"RUBY_ENGINE")["$=="]("opal"));a.const_set(n[0],"RUBY_ENGINE_JRUBY",b(n,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(n[0],"RUBY_MIN_VERSION_1_9",c(b(n,"RUBY_VERSION"),"1.9"));a.const_set(n[0],"RUBY_MIN_VERSION_2",c(b(n,"RUBY_VERSION"),"2"));l.$require("set");b(n,"RUBY_ENGINE")["$=="]("opal")?l.$require("asciidoctor/js"):g;p[":"].$unshift(b(n,"File").$dirname("asciidoctor.rb"));
l.$require("asciidoctor/logging");(function(f,l){function n(){}var q=n=u(f,"Asciidoctor",n),p=[q].concat(l),v,y,A,D,H=g,L=g,t=g;a.const_set(p[0],"RUBY_ENGINE",m("::","RUBY_ENGINE"));(function(b,c){function d(){}var e=d=u(b,"SafeMode",d),f=[e].concat(c),l,m,n,q,p=g;a.const_set(f[0],"UNSAFE",0);a.const_set(f[0],"SAFE",1);a.const_set(f[0],"SERVER",10);a.const_set(f[0],"SECURE",20);p=w([],{});x((a.Module.$$nesting=f,e.$constants()),"each",[],(l=function(b){var c=l.$$s||this,d=g;null==b&&(b=g);d=[c.$const_get(b),
b.$to_s().$downcase()];x(p,"[]=",a.to_a(d));return d[h(d.length,1)]},l.$$s=e,l.$$arity=1,l));e.names_by_value=p;a.defs(e,"$value_for_name",m=function(a){return this.$const_get(a.$upcase())},m.$$arity=1);a.defs(e,"$name_for_value",n=function(a){null==this.names_by_value&&(this.names_by_value=g);return this.names_by_value["$[]"](a)},n.$$arity=1);a.defs(e,"$names",q=function(){null==this.names_by_value&&(this.names_by_value=g);return this.names_by_value.$values()},q.$$arity=0)})(p[0],p);(function(b,
c){function d(){}var e=d=u(b,"Compliance",d),f=[e].concat(c),h;e.keys=m("::","Set").$new();(function(a,b){[a].concat(b);return a.$attr_reader("keys")})(a.get_singleton_class(e),f);a.defs(e,"$define",h=function(b,c){null==this.keys&&(this.keys=g);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(f);d.$send("attr_accessor",b);this.keys["$<<"](b);return g},h.$$arity=2);e.$define("block_terminates_paragraph",!0);e.$define("strict_verbatim_paragraphs",!0);e.$define("underline_style_section_titles",
!0);e.$define("unwrap_standalone_preamble",!0);e.$define("attribute_missing","skip");e.$define("attribute_undefined","drop-line");e.$define("shorthand_property_syntax",!0);e.$define("natural_xrefs",!0);e.$define("unique_id_start_index",2);e.$define("markdown_syntax",!0)})(p[0],p);a.const_set(p[0],"ROOT_PATH",m("::","File").$dirname(m("::","File").$dirname(m("::","File").$expand_path("asciidoctor.rb"))));a.const_set(p[0],"DATA_PATH",m("::","File").$join(b(p,"ROOT_PATH"),"data"));try{a.const_set(p[0],
"USER_HOME",m("::","Dir").$home())}catch(M){if(a.rescue(M,[b(p,"StandardError")]))try{a.const_set(p[0],"USER_HOME",r(v=m("::","ENV")["$[]"]("HOME"))?v:m("::","Dir").$pwd())}finally{a.pop_exception()}else throw M;}a.const_set(p[0],"COERCE_ENCODING",r(v=m("::","RUBY_ENGINE_OPAL")["$!"]())?m("::","RUBY_MIN_VERSION_1_9"):v);a.const_set(p[0],"FORCE_ENCODING",r(v=b(p,"COERCE_ENCODING"))?m("::","Encoding").$default_external()["$!="](m(m("::","Encoding"),"UTF_8")):v);a.const_set(p[0],"BOM_BYTES_UTF_8",[239,
187,191]);a.const_set(p[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(p[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(p[0],"FORCE_UNICODE_LINE_LENGTH",m("::","RUBY_MIN_VERSION_1_9")["$!"]());a.const_set(p[0],"LF",a.const_set(p[0],"EOL","\n"));a.const_set(p[0],"NULL","\x00");a.const_set(p[0],"TAB","\t");a.const_set(p[0],"MAX_INT",9007199254740991);a.const_set(p[0],"DEFAULT_DOCTYPE","article");a.const_set(p[0],"DEFAULT_BACKEND","html5");a.const_set(p[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());
a.const_set(p[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(p[0],"BACKEND_ALIASES",w(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(p[0],"DEFAULT_PAGE_WIDTHS",w(["docbook"],{docbook:425}));a.const_set(p[0],"DEFAULT_EXTENSIONS",w("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(p[0],"ASCIIDOC_EXTENSIONS",w([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,
".asc":!0,".ad":!0,".txt":!0}));a.const_set(p[0],"SETEXT_SECTION_LEVELS",w(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(p[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(p[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set());a.const_set(p[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(p[0],"VERBATIM_STYLES",["literal",
"listing","source","verse"].$to_set());a.const_set(p[0],"DELIMITED_BLOCKS",w('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",m("::","Set").$new()],____:["quote",["verse"].$to_set()],
'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",m("::","Set").$new()],",===":["table",m("::","Set").$new()],":===":["table",m("::","Set").$new()],"!===":["table",m("::","Set").$new()],"////":["comment",m("::","Set").$new()],"```":["fenced_code",m("::","Set").$new()]}));a.const_set(p[0],"DELIMITED_BLOCK_HEADS",x(b(p,"DELIMITED_BLOCKS").$keys(),"map",[],(y=function(a){null==a&&(a=g);return a.$slice(0,2)},y.$$s=q,y.$$arity=1,y)).$to_set());
a.const_set(p[0],"LAYOUT_BREAK_CHARS",w(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(p[0],"MARKDOWN_THEMATIC_BREAK_CHARS",w(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(p[0],"HYBRID_LAYOUT_BREAK_CHARS",b(p,"LAYOUT_BREAK_CHARS").$merge(b(p,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(p[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(p[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);
a.const_set(p[0],"ORDERED_LIST_KEYWORDS",w(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(p[0],"ATTR_REF_HEAD","{");a.const_set(p[0],"LIST_CONTINUATION","+");a.const_set(p[0],"HARD_LINE_BREAK"," +");a.const_set(p[0],"LINE_CONTINUATION"," \\");a.const_set(p[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(p[0],"MATHJAX_VERSION","2.7.4");a.const_set(p[0],"BLOCK_MATH_DELIMITERS",w(["asciimath","latexmath"],{asciimath:["\\$",
"\\$"],latexmath:["\\[","\\]"]}));a.const_set(p[0],"INLINE_MATH_DELIMITERS",w(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));H=["asciimath"];x(a.const_set(p[0],"STEM_TYPE_ALIASES",w(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(H));H[h(H.length,1)];a.const_set(p[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(p[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);b(p,"RUBY_ENGINE")["$=="]("opal")?r((v=b(p,"CC_ANY","skip_raise"))?
"constant":g)||a.const_set(p[0],"CC_ANY","[^\\n]"):g;a.const_set(p[0],"AuthorInfoLineRx",new RegExp("^("+b(p,"CG_WORD")+"["+b(p,"CC_WORD")+"\\-'.]*)(?: +("+b(p,"CG_WORD")+"["+b(p,"CC_WORD")+"\\-'.]*))?(?: +("+b(p,"CG_WORD")+"["+b(p,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(p[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+b(p,"CC_ANY")+"*?),)? *(?!:)("+b(p,"CC_ANY")+"*?)(?: *(?!^),?: *("+b(p,"CC_ANY")+"*))?$"));a.const_set(p[0],"ManpageTitleVolnumRx",new RegExp("^("+b(p,"CC_ANY")+
"+?) *\\( *("+b(p,"CC_ANY")+"+?) *\\)$"));a.const_set(p[0],"ManpageNamePurposeRx",new RegExp("^("+b(p,"CC_ANY")+"+?) +- +("+b(p,"CC_ANY")+"+)$"));a.const_set(p[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+b(p,"CC_ANY")+"+)?\\]$"));a.const_set(p[0],"EvalExpressionRx",new RegExp("^("+b(p,"CC_ANY")+"+?) *([=!><]=|[><]) *("+b(p,"CC_ANY")+"+)$"));a.const_set(p[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+b(p,"CC_ANY")+
"+)?\\]$"));a.const_set(p[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m);a.const_set(p[0],"AttributeEntryRx",new RegExp("^:(!?"+b(p,"CG_WORD")+"[^:]*):(?:[ \\t]+("+b(p,"CC_ANY")+"*))?$"));a.const_set(p[0],"InvalidAttributeNameCharsRx",new RegExp("[^-"+b(p,"CC_WORD")+"]"));b(p,"RUBY_ENGINE")["$=="]("opal")?a.const_set(p[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):g;a.const_set(p[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+b(p,"CG_WORD")+"[-"+b(p,
"CC_WORD")+"]*|(set|counter2?):"+b(p,"CC_ANY")+"+?)(\\\\)?\\}"));a.const_set(p[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)(?:, *("+b(p,"CC_ANY")+"+))?)\\]\\]$"));a.const_set(p[0],"BlockAttributeListRx",new RegExp("^\\[(|["+b(p,"CC_WORD")+".#%{,\"']"+b(p,"CC_ANY")+"*)\\]$"));a.const_set(p[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+b(p,"CC_WORD")+".#%{,\"']"+b(p,"CC_ANY")+"*|\\[(?:|["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*(?:, *"+b(p,"CC_ANY")+
"+)?)\\])\\]$"));a.const_set(p[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+b(p,"CC_ANY")+"*)$"));a.const_set(p[0],"AdmonitionParagraphRx",new RegExp("^("+b(p,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+"));a.const_set(p[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+b(p,"CC_ANY")+"*)$"));a.const_set(p[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+b(p,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$"));a.const_set(p[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+b(p,"CC_ANY")+
"+?)(?:[ \\t]+\\1)?$"));a.const_set(p[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+b(p,"CC_ANY")+"*?"+b(p,"CG_WORD")+b(p,"CC_ANY")+"*)$"));a.const_set(p[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)(?:, *("+b(p,"CC_ANY")+"+))?\\]\\]$"));a.const_set(p[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+b(p,"CC_WORD")+"\\-.]+?"));a.const_set(p[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])"+
b(p,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<?\\d+>[ \\t])"));a.const_set(p[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+b(p,"CC_ANY")+"*)$"));a.const_set(p[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+b(p,"CC_ANY")+"*)$"));a.const_set(p[0],"OrderedListMarkerRxMap",w(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.const_set(p[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*("+b(p,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+b(p,"CC_ANY")+"*)$)"));a.const_set(p[0],"DescriptionListSiblingRx",w(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*("+b(p,"CC_ANY")+"*[^:]|)(::)(?:$|[ \\t]+("+b(p,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*("+b(p,"CC_ANY")+"*[^:]|)(:::)(?:$|[ \\t]+("+b(p,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*("+b(p,"CC_ANY")+"*[^:]|)(::::)(?:$|[ \\t]+("+b(p,
"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*("+b(p,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+b(p,"CC_ANY")+"*)$)")}));a.const_set(p[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+b(p,"CC_ANY")+"*)$"));a.const_set(p[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/);a.const_set(p[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)");a.const_set(p[0],"CalloutExtractRxMap",x(m("::","Hash"),"new",[],(A=function(c,d){null==
c&&(c=g);null==d&&(d=g);H=[d,new RegExp("("+m("::","Regexp").$escape(d)+" ?)?"+b(p,"CalloutExtractRxt"))];x(c,"[]=",a.to_a(H));return H[h(H.length,1)]},A.$$s=q,A.$$arity=2,A)));a.const_set(p[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+b(p,"CC_EOL")+")"));a.const_set(p[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+b(p,"CC_EOL")+")"));a.const_set(p[0],"CalloutSourceRxt",
"(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+b(p,"CC_EOL")+")");a.const_set(p[0],"CalloutSourceRxMap",x(m("::","Hash"),"new",[],(D=function(c,d){null==c&&(c=g);null==d&&(d=g);H=[d,new RegExp("("+m("::","Regexp").$escape(d)+" ?)?"+b(p,"CalloutSourceRxt"))];x(c,"[]=",a.to_a(H));return H[h(H.length,1)]},D.$$s=q,D.$$arity=2,D)));a.const_set(p[0],"ListRxMap",w(["ulist","olist","dlist","colist"],{ulist:b(p,"UnorderedListRx"),olist:b(p,"OrderedListRx"),dlist:b(p,"DescriptionListRx"),
colist:b(p,"CalloutListRx")}));a.const_set(p[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(p[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(p[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(p[0],"CustomBlockMacroRx",new RegExp("^("+b(p,"CG_WORD")+"[-"+b(p,"CC_WORD")+"]*)::(|\\S|\\S"+
b(p,"CC_ANY")+"*?\\S)\\[("+b(p,"CC_ANY")+"+)?\\]$"));a.const_set(p[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+b(p,"CC_ANY")+"*?\\S)\\[("+b(p,"CC_ANY")+"+)?\\]$"));a.const_set(p[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+b(p,"CC_ANY")+"+)?\\]$"));a.const_set(p[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)(?:, *("+b(p,"CC_ANY")+"+?))?\\]\\]|anchor:(["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)\\[(?:\\]|("+b(p,"CC_ANY")+
"*?[^\\\\])\\]))"));a.const_set(p[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)(?:, *("+b(p,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)\\[(?:\\]|("+b(p,"CC_ANY")+"*?[^\\\\])\\])"));a.const_set(p[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)(?:, *("+b(p,"CC_ANY")+"+?))?\\]\\]"));a.const_set(p[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+
b(p,"CC_ALPHA")+"_:]["+b(p,"CC_WORD")+":.-]*)(?:, *("+b(p,"CC_ANY")+"+?))?\\]\\]\\]"));a.const_set(p[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+b(p,"CG_WORD")+"["+b(p,"CC_WORD")+".%+-]*@"+b(p,"CG_ALNUM")+"["+b(p,"CC_ALNUM")+".-]*\\."+b(p,"CG_ALPHA")+"{2,4}\\b"));a.const_set(p[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:([\\w-]+)?)\\[(?:|("+b(p,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(p[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+
b(p,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(p[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+b(p,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+b(p,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(p[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+b(p,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(p[0],"InlineLinkRx",new RegExp("(^|link:|"+b(p,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+b(p,"CC_ALL")+"*?[^\\\\])\\])?",
"m"));a.const_set(p[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+b(p,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(p[0],"MacroNameRx",new RegExp("^"+b(p,"CG_WORD")+"[-"+b(p,"CC_WORD")+"]*$"));a.const_set(p[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+b(p,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(p[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+b(p,"CG_WORD")+"|["+b(p,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+
b(p,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(p[0],"InlineMenuRx",new RegExp('\\\\?"(['+b(p,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));a.const_set(p[0],"InlinePassRx",d(!1,["+","`",new RegExp("(^|[^"+b(p,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)\\4)(?!"+b(p,"CG_WORD")+")","m")],!0,["`",g,new RegExp("(^|[^`"+b(p,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+b(p,"CC_ALL")+"*?\\S)\\4)(?![`"+b(p,"CC_WORD")+"])","m")]));a.const_set(p[0],"SinglePlusInlinePassRx",
new RegExp("^(\\\\)?\\+(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(p[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+b(p,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+b(p,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(p[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+b(p,"CC_WORD")+"#/.:{]"+b(p,"CC_ALL")+"*?)&gt;&gt;|xref:(["+b(p,"CC_WORD")+"#/.:{]"+b(p,"CC_ALL")+"*?)\\[(?:\\]|("+b(p,"CC_ALL")+"*?[^\\\\])\\]))","m"));b(p,
"RUBY_ENGINE")["$=="]("opal")?a.const_set(p[0],"HardLineBreakRx",new RegExp("^("+b(p,"CC_ANY")+"*) \\+$","m")):g;a.const_set(p[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(p[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(p[0],"BlankLineRx",/\n{2,}/);a.const_set(p[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(p[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(p[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(p[0],"SubModifierSniffRx",
/[+-]/);a.const_set(p[0],"TrailingDigitsRx",/\d+$/);b(p,"RUBY_ENGINE")["$=="]("opal")||g;a.const_set(p[0],"UriSniffRx",new RegExp("^"+b(p,"CG_ALPHA")+"["+b(p,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(p[0],"UriTerminatorRx",/[);:]$/);a.const_set(p[0],"XmlSanitizeRx",/<[^>]+>/);a.const_set(p[0],"INTRINSIC_ATTRIBUTES",w("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar pp cpp amp lt gt".split(" "),
{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"}));L=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+b(p,"CC_ALL")+"+?)\\*\\*","m")],["strong",
"constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)\\*(?!"+b(p,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+b(p,"CC_ALL")+'*?\\S)`"(?!'+b(p,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)`'(?!"+b(p,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+
b(p,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)`(?!["+b(p,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+b(p,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)_(?!"+b(p,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+
b(p,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)#(?!"+b(p,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]];t=L.$drop(0);H=[2,["double","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)''(?!"+b(p,"CG_WORD")+")","m")]];x(t,"[]=",a.to_a(H));H[h(H.length,
1)];H=[3,["single","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)'(?!"+b(p,"CG_WORD")+")","m")]];x(t,"[]=",a.to_a(H));H[h(H.length,1)];H=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+b(p,"CC_ALL")+"+?)\\+\\+","m")]];x(t,"[]=",a.to_a(H));H[h(H.length,1)];H=[5,["monospaced","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)\\+(?!"+b(p,"CG_WORD")+")",
"m")]];x(t,"[]=",a.to_a(H));H[h(H.length,1)];t.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+b(p,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+b(p,"CC_ALL")+"*?\\S)'(?!"+b(p,"CG_WORD")+")","m")]);a.const_set(p[0],"QUOTE_SUBS",d(!1,L,!0,t));t=L=g;a.const_set(p[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+b(p,"CG_WORD")+")\\\\?--(?="+b(p,"CG_WORD")+")"),
"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+b(p,"CG_ALNUM")+")\\\\?'(?="+b(p,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);(function(d,f){var l=[d].concat(f),n,q,p,t;a.def(d,"$load",n=function(c,d){var e,f,n,
q,p,t=g,v=g,u=g,y=g,A=g,D=g,E=g,H=g,L=g,M=g,N=g,Q=g,U=g,S=g;null==d&&(d=w([],{}));try{d=d.$dup();r(t=d["$[]"]("timings"))&&t.$start("read");r(r(e=v=d["$[]"]("logger"))?v["$!="](b(l,"LoggerManager").$logger()):e)&&(u=[v],x(b(l,"LoggerManager"),"logger=",a.to_a(u)),u[h(u.length,1)]);r((y=d["$[]"]("attributes"))["$!"]())?y=w([],{}):r(r(e=m("::","Hash")["$==="](y))?e:r(f=m("::","RUBY_ENGINE_JRUBY"))?m(m(m("::","Java"),"JavaUtil"),"Map")["$==="](y):f)?y=y.$dup():r(m("::","Array")["$==="](y))?(e=[w([],
{}),y],y=e[0],A=e[1],e,x(A,"each",[],(n=function(b){var c,d=g,e=g;null==b&&(b=g);c=b.$split("=",2);b=a.to_ary(c);d=null==b[0]?g:b[0];e=null==b[1]?g:b[1];c;u=[d,r(b=e)?b:""];x(y,"[]=",a.to_a(u));return u[h(u.length,1)]},n.$$s=this,n.$$arity=1,n))):r(m("::","String")["$==="](y))?(e=[w([],{}),y.$gsub(b(l,"SpaceDelimiterRx"),"\\1"+b(l,"NULL")).$gsub(b(l,"EscapedSpaceRx"),"\\1").$split(b(l,"NULL"))],y=e[0],A=e[1],e,x(A,"each",[],(q=function(b){var c,d=g,e=g;null==b&&(b=g);c=b.$split("=",2);b=a.to_ary(c);
d=null==b[0]?g:b[0];e=null==b[1]?g:b[1];c;u=[d,r(b=e)?b:""];x(y,"[]=",a.to_a(u));return u[h(u.length,1)]},q.$$s=this,q.$$arity=1,q))):r(r(e=y["$respond_to?"]("keys"))?y["$respond_to?"]("[]"):e)?y=m("::","Hash")["$[]"](x(y.$keys(),"map",[],(p=function(a){null==a&&(a=g);return[a,y["$[]"](a)]},p.$$s=this,p.$$arity=1,p))):this.$raise(m("::","ArgumentError"),"illegal type for attributes option: "+y.$class().$ancestors().$join(" < "));D=g;if(r(m("::","File")["$==="](c)))E=m("::","File").$expand_path(c.$path()),
H=r(m("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?m("::","Time").$at(this.$Integer(m("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():c.$mtime(),D=c.$readlines(),u=["docfile",E],x(y,"[]=",a.to_a(u)),u[h(u.length,1)],u=["docdir",m("::","File").$dirname(E)],x(y,"[]=",a.to_a(u)),u[h(u.length,1)],u=["docname",b(l,"Helpers").$basename(E,(u=["docfilesuffix",m("::","File").$extname(E)],x(y,"[]=",a.to_a(u)),u[h(u.length,1)]))],x(y,"[]=",a.to_a(u)),u[h(u.length,1)],r(L=y["$[]"]("docdate"))?r(e=y["$[]"]("docyear"))?
e:(u=["docyear",L.$index("-")["$=="](4)?L.$slice(0,4):g],x(y,"[]=",a.to_a(u)),u[h(u.length,1)]):(L=(u=["docdate",H.$strftime("%F")],x(y,"[]=",a.to_a(u)),u[h(u.length,1)]),r(e=y["$[]"]("docyear"))?e:(u=["docyear",H.$year().$to_s()],x(y,"[]=",a.to_a(u)),u[h(u.length,1)])),M=r(e=y["$[]"]("doctime"))?e:(u=["doctime",H.$strftime("%T "+(H.$utc_offset()["$=="](0)?"UTC":"%z"))],x(y,"[]=",a.to_a(u)),u[h(u.length,1)]),u=["docdatetime",""+L+" "+M],x(y,"[]=",a.to_a(u)),u[h(u.length,1)];else if(r(c["$respond_to?"]("readlines"))){try{c.$rewind()}catch(Y){if(a.rescue(Y,
[b(l,"StandardError")]))try{g}finally{a.pop_exception()}else throw Y;}D=c.$readlines()}else r(m("::","String")["$==="](c))?D=r(m("::","RUBY_MIN_VERSION_2"))?c.$lines():c.$each_line().$to_a():r(m("::","Array")["$==="](c))?D=c.$drop(0):this.$raise(m("::","ArgumentError"),"unsupported input type: "+c.$class());r(t)&&(t.$record("read"),t.$start("parse"));u=["attributes",y];x(d,"[]=",a.to_a(u));u[h(u.length,1)];N=d["$[]"]("parse")["$=="](!1)?b(l,"Document").$new(D,d):b(l,"Document").$new(D,d).$parse();
r(t)&&t.$record("parse");return N}catch(Y){if(a.rescue(Y,[b(l,"StandardError")])){Q=Y;try{try{U="asciidoctor: FAILED: "+(r(e=y["$[]"]("docfile"))?e:"<stdin>")+": Failed to load AsciiDoc document",r(Q["$respond_to?"]("exception"))?(S=Q.$exception(""+U+" - "+Q.$message()),S.$set_backtrace(Q.$backtrace())):(S=Q.$class().$new(U,Q),u=[Q.$stack_trace()],x(S,"stack_trace=",a.to_a(u)),u[h(u.length,1)])}catch(Z){if(a.rescue(Z,[b(l,"StandardError")]))try{S=Q}finally{a.pop_exception()}else throw Z;}return this.$raise(S)}finally{a.pop_exception()}}else throw Y;
}},n.$$arity=-2);a.def(d,"$load_file",q=function(a,b){var c;null==b&&(b=w([],{}));return x(m("::","File"),"open",[a,"rb"],(c=function(a){var d=c.$$s||this;null==a&&(a=g);return d.$load(a,b)},c.$$s=this,c.$$arity=1,c))},q.$$arity=-2);a.def(d,"$convert",p=function(d,f){var n,q,p,t,v,u=g,y=g,A=g,D=g,E=g,H=g,L=g,M=v=D=g,N=D=g,Q=u=u=L=E=g,S=L=E=g,U=y=u=H=g,Y=A=g;null==f&&(f=w([],{}));f=f.$dup();f.$delete("parse");u=f.$delete("to_file");y=f.$delete("to_dir");A=r(n=f.$delete("mkdirs"))?n:!1;D=u;if((!0)["$==="](D)||
g["$==="](D))E=r(n=y["$!"]())?m("::","File")["$==="](d):n,H=!1,L=y,u=g;else if((!1)["$==="](D))L=H=E=!1,u=g;else{if("/dev/null"["$==="](D))return this.$load(d,f);E=!1;r(H=u["$respond_to?"]("write"))?L=!1:(D=["to_file",u],x(f,"[]=",a.to_a(D)),L=D[h(D.length,1)])}!r(f["$key?"]("header_footer"))&&r(r(n=E)?n:L)&&(D=["header_footer",!0],x(f,"[]=",a.to_a(D)),D[h(D.length,1)]);r(E)?(v=m("::","File").$expand_path(d.$path()),D=["to_dir",M=m("::","File").$dirname(v)],x(f,"[]=",a.to_a(D)),D[h(D.length,1)]):
r(L)&&(r(y)?(D=r(u)?["to_dir",m("::","File").$dirname(m("::","File").$expand_path(m("::","File").$join(y,u)))]:["to_dir",m("::","File").$expand_path(y)],x(f,"[]=",a.to_a(D)),D[h(D.length,1)]):r(u)&&(D=["to_dir",m("::","File").$dirname(m("::","File").$expand_path(u))],x(f,"[]=",a.to_a(D)),D[h(D.length,1)]));D=this.$load(d,f);r(E)?(N=m("::","File").$join(M,""+D.$attributes()["$[]"]("docname")+D.$outfilesuffix()),N["$=="](v)&&this.$raise(m("::","IOError"),"input file and output file cannot be the same: "+
N)):r(L)?(E=r(f["$key?"]("base_dir"))?m("::","File").$expand_path(f["$[]"]("base_dir")):m("::","Dir").$pwd(),L=r(c(D.$safe(),m(b(l,"SafeMode"),"SAFE")))?E:g,r(y)?(M=D.$normalize_system_path(y,E,L,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),r(u)?(N=D.$normalize_system_path(u,M,g,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=m("::","File").$dirname(N)):N=m("::","File").$join(M,""+D.$attributes()["$[]"]("docname")+D.$outfilesuffix())):r(u)&&(N=D.$normalize_system_path(u,
E,L,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=m("::","File").$dirname(N)),r(r(n=m("::","File")["$==="](d))?N["$=="](m("::","File").$expand_path(d.$path())):n)&&this.$raise(m("::","IOError"),"input file and output file cannot be the same: "+N),r(A)?b(l,"Helpers").$mkdir_p(M):r(m("::","File")["$directory?"](M))||this.$raise(m("::","IOError"),"target directory does not exist: "+y+" (hint: set mkdirs option)")):(N=u,M=g);u=r(r(n=N)?H["$!"]():n)?w(["outfile","outdir"],{outfile:N,
outdir:M}):w([],{});u=D.$convert(u);return r(N)?(D.$write(u,N),r(v=H["$!"]())&&(v=D.$safe(),N=m(b(l,"SafeMode"),"SECURE"),v="number"===typeof v&&"number"===typeof N?v<N:v["$<"](N)),r(r(n=r(q=r(p=r(t=v)?D["$attr?"]("linkcss"):t)?D["$attr?"]("copycss"):p)?D["$attr?"]("basebackend-html"):q)?(r(q=Q=D.$attr("stylesdir"))?b(l,"Helpers")["$uriish?"](Q):q)["$!"]():n)&&(L=E=!1,r(S=D.$attr("stylesheet"))&&(r(b(l,"DEFAULT_STYLESHEET_KEYS")["$include?"](S))?E=!0:r(b(l,"Helpers")["$uriish?"](S)["$!"]())&&(L=!0)),
H=r(n=D["$attr?"]("source-highlighter","coderay"))?D.$attr("coderay-css","class")["$=="]("class"):n,u=r(n=D["$attr?"]("source-highlighter","pygments"))?D.$attr("pygments-css","class")["$=="]("class"):n,r(r(n=r(q=r(p=E)?p:L)?q:H)?n:u)&&(y=D.$normalize_system_path(Q,M,r(c(D.$safe(),m(b(l,"SafeMode"),"SAFE")))?M:g),r(A)?b(l,"Helpers").$mkdir_p(y):r(m("::","File")["$directory?"](y))||this.$raise(m("::","IOError"),"target stylesheet directory does not exist: "+y+" (hint: set mkdirs option)"),r(E)?b(l,
"Stylesheets").$instance().$write_primary_stylesheet(y):r(L)&&(U=r((U=D.$attr("copycss"))["$empty?"]())?D.$normalize_system_path(S):D.$normalize_system_path(U),A=D.$normalize_system_path(S,y,r(c(D.$safe(),m(b(l,"SafeMode"),"SAFE")))?M:g),r(r(n=U["$!="](A))?Y=D.$read_asset(U,w(["warn_on_failure","label"],{warn_on_failure:m("::","File")["$file?"](A)["$!"](),label:"stylesheet"})):n)&&m("::","IO").$write(A,Y)),r(H)?b(l,"Stylesheets").$instance().$write_coderay_stylesheet(y):r(u)&&b(l,"Stylesheets").$instance().$write_pygments_stylesheet(y,
D.$attr("pygments-style")))),D):u},p.$$arity=-2);a.alias(d,"render","convert");a.def(d,"$convert_file",t=function(a,b){var c;null==b&&(b=w([],{}));return x(m("::","File"),"open",[a,"rb"],(c=function(a){var d=c.$$s||this;null==a&&(a=g);return d.$convert(a,b)},c.$$s=this,c.$$arity=1,c))},t.$$arity=-2);a.alias(d,"render_file","convert_file");b(l,"RUBY_ENGINE")["$=="]("opal");return g})(a.get_singleton_class(q),p);b(p,"RUBY_ENGINE")["$=="]("opal")?(q.$require("asciidoctor/timings"),q.$require("asciidoctor/version")):
g})(n[0],n);l.$require("asciidoctor/core_ext");l.$require("asciidoctor/helpers");l.$require("asciidoctor/substitutors");l.$require("asciidoctor/abstract_node");l.$require("asciidoctor/abstract_block");l.$require("asciidoctor/attribute_list");l.$require("asciidoctor/block");l.$require("asciidoctor/callouts");l.$require("asciidoctor/converter");l.$require("asciidoctor/document");l.$require("asciidoctor/inline");l.$require("asciidoctor/list");l.$require("asciidoctor/parser");l.$require("asciidoctor/path_resolver");
l.$require("asciidoctor/reader");l.$require("asciidoctor/section");l.$require("asciidoctor/stylesheets");l.$require("asciidoctor/table");return b(n,"RUBY_ENGINE")["$=="]("opal")?l.$require("asciidoctor/js/postscript"):g})(Opal);var l=function(a){return!a||"$$smap"in a?a:Opal.hash(a)},h=function(a){var c={};a=a.$$smap;for(var h in a)c[h]=a[h];return c},A=function(a){if(a=l(a)){var c=a["$[]"]("attributes");c&&"object"===typeof c&&"Object"===c.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",l(c)))}return a},
x=Opal.Asciidoctor.$$class;x.prototype.getCoreVersion=function(){return this.$$const.VERSION};x.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}};x.prototype.convert=function(a,c){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var h=this.$convert(a,
A(c));return h===Opal.nil?"":h};x.prototype.convertFile=function(a,c){return this.$convert_file(a,A(c))};x.prototype.load=function(a,c){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,A(c))};x.prototype.loadFile=function(a,c){return this.$load_file(a,A(c))};var n=Opal.Asciidoctor.AbstractBlock;n.prototype.append=function(a){this.$append(a);return this};n.prototype.applySubstitutions=function(a,c){return this.$apply_subs(a,c)};n.prototype.getTitle=function(){var a=
this.$title();return a===Opal.nil?void 0:a};n.prototype.getCaptionedTitle=function(){return this.$captioned_title()};n.prototype.getStyle=function(){return this.style};n.prototype.getCaption=function(){return this.$caption()};n.prototype.setCaption=function(a){this.caption=a};n.prototype.getLevel=function(){return this.level};n.prototype.getSubstitutions=function(){return this.subs};n.prototype.hasSubstitution=function(a){return this["$sub?"](a)};n.prototype.removeSubstitution=function(a){this.$remove_sub(a)};
n.prototype.hasBlocks=function(){return 0<this.blocks.length};n.prototype.getBlocks=function(){return this.blocks};n.prototype.getContent=function(){return this.$content()};n.prototype.convert=function(){return this.$convert()};n.prototype.findBy=function(a,c){return"undefined"===typeof c&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof c?Opal.send(this,"find_by",[l(a)],c):this.$find_by(l(a))};n.prototype.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?
void 0:a};n.prototype.hasSections=function(){return this["$sections?"]()};n.prototype.getSections=function(){return this.$sections()};n.prototype.getNumeral=function(){return this.$number()};n.prototype.setNumeral=function(a){return this["$number="](a)};n.prototype.hasTitle=function(){return this["$title?"]()};n=Opal.Asciidoctor.Section;n.prototype.getIndex=function(){return this.index};n.prototype.setIndex=function(a){this.index=a};n.prototype.getSectionName=function(){return this.sectname};n.prototype.setSectionName=
function(a){this.sectname=a};n.prototype.isSpecial=function(){return this.special};n.prototype.setSpecial=function(a){this.special=a};n.prototype.isNumbered=function(){return this.numbered};n.prototype.getCaption=function(){var a=this.caption;return a===Opal.nil?void 0:a};n.prototype.getName=function(){return this.getTitle()};n=Opal.Asciidoctor.Block;n.prototype.getSource=function(){return this.$source()};n.prototype.getSourceLines=function(){return this.lines};n=Opal.Asciidoctor.AbstractNode;n.prototype.getNodeName=
function(){return this.node_name};n.prototype.getAttributes=function(){return h(this.attributes)};n.prototype.getAttribute=function(a,c,h){a=this.$attr(a,c,h);return a===Opal.nil?void 0:a};n.prototype.hasAttribute=function(a){return a in this.attributes.$$smap};n.prototype.isAttribute=function(a,c,h){a=this["$attr?"](a,c,h);return a===Opal.nil?!1:a};n.prototype.setAttribute=function(a,c,h){"undefined"===typeof h&&(h=!0);return this.$set_attr(a,c,h)};n.prototype.removeAttribute=function(a){a=this.$remove_attr(a);
return a===Opal.nil?void 0:a};n.prototype.getDocument=function(){return this.document};n.prototype.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};n.prototype.isInline=function(){return this["$inline?"]()};n.prototype.isBlock=function(){return this["$block?"]()};n.prototype.isRole=function(a){return this["$role?"](a)};n.prototype.getRole=function(){return this.$role()};n.prototype.hasRole=function(a){return this["$has_role?"](a)};n.prototype.getRoles=function(){return this.$roles()};
n.prototype.addRole=function(a){return this.$add_role(a)};n.prototype.removeRole=function(a){return this.$remove_role(a)};n.prototype.isReftext=function(){return this["$reftext?"]()};n.prototype.getReftext=function(){return this.$reftext()};n.prototype.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};n.prototype.getId=function(){var a=this.id;return a===Opal.nil?void 0:a};n.prototype.isOption=function(a){return this["$option?"](a)};n.prototype.setOption=function(a){return this.$set_option(a)};
n.prototype.getIconUri=function(a){return this.$icon_uri(a)};n.prototype.getMediaUri=function(a,c){return this.$media_uri(a,c)};n.prototype.getImageUri=function(a,c){return this.$image_uri(a,c)};n.prototype.getConverter=function(){return this.$converter()};n.prototype.readContents=function(a,c){return this.$read_contents(a,l(c))};n.prototype.readAsset=function(a,c){return this.$read_asset(a,l(c))};n.prototype.normalizeWebPath=function(a,c,h){return this.$normalize_web_path(a,c,h)};n.prototype.normalizeSystemPath=
function(a,c,h,m){return this.$normalize_system_path(a,c,h,l(m))};n.prototype.normalizeAssetPath=function(a,c,h){return this.$normalize_asset_path(a,c,h)};var m=Opal.Asciidoctor.Document;m.prototype.getIds=function(){return h(this.catalog.$$smap.ids)};m.prototype.getRefs=function(){return h(this.catalog.$$smap.refs)};m.prototype.getImages=function(){return this.catalog.$$smap.images};m.prototype.getIndexTerms=function(){return this.catalog.$$smap.indexterms};m.prototype.getLinks=function(){return this.catalog.$$smap.links};
m.prototype.hasFootnotes=function(){return this["$footnotes?"]()};m.prototype.getFootnotes=function(){return this.$footnotes()};m.prototype.getHeader=function(){return this.header};m.prototype.setAttribute=function(a,c){return this.$set_attribute(a,c)};m.prototype.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};m.prototype.convert=function(a){a=this.$convert(l(a));return a===Opal.nil?"":a};m.prototype.write=function(a,c){return this.$write(a,c)};m.prototype.getAuthor=
function(){return this.$author()};m.prototype.getSource=function(){return this.$source()};m.prototype.getSourceLines=function(){return this.$source_lines()};m.prototype.isNested=function(){return this["$nested?"]()};m.prototype.isEmbedded=function(){return this["$embedded?"]()};m.prototype.hasExtensions=function(){return this["$extensions?"]()};m.prototype.getDoctype=function(){return this.doctype};m.prototype.getBackend=function(){return this.backend};m.prototype.isBasebackend=function(a){return this["$basebackend?"](a)};
m.prototype.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};m.prototype.setTitle=function(a){return this["$title="](a)};m.prototype.getDocumentTitle=function(a){a=this.$doctitle(l(a));return a===Opal.nil?void 0:a};m.prototype.getDoctitle=m.prototype.getDocumentTitle;m.prototype.getCatalog=function(){return h(this.catalog)};m.prototype.getReferences=m.prototype.getCatalog;m.prototype.getRevisionDate=function(){return this.getAttribute("revdate")};m.prototype.getRevdate=function(){return this.getRevisionDate()};
m.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")};m.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")};m.prototype.setHeaderAttribute=function(a,c,h){"undefined"===typeof h&&(h=!0);"undefined"===typeof c&&(c="");return this.$set_header_attribute(a,c,h)};m.prototype.getAuthors=function(){return this.$authors()};n=m.Footnote;n.prototype.getIndex=function(){var a=this.$$data.index;return a===Opal.nil?void 0:a};n.prototype.getId=function(){var a=
this.$$data.id;return a===Opal.nil?void 0:a};n.prototype.getText=function(){var a=this.$$data.text;return a===Opal.nil?void 0:a};n=m.ImageReference;n.prototype.getTarget=function(){return this.$$data.target};n.prototype.getImagesDirectory=function(){var a=this.$$data.imagesdir;return a===Opal.nil?void 0:a};n=m.Author;n.prototype.getName=function(){var a=this.$$data.name;return a===Opal.nil?void 0:a};n.prototype.getFirstName=function(){var a=this.$$data.firstname;return a===Opal.nil?void 0:a};n.prototype.getMiddleName=
function(){var a=this.$$data.middlename;return a===Opal.nil?void 0:a};n.prototype.getLastName=function(){var a=this.$$data.lastname;return a===Opal.nil?void 0:a};n.prototype.getInitials=function(){var a=this.$$data.initials;return a===Opal.nil?void 0:a};n.prototype.getEmail=function(){var a=this.$$data.email;return a===Opal.nil?void 0:a};m.RevisionInfo=function(a,c,h){this.date=a;this.number=c;this.remark=h};n=m.RevisionInfo;n.prototype.getDate=function(){return this.date};n.prototype.getNumber=function(){return this.number};
n.prototype.getRemark=function(){return this.remark};n.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};m.prototype.getRevisionInfo=function(){return new m.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};m.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};m.prototype.getNotitle=function(){return this.$notitle()};m.prototype.getNoheader=function(){return this.$noheader()};m.prototype.getNofooter=
function(){return this.$nofooter()};m.prototype.hasHeader=function(){return this["$header?"]()};m.prototype.deleteAttribute=function(a){return this.$delete_attribute(a)};m.prototype.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};m.prototype.parse=function(a){return this.$parse(a)};m.prototype.getDocinfo=function(a,c){return this.$docinfo(a,c)};m.prototype.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};m.prototype.counterIncrement=function(a,c){return this.$counter_increment(a,
c)};m.prototype.counter=function(a,c){return this.$counter(a,c)};m.prototype.getSafe=function(){return this.safe};m.prototype.getCompatMode=function(){return this.compat_mode};m.prototype.getSourcemap=function(){return this.sourcemap};m.prototype.getCounters=function(){return h(this.counters)};m.prototype.getCallouts=function(){return this.$callouts()};m.prototype.getBaseDir=function(){return this.base_dir};m.prototype.getOptions=function(){return h(this.options)};m.prototype.getOutfilesuffix=function(){return this.outfilesuffix};
m.prototype.getParentDocument=function(){return this.parent_document};m.prototype.getReader=function(){return this.reader};m.prototype.getConverter=function(){return this.converter};m.prototype.getExtensions=function(){return this.extensions};n=m.Title;n.prototype.getMain=function(){return this.main};n.prototype.getCombined=function(){return this.combined};n.prototype.getSubtitle=function(){var a=this.subtitle;return a===Opal.nil?void 0:a};n.prototype.isSanitized=function(){var a=this["$sanitized?"]();
return a===Opal.nil?!1:a};n.prototype.hasSubtitle=function(){return this["$subtitle?"]()};n=Opal.Asciidoctor.Inline;Opal.Asciidoctor.Inline.$$class.prototype.create=function(a,c,h,m){return this.$new(a,c,h,l(m))};n.prototype.convert=function(){return this.$convert()};n.prototype.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};n.prototype.getType=function(){return this.$type()};n.prototype.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};Opal.Asciidoctor.List.prototype.getItems=
function(){return this.blocks};n=Opal.Asciidoctor.ListItem;n.prototype.getText=function(){return this.$text()};n.prototype.setText=function(a){return this.text=a};n=Opal.Asciidoctor.Reader;n.prototype.pushInclude=function(a,c,h,m,n){return this.$push_include(a,c,h,m,l(n))};n.prototype.getCursor=function(){return this.$cursor()};n.prototype.getLines=function(){return this.$lines()};n.prototype.getString=function(){return this.$string()};n=Opal.Asciidoctor.Reader.Cursor;n.prototype.getFile=function(){var a=
this.file;return a===Opal.nil?void 0:a};n.prototype.getDirectory=function(){var a=this.dir;return a===Opal.nil?void 0:a};n.prototype.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};n.prototype.getLineNumber=function(){return this.lineno};n=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);if(Opal.Asciidoctor.LoggerManager=n)n.getLogger=function(){return this.$logger()},n.setLogger=function(a){this.logger=a},n.newLogger=function(a,c){return r(a,c).$new()},n.newFormatter=
function(a,c){return D(a,c).$new()};var w=Opal.const_get_qualified(Opal.Logger,"Severity",!0);if(Opal.Asciidoctor.LoggerSeverity=w)w.get=function(a){return w.$constants()[a]};n=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);if(Opal.Asciidoctor.LoggerFormatter=n)n.prototype.call=function(a,c,h,l){return this.$call(w.get(a),c,h,l)};n=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);if(Opal.Asciidoctor.MemoryLogger=n)n.prototype.getMessages=function(){for(var a=this.messages,c=[],k=
0;k<a.length;k++){var l=h(a[k]);"string"===typeof l.message?l.getText=function(){return this.message}:(l.message=h(l.message),l.getText=function(){return this.message.text});l.getSeverity=function(){return this.severity.toString()};l.getSourceLocation=function(){return this.message.source_location};c.push(l)}return c};n=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);if(Opal.Asciidoctor.Logger=n)n.prototype.getMaxSeverity=function(){return this.max_severity},n.prototype.getFormatter=function(){return this.formatter},
n.prototype.setFormatter=function(a){return this.formatter=a},n.prototype.getLevel=function(){return this.level},n.prototype.setLevel=function(a){return this.level=a},n.prototype.getProgramName=function(){return this.progname},n.prototype.setProgramName=function(a){return this.progname=a};n=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);if(Opal.Asciidoctor.NullLogger=n)n.prototype.getMaxSeverity=function(){return this.max_severity};Opal.Asciidoctor.StopIteration=Opal.StopIteration;var H=
function(a){a.$$arity=a.length;return a},M=function(a,c,h,l){return"object"===typeof h||h.$$is_class?a["$"+c](h,l):Opal.send(a,c,l&&[l],H(h))},Q=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=Q;Q.create=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"build_registry",null,H(a)):"function"===typeof c?Opal.send(this,"build_registry",[a],H(c)):this.$build_registry()};Q.register=function(a,c){return"function"===typeof a&&"undefined"===
typeof c?Opal.send(this,"register",null,H(a)):Opal.send(this,"register",[a],H(c))};Q.getGroups=function(){return h(this.$groups())};Q.unregisterAll=function(){this.$unregister_all()};Q.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),c=this.$groups(),h={},l=0,m=c.$$keys;l<m.length;l++){var g=m[l];h[g.toString()]=g}for(l=0;l<a.length;l++)m=a[l],m in h&&Opal.hash_delete(c,h[m])};n=Q.Registry;n.prototype.getGroups=Q.getGroups;n.prototype.unregisterAll=function(){this.groups=
Opal.hash()};n.prototype.unregister=Q.unregister;n.prototype.prefer=function(a,c){1===arguments.length&&(c=a,a=null);return"object"===typeof c||c.$$is_class?this.$prefer(a,c):Opal.send(this,"prefer",a&&[a],H(c))};n.prototype.block=function(a,c){1===arguments.length&&(c=a,a=null);return M(this,"block",c,a)};n.prototype.inlineMacro=function(a,c){1===arguments.length&&(c=a,a=null);return M(this,"inline_macro",c,a)};n.prototype.includeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return M(this,
"include_processor",c,a)};n.prototype.blockMacro=function(a,c){1===arguments.length&&(c=a,a=null);return M(this,"block_macro",c,a)};n.prototype.treeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return M(this,"tree_processor",c,a)};n.prototype.postprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return M(this,"postprocessor",c,a)};n.prototype.preprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return M(this,"preprocessor",c,a)};n.prototype.docinfoProcessor=function(a,
c){1===arguments.length&&(c=a,a=null);return M(this,"docinfo_processor",c,a)};n=Q.Processor;n.prototype.prepend=function(){this.$option("position",">>")};n.prototype.process=function(a){a=new Proxy(a,{apply:function(a,c,l){for(var m=0;m<l.length;m++)"object"===typeof l[m]&&"$$smap"in l[m]&&(l[m]=h(l[m]));return a.apply(c,l)}});return Opal.send(this,"process",null,H(a))};n.prototype.named=function(a){return this.$named(a)};n.prototype.createBlock=function(a,c,h,m,n){return this.$create_block(a,c,h,
l(m),l(n))};n.prototype.createList=function(a,c,h){return this.$create_list(a,c,l(h))};n.prototype.createListItem=function(a,c){return this.$create_list_item(a,c)};n.prototype.createImageBlock=function(a,c,h){return this.$create_image_block(a,l(c),l(h))};n.prototype.createInline=function(a,c,h,m){m&&m.attributes&&(m.attributes=l(m.attributes));return this.$create_inline(a,c,h,l(m))};n.prototype.parseContent=function(a,c,h){return this.$parse_content(a,c,h)};n.prototype.positionalAttributes=function(a){return this.$positional_attrs(a)};
n.prototype.resolvesAttributes=function(a){return this.$resolves_attributes(a)};n=Q.BlockProcessor;n.prototype.onContext=function(a){return this.$on_context(a)};n.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};n.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};Q.BlockMacroProcessor.prototype.getName=function(){var a=this.name;return a===Opal.nil?void 0:a};Q.InlineMacroProcessor.prototype.getName=function(){var a=this.name;
return a===Opal.nil?void 0:a};n=Q.IncludeProcessor;n.prototype.handles=function(a){return Opal.send(this,"handles?",null,H(a))};n.prototype.prefer=function(){this.$prefer()};Q.TreeProcessor.prototype.prefer=function(){this.$prefer()};Q.Postprocessor.prototype.prefer=function(){this.$prefer()};Q.Preprocessor.prototype.prefer=function(){this.$prefer()};n=Q.DocinfoProcessor;n.prototype.prefer=function(){this.$prefer()};n.prototype.atLocation=function(a){this.$at_location(a)};Q.createPostprocessor=function(a,
c){1===arguments.length&&(c=a,a=null);return y("Postprocessor",a,c)};Q.newPostprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return this.createPostprocessor(a,c).$new()};Q.createPreprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return y("Preprocessor",a,c)};Q.newPreprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return this.createPreprocessor(a,c).$new()};Q.createTreeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return y("TreeProcessor",a,c)};Q.newTreeProcessor=
function(a,c){1===arguments.length&&(c=a,a=null);return this.createTreeProcessor(a,c).$new()};Q.createIncludeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return y("IncludeProcessor",a,c)};Q.newIncludeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return this.createIncludeProcessor(a,c).$new()};Q.createDocinfoProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return y("DocinfoProcessor",a,c)};Q.newDocinfoProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return this.createDocinfoProcessor(a,
c).$new()};Q.createBlockProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return y("BlockProcessor",a,c)};Q.newBlockProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return this.createBlockProcessor(a,c).$new()};Q.createInlineMacroProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return y("InlineMacroProcessor",a,c)};Q.newInlineMacroProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return this.createInlineMacroProcessor(a,c).$new()};Q.createBlockMacroProcessor=
function(a,c){1===arguments.length&&(c=a,a=null);return y("BlockMacroProcessor",a,c)};Q.newBlockMacroProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return this.createBlockMacroProcessor(a,c).$new()};n=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=n;n.prototype.convert=function(a,c,h){return this.$convert(a,c,l(h))};n.BuiltIn.prototype.convert=n.prototype.convert;n=Opal.Asciidoctor.Converter.Factory;Opal.Asciidoctor.ConverterFactory=n;n.register=function(a,
c){"object"===typeof a&&"undefined"===typeof a.$convert&&"function"===typeof a.convert&&Opal.def(a,"$convert",a.convert);return this.$register(a,c)};n.getDefault=function(a){return this.$default(a)};n.prototype.create=function(a,c){return this.$create(a,l(c))};n=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=n;n.prototype.convert=function(a,c,h){return this.$convert(a,c,h)};x.prototype.getVersion=function(){return"1.5.9"};return Opal.Asciidoctor});
